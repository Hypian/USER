"use strict";var Z3e=Object.create;var p8=Object.defineProperty;var e2e=Object.getOwnPropertyDescriptor;var t2e=Object.getOwnPropertyNames;var r2e=Object.getPrototypeOf,n2e=Object.prototype.hasOwnProperty;var i2e=(e,t,r)=>t in e?p8(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var o=(e,t)=>p8(e,"name",{value:t,configurable:!0});var Gc=(e,t)=>()=>(e&&(t=e(e=0)),t);var k=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),s2e=(e,t)=>{for(var r in t)p8(e,r,{get:t[r],enumerable:!0})},ZK=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of t2e(t))!n2e.call(e,s)&&s!==r&&p8(e,s,{get:()=>t[s],enumerable:!(n=e2e(t,s))||n.enumerable});return e};var Vs=(e,t,r)=>(r=e!=null?Z3e(r2e(e)):{},ZK(t||!e||!e.__esModule?p8(r,"default",{value:e,enumerable:!0}):r,e)),a2e=e=>ZK(p8({},"__esModule",{value:!0}),e);var rl=(e,t,r)=>(i2e(e,typeof t!="symbol"?t+"":t,r),r),NO=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)};var Hr=(e,t,r)=>(NO(e,t,"read from private field"),r?r.call(e):t.get(e)),L0=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},U0=(e,t,r,n)=>(NO(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r);var Cc=(e,t,r)=>(NO(e,t,"access private method"),r);var vu=k(Ie=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0});Ie.Type=Ie.JsonType=Ie.JavaScriptTypeBuilder=Ie.JsonTypeBuilder=Ie.TypeBuilder=Ie.TypeBuilderError=Ie.TransformEncodeBuilder=Ie.TransformDecodeBuilder=Ie.TemplateLiteralDslParser=Ie.TemplateLiteralGenerator=Ie.TemplateLiteralGeneratorError=Ie.TemplateLiteralFinite=Ie.TemplateLiteralFiniteError=Ie.TemplateLiteralParser=Ie.TemplateLiteralParserError=Ie.TemplateLiteralResolver=Ie.TemplateLiteralPattern=Ie.TemplateLiteralPatternError=Ie.UnionResolver=Ie.KeyArrayResolver=Ie.KeyArrayResolverError=Ie.KeyResolver=Ie.ObjectMap=Ie.Intrinsic=Ie.IndexedAccessor=Ie.TypeClone=Ie.TypeExtends=Ie.TypeExtendsResult=Ie.TypeExtendsError=Ie.ExtendsUndefined=Ie.TypeGuard=Ie.TypeGuardUnknownTypeError=Ie.ValueGuard=Ie.FormatRegistry=Ie.TypeBoxError=Ie.TypeRegistry=Ie.PatternStringExact=Ie.PatternNumberExact=Ie.PatternBooleanExact=Ie.PatternString=Ie.PatternNumber=Ie.PatternBoolean=Ie.Kind=Ie.Hint=Ie.Optional=Ie.Readonly=Ie.Transform=void 0;Ie.Transform=Symbol.for("TypeBox.Transform");Ie.Readonly=Symbol.for("TypeBox.Readonly");Ie.Optional=Symbol.for("TypeBox.Optional");Ie.Hint=Symbol.for("TypeBox.Hint");Ie.Kind=Symbol.for("TypeBox.Kind");Ie.PatternBoolean="(true|false)";Ie.PatternNumber="(0|[1-9][0-9]*)";Ie.PatternString="(.*)";Ie.PatternBooleanExact=`^${Ie.PatternBoolean}$`;Ie.PatternNumberExact=`^${Ie.PatternNumber}$`;Ie.PatternStringExact=`^${Ie.PatternString}$`;var OO;(function(e){let t=new Map;function r(){return new Map(t)}o(r,"Entries"),e.Entries=r;function n(){return t.clear()}o(n,"Clear"),e.Clear=n;function s(u){return t.delete(u)}o(s,"Delete"),e.Delete=s;function a(u){return t.has(u)}o(a,"Has"),e.Has=a;function l(u,f){t.set(u,f)}o(l,"Set"),e.Set=l;function c(u){return t.get(u)}o(c,"Get"),e.Get=c})(OO||(Ie.TypeRegistry=OO={}));var BO=class BO extends Error{constructor(t){super(t)}};o(BO,"TypeBoxError");var gd=BO;Ie.TypeBoxError=gd;var eW;(function(e){let t=new Map;function r(){return new Map(t)}o(r,"Entries"),e.Entries=r;function n(){return t.clear()}o(n,"Clear"),e.Clear=n;function s(u){return t.delete(u)}o(s,"Delete"),e.Delete=s;function a(u){return t.has(u)}o(a,"Has"),e.Has=a;function l(u,f){t.set(u,f)}o(l,"Set"),e.Set=l;function c(u){return t.get(u)}o(c,"Get"),e.Get=c})(eW||(Ie.FormatRegistry=eW={}));var Ci;(function(e){function t(p){return Array.isArray(p)}o(t,"IsArray"),e.IsArray=t;function r(p){return typeof p=="bigint"}o(r,"IsBigInt"),e.IsBigInt=r;function n(p){return typeof p=="boolean"}o(n,"IsBoolean"),e.IsBoolean=n;function s(p){return p instanceof globalThis.Date}o(s,"IsDate"),e.IsDate=s;function a(p){return p===null}o(a,"IsNull"),e.IsNull=a;function l(p){return typeof p=="number"}o(l,"IsNumber"),e.IsNumber=l;function c(p){return typeof p=="object"&&p!==null}o(c,"IsObject"),e.IsObject=c;function u(p){return typeof p=="string"}o(u,"IsString"),e.IsString=u;function f(p){return p instanceof globalThis.Uint8Array}o(f,"IsUint8Array"),e.IsUint8Array=f;function d(p){return p===void 0}o(d,"IsUndefined"),e.IsUndefined=d})(Ci||(Ie.ValueGuard=Ci={}));var FO=class FO extends gd{};o(FO,"TypeGuardUnknownTypeError");var DO=FO;Ie.TypeGuardUnknownTypeError=DO;var qe;(function(e){function t(le){try{return new RegExp(le),!0}catch{return!1}}o(t,"IsPattern");function r(le){if(!Ci.IsString(le))return!1;for(let Xi=0;Xi<le.length;Xi++){let js=le.charCodeAt(Xi);if(js>=7&&js<=13||js===27||js===127)return!1}return!0}o(r,"IsControlCharacterFree");function n(le){return l(le)||Hi(le)}o(n,"IsAdditionalProperties");function s(le){return Ci.IsUndefined(le)||Ci.IsBigInt(le)}o(s,"IsOptionalBigInt");function a(le){return Ci.IsUndefined(le)||Ci.IsNumber(le)}o(a,"IsOptionalNumber");function l(le){return Ci.IsUndefined(le)||Ci.IsBoolean(le)}o(l,"IsOptionalBoolean");function c(le){return Ci.IsUndefined(le)||Ci.IsString(le)}o(c,"IsOptionalString");function u(le){return Ci.IsUndefined(le)||Ci.IsString(le)&&r(le)&&t(le)}o(u,"IsOptionalPattern");function f(le){return Ci.IsUndefined(le)||Ci.IsString(le)&&r(le)}o(f,"IsOptionalFormat");function d(le){return Ci.IsUndefined(le)||Hi(le)}o(d,"IsOptionalSchema");function p(le){return $(le,"Any")&&c(le.$id)}o(p,"TAny"),e.TAny=p;function h(le){return $(le,"Array")&&le.type==="array"&&c(le.$id)&&Hi(le.items)&&a(le.minItems)&&a(le.maxItems)&&l(le.uniqueItems)&&d(le.contains)&&a(le.minContains)&&a(le.maxContains)}o(h,"TArray"),e.TArray=h;function m(le){return $(le,"AsyncIterator")&&le.type==="AsyncIterator"&&c(le.$id)&&Hi(le.items)}o(m,"TAsyncIterator"),e.TAsyncIterator=m;function v(le){return $(le,"BigInt")&&le.type==="bigint"&&c(le.$id)&&s(le.exclusiveMaximum)&&s(le.exclusiveMinimum)&&s(le.maximum)&&s(le.minimum)&&s(le.multipleOf)}o(v,"TBigInt"),e.TBigInt=v;function _(le){return $(le,"Boolean")&&le.type==="boolean"&&c(le.$id)}o(_,"TBoolean"),e.TBoolean=_;function b(le){return $(le,"Constructor")&&le.type==="Constructor"&&c(le.$id)&&Ci.IsArray(le.parameters)&&le.parameters.every(Xi=>Hi(Xi))&&Hi(le.returns)}o(b,"TConstructor"),e.TConstructor=b;function S(le){return $(le,"Date")&&le.type==="Date"&&c(le.$id)&&a(le.exclusiveMaximumTimestamp)&&a(le.exclusiveMinimumTimestamp)&&a(le.maximumTimestamp)&&a(le.minimumTimestamp)&&a(le.multipleOfTimestamp)}o(S,"TDate"),e.TDate=S;function A(le){return $(le,"Function")&&le.type==="Function"&&c(le.$id)&&Ci.IsArray(le.parameters)&&le.parameters.every(Xi=>Hi(Xi))&&Hi(le.returns)}o(A,"TFunction"),e.TFunction=A;function O(le){return $(le,"Integer")&&le.type==="integer"&&c(le.$id)&&a(le.exclusiveMaximum)&&a(le.exclusiveMinimum)&&a(le.maximum)&&a(le.minimum)&&a(le.multipleOf)}o(O,"TInteger"),e.TInteger=O;function L(le){return $(le,"Intersect")&&!(Ci.IsString(le.type)&&le.type!=="object")&&Ci.IsArray(le.allOf)&&le.allOf.every(Xi=>Hi(Xi)&&!zr(Xi))&&c(le.type)&&(l(le.unevaluatedProperties)||d(le.unevaluatedProperties))&&c(le.$id)}o(L,"TIntersect"),e.TIntersect=L;function D(le){return $(le,"Iterator")&&le.type==="Iterator"&&c(le.$id)&&Hi(le.items)}o(D,"TIterator"),e.TIterator=D;function $(le,Xi){return de(le)&&le[Ie.Kind]===Xi}o($,"TKindOf"),e.TKindOf=$;function de(le){return Ci.IsObject(le)&&Ie.Kind in le&&Ci.IsString(le[Ie.Kind])}o(de,"TKind"),e.TKind=de;function ue(le){return vt(le)&&Ci.IsString(le.const)}o(ue,"TLiteralString"),e.TLiteralString=ue;function Ze(le){return vt(le)&&Ci.IsNumber(le.const)}o(Ze,"TLiteralNumber"),e.TLiteralNumber=Ze;function vr(le){return vt(le)&&Ci.IsBoolean(le.const)}o(vr,"TLiteralBoolean"),e.TLiteralBoolean=vr;function vt(le){return $(le,"Literal")&&c(le.$id)&&(Ci.IsBoolean(le.const)||Ci.IsNumber(le.const)||Ci.IsString(le.const))}o(vt,"TLiteral"),e.TLiteral=vt;function wr(le){return $(le,"Never")&&Ci.IsObject(le.not)&&Object.getOwnPropertyNames(le.not).length===0}o(wr,"TNever"),e.TNever=wr;function Ve(le){return $(le,"Not")&&Hi(le.not)}o(Ve,"TNot"),e.TNot=Ve;function Me(le){return $(le,"Null")&&le.type==="null"&&c(le.$id)}o(Me,"TNull"),e.TNull=Me;function St(le){return $(le,"Number")&&le.type==="number"&&c(le.$id)&&a(le.exclusiveMaximum)&&a(le.exclusiveMinimum)&&a(le.maximum)&&a(le.minimum)&&a(le.multipleOf)}o(St,"TNumber"),e.TNumber=St;function br(le){return $(le,"Object")&&le.type==="object"&&c(le.$id)&&Ci.IsObject(le.properties)&&n(le.additionalProperties)&&a(le.minProperties)&&a(le.maxProperties)&&Object.entries(le.properties).every(([Xi,js])=>r(Xi)&&Hi(js))}o(br,"TObject"),e.TObject=br;function Yt(le){return $(le,"Promise")&&le.type==="Promise"&&c(le.$id)&&Hi(le.item)}o(Yt,"TPromise"),e.TPromise=Yt;function hr(le){return $(le,"Record")&&le.type==="object"&&c(le.$id)&&n(le.additionalProperties)&&Ci.IsObject(le.patternProperties)&&(Xi=>{let js=Object.getOwnPropertyNames(Xi.patternProperties);return js.length===1&&t(js[0])&&Ci.IsObject(Xi.patternProperties)&&Hi(Xi.patternProperties[js[0]])})(le)}o(hr,"TRecord"),e.TRecord=hr;function Mt(le){return Ci.IsObject(le)&&Ie.Hint in le&&le[Ie.Hint]==="Recursive"}o(Mt,"TRecursive"),e.TRecursive=Mt;function yr(le){return $(le,"Ref")&&c(le.$id)&&Ci.IsString(le.$ref)}o(yr,"TRef"),e.TRef=yr;function Ee(le){return $(le,"String")&&le.type==="string"&&c(le.$id)&&a(le.minLength)&&a(le.maxLength)&&u(le.pattern)&&f(le.format)}o(Ee,"TString"),e.TString=Ee;function _e(le){return $(le,"Symbol")&&le.type==="symbol"&&c(le.$id)}o(_e,"TSymbol"),e.TSymbol=_e;function Er(le){return $(le,"TemplateLiteral")&&le.type==="string"&&Ci.IsString(le.pattern)&&le.pattern[0]==="^"&&le.pattern[le.pattern.length-1]==="$"}o(Er,"TTemplateLiteral"),e.TTemplateLiteral=Er;function Vr(le){return $(le,"This")&&c(le.$id)&&Ci.IsString(le.$ref)}o(Vr,"TThis"),e.TThis=Vr;function zr(le){return Ci.IsObject(le)&&Ie.Transform in le}o(zr,"TTransform"),e.TTransform=zr;function jr(le){return $(le,"Tuple")&&le.type==="array"&&c(le.$id)&&Ci.IsNumber(le.minItems)&&Ci.IsNumber(le.maxItems)&&le.minItems===le.maxItems&&(Ci.IsUndefined(le.items)&&Ci.IsUndefined(le.additionalItems)&&le.minItems===0||Ci.IsArray(le.items)&&le.items.every(Xi=>Hi(Xi)))}o(jr,"TTuple"),e.TTuple=jr;function Ri(le){return $(le,"Undefined")&&le.type==="undefined"&&c(le.$id)}o(Ri,"TUndefined"),e.TUndefined=Ri;function je(le){return en(le)&&le.anyOf.every(Xi=>ue(Xi)||Ze(Xi))}o(je,"TUnionLiteral"),e.TUnionLiteral=je;function en(le){return $(le,"Union")&&c(le.$id)&&Ci.IsObject(le)&&Ci.IsArray(le.anyOf)&&le.anyOf.every(Xi=>Hi(Xi))}o(en,"TUnion"),e.TUnion=en;function Ke(le){return $(le,"Uint8Array")&&le.type==="Uint8Array"&&c(le.$id)&&a(le.minByteLength)&&a(le.maxByteLength)}o(Ke,"TUint8Array"),e.TUint8Array=Ke;function un(le){return $(le,"Unknown")&&c(le.$id)}o(un,"TUnknown"),e.TUnknown=un;function tn(le){return $(le,"Unsafe")}o(tn,"TUnsafe"),e.TUnsafe=tn;function fn(le){return $(le,"Void")&&le.type==="void"&&c(le.$id)}o(fn,"TVoid"),e.TVoid=fn;function Wi(le){return Ci.IsObject(le)&&le[Ie.Readonly]==="Readonly"}o(Wi,"TReadonly"),e.TReadonly=Wi;function Os(le){return Ci.IsObject(le)&&le[Ie.Optional]==="Optional"}o(Os,"TOptional"),e.TOptional=Os;function Hi(le){return Ci.IsObject(le)&&(p(le)||h(le)||_(le)||v(le)||m(le)||b(le)||S(le)||A(le)||O(le)||L(le)||D(le)||vt(le)||wr(le)||Ve(le)||Me(le)||St(le)||br(le)||Yt(le)||hr(le)||yr(le)||Ee(le)||_e(le)||Er(le)||Vr(le)||jr(le)||Ri(le)||en(le)||Ke(le)||un(le)||tn(le)||fn(le)||de(le)&&OO.Has(le[Ie.Kind]))}o(Hi,"TSchema"),e.TSchema=Hi})(qe||(Ie.TypeGuard=qe={}));var tW;(function(e){function t(r){return r[Ie.Kind]==="Intersect"?r.allOf.every(n=>t(n)):r[Ie.Kind]==="Union"?r.anyOf.some(n=>t(n)):r[Ie.Kind]==="Undefined"?!0:r[Ie.Kind]==="Not"?!t(r.not):!1}o(t,"Check"),e.Check=t})(tW||(Ie.ExtendsUndefined=tW={}));var UO=class UO extends gd{};o(UO,"TypeExtendsError");var AE=UO;Ie.TypeExtendsError=AE;var Nr;(function(e){e[e.Union=0]="Union",e[e.True=1]="True",e[e.False=2]="False"})(Nr||(Ie.TypeExtendsResult=Nr={}));var lm;(function(e){function t(ae){return ae===Nr.False?ae:Nr.True}o(t,"IntoBooleanResult");function r(ae){throw new AE(ae)}o(r,"Throw");function n(ae){return qe.TNever(ae)||qe.TIntersect(ae)||qe.TUnion(ae)||qe.TUnknown(ae)||qe.TAny(ae)}o(n,"IsStructuralRight");function s(ae,se){return qe.TNever(se)?$(ae,se):qe.TIntersect(se)?A(ae,se):qe.TUnion(se)?dl(ae,se):qe.TUnknown(se)?pl(ae,se):qe.TAny(se)?a(ae,se):r("StructuralRight")}o(s,"StructuralRight");function a(ae,se){return Nr.True}o(a,"TAnyRight");function l(ae,se){return qe.TIntersect(se)?A(ae,se):qe.TUnion(se)&&se.anyOf.some(Hs=>qe.TAny(Hs)||qe.TUnknown(Hs))?Nr.True:qe.TUnion(se)?Nr.Union:qe.TUnknown(se)||qe.TAny(se)?Nr.True:Nr.Union}o(l,"TAny");function c(ae,se){return qe.TUnknown(ae)?Nr.False:qe.TAny(ae)?Nr.Union:qe.TNever(ae)?Nr.True:Nr.False}o(c,"TArrayRight");function u(ae,se){return qe.TObject(se)&&Er(se)?Nr.True:n(se)?s(ae,se):qe.TArray(se)?t(s0(ae.items,se.items)):Nr.False}o(u,"TArray");function f(ae,se){return n(se)?s(ae,se):qe.TAsyncIterator(se)?t(s0(ae.items,se.items)):Nr.False}o(f,"TAsyncIterator");function d(ae,se){return n(se)?s(ae,se):qe.TObject(se)?jr(ae,se):qe.TRecord(se)?un(ae,se):qe.TBigInt(se)?Nr.True:Nr.False}o(d,"TBigInt");function p(ae,se){return qe.TLiteral(ae)&&Ci.IsBoolean(ae.const)||qe.TBoolean(ae)?Nr.True:Nr.False}o(p,"TBooleanRight");function h(ae,se){return n(se)?s(ae,se):qe.TObject(se)?jr(ae,se):qe.TRecord(se)?un(ae,se):qe.TBoolean(se)?Nr.True:Nr.False}o(h,"TBoolean");function m(ae,se){return n(se)?s(ae,se):qe.TObject(se)?jr(ae,se):qe.TConstructor(se)?ae.parameters.length>se.parameters.length?Nr.False:ae.parameters.every((Hs,Z0)=>t(s0(se.parameters[Z0],Hs))===Nr.True)?t(s0(ae.returns,se.returns)):Nr.False:Nr.False}o(m,"TConstructor");function v(ae,se){return n(se)?s(ae,se):qe.TObject(se)?jr(ae,se):qe.TRecord(se)?un(ae,se):qe.TDate(se)?Nr.True:Nr.False}o(v,"TDate");function _(ae,se){return n(se)?s(ae,se):qe.TObject(se)?jr(ae,se):qe.TFunction(se)?ae.parameters.length>se.parameters.length?Nr.False:ae.parameters.every((Hs,Z0)=>t(s0(se.parameters[Z0],Hs))===Nr.True)?t(s0(ae.returns,se.returns)):Nr.False:Nr.False}o(_,"TFunction");function b(ae,se){return qe.TLiteral(ae)&&Ci.IsNumber(ae.const)||qe.TNumber(ae)||qe.TInteger(ae)?Nr.True:Nr.False}o(b,"TIntegerRight");function S(ae,se){return qe.TInteger(se)||qe.TNumber(se)?Nr.True:n(se)?s(ae,se):qe.TObject(se)?jr(ae,se):qe.TRecord(se)?un(ae,se):Nr.False}o(S,"TInteger");function A(ae,se){return se.allOf.every(Hs=>s0(ae,Hs)===Nr.True)?Nr.True:Nr.False}o(A,"TIntersectRight");function O(ae,se){return ae.allOf.some(Hs=>s0(Hs,se)===Nr.True)?Nr.True:Nr.False}o(O,"TIntersect");function L(ae,se){return n(se)?s(ae,se):qe.TIterator(se)?t(s0(ae.items,se.items)):Nr.False}o(L,"TIterator");function D(ae,se){return qe.TLiteral(se)&&se.const===ae.const?Nr.True:n(se)?s(ae,se):qe.TObject(se)?jr(ae,se):qe.TRecord(se)?un(ae,se):qe.TString(se)?fn(ae,se):qe.TNumber(se)?vt(ae,se):qe.TInteger(se)?b(ae,se):qe.TBoolean(se)?p(ae,se):Nr.False}o(D,"TLiteral");function $(ae,se){return Nr.False}o($,"TNeverRight");function de(ae,se){return Nr.True}o(de,"TNever");function ue(ae){let[se,Hs]=[ae,0];for(;qe.TNot(se);)se=se.not,Hs+=1;return Hs%2===0?se:Ie.Type.Unknown()}o(ue,"UnwrapTNot");function Ze(ae,se){return qe.TNot(ae)?s0(ue(ae),se):qe.TNot(se)?s0(ae,ue(se)):r("Invalid fallthrough for Not")}o(Ze,"TNot");function vr(ae,se){return n(se)?s(ae,se):qe.TObject(se)?jr(ae,se):qe.TRecord(se)?un(ae,se):qe.TNull(se)?Nr.True:Nr.False}o(vr,"TNull");function vt(ae,se){return qe.TLiteralNumber(ae)||qe.TNumber(ae)||qe.TInteger(ae)?Nr.True:Nr.False}o(vt,"TNumberRight");function wr(ae,se){return n(se)?s(ae,se):qe.TObject(se)?jr(ae,se):qe.TRecord(se)?un(ae,se):qe.TInteger(se)||qe.TNumber(se)?Nr.True:Nr.False}o(wr,"TNumber");function Ve(ae,se){return Object.getOwnPropertyNames(ae.properties).length===se}o(Ve,"IsObjectPropertyCount");function Me(ae){return Er(ae)}o(Me,"IsObjectStringLike");function St(ae){return Ve(ae,0)||Ve(ae,1)&&"description"in ae.properties&&qe.TUnion(ae.properties.description)&&ae.properties.description.anyOf.length===2&&(qe.TString(ae.properties.description.anyOf[0])&&qe.TUndefined(ae.properties.description.anyOf[1])||qe.TString(ae.properties.description.anyOf[1])&&qe.TUndefined(ae.properties.description.anyOf[0]))}o(St,"IsObjectSymbolLike");function br(ae){return Ve(ae,0)}o(br,"IsObjectNumberLike");function Yt(ae){return Ve(ae,0)}o(Yt,"IsObjectBooleanLike");function hr(ae){return Ve(ae,0)}o(hr,"IsObjectBigIntLike");function Mt(ae){return Ve(ae,0)}o(Mt,"IsObjectDateLike");function yr(ae){return Er(ae)}o(yr,"IsObjectUint8ArrayLike");function Ee(ae){let se=Ie.Type.Number();return Ve(ae,0)||Ve(ae,1)&&"length"in ae.properties&&t(s0(ae.properties.length,se))===Nr.True}o(Ee,"IsObjectFunctionLike");function _e(ae){return Ve(ae,0)}o(_e,"IsObjectConstructorLike");function Er(ae){let se=Ie.Type.Number();return Ve(ae,0)||Ve(ae,1)&&"length"in ae.properties&&t(s0(ae.properties.length,se))===Nr.True}o(Er,"IsObjectArrayLike");function Vr(ae){let se=Ie.Type.Function([Ie.Type.Any()],Ie.Type.Any());return Ve(ae,0)||Ve(ae,1)&&"then"in ae.properties&&t(s0(ae.properties.then,se))===Nr.True}o(Vr,"IsObjectPromiseLike");function zr(ae,se){return s0(ae,se)===Nr.False||qe.TOptional(ae)&&!qe.TOptional(se)?Nr.False:Nr.True}o(zr,"Property");function jr(ae,se){return qe.TUnknown(ae)?Nr.False:qe.TAny(ae)?Nr.Union:qe.TNever(ae)||qe.TLiteralString(ae)&&Me(se)||qe.TLiteralNumber(ae)&&br(se)||qe.TLiteralBoolean(ae)&&Yt(se)||qe.TSymbol(ae)&&St(se)||qe.TBigInt(ae)&&hr(se)||qe.TString(ae)&&Me(se)||qe.TSymbol(ae)&&St(se)||qe.TNumber(ae)&&br(se)||qe.TInteger(ae)&&br(se)||qe.TBoolean(ae)&&Yt(se)||qe.TUint8Array(ae)&&yr(se)||qe.TDate(ae)&&Mt(se)||qe.TConstructor(ae)&&_e(se)||qe.TFunction(ae)&&Ee(se)?Nr.True:qe.TRecord(ae)&&qe.TString(en(ae))?se[Ie.Hint]==="Record"?Nr.True:Nr.False:qe.TRecord(ae)&&qe.TNumber(en(ae))?Ve(se,0)?Nr.True:Nr.False:Nr.False}o(jr,"TObjectRight");function Ri(ae,se){return n(se)?s(ae,se):qe.TRecord(se)?un(ae,se):qe.TObject(se)?(()=>{for(let Hs of Object.getOwnPropertyNames(se.properties)){if(!(Hs in ae.properties)&&!qe.TOptional(se.properties[Hs]))return Nr.False;if(qe.TOptional(se.properties[Hs]))return Nr.True;if(zr(ae.properties[Hs],se.properties[Hs])===Nr.False)return Nr.False}return Nr.True})():Nr.False}o(Ri,"TObject");function je(ae,se){return n(se)?s(ae,se):qe.TObject(se)&&Vr(se)?Nr.True:qe.TPromise(se)?t(s0(ae.item,se.item)):Nr.False}o(je,"TPromise");function en(ae){return Ie.PatternNumberExact in ae.patternProperties?Ie.Type.Number():Ie.PatternStringExact in ae.patternProperties?Ie.Type.String():r("Unknown record key pattern")}o(en,"RecordKey");function Ke(ae){return Ie.PatternNumberExact in ae.patternProperties?ae.patternProperties[Ie.PatternNumberExact]:Ie.PatternStringExact in ae.patternProperties?ae.patternProperties[Ie.PatternStringExact]:r("Unable to get record value schema")}o(Ke,"RecordValue");function un(ae,se){let[Hs,Z0]=[en(se),Ke(se)];return qe.TLiteralString(ae)&&qe.TNumber(Hs)&&t(s0(ae,Z0))===Nr.True?Nr.True:qe.TUint8Array(ae)&&qe.TNumber(Hs)||qe.TString(ae)&&qe.TNumber(Hs)||qe.TArray(ae)&&qe.TNumber(Hs)?s0(ae,Z0):qe.TObject(ae)?(()=>{for(let up of Object.getOwnPropertyNames(ae.properties))if(zr(Z0,ae.properties[up])===Nr.False)return Nr.False;return Nr.True})():Nr.False}o(un,"TRecordRight");function tn(ae,se){return n(se)?s(ae,se):qe.TObject(se)?jr(ae,se):qe.TRecord(se)?s0(Ke(ae),Ke(se)):Nr.False}o(tn,"TRecord");function fn(ae,se){return qe.TLiteral(ae)&&Ci.IsString(ae.const)||qe.TString(ae)?Nr.True:Nr.False}o(fn,"TStringRight");function Wi(ae,se){return n(se)?s(ae,se):qe.TObject(se)?jr(ae,se):qe.TRecord(se)?un(ae,se):qe.TString(se)?Nr.True:Nr.False}o(Wi,"TString");function Os(ae,se){return n(se)?s(ae,se):qe.TObject(se)?jr(ae,se):qe.TRecord(se)?un(ae,se):qe.TSymbol(se)?Nr.True:Nr.False}o(Os,"TSymbol");function Hi(ae,se){return qe.TTemplateLiteral(ae)?s0(Kp.Resolve(ae),se):qe.TTemplateLiteral(se)?s0(ae,Kp.Resolve(se)):r("Invalid fallthrough for TemplateLiteral")}o(Hi,"TTemplateLiteral");function le(ae,se){return qe.TArray(se)&&ae.items!==void 0&&ae.items.every(Hs=>s0(Hs,se.items)===Nr.True)}o(le,"IsArrayOfTuple");function Xi(ae,se){return qe.TNever(ae)?Nr.True:qe.TUnknown(ae)?Nr.False:qe.TAny(ae)?Nr.Union:Nr.False}o(Xi,"TTupleRight");function js(ae,se){return n(se)?s(ae,se):qe.TObject(se)&&Er(se)||qe.TArray(se)&&le(ae,se)?Nr.True:qe.TTuple(se)?Ci.IsUndefined(ae.items)&&!Ci.IsUndefined(se.items)||!Ci.IsUndefined(ae.items)&&Ci.IsUndefined(se.items)?Nr.False:Ci.IsUndefined(ae.items)&&!Ci.IsUndefined(se.items)||ae.items.every((Hs,Z0)=>s0(Hs,se.items[Z0])===Nr.True)?Nr.True:Nr.False:Nr.False}o(js,"TTuple");function Na(ae,se){return n(se)?s(ae,se):qe.TObject(se)?jr(ae,se):qe.TRecord(se)?un(ae,se):qe.TUint8Array(se)?Nr.True:Nr.False}o(Na,"TUint8Array");function _c(ae,se){return n(se)?s(ae,se):qe.TObject(se)?jr(ae,se):qe.TRecord(se)?un(ae,se):qe.TVoid(se)?Qf(ae,se):qe.TUndefined(se)?Nr.True:Nr.False}o(_c,"TUndefined");function dl(ae,se){return se.anyOf.some(Hs=>s0(ae,Hs)===Nr.True)?Nr.True:Nr.False}o(dl,"TUnionRight");function Xf(ae,se){return ae.anyOf.every(Hs=>s0(Hs,se)===Nr.True)?Nr.True:Nr.False}o(Xf,"TUnion");function pl(ae,se){return Nr.True}o(pl,"TUnknownRight");function xc(ae,se){return qe.TNever(se)?$(ae,se):qe.TIntersect(se)?A(ae,se):qe.TUnion(se)?dl(ae,se):qe.TAny(se)?a(ae,se):qe.TString(se)?fn(ae,se):qe.TNumber(se)?vt(ae,se):qe.TInteger(se)?b(ae,se):qe.TBoolean(se)?p(ae,se):qe.TArray(se)?c(ae,se):qe.TTuple(se)?Xi(ae,se):qe.TObject(se)?jr(ae,se):qe.TUnknown(se)?Nr.True:Nr.False}o(xc,"TUnknown");function Qf(ae,se){return qe.TUndefined(ae)||qe.TUndefined(ae)?Nr.True:Nr.False}o(Qf,"VoidRight");function Y0(ae,se){return qe.TIntersect(se)?A(ae,se):qe.TUnion(se)?dl(ae,se):qe.TUnknown(se)?pl(ae,se):qe.TAny(se)?a(ae,se):qe.TObject(se)?jr(ae,se):qe.TVoid(se)?Nr.True:Nr.False}o(Y0,"TVoid");function s0(ae,se){return qe.TTemplateLiteral(ae)||qe.TTemplateLiteral(se)?Hi(ae,se):qe.TNot(ae)||qe.TNot(se)?Ze(ae,se):qe.TAny(ae)?l(ae,se):qe.TArray(ae)?u(ae,se):qe.TBigInt(ae)?d(ae,se):qe.TBoolean(ae)?h(ae,se):qe.TAsyncIterator(ae)?f(ae,se):qe.TConstructor(ae)?m(ae,se):qe.TDate(ae)?v(ae,se):qe.TFunction(ae)?_(ae,se):qe.TInteger(ae)?S(ae,se):qe.TIntersect(ae)?O(ae,se):qe.TIterator(ae)?L(ae,se):qe.TLiteral(ae)?D(ae,se):qe.TNever(ae)?de(ae,se):qe.TNull(ae)?vr(ae,se):qe.TNumber(ae)?wr(ae,se):qe.TObject(ae)?Ri(ae,se):qe.TRecord(ae)?tn(ae,se):qe.TString(ae)?Wi(ae,se):qe.TSymbol(ae)?Os(ae,se):qe.TTuple(ae)?js(ae,se):qe.TPromise(ae)?je(ae,se):qe.TUint8Array(ae)?Na(ae,se):qe.TUndefined(ae)?_c(ae,se):qe.TUnion(ae)?Xf(ae,se):qe.TUnknown(ae)?xc(ae,se):qe.TVoid(ae)?Y0(ae,se):r(`Unknown left type operand '${ae[Ie.Kind]}'`)}o(s0,"Visit");function Du(ae,se){return s0(ae,se)}o(Du,"Extends"),e.Extends=Du})(lm||(Ie.TypeExtends=lm={}));var vs;(function(e){function t(u){return u.map(f=>a(f))}o(t,"ArrayType");function r(u){return new Date(u.getTime())}o(r,"DateType");function n(u){return new Uint8Array(u)}o(n,"Uint8ArrayType");function s(u){let f=Object.getOwnPropertyNames(u).reduce((p,h)=>({...p,[h]:a(u[h])}),{}),d=Object.getOwnPropertySymbols(u).reduce((p,h)=>({...p,[h]:a(u[h])}),{});return{...f,...d}}o(s,"ObjectType");function a(u){return Ci.IsArray(u)?t(u):Ci.IsDate(u)?r(u):Ci.IsUint8Array(u)?n(u):Ci.IsObject(u)?s(u):u}o(a,"Visit");function l(u){return u.map(f=>c(f))}o(l,"Rest"),e.Rest=l;function c(u,f={}){return{...a(u),...f}}o(c,"Type"),e.Type=c})(vs||(Ie.TypeClone=vs={}));var LO;(function(e){function t(m){return m.map(v=>{let{[Ie.Optional]:_,...b}=vs.Type(v);return b})}o(t,"OptionalUnwrap");function r(m){return m.every(v=>qe.TOptional(v))}o(r,"IsIntersectOptional");function n(m){return m.some(v=>qe.TOptional(v))}o(n,"IsUnionOptional");function s(m){return r(m.allOf)?Ie.Type.Optional(Ie.Type.Intersect(t(m.allOf))):m}o(s,"ResolveIntersect");function a(m){return n(m.anyOf)?Ie.Type.Optional(Ie.Type.Union(t(m.anyOf))):m}o(a,"ResolveUnion");function l(m){return m[Ie.Kind]==="Intersect"?s(m):m[Ie.Kind]==="Union"?a(m):m}o(l,"ResolveOptional");function c(m,v){let _=m.allOf.reduce((b,S)=>{let A=p(S,v);return A[Ie.Kind]==="Never"?b:[...b,A]},[]);return l(Ie.Type.Intersect(_))}o(c,"TIntersect");function u(m,v){let _=m.anyOf.map(b=>p(b,v));return l(Ie.Type.Union(_))}o(u,"TUnion");function f(m,v){let _=m.properties[v];return Ci.IsUndefined(_)?Ie.Type.Never():Ie.Type.Union([_])}o(f,"TObject");function d(m,v){let _=m.items;if(Ci.IsUndefined(_))return Ie.Type.Never();let b=_[v];return Ci.IsUndefined(b)?Ie.Type.Never():b}o(d,"TTuple");function p(m,v){return m[Ie.Kind]==="Intersect"?c(m,v):m[Ie.Kind]==="Union"?u(m,v):m[Ie.Kind]==="Object"?f(m,v):m[Ie.Kind]==="Tuple"?d(m,v):Ie.Type.Never()}o(p,"Visit");function h(m,v,_={}){let b=v.map(S=>p(m,S.toString()));return l(Ie.Type.Union(b,_))}o(h,"Resolve"),e.Resolve=h})(LO||(Ie.IndexedAccessor=LO={}));var h8;(function(e){function t(d){let[p,h]=[d.slice(0,1),d.slice(1)];return`${p.toLowerCase()}${h}`}o(t,"Uncapitalize");function r(d){let[p,h]=[d.slice(0,1),d.slice(1)];return`${p.toUpperCase()}${h}`}o(r,"Capitalize");function n(d){return d.toUpperCase()}o(n,"Uppercase");function s(d){return d.toLowerCase()}o(s,"Lowercase");function a(d,p){let h=g8.ParseExact(d.pattern);if(!v8.Check(h))return{...d,pattern:l(d.pattern,p)};let _=[...y8.Generate(h)].map(A=>Ie.Type.Literal(A)),b=c(_,p),S=Ie.Type.Union(b);return Ie.Type.TemplateLiteral([S])}o(a,"IntrinsicTemplateLiteral");function l(d,p){return typeof d=="string"?p==="Uncapitalize"?t(d):p==="Capitalize"?r(d):p==="Uppercase"?n(d):p==="Lowercase"?s(d):d:d.toString()}o(l,"IntrinsicLiteral");function c(d,p){if(d.length===0)return[];let[h,...m]=d;return[f(h,p),...c(m,p)]}o(c,"IntrinsicRest");function u(d,p){return qe.TTemplateLiteral(d)?a(d,p):qe.TUnion(d)?Ie.Type.Union(c(d.anyOf,p)):qe.TLiteral(d)?Ie.Type.Literal(l(d.const,p)):d}o(u,"Visit");function f(d,p){return u(d,p)}o(f,"Map"),e.Map=f})(h8||(Ie.Intrinsic=h8={}));var m8;(function(e){function t(l,c){return Ie.Type.Intersect(l.allOf.map(u=>s(u,c)),{...l})}o(t,"TIntersect");function r(l,c){return Ie.Type.Union(l.anyOf.map(u=>s(u,c)),{...l})}o(r,"TUnion");function n(l,c){return c(l)}o(n,"TObject");function s(l,c){return l[Ie.Kind]==="Intersect"?t(l,c):l[Ie.Kind]==="Union"?r(l,c):l[Ie.Kind]==="Object"?n(l,c):l}o(s,"Visit");function a(l,c,u){return{...s(vs.Type(l),c),...u}}o(a,"Map"),e.Map=a})(m8||(Ie.ObjectMap=m8={}));var wE;(function(e){function t(f){return f[0]==="^"&&f[f.length-1]==="$"?f.slice(1,f.length-1):f}o(t,"UnwrapPattern");function r(f,d){return f.allOf.reduce((p,h)=>[...p,...l(h,d)],[])}o(r,"TIntersect");function n(f,d){let p=f.anyOf.map(h=>l(h,d));return[...p.reduce((h,m)=>m.map(v=>p.every(_=>_.includes(v))?h.add(v):h)[0],new Set)]}o(n,"TUnion");function s(f,d){return Object.getOwnPropertyNames(f.properties)}o(s,"TObject");function a(f,d){return d.includePatterns?Object.getOwnPropertyNames(f.patternProperties):[]}o(a,"TRecord");function l(f,d){return qe.TIntersect(f)?r(f,d):qe.TUnion(f)?n(f,d):qe.TObject(f)?s(f,d):qe.TRecord(f)?a(f,d):[]}o(l,"Visit");function c(f,d){return[...new Set(l(f,d))]}o(c,"ResolveKeys"),e.ResolveKeys=c;function u(f){return`^(${c(f,{includePatterns:!0}).map(h=>`(${t(h)})`).join("|")})$`}o(u,"ResolvePattern"),e.ResolvePattern=u})(wE||(Ie.KeyResolver=wE={}));var qO=class qO extends gd{};o(qO,"KeyArrayResolverError");var RE=qO;Ie.KeyArrayResolverError=RE;var Q9;(function(e){function t(r){return Array.isArray(r)?r:qe.TUnionLiteral(r)?r.anyOf.map(n=>n.const.toString()):qe.TLiteral(r)?[r.const]:qe.TTemplateLiteral(r)?(()=>{let n=g8.ParseExact(r.pattern);if(!v8.Check(n))throw new RE("Cannot resolve keys from infinite template expression");return[...y8.Generate(n)]})():[]}o(t,"Resolve"),e.Resolve=t})(Q9||(Ie.KeyArrayResolver=Q9={}));var kO;(function(e){function*t(n){for(let s of n.anyOf)s[Ie.Kind]==="Union"?yield*t(s):yield s}o(t,"TUnion");function r(n){return Ie.Type.Union([...t(n)],{...n})}o(r,"Resolve"),e.Resolve=r})(kO||(Ie.UnionResolver=kO={}));var jO=class jO extends gd{};o(jO,"TemplateLiteralPatternError");var PE=jO;Ie.TemplateLiteralPatternError=PE;var NE;(function(e){function t(a){throw new PE(a)}o(t,"Throw");function r(a){return a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}o(r,"Escape");function n(a,l){return qe.TTemplateLiteral(a)?a.pattern.slice(1,a.pattern.length-1):qe.TUnion(a)?`(${a.anyOf.map(c=>n(c,l)).join("|")})`:qe.TNumber(a)?`${l}${Ie.PatternNumber}`:qe.TInteger(a)?`${l}${Ie.PatternNumber}`:qe.TBigInt(a)?`${l}${Ie.PatternNumber}`:qe.TString(a)?`${l}${Ie.PatternString}`:qe.TLiteral(a)?`${l}${r(a.const.toString())}`:qe.TBoolean(a)?`${l}${Ie.PatternBoolean}`:t(`Unexpected Kind '${a[Ie.Kind]}'`)}o(n,"Visit");function s(a){return`^${a.map(l=>n(l,"")).join("")}$`}o(s,"Create"),e.Create=s})(NE||(Ie.TemplateLiteralPattern=NE={}));var Kp;(function(e){function t(r){let n=g8.ParseExact(r.pattern);if(!v8.Check(n))return Ie.Type.String();let s=[...y8.Generate(n)].map(a=>Ie.Type.Literal(a));return Ie.Type.Union(s)}o(t,"Resolve"),e.Resolve=t})(Kp||(Ie.TemplateLiteralResolver=Kp={}));var HO=class HO extends gd{};o(HO,"TemplateLiteralParserError");var J9=HO;Ie.TemplateLiteralParserError=J9;var g8;(function(e){function t(m,v,_){return m[v]===_&&m.charCodeAt(v-1)!==92}o(t,"IsNonEscaped");function r(m,v){return t(m,v,"(")}o(r,"IsOpenParen");function n(m,v){return t(m,v,")")}o(n,"IsCloseParen");function s(m,v){return t(m,v,"|")}o(s,"IsSeparator");function a(m){if(!(r(m,0)&&n(m,m.length-1)))return!1;let v=0;for(let _=0;_<m.length;_++)if(r(m,_)&&(v+=1),n(m,_)&&(v-=1),v===0&&_!==m.length-1)return!1;return!0}o(a,"IsGroup");function l(m){return m.slice(1,m.length-1)}o(l,"InGroup");function c(m){let v=0;for(let _=0;_<m.length;_++)if(r(m,_)&&(v+=1),n(m,_)&&(v-=1),s(m,_)&&v===0)return!0;return!1}o(c,"IsPrecedenceOr");function u(m){for(let v=0;v<m.length;v++)if(r(m,v))return!0;return!1}o(u,"IsPrecedenceAnd");function f(m){let[v,_]=[0,0],b=[];for(let A=0;A<m.length;A++)if(r(m,A)&&(v+=1),n(m,A)&&(v-=1),s(m,A)&&v===0){let O=m.slice(_,A);O.length>0&&b.push(p(O)),_=A+1}let S=m.slice(_);return S.length>0&&b.push(p(S)),b.length===0?{type:"const",const:""}:b.length===1?b[0]:{type:"or",expr:b}}o(f,"Or");function d(m){function v(S,A){if(!r(S,A))throw new J9("TemplateLiteralParser: Index must point to open parens");let O=0;for(let L=A;L<S.length;L++)if(r(S,L)&&(O+=1),n(S,L)&&(O-=1),O===0)return[A,L];throw new J9("TemplateLiteralParser: Unclosed group parens in expression")}o(v,"Group");function _(S,A){for(let O=A;O<S.length;O++)if(r(S,O))return[A,O];return[A,S.length]}o(_,"Range");let b=[];for(let S=0;S<m.length;S++)if(r(m,S)){let[A,O]=v(m,S),L=m.slice(A,O+1);b.push(p(L)),S=O}else{let[A,O]=_(m,S),L=m.slice(A,O);L.length>0&&b.push(p(L)),S=O-1}return b.length===0?{type:"const",const:""}:b.length===1?b[0]:{type:"and",expr:b}}o(d,"And");function p(m){return a(m)?p(l(m)):c(m)?f(m):u(m)?d(m):{type:"const",const:m}}o(p,"Parse"),e.Parse=p;function h(m){return p(m.slice(1,m.length-1))}o(h,"ParseExact"),e.ParseExact=h})(g8||(Ie.TemplateLiteralParser=g8={}));var $O=class $O extends gd{};o($O,"TemplateLiteralFiniteError");var OE=$O;Ie.TemplateLiteralFiniteError=OE;var v8;(function(e){function t(l){throw new OE(l)}o(t,"Throw");function r(l){return l.type==="or"&&l.expr.length===2&&l.expr[0].type==="const"&&l.expr[0].const==="0"&&l.expr[1].type==="const"&&l.expr[1].const==="[1-9][0-9]*"}o(r,"IsNumber");function n(l){return l.type==="or"&&l.expr.length===2&&l.expr[0].type==="const"&&l.expr[0].const==="true"&&l.expr[1].type==="const"&&l.expr[1].const==="false"}o(n,"IsBoolean");function s(l){return l.type==="const"&&l.const===".*"}o(s,"IsString");function a(l){return n(l)?!0:r(l)||s(l)?!1:l.type==="and"?l.expr.every(c=>a(c)):l.type==="or"?l.expr.every(c=>a(c)):l.type==="const"?!0:t("Unknown expression type")}o(a,"Check"),e.Check=a})(v8||(Ie.TemplateLiteralFinite=v8={}));var VO=class VO extends gd{};o(VO,"TemplateLiteralGeneratorError");var DE=VO;Ie.TemplateLiteralGeneratorError=DE;var y8;(function(e){function*t(l){if(l.length===1)return yield*l[0];for(let c of l[0])for(let u of t(l.slice(1)))yield`${c}${u}`}o(t,"Reduce");function*r(l){return yield*t(l.expr.map(c=>[...a(c)]))}o(r,"And");function*n(l){for(let c of l.expr)yield*a(c)}o(n,"Or");function*s(l){return yield l.const}o(s,"Const");function*a(l){return l.type==="and"?yield*r(l):l.type==="or"?yield*n(l):l.type==="const"?yield*s(l):(()=>{throw new DE("Unknown expression")})()}o(a,"Generate"),e.Generate=a})(y8||(Ie.TemplateLiteralGenerator=y8={}));var MO;(function(e){function*t(a){let l=a.trim().replace(/"|'/g,"");return l==="boolean"?yield Ie.Type.Boolean():l==="number"?yield Ie.Type.Number():l==="bigint"?yield Ie.Type.BigInt():l==="string"?yield Ie.Type.String():yield(()=>{let c=l.split("|").map(u=>Ie.Type.Literal(u.trim()));return c.length===0?Ie.Type.Never():c.length===1?c[0]:Ie.Type.Union(c)})()}o(t,"ParseUnion");function*r(a){if(a[1]!=="{"){let l=Ie.Type.Literal("$"),c=n(a.slice(1));return yield*[l,...c]}for(let l=2;l<a.length;l++)if(a[l]==="}"){let c=t(a.slice(2,l)),u=n(a.slice(l+1));return yield*[...c,...u]}yield Ie.Type.Literal(a)}o(r,"ParseTerminal");function*n(a){for(let l=0;l<a.length;l++)if(a[l]==="$"){let c=Ie.Type.Literal(a.slice(0,l)),u=r(a.slice(l));return yield*[c,...u]}yield Ie.Type.Literal(a)}o(n,"ParseLiteral");function s(a){return[...n(a)]}o(s,"Parse"),e.Parse=s})(MO||(Ie.TemplateLiteralDslParser=MO={}));var GO=class GO{constructor(t){this.schema=t}Decode(t){return new kE(this.schema,t)}};o(GO,"TransformDecodeBuilder");var LE=GO;Ie.TransformDecodeBuilder=LE;var zO=class zO{constructor(t,r){this.schema=t,this.decode=r}Encode(t){let r=vs.Type(this.schema);return qe.TTransform(r)?(()=>{let a={Encode:o(l=>r[Ie.Transform].Encode(t(l)),"Encode"),Decode:o(l=>this.decode(r[Ie.Transform].Decode(l)),"Decode")};return{...r,[Ie.Transform]:a}})():(()=>{let n={Decode:this.decode,Encode:t};return{...r,[Ie.Transform]:n}})()}};o(zO,"TransformEncodeBuilder");var kE=zO;Ie.TransformEncodeBuilder=kE;var o2e=0,KO=class KO extends gd{};o(KO,"TypeBuilderError");var ME=KO;Ie.TypeBuilderError=ME;var WO=class WO{Create(t){return t}Throw(t){throw new ME(t)}Discard(t,r){return r.reduce((n,s)=>{let{[s]:a,...l}=n;return l},t)}Strict(t){return JSON.parse(JSON.stringify(t))}};o(WO,"TypeBuilder");var BE=WO;Ie.TypeBuilder=BE;var YO=class YO extends BE{ReadonlyOptional(t){return this.Readonly(this.Optional(t))}Readonly(t){return{...vs.Type(t),[Ie.Readonly]:"Readonly"}}Optional(t){return{...vs.Type(t),[Ie.Optional]:"Optional"}}Any(t={}){return this.Create({...t,[Ie.Kind]:"Any"})}Array(t,r={}){return this.Create({...r,[Ie.Kind]:"Array",type:"array",items:vs.Type(t)})}Boolean(t={}){return this.Create({...t,[Ie.Kind]:"Boolean",type:"boolean"})}Capitalize(t,r={}){return{...h8.Map(vs.Type(t),"Capitalize"),...r}}Composite(t,r){let n=Ie.Type.Intersect(t,{}),a=wE.ResolveKeys(n,{includePatterns:!1}).reduce((l,c)=>({...l,[c]:Ie.Type.Index(n,[c])}),{});return Ie.Type.Object(a,r)}Enum(t,r={}){if(Ci.IsUndefined(t))return this.Throw("Enum undefined or empty");let n=Object.getOwnPropertyNames(t).filter(l=>isNaN(l)).map(l=>t[l]),a=[...new Set(n)].map(l=>Ie.Type.Literal(l));return this.Union(a,{...r,[Ie.Hint]:"Enum"})}Extends(t,r,n,s,a={}){switch(lm.Extends(t,r)){case Nr.Union:return this.Union([vs.Type(n,a),vs.Type(s,a)]);case Nr.True:return vs.Type(n,a);case Nr.False:return vs.Type(s,a)}}Exclude(t,r,n={}){return qe.TTemplateLiteral(t)?this.Exclude(Kp.Resolve(t),r,n):qe.TTemplateLiteral(r)?this.Exclude(t,Kp.Resolve(r),n):qe.TUnion(t)?(()=>{let s=t.anyOf.filter(a=>lm.Extends(a,r)===Nr.False);return s.length===1?vs.Type(s[0],n):this.Union(s,n)})():lm.Extends(t,r)!==Nr.False?this.Never(n):vs.Type(t,n)}Extract(t,r,n={}){return qe.TTemplateLiteral(t)?this.Extract(Kp.Resolve(t),r,n):qe.TTemplateLiteral(r)?this.Extract(t,Kp.Resolve(r),n):qe.TUnion(t)?(()=>{let s=t.anyOf.filter(a=>lm.Extends(a,r)!==Nr.False);return s.length===1?vs.Type(s[0],n):this.Union(s,n)})():lm.Extends(t,r)!==Nr.False?vs.Type(t,n):this.Never(n)}Index(t,r,n={}){return qe.TArray(t)&&qe.TNumber(r)?vs.Type(t.items,n):qe.TTuple(t)&&qe.TNumber(r)?(()=>{let a=(Ci.IsUndefined(t.items)?[]:t.items).map(l=>vs.Type(l));return this.Union(a,n)})():(()=>{let s=Q9.Resolve(r),a=vs.Type(t);return LO.Resolve(a,s,n)})()}Integer(t={}){return this.Create({...t,[Ie.Kind]:"Integer",type:"integer"})}Intersect(t,r={}){if(t.length===0)return Ie.Type.Never();if(t.length===1)return vs.Type(t[0],r);t.some(l=>qe.TTransform(l))&&this.Throw("Cannot intersect transform types");let n=t.every(l=>qe.TObject(l)),s=vs.Rest(t),a=qe.TSchema(r.unevaluatedProperties)?{unevaluatedProperties:vs.Type(r.unevaluatedProperties)}:{};return r.unevaluatedProperties===!1||qe.TSchema(r.unevaluatedProperties)||n?this.Create({...r,...a,[Ie.Kind]:"Intersect",type:"object",allOf:s}):this.Create({...r,...a,[Ie.Kind]:"Intersect",allOf:s})}KeyOf(t,r={}){return qe.TRecord(t)?(()=>{let n=Object.getOwnPropertyNames(t.patternProperties)[0];return n===Ie.PatternNumberExact?this.Number(r):n===Ie.PatternStringExact?this.String(r):this.Throw("Unable to resolve key type from Record key pattern")})():qe.TTuple(t)?(()=>{let s=(Ci.IsUndefined(t.items)?[]:t.items).map((a,l)=>Ie.Type.Literal(l.toString()));return this.Union(s,r)})():qe.TArray(t)?this.Number(r):(()=>{let n=wE.ResolveKeys(t,{includePatterns:!1});if(n.length===0)return this.Never(r);let s=n.map(a=>this.Literal(a));return this.Union(s,r)})()}Literal(t,r={}){return this.Create({...r,[Ie.Kind]:"Literal",const:t,type:typeof t})}Lowercase(t,r={}){return{...h8.Map(vs.Type(t),"Lowercase"),...r}}Never(t={}){return this.Create({...t,[Ie.Kind]:"Never",not:{}})}Not(t,r){return this.Create({...r,[Ie.Kind]:"Not",not:vs.Type(t)})}Null(t={}){return this.Create({...t,[Ie.Kind]:"Null",type:"null"})}Number(t={}){return this.Create({...t,[Ie.Kind]:"Number",type:"number"})}Object(t,r={}){let n=Object.getOwnPropertyNames(t),s=n.filter(u=>qe.TOptional(t[u])),a=n.filter(u=>!s.includes(u)),l=qe.TSchema(r.additionalProperties)?{additionalProperties:vs.Type(r.additionalProperties)}:{},c=n.reduce((u,f)=>({...u,[f]:vs.Type(t[f])}),{});return a.length>0?this.Create({...r,...l,[Ie.Kind]:"Object",type:"object",properties:c,required:a}):this.Create({...r,...l,[Ie.Kind]:"Object",type:"object",properties:c})}Omit(t,r,n={}){let s=Q9.Resolve(r);return m8.Map(this.Discard(vs.Type(t),["$id",Ie.Transform]),a=>{Ci.IsArray(a.required)&&(a.required=a.required.filter(l=>!s.includes(l)),a.required.length===0&&delete a.required);for(let l of Object.getOwnPropertyNames(a.properties))s.includes(l)&&delete a.properties[l];return this.Create(a)},n)}Partial(t,r={}){return m8.Map(this.Discard(vs.Type(t),["$id",Ie.Transform]),n=>{let s=Object.getOwnPropertyNames(n.properties).reduce((a,l)=>({...a,[l]:this.Optional(n.properties[l])}),{});return this.Object(s,this.Discard(n,["required"]))},r)}Pick(t,r,n={}){let s=Q9.Resolve(r);return m8.Map(this.Discard(vs.Type(t),["$id",Ie.Transform]),a=>{Ci.IsArray(a.required)&&(a.required=a.required.filter(l=>s.includes(l)),a.required.length===0&&delete a.required);for(let l of Object.getOwnPropertyNames(a.properties))s.includes(l)||delete a.properties[l];return this.Create(a)},n)}Record(t,r,n={}){return qe.TTemplateLiteral(t)?(()=>{let s=g8.ParseExact(t.pattern);return v8.Check(s)?this.Object([...y8.Generate(s)].reduce((a,l)=>({...a,[l]:vs.Type(r)}),{}),n):this.Create({...n,[Ie.Kind]:"Record",type:"object",patternProperties:{[t.pattern]:vs.Type(r)}})})():qe.TUnion(t)?(()=>{let s=kO.Resolve(t);if(qe.TUnionLiteral(s)){let a=s.anyOf.reduce((l,c)=>({...l,[c.const]:vs.Type(r)}),{});return this.Object(a,{...n,[Ie.Hint]:"Record"})}else this.Throw("Record key of type union contains non-literal types")})():qe.TLiteral(t)?Ci.IsString(t.const)||Ci.IsNumber(t.const)?this.Object({[t.const]:vs.Type(r)},n):this.Throw("Record key of type literal is not of type string or number"):qe.TInteger(t)||qe.TNumber(t)?this.Create({...n,[Ie.Kind]:"Record",type:"object",patternProperties:{[Ie.PatternNumberExact]:vs.Type(r)}}):qe.TString(t)?(()=>{let s=Ci.IsUndefined(t.pattern)?Ie.PatternStringExact:t.pattern;return this.Create({...n,[Ie.Kind]:"Record",type:"object",patternProperties:{[s]:vs.Type(r)}})})():this.Never()}Recursive(t,r={}){Ci.IsUndefined(r.$id)&&(r.$id=`T${o2e++}`);let n=t({[Ie.Kind]:"This",$ref:`${r.$id}`});return n.$id=r.$id,this.Create({...r,[Ie.Hint]:"Recursive",...n})}Ref(t,r={}){return Ci.IsString(t)?this.Create({...r,[Ie.Kind]:"Ref",$ref:t}):(Ci.IsUndefined(t.$id)&&this.Throw("Reference target type must specify an $id"),this.Create({...r,[Ie.Kind]:"Ref",$ref:t.$id}))}Required(t,r={}){return m8.Map(this.Discard(vs.Type(t),["$id",Ie.Transform]),n=>{let s=Object.getOwnPropertyNames(n.properties).reduce((a,l)=>({...a,[l]:this.Discard(n.properties[l],[Ie.Optional])}),{});return this.Object(s,n)},r)}Rest(t){return qe.TTuple(t)&&!Ci.IsUndefined(t.items)?vs.Rest(t.items):qe.TIntersect(t)?vs.Rest(t.allOf):qe.TUnion(t)?vs.Rest(t.anyOf):[]}String(t={}){return this.Create({...t,[Ie.Kind]:"String",type:"string"})}TemplateLiteral(t,r={}){let n=Ci.IsString(t)?NE.Create(MO.Parse(t)):NE.Create(t);return this.Create({...r,[Ie.Kind]:"TemplateLiteral",type:"string",pattern:n})}Transform(t){return new LE(t)}Tuple(t,r={}){let[n,s,a]=[!1,t.length,t.length],l=vs.Rest(t),c=t.length>0?{...r,[Ie.Kind]:"Tuple",type:"array",items:l,additionalItems:n,minItems:s,maxItems:a}:{...r,[Ie.Kind]:"Tuple",type:"array",minItems:s,maxItems:a};return this.Create(c)}Uncapitalize(t,r={}){return{...h8.Map(vs.Type(t),"Uncapitalize"),...r}}Union(t,r={}){return qe.TTemplateLiteral(t)?Kp.Resolve(t):(()=>{let n=t;if(n.length===0)return this.Never(r);if(n.length===1)return this.Create(vs.Type(n[0],r));let s=vs.Rest(n);return this.Create({...r,[Ie.Kind]:"Union",anyOf:s})})()}Unknown(t={}){return this.Create({...t,[Ie.Kind]:"Unknown"})}Unsafe(t={}){return this.Create({...t,[Ie.Kind]:t[Ie.Kind]||"Unsafe"})}Uppercase(t,r={}){return{...h8.Map(vs.Type(t),"Uppercase"),...r}}};o(YO,"JsonTypeBuilder");var Z9=YO;Ie.JsonTypeBuilder=Z9;var XO=class XO extends Z9{AsyncIterator(t,r={}){return this.Create({...r,[Ie.Kind]:"AsyncIterator",type:"AsyncIterator",items:vs.Type(t)})}Awaited(t,r={}){let n=o(s=>s.length>0?(()=>{let[a,...l]=s;return[this.Awaited(a),...n(l)]})():s,"Unwrap");return qe.TIntersect(t)?Ie.Type.Intersect(n(t.allOf)):qe.TUnion(t)?Ie.Type.Union(n(t.anyOf)):qe.TPromise(t)?this.Awaited(t.item):vs.Type(t,r)}BigInt(t={}){return this.Create({...t,[Ie.Kind]:"BigInt",type:"bigint"})}ConstructorParameters(t,r={}){return this.Tuple([...t.parameters],{...r})}Constructor(t,r,n){let[s,a]=[vs.Rest(t),vs.Type(r)];return this.Create({...n,[Ie.Kind]:"Constructor",type:"Constructor",parameters:s,returns:a})}Date(t={}){return this.Create({...t,[Ie.Kind]:"Date",type:"Date"})}Function(t,r,n){let[s,a]=[vs.Rest(t),vs.Type(r)];return this.Create({...n,[Ie.Kind]:"Function",type:"Function",parameters:s,returns:a})}InstanceType(t,r={}){return vs.Type(t.returns,r)}Iterator(t,r={}){return this.Create({...r,[Ie.Kind]:"Iterator",type:"Iterator",items:vs.Type(t)})}Parameters(t,r={}){return this.Tuple(t.parameters,{...r})}Promise(t,r={}){return this.Create({...r,[Ie.Kind]:"Promise",type:"Promise",item:vs.Type(t)})}RegExp(t,r={}){let n=Ci.IsString(t)?t:t.source;return this.Create({...r,[Ie.Kind]:"String",type:"string",pattern:n})}RegEx(t,r={}){return this.RegExp(t,r)}ReturnType(t,r={}){return vs.Type(t.returns,r)}Symbol(t){return this.Create({...t,[Ie.Kind]:"Symbol",type:"symbol"})}Undefined(t={}){return this.Create({...t,[Ie.Kind]:"Undefined",type:"undefined"})}Uint8Array(t={}){return this.Create({...t,[Ie.Kind]:"Uint8Array",type:"Uint8Array"})}Void(t={}){return this.Create({...t,[Ie.Kind]:"Void",type:"void"})}};o(XO,"JavaScriptTypeBuilder");var FE=XO;Ie.JavaScriptTypeBuilder=FE;Ie.JsonType=new Z9;Ie.Type=new FE});var yu=k(Gs=>{"use strict";Object.defineProperty(Gs,"__esModule",{value:!0});Gs.IsValueType=Gs.IsSymbol=Gs.IsFunction=Gs.IsString=Gs.IsBigInt=Gs.IsInteger=Gs.IsNumber=Gs.IsBoolean=Gs.IsNull=Gs.IsUndefined=Gs.IsArray=Gs.IsObject=Gs.IsPlainObject=Gs.HasPropertyKey=Gs.IsDate=Gs.IsUint8Array=Gs.IsPromise=Gs.IsTypedArray=Gs.IsIterator=Gs.IsAsyncIterator=void 0;function l2e(e){return UE(e)&&Symbol.asyncIterator in e}o(l2e,"IsAsyncIterator");Gs.IsAsyncIterator=l2e;function c2e(e){return UE(e)&&Symbol.iterator in e}o(c2e,"IsIterator");Gs.IsIterator=c2e;function u2e(e){return ArrayBuffer.isView(e)}o(u2e,"IsTypedArray");Gs.IsTypedArray=u2e;function f2e(e){return e instanceof Promise}o(f2e,"IsPromise");Gs.IsPromise=f2e;function d2e(e){return e instanceof Uint8Array}o(d2e,"IsUint8Array");Gs.IsUint8Array=d2e;function p2e(e){return e instanceof Date&&Number.isFinite(e.getTime())}o(p2e,"IsDate");Gs.IsDate=p2e;function h2e(e,t){return t in e}o(h2e,"HasPropertyKey");Gs.HasPropertyKey=h2e;function m2e(e){return UE(e)&&oW(e.constructor)&&e.constructor.name==="Object"}o(m2e,"IsPlainObject");Gs.IsPlainObject=m2e;function UE(e){return e!==null&&typeof e=="object"}o(UE,"IsObject");Gs.IsObject=UE;function g2e(e){return Array.isArray(e)&&!ArrayBuffer.isView(e)}o(g2e,"IsArray");Gs.IsArray=g2e;function rW(e){return e===void 0}o(rW,"IsUndefined");Gs.IsUndefined=rW;function nW(e){return e===null}o(nW,"IsNull");Gs.IsNull=nW;function iW(e){return typeof e=="boolean"}o(iW,"IsBoolean");Gs.IsBoolean=iW;function QO(e){return typeof e=="number"}o(QO,"IsNumber");Gs.IsNumber=QO;function v2e(e){return QO(e)&&Number.isInteger(e)}o(v2e,"IsInteger");Gs.IsInteger=v2e;function sW(e){return typeof e=="bigint"}o(sW,"IsBigInt");Gs.IsBigInt=sW;function aW(e){return typeof e=="string"}o(aW,"IsString");Gs.IsString=aW;function oW(e){return typeof e=="function"}o(oW,"IsFunction");Gs.IsFunction=oW;function lW(e){return typeof e=="symbol"}o(lW,"IsSymbol");Gs.IsSymbol=lW;function y2e(e){return sW(e)||iW(e)||nW(e)||QO(e)||aW(e)||lW(e)||rW(e)}o(y2e,"IsValueType");Gs.IsValueType=y2e});var tD=k(_u=>{"use strict";Object.defineProperty(_u,"__esModule",{value:!0});_u.DefaultErrorFunction=_u.TypeSystemPolicy=_u.TypeSystemErrorFunction=_u.TypeSystem=_u.TypeSystemDuplicateFormat=_u.TypeSystemDuplicateTypeKind=void 0;var qE=yu(),Gi=e7(),Wp=vu(),ZO=class ZO extends Wp.TypeBoxError{constructor(t){super(`Duplicate type kind '${t}' detected`)}};o(ZO,"TypeSystemDuplicateTypeKind");var jE=ZO;_u.TypeSystemDuplicateTypeKind=jE;var eD=class eD extends Wp.TypeBoxError{constructor(t){super(`Duplicate string format '${t}' detected`)}};o(eD,"TypeSystemDuplicateFormat");var HE=eD;_u.TypeSystemDuplicateFormat=HE;var cW;(function(e){function t(n,s){if(Wp.TypeRegistry.Has(n))throw new jE(n);return Wp.TypeRegistry.Set(n,s),(a={})=>Wp.Type.Unsafe({...a,[Wp.Kind]:n})}o(t,"Type"),e.Type=t;function r(n,s){if(Wp.FormatRegistry.Has(n))throw new HE(n);return Wp.FormatRegistry.Set(n,s),n}o(r,"Format"),e.Format=r})(cW||(_u.TypeSystem=cW={}));var uW;(function(e){let t=JO;function r(){t=JO}o(r,"Reset"),e.Reset=r;function n(a){t=a}o(n,"Set"),e.Set=n;function s(){return t}o(s,"Get"),e.Get=s})(uW||(_u.TypeSystemErrorFunction=uW={}));var fW;(function(e){e.ExactOptionalPropertyTypes=!1,e.AllowArrayObject=!1,e.AllowNaN=!1,e.AllowNullVoid=!1;function t(l,c){return e.ExactOptionalPropertyTypes?c in l:l[c]!==void 0}o(t,"IsExactOptionalProperty"),e.IsExactOptionalProperty=t;function r(l){let c=(0,qE.IsObject)(l);return e.AllowArrayObject?c:c&&!(0,qE.IsArray)(l)}o(r,"IsObjectLike"),e.IsObjectLike=r;function n(l){return r(l)&&!(l instanceof Date)&&!(l instanceof Uint8Array)}o(n,"IsRecordLike"),e.IsRecordLike=n;function s(l){let c=(0,qE.IsNumber)(l);return e.AllowNaN?c:c&&Number.isFinite(l)}o(s,"IsNumberLike"),e.IsNumberLike=s;function a(l){let c=(0,qE.IsUndefined)(l);return e.AllowNullVoid?c||l===null:c}o(a,"IsVoidLike"),e.IsVoidLike=a})(fW||(_u.TypeSystemPolicy=fW={}));function JO(e,t){switch(t){case Gi.ValueErrorType.ArrayContains:return"Expected array to contain at least one matching value";case Gi.ValueErrorType.ArrayMaxContains:return`Expected array to contain no more than ${e.maxContains} matching values`;case Gi.ValueErrorType.ArrayMinContains:return`Expected array to contain at least ${e.minContains} matching values`;case Gi.ValueErrorType.ArrayMaxItems:return`Expected array length to be less or equal to ${e.maxItems}`;case Gi.ValueErrorType.ArrayMinItems:return`Expected array length to be greater or equal to ${e.minItems}`;case Gi.ValueErrorType.ArrayUniqueItems:return"Expected array elements to be unique";case Gi.ValueErrorType.Array:return"Expected array";case Gi.ValueErrorType.AsyncIterator:return"Expected AsyncIterator";case Gi.ValueErrorType.BigIntExclusiveMaximum:return`Expected bigint to be less than ${e.exclusiveMaximum}`;case Gi.ValueErrorType.BigIntExclusiveMinimum:return`Expected bigint to be greater than ${e.exclusiveMinimum}`;case Gi.ValueErrorType.BigIntMaximum:return`Expected bigint to be less or equal to ${e.maximum}`;case Gi.ValueErrorType.BigIntMinimum:return`Expected bigint to be greater or equal to ${e.minimum}`;case Gi.ValueErrorType.BigIntMultipleOf:return`Expected bigint to be a multiple of ${e.multipleOf}`;case Gi.ValueErrorType.BigInt:return"Expected bigint";case Gi.ValueErrorType.Boolean:return"Expected boolean";case Gi.ValueErrorType.DateExclusiveMinimumTimestamp:return`Expected Date timestamp to be greater than ${e.exclusiveMinimumTimestamp}`;case Gi.ValueErrorType.DateExclusiveMaximumTimestamp:return`Expected Date timestamp to be less than ${e.exclusiveMaximumTimestamp}`;case Gi.ValueErrorType.DateMinimumTimestamp:return`Expected Date timestamp to be greater or equal to ${e.minimumTimestamp}`;case Gi.ValueErrorType.DateMaximumTimestamp:return`Expected Date timestamp to be less or equal to ${e.maximumTimestamp}`;case Gi.ValueErrorType.DateMultipleOfTimestamp:return`Expected Date timestamp to be a multiple of ${e.multipleOfTimestamp}`;case Gi.ValueErrorType.Date:return"Expected Date";case Gi.ValueErrorType.Function:return"Expected function";case Gi.ValueErrorType.IntegerExclusiveMaximum:return`Expected integer to be less than ${e.exclusiveMaximum}`;case Gi.ValueErrorType.IntegerExclusiveMinimum:return`Expected integer to be greater than ${e.exclusiveMinimum}`;case Gi.ValueErrorType.IntegerMaximum:return`Expected integer to be less or equal to ${e.maximum}`;case Gi.ValueErrorType.IntegerMinimum:return`Expected integer to be greater or equal to ${e.minimum}`;case Gi.ValueErrorType.IntegerMultipleOf:return`Expected integer to be a multiple of ${e.multipleOf}`;case Gi.ValueErrorType.Integer:return"Expected integer";case Gi.ValueErrorType.IntersectUnevaluatedProperties:return"Unexpected property";case Gi.ValueErrorType.Intersect:return"Expected all values to match";case Gi.ValueErrorType.Iterator:return"Expected Iterator";case Gi.ValueErrorType.Literal:return`Expected ${typeof e.const=="string"?`'${e.const}'`:e.const}`;case Gi.ValueErrorType.Never:return"Never";case Gi.ValueErrorType.Not:return"Value should not match";case Gi.ValueErrorType.Null:return"Expected null";case Gi.ValueErrorType.NumberExclusiveMaximum:return`Expected number to be less than ${e.exclusiveMaximum}`;case Gi.ValueErrorType.NumberExclusiveMinimum:return`Expected number to be greater than ${e.exclusiveMinimum}`;case Gi.ValueErrorType.NumberMaximum:return`Expected number to be less or equal to ${e.maximum}`;case Gi.ValueErrorType.NumberMinimum:return`Expected number to be greater or equal to ${e.minimum}`;case Gi.ValueErrorType.NumberMultipleOf:return`Expected number to be a multiple of ${e.multipleOf}`;case Gi.ValueErrorType.Number:return"Expected number";case Gi.ValueErrorType.Object:return"Expected object";case Gi.ValueErrorType.ObjectAdditionalProperties:return"Unexpected property";case Gi.ValueErrorType.ObjectMaxProperties:return`Expected object to have no more than ${e.maxProperties} properties`;case Gi.ValueErrorType.ObjectMinProperties:return`Expected object to have at least ${e.minProperties} properties`;case Gi.ValueErrorType.ObjectRequiredProperty:return"Required property";case Gi.ValueErrorType.Promise:return"Expected Promise";case Gi.ValueErrorType.StringFormatUnknown:return`Unknown format '${e.format}'`;case Gi.ValueErrorType.StringFormat:return`Expected string to match '${e.format}' format`;case Gi.ValueErrorType.StringMaxLength:return`Expected string length less or equal to ${e.maxLength}`;case Gi.ValueErrorType.StringMinLength:return`Expected string length greater or equal to ${e.minLength}`;case Gi.ValueErrorType.StringPattern:return`Expected string to match '${e.pattern}'`;case Gi.ValueErrorType.String:return"Expected string";case Gi.ValueErrorType.Symbol:return"Expected symbol";case Gi.ValueErrorType.TupleLength:return`Expected tuple to have ${e.maxItems||0} elements`;case Gi.ValueErrorType.Tuple:return"Expected tuple";case Gi.ValueErrorType.Uint8ArrayMaxByteLength:return`Expected byte length less or equal to ${e.maxByteLength}`;case Gi.ValueErrorType.Uint8ArrayMinByteLength:return`Expected byte length greater or equal to ${e.minByteLength}`;case Gi.ValueErrorType.Uint8Array:return"Expected Uint8Array";case Gi.ValueErrorType.Undefined:return"Expected undefined";case Gi.ValueErrorType.Union:return"Expected union value";case Gi.ValueErrorType.Void:return"Expected void";case Gi.ValueErrorType.Kind:return`Expected kind '${e[Wp.Kind]}'`;default:return"Unknown error type"}}o(JO,"DefaultErrorFunction");_u.DefaultErrorFunction=JO});var D5=k(_8=>{"use strict";Object.defineProperty(_8,"__esModule",{value:!0});_8.Deref=_8.TypeDereferenceError=void 0;var _2e=vu(),rD=class rD extends _2e.TypeBoxError{constructor(t){super(`Unable to dereference schema with $id '${t.$id}'`),this.schema=t}};o(rD,"TypeDereferenceError");var $E=rD;_8.TypeDereferenceError=$E;function x2e(e,t){let r=t.findIndex(n=>n.$id===e.$ref);if(r===-1)throw new $E(e);return t[r]}o(x2e,"Deref");_8.Deref=x2e});var t7=k(L5=>{"use strict";Object.defineProperty(L5,"__esModule",{value:!0});L5.Hash=L5.ByteMarker=L5.ValueHashError=void 0;var vd=yu(),nD=class nD extends Error{constructor(t){super("Unable to hash value"),this.value=t}};o(nD,"ValueHashError");var VE=nD;L5.ValueHashError=VE;var qu;(function(e){e[e.Undefined=0]="Undefined",e[e.Null=1]="Null",e[e.Boolean=2]="Boolean",e[e.Number=3]="Number",e[e.String=4]="String",e[e.Object=5]="Object",e[e.Array=6]="Array",e[e.Date=7]="Date",e[e.Uint8Array=8]="Uint8Array",e[e.Symbol=9]="Symbol",e[e.BigInt=10]="BigInt"})(qu||(L5.ByteMarker=qu={}));var x8=BigInt("14695981039346656037"),[b2e,E2e]=[BigInt("1099511628211"),BigInt("2")**BigInt("64")],T2e=Array.from({length:256}).map((e,t)=>BigInt(t)),dW=new Float64Array(1),pW=new DataView(dW.buffer),hW=new Uint8Array(dW.buffer);function*C2e(e){let t=e===0?1:Math.ceil(Math.floor(Math.log2(e)+1)/8);for(let r=0;r<t;r++)yield e>>8*(t-1-r)&255}o(C2e,"NumberToBytes");function S2e(e){Sc(qu.Array);for(let t of e)b8(t)}o(S2e,"ArrayType");function I2e(e){Sc(qu.Boolean),Sc(e?1:0)}o(I2e,"BooleanType");function A2e(e){Sc(qu.BigInt),pW.setBigInt64(0,e);for(let t of hW)Sc(t)}o(A2e,"BigIntType");function w2e(e){Sc(qu.Date),b8(e.getTime())}o(w2e,"DateType");function R2e(e){Sc(qu.Null)}o(R2e,"NullType");function P2e(e){Sc(qu.Number),pW.setFloat64(0,e);for(let t of hW)Sc(t)}o(P2e,"NumberType");function N2e(e){Sc(qu.Object);for(let t of globalThis.Object.keys(e).sort())b8(t),b8(e[t])}o(N2e,"ObjectType");function O2e(e){Sc(qu.String);for(let t=0;t<e.length;t++)for(let r of C2e(e.charCodeAt(t)))Sc(r)}o(O2e,"StringType");function D2e(e){Sc(qu.Symbol),b8(e.description)}o(D2e,"SymbolType");function L2e(e){Sc(qu.Uint8Array);for(let t=0;t<e.length;t++)Sc(e[t])}o(L2e,"Uint8ArrayType");function k2e(e){return Sc(qu.Undefined)}o(k2e,"UndefinedType");function b8(e){if((0,vd.IsArray)(e))return S2e(e);if((0,vd.IsBoolean)(e))return I2e(e);if((0,vd.IsBigInt)(e))return A2e(e);if((0,vd.IsDate)(e))return w2e(e);if((0,vd.IsNull)(e))return R2e(e);if((0,vd.IsNumber)(e))return P2e(e);if((0,vd.IsPlainObject)(e))return N2e(e);if((0,vd.IsString)(e))return O2e(e);if((0,vd.IsSymbol)(e))return D2e(e);if((0,vd.IsUint8Array)(e))return L2e(e);if((0,vd.IsUndefined)(e))return k2e(e);throw new VE(e)}o(b8,"Visit");function Sc(e){x8=x8^T2e[e],x8=x8*b2e%E2e}o(Sc,"FNV1A64");function M2e(e){return x8=BigInt("14695981039346656037"),b8(e),x8}o(M2e,"Hash");L5.Hash=M2e});var e7=k(hf=>{"use strict";Object.defineProperty(hf,"__esModule",{value:!0});hf.Errors=hf.ValueErrorIterator=hf.EscapeKey=hf.ValueErrorsUnknownTypeError=hf.ValueErrorType=void 0;var nl=yu(),E8=tD(),mW=D5(),B2e=t7(),mf=vu(),Bi;(function(e){e[e.ArrayContains=0]="ArrayContains",e[e.ArrayMaxContains=1]="ArrayMaxContains",e[e.ArrayMaxItems=2]="ArrayMaxItems",e[e.ArrayMinContains=3]="ArrayMinContains",e[e.ArrayMinItems=4]="ArrayMinItems",e[e.ArrayUniqueItems=5]="ArrayUniqueItems",e[e.Array=6]="Array",e[e.AsyncIterator=7]="AsyncIterator",e[e.BigIntExclusiveMaximum=8]="BigIntExclusiveMaximum",e[e.BigIntExclusiveMinimum=9]="BigIntExclusiveMinimum",e[e.BigIntMaximum=10]="BigIntMaximum",e[e.BigIntMinimum=11]="BigIntMinimum",e[e.BigIntMultipleOf=12]="BigIntMultipleOf",e[e.BigInt=13]="BigInt",e[e.Boolean=14]="Boolean",e[e.DateExclusiveMaximumTimestamp=15]="DateExclusiveMaximumTimestamp",e[e.DateExclusiveMinimumTimestamp=16]="DateExclusiveMinimumTimestamp",e[e.DateMaximumTimestamp=17]="DateMaximumTimestamp",e[e.DateMinimumTimestamp=18]="DateMinimumTimestamp",e[e.DateMultipleOfTimestamp=19]="DateMultipleOfTimestamp",e[e.Date=20]="Date",e[e.Function=21]="Function",e[e.IntegerExclusiveMaximum=22]="IntegerExclusiveMaximum",e[e.IntegerExclusiveMinimum=23]="IntegerExclusiveMinimum",e[e.IntegerMaximum=24]="IntegerMaximum",e[e.IntegerMinimum=25]="IntegerMinimum",e[e.IntegerMultipleOf=26]="IntegerMultipleOf",e[e.Integer=27]="Integer",e[e.IntersectUnevaluatedProperties=28]="IntersectUnevaluatedProperties",e[e.Intersect=29]="Intersect",e[e.Iterator=30]="Iterator",e[e.Kind=31]="Kind",e[e.Literal=32]="Literal",e[e.Never=33]="Never",e[e.Not=34]="Not",e[e.Null=35]="Null",e[e.NumberExclusiveMaximum=36]="NumberExclusiveMaximum",e[e.NumberExclusiveMinimum=37]="NumberExclusiveMinimum",e[e.NumberMaximum=38]="NumberMaximum",e[e.NumberMinimum=39]="NumberMinimum",e[e.NumberMultipleOf=40]="NumberMultipleOf",e[e.Number=41]="Number",e[e.ObjectAdditionalProperties=42]="ObjectAdditionalProperties",e[e.ObjectMaxProperties=43]="ObjectMaxProperties",e[e.ObjectMinProperties=44]="ObjectMinProperties",e[e.ObjectRequiredProperty=45]="ObjectRequiredProperty",e[e.Object=46]="Object",e[e.Promise=47]="Promise",e[e.StringFormatUnknown=48]="StringFormatUnknown",e[e.StringFormat=49]="StringFormat",e[e.StringMaxLength=50]="StringMaxLength",e[e.StringMinLength=51]="StringMinLength",e[e.StringPattern=52]="StringPattern",e[e.String=53]="String",e[e.Symbol=54]="Symbol",e[e.TupleLength=55]="TupleLength",e[e.Tuple=56]="Tuple",e[e.Uint8ArrayMaxByteLength=57]="Uint8ArrayMaxByteLength",e[e.Uint8ArrayMinByteLength=58]="Uint8ArrayMinByteLength",e[e.Uint8Array=59]="Uint8Array",e[e.Undefined=60]="Undefined",e[e.Union=61]="Union",e[e.Void=62]="Void"})(Bi||(hf.ValueErrorType=Bi={}));var iD=class iD extends mf.TypeBoxError{constructor(t){super("Unknown type"),this.schema=t}};o(iD,"ValueErrorsUnknownTypeError");var GE=iD;hf.ValueErrorsUnknownTypeError=GE;function S1(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}o(S1,"EscapeKey");hf.EscapeKey=S1;function v0(e){return e!==void 0}o(v0,"IsDefined");var sD=class sD{constructor(t){this.iterator=t}[Symbol.iterator](){return this.iterator}First(){let t=this.iterator.next();return t.done?void 0:t.value}};o(sD,"ValueErrorIterator");var zE=sD;hf.ValueErrorIterator=zE;function qi(e,t,r,n){return{type:e,schema:t,path:r,value:n,message:E8.TypeSystemErrorFunction.Get()(t,e)}}o(qi,"Create");function*F2e(e,t,r,n){}o(F2e,"TAny");function*U2e(e,t,r,n){if(!(0,nl.IsArray)(n))return yield qi(Bi.Array,e,r,n);v0(e.minItems)&&!(n.length>=e.minItems)&&(yield qi(Bi.ArrayMinItems,e,r,n)),v0(e.maxItems)&&!(n.length<=e.maxItems)&&(yield qi(Bi.ArrayMaxItems,e,r,n));for(let l=0;l<n.length;l++)yield*rc(e.items,t,`${r}/${l}`,n[l]);if(e.uniqueItems===!0&&!function(){let l=new Set;for(let c of n){let u=(0,B2e.Hash)(c);if(l.has(u))return!1;l.add(u)}return!0}()&&(yield qi(Bi.ArrayUniqueItems,e,r,n)),!(v0(e.contains)||v0(e.minContains)||v0(e.maxContains)))return;let s=v0(e.contains)?e.contains:mf.Type.Never(),a=n.reduce((l,c,u)=>rc(s,t,`${r}${u}`,c).next().done===!0?l+1:l,0);a===0&&(yield qi(Bi.ArrayContains,e,r,n)),(0,nl.IsNumber)(e.minContains)&&a<e.minContains&&(yield qi(Bi.ArrayMinContains,e,r,n)),(0,nl.IsNumber)(e.maxContains)&&a>e.maxContains&&(yield qi(Bi.ArrayMaxContains,e,r,n))}o(U2e,"TArray");function*q2e(e,t,r,n){(0,nl.IsAsyncIterator)(n)||(yield qi(Bi.AsyncIterator,e,r,n))}o(q2e,"TAsyncIterator");function*j2e(e,t,r,n){if(!(0,nl.IsBigInt)(n))return yield qi(Bi.BigInt,e,r,n);v0(e.exclusiveMaximum)&&!(n<e.exclusiveMaximum)&&(yield qi(Bi.BigIntExclusiveMaximum,e,r,n)),v0(e.exclusiveMinimum)&&!(n>e.exclusiveMinimum)&&(yield qi(Bi.BigIntExclusiveMinimum,e,r,n)),v0(e.maximum)&&!(n<=e.maximum)&&(yield qi(Bi.BigIntMaximum,e,r,n)),v0(e.minimum)&&!(n>=e.minimum)&&(yield qi(Bi.BigIntMinimum,e,r,n)),v0(e.multipleOf)&&n%e.multipleOf!==BigInt(0)&&(yield qi(Bi.BigIntMultipleOf,e,r,n))}o(j2e,"TBigInt");function*H2e(e,t,r,n){(0,nl.IsBoolean)(n)||(yield qi(Bi.Boolean,e,r,n))}o(H2e,"TBoolean");function*$2e(e,t,r,n){yield*rc(e.returns,t,r,n.prototype)}o($2e,"TConstructor");function*V2e(e,t,r,n){if(!(0,nl.IsDate)(n))return yield qi(Bi.Date,e,r,n);v0(e.exclusiveMaximumTimestamp)&&!(n.getTime()<e.exclusiveMaximumTimestamp)&&(yield qi(Bi.DateExclusiveMaximumTimestamp,e,r,n)),v0(e.exclusiveMinimumTimestamp)&&!(n.getTime()>e.exclusiveMinimumTimestamp)&&(yield qi(Bi.DateExclusiveMinimumTimestamp,e,r,n)),v0(e.maximumTimestamp)&&!(n.getTime()<=e.maximumTimestamp)&&(yield qi(Bi.DateMaximumTimestamp,e,r,n)),v0(e.minimumTimestamp)&&!(n.getTime()>=e.minimumTimestamp)&&(yield qi(Bi.DateMinimumTimestamp,e,r,n)),v0(e.multipleOfTimestamp)&&n.getTime()%e.multipleOfTimestamp!==0&&(yield qi(Bi.DateMultipleOfTimestamp,e,r,n))}o(V2e,"TDate");function*G2e(e,t,r,n){(0,nl.IsFunction)(n)||(yield qi(Bi.Function,e,r,n))}o(G2e,"TFunction");function*z2e(e,t,r,n){if(!(0,nl.IsInteger)(n))return yield qi(Bi.Integer,e,r,n);v0(e.exclusiveMaximum)&&!(n<e.exclusiveMaximum)&&(yield qi(Bi.IntegerExclusiveMaximum,e,r,n)),v0(e.exclusiveMinimum)&&!(n>e.exclusiveMinimum)&&(yield qi(Bi.IntegerExclusiveMinimum,e,r,n)),v0(e.maximum)&&!(n<=e.maximum)&&(yield qi(Bi.IntegerMaximum,e,r,n)),v0(e.minimum)&&!(n>=e.minimum)&&(yield qi(Bi.IntegerMinimum,e,r,n)),v0(e.multipleOf)&&n%e.multipleOf!==0&&(yield qi(Bi.IntegerMultipleOf,e,r,n))}o(z2e,"TInteger");function*K2e(e,t,r,n){for(let s of e.allOf){let a=rc(s,t,r,n).next();a.done||(yield qi(Bi.Intersect,e,r,n),yield a.value)}if(e.unevaluatedProperties===!1){let s=new RegExp(mf.KeyResolver.ResolvePattern(e));for(let a of Object.getOwnPropertyNames(n))s.test(a)||(yield qi(Bi.IntersectUnevaluatedProperties,e,`${r}/${a}`,n))}if(typeof e.unevaluatedProperties=="object"){let s=new RegExp(mf.KeyResolver.ResolvePattern(e));for(let a of Object.getOwnPropertyNames(n))if(!s.test(a)){let l=rc(e.unevaluatedProperties,t,`${r}/${a}`,n[a]).next();l.done||(yield l.value)}}}o(K2e,"TIntersect");function*W2e(e,t,r,n){(0,nl.IsIterator)(n)||(yield qi(Bi.Iterator,e,r,n))}o(W2e,"TIterator");function*Y2e(e,t,r,n){n!==e.const&&(yield qi(Bi.Literal,e,r,n))}o(Y2e,"TLiteral");function*X2e(e,t,r,n){yield qi(Bi.Never,e,r,n)}o(X2e,"TNever");function*Q2e(e,t,r,n){rc(e.not,t,r,n).next().done===!0&&(yield qi(Bi.Not,e,r,n))}o(Q2e,"TNot");function*J2e(e,t,r,n){(0,nl.IsNull)(n)||(yield qi(Bi.Null,e,r,n))}o(J2e,"TNull");function*Z2e(e,t,r,n){if(!E8.TypeSystemPolicy.IsNumberLike(n))return yield qi(Bi.Number,e,r,n);v0(e.exclusiveMaximum)&&!(n<e.exclusiveMaximum)&&(yield qi(Bi.NumberExclusiveMaximum,e,r,n)),v0(e.exclusiveMinimum)&&!(n>e.exclusiveMinimum)&&(yield qi(Bi.NumberExclusiveMinimum,e,r,n)),v0(e.maximum)&&!(n<=e.maximum)&&(yield qi(Bi.NumberMaximum,e,r,n)),v0(e.minimum)&&!(n>=e.minimum)&&(yield qi(Bi.NumberMinimum,e,r,n)),v0(e.multipleOf)&&n%e.multipleOf!==0&&(yield qi(Bi.NumberMultipleOf,e,r,n))}o(Z2e,"TNumber");function*eme(e,t,r,n){if(!E8.TypeSystemPolicy.IsObjectLike(n))return yield qi(Bi.Object,e,r,n);v0(e.minProperties)&&!(Object.getOwnPropertyNames(n).length>=e.minProperties)&&(yield qi(Bi.ObjectMinProperties,e,r,n)),v0(e.maxProperties)&&!(Object.getOwnPropertyNames(n).length<=e.maxProperties)&&(yield qi(Bi.ObjectMaxProperties,e,r,n));let s=Array.isArray(e.required)?e.required:[],a=Object.getOwnPropertyNames(e.properties),l=Object.getOwnPropertyNames(n);for(let c of s)l.includes(c)||(yield qi(Bi.ObjectRequiredProperty,e.properties[c],`${r}/${S1(c)}`,void 0));if(e.additionalProperties===!1)for(let c of l)a.includes(c)||(yield qi(Bi.ObjectAdditionalProperties,e,`${r}/${S1(c)}`,n[c]));if(typeof e.additionalProperties=="object")for(let c of l)a.includes(c)||(yield*rc(e.additionalProperties,t,`${r}/${S1(c)}`,n[c]));for(let c of a){let u=e.properties[c];e.required&&e.required.includes(c)?(yield*rc(u,t,`${r}/${S1(c)}`,n[c]),mf.ExtendsUndefined.Check(e)&&!(c in n)&&(yield qi(Bi.ObjectRequiredProperty,u,`${r}/${S1(c)}`,void 0))):E8.TypeSystemPolicy.IsExactOptionalProperty(n,c)&&(yield*rc(u,t,`${r}/${S1(c)}`,n[c]))}}o(eme,"TObject");function*tme(e,t,r,n){(0,nl.IsPromise)(n)||(yield qi(Bi.Promise,e,r,n))}o(tme,"TPromise");function*rme(e,t,r,n){if(!E8.TypeSystemPolicy.IsRecordLike(n))return yield qi(Bi.Object,e,r,n);v0(e.minProperties)&&!(Object.getOwnPropertyNames(n).length>=e.minProperties)&&(yield qi(Bi.ObjectMinProperties,e,r,n)),v0(e.maxProperties)&&!(Object.getOwnPropertyNames(n).length<=e.maxProperties)&&(yield qi(Bi.ObjectMaxProperties,e,r,n));let[s,a]=Object.entries(e.patternProperties)[0],l=new RegExp(s);for(let[c,u]of Object.entries(n))l.test(c)&&(yield*rc(a,t,`${r}/${S1(c)}`,u));if(typeof e.additionalProperties=="object")for(let[c,u]of Object.entries(n))l.test(c)||(yield*rc(e.additionalProperties,t,`${r}/${S1(c)}`,u));if(e.additionalProperties===!1){for(let[c,u]of Object.entries(n))if(!l.test(c))return yield qi(Bi.ObjectAdditionalProperties,e,`${r}/${S1(c)}`,u)}}o(rme,"TRecord");function*nme(e,t,r,n){yield*rc((0,mW.Deref)(e,t),t,r,n)}o(nme,"TRef");function*ime(e,t,r,n){if(!(0,nl.IsString)(n))return yield qi(Bi.String,e,r,n);v0(e.minLength)&&!(n.length>=e.minLength)&&(yield qi(Bi.StringMinLength,e,r,n)),v0(e.maxLength)&&!(n.length<=e.maxLength)&&(yield qi(Bi.StringMaxLength,e,r,n)),(0,nl.IsString)(e.pattern)&&(new RegExp(e.pattern).test(n)||(yield qi(Bi.StringPattern,e,r,n))),(0,nl.IsString)(e.format)&&(mf.FormatRegistry.Has(e.format)?mf.FormatRegistry.Get(e.format)(n)||(yield qi(Bi.StringFormat,e,r,n)):yield qi(Bi.StringFormatUnknown,e,r,n))}o(ime,"TString");function*sme(e,t,r,n){(0,nl.IsSymbol)(n)||(yield qi(Bi.Symbol,e,r,n))}o(sme,"TSymbol");function*ame(e,t,r,n){if(!(0,nl.IsString)(n))return yield qi(Bi.String,e,r,n);new RegExp(e.pattern).test(n)||(yield qi(Bi.StringPattern,e,r,n))}o(ame,"TTemplateLiteral");function*ome(e,t,r,n){yield*rc((0,mW.Deref)(e,t),t,r,n)}o(ome,"TThis");function*lme(e,t,r,n){if(!(0,nl.IsArray)(n))return yield qi(Bi.Tuple,e,r,n);if(e.items===void 0&&n.length!==0)return yield qi(Bi.TupleLength,e,r,n);if(n.length!==e.maxItems)return yield qi(Bi.TupleLength,e,r,n);if(e.items)for(let s=0;s<e.items.length;s++)yield*rc(e.items[s],t,`${r}/${s}`,n[s])}o(lme,"TTuple");function*cme(e,t,r,n){(0,nl.IsUndefined)(n)||(yield qi(Bi.Undefined,e,r,n))}o(cme,"TUndefined");function*ume(e,t,r,n){let s=0;for(let a of e.anyOf){let l=[...rc(a,t,r,n)];if(l.length===0)return;s+=l.length}s>0&&(yield qi(Bi.Union,e,r,n))}o(ume,"TUnion");function*fme(e,t,r,n){if(!(0,nl.IsUint8Array)(n))return yield qi(Bi.Uint8Array,e,r,n);v0(e.maxByteLength)&&!(n.length<=e.maxByteLength)&&(yield qi(Bi.Uint8ArrayMaxByteLength,e,r,n)),v0(e.minByteLength)&&!(n.length>=e.minByteLength)&&(yield qi(Bi.Uint8ArrayMinByteLength,e,r,n))}o(fme,"TUint8Array");function*dme(e,t,r,n){}o(dme,"TUnknown");function*pme(e,t,r,n){E8.TypeSystemPolicy.IsVoidLike(n)||(yield qi(Bi.Void,e,r,n))}o(pme,"TVoid");function*hme(e,t,r,n){mf.TypeRegistry.Get(e[mf.Kind])(e,n)||(yield qi(Bi.Kind,e,r,n))}o(hme,"TKind");function*rc(e,t,r,n){let s=v0(e.$id)?[...t,e]:t,a=e;switch(a[mf.Kind]){case"Any":return yield*F2e(a,s,r,n);case"Array":return yield*U2e(a,s,r,n);case"AsyncIterator":return yield*q2e(a,s,r,n);case"BigInt":return yield*j2e(a,s,r,n);case"Boolean":return yield*H2e(a,s,r,n);case"Constructor":return yield*$2e(a,s,r,n);case"Date":return yield*V2e(a,s,r,n);case"Function":return yield*G2e(a,s,r,n);case"Integer":return yield*z2e(a,s,r,n);case"Intersect":return yield*K2e(a,s,r,n);case"Iterator":return yield*W2e(a,s,r,n);case"Literal":return yield*Y2e(a,s,r,n);case"Never":return yield*X2e(a,s,r,n);case"Not":return yield*Q2e(a,s,r,n);case"Null":return yield*J2e(a,s,r,n);case"Number":return yield*Z2e(a,s,r,n);case"Object":return yield*eme(a,s,r,n);case"Promise":return yield*tme(a,s,r,n);case"Record":return yield*rme(a,s,r,n);case"Ref":return yield*nme(a,s,r,n);case"String":return yield*ime(a,s,r,n);case"Symbol":return yield*sme(a,s,r,n);case"TemplateLiteral":return yield*ame(a,s,r,n);case"This":return yield*ome(a,s,r,n);case"Tuple":return yield*lme(a,s,r,n);case"Undefined":return yield*cme(a,s,r,n);case"Union":return yield*ume(a,s,r,n);case"Uint8Array":return yield*fme(a,s,r,n);case"Unknown":return yield*dme(a,s,r,n);case"Void":return yield*pme(a,s,r,n);default:if(!mf.TypeRegistry.Has(a[mf.Kind]))throw new GE(e);return yield*hme(a,s,r,n)}}o(rc,"Visit");function mme(...e){let t=e.length===3?rc(e[0],e[1],"",e[2]):rc(e[0],[],"",e[1]);return new zE(t)}o(mme,"Errors");hf.Errors=mme});var KE=k(cm=>{"use strict";var gme=cm&&cm.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),vme=cm&&cm.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&gme(t,e,r)};Object.defineProperty(cm,"__esModule",{value:!0});vme(e7(),cm)});var WE=k(Yp=>{"use strict";var yme=Yp&&Yp.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),_me=Yp&&Yp.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&yme(t,e,r)};Object.defineProperty(Yp,"__esModule",{value:!0});Yp.ValueErrorType=void 0;var xme=e7();Object.defineProperty(Yp,"ValueErrorType",{enumerable:!0,get:function(){return xme.ValueErrorType}});_me(tD(),Yp)});var C8=k(T8=>{"use strict";Object.defineProperty(T8,"__esModule",{value:!0});T8.Check=T8.ValueCheckUnknownTypeError=void 0;var il=yu(),r7=WE(),gW=D5(),bme=t7(),nc=vu(),aD=class aD extends nc.TypeBoxError{constructor(t){super("Unknown type"),this.schema=t}};o(aD,"ValueCheckUnknownTypeError");var YE=aD;T8.ValueCheckUnknownTypeError=YE;function Eme(e){return e[nc.Kind]==="Any"||e[nc.Kind]==="Unknown"}o(Eme,"IsAnyOrUnknown");function y0(e){return e!==void 0}o(y0,"IsDefined");function Tme(e,t,r){return!0}o(Tme,"TAny");function Cme(e,t,r){if(!(0,il.IsArray)(r)||y0(e.minItems)&&!(r.length>=e.minItems)||y0(e.maxItems)&&!(r.length<=e.maxItems)||!r.every(a=>ic(e.items,t,a))||e.uniqueItems===!0&&!function(){let a=new Set;for(let l of r){let c=(0,bme.Hash)(l);if(a.has(c))return!1;a.add(c)}return!0}())return!1;if(!(y0(e.contains)||(0,il.IsNumber)(e.minContains)||(0,il.IsNumber)(e.maxContains)))return!0;let n=y0(e.contains)?e.contains:nc.Type.Never(),s=r.reduce((a,l)=>ic(n,t,l)?a+1:a,0);return!(s===0||(0,il.IsNumber)(e.minContains)&&s<e.minContains||(0,il.IsNumber)(e.maxContains)&&s>e.maxContains)}o(Cme,"TArray");function Sme(e,t,r){return(0,il.IsAsyncIterator)(r)}o(Sme,"TAsyncIterator");function Ime(e,t,r){return!(!(0,il.IsBigInt)(r)||y0(e.exclusiveMaximum)&&!(r<e.exclusiveMaximum)||y0(e.exclusiveMinimum)&&!(r>e.exclusiveMinimum)||y0(e.maximum)&&!(r<=e.maximum)||y0(e.minimum)&&!(r>=e.minimum)||y0(e.multipleOf)&&r%e.multipleOf!==BigInt(0))}o(Ime,"TBigInt");function Ame(e,t,r){return(0,il.IsBoolean)(r)}o(Ame,"TBoolean");function wme(e,t,r){return ic(e.returns,t,r.prototype)}o(wme,"TConstructor");function Rme(e,t,r){return!(!(0,il.IsDate)(r)||y0(e.exclusiveMaximumTimestamp)&&!(r.getTime()<e.exclusiveMaximumTimestamp)||y0(e.exclusiveMinimumTimestamp)&&!(r.getTime()>e.exclusiveMinimumTimestamp)||y0(e.maximumTimestamp)&&!(r.getTime()<=e.maximumTimestamp)||y0(e.minimumTimestamp)&&!(r.getTime()>=e.minimumTimestamp)||y0(e.multipleOfTimestamp)&&r.getTime()%e.multipleOfTimestamp!==0)}o(Rme,"TDate");function Pme(e,t,r){return(0,il.IsFunction)(r)}o(Pme,"TFunction");function Nme(e,t,r){return!(!(0,il.IsInteger)(r)||y0(e.exclusiveMaximum)&&!(r<e.exclusiveMaximum)||y0(e.exclusiveMinimum)&&!(r>e.exclusiveMinimum)||y0(e.maximum)&&!(r<=e.maximum)||y0(e.minimum)&&!(r>=e.minimum)||y0(e.multipleOf)&&r%e.multipleOf!==0)}o(Nme,"TInteger");function Ome(e,t,r){let n=e.allOf.every(s=>ic(s,t,r));if(e.unevaluatedProperties===!1){let s=new RegExp(nc.KeyResolver.ResolvePattern(e)),a=Object.getOwnPropertyNames(r).every(l=>s.test(l));return n&&a}else if(nc.TypeGuard.TSchema(e.unevaluatedProperties)){let s=new RegExp(nc.KeyResolver.ResolvePattern(e)),a=Object.getOwnPropertyNames(r).every(l=>s.test(l)||ic(e.unevaluatedProperties,t,r[l]));return n&&a}else return n}o(Ome,"TIntersect");function Dme(e,t,r){return(0,il.IsIterator)(r)}o(Dme,"TIterator");function Lme(e,t,r){return r===e.const}o(Lme,"TLiteral");function kme(e,t,r){return!1}o(kme,"TNever");function Mme(e,t,r){return!ic(e.not,t,r)}o(Mme,"TNot");function Bme(e,t,r){return(0,il.IsNull)(r)}o(Bme,"TNull");function Fme(e,t,r){return!(!r7.TypeSystemPolicy.IsNumberLike(r)||y0(e.exclusiveMaximum)&&!(r<e.exclusiveMaximum)||y0(e.exclusiveMinimum)&&!(r>e.exclusiveMinimum)||y0(e.minimum)&&!(r>=e.minimum)||y0(e.maximum)&&!(r<=e.maximum)||y0(e.multipleOf)&&r%e.multipleOf!==0)}o(Fme,"TNumber");function Ume(e,t,r){if(!r7.TypeSystemPolicy.IsObjectLike(r)||y0(e.minProperties)&&!(Object.getOwnPropertyNames(r).length>=e.minProperties)||y0(e.maxProperties)&&!(Object.getOwnPropertyNames(r).length<=e.maxProperties))return!1;let n=Object.getOwnPropertyNames(e.properties);for(let s of n){let a=e.properties[s];if(e.required&&e.required.includes(s)){if(!ic(a,t,r[s])||(nc.ExtendsUndefined.Check(a)||Eme(a))&&!(s in r))return!1}else if(r7.TypeSystemPolicy.IsExactOptionalProperty(r,s)&&!ic(a,t,r[s]))return!1}if(e.additionalProperties===!1){let s=Object.getOwnPropertyNames(r);return e.required&&e.required.length===n.length&&s.length===n.length?!0:s.every(a=>n.includes(a))}else return typeof e.additionalProperties=="object"?Object.getOwnPropertyNames(r).every(a=>n.includes(a)||ic(e.additionalProperties,t,r[a])):!0}o(Ume,"TObject");function qme(e,t,r){return(0,il.IsPromise)(r)}o(qme,"TPromise");function jme(e,t,r){if(!r7.TypeSystemPolicy.IsRecordLike(r)||y0(e.minProperties)&&!(Object.getOwnPropertyNames(r).length>=e.minProperties)||y0(e.maxProperties)&&!(Object.getOwnPropertyNames(r).length<=e.maxProperties))return!1;let[n,s]=Object.entries(e.patternProperties)[0],a=new RegExp(n),l=Object.entries(r).every(([f,d])=>a.test(f)?ic(s,t,d):!0),c=typeof e.additionalProperties=="object"?Object.entries(r).every(([f,d])=>a.test(f)?!0:ic(e.additionalProperties,t,d)):!0,u=e.additionalProperties===!1?Object.getOwnPropertyNames(r).every(f=>a.test(f)):!0;return l&&c&&u}o(jme,"TRecord");function Hme(e,t,r){return ic((0,gW.Deref)(e,t),t,r)}o(Hme,"TRef");function $me(e,t,r){return!(0,il.IsString)(r)||y0(e.minLength)&&!(r.length>=e.minLength)||y0(e.maxLength)&&!(r.length<=e.maxLength)||y0(e.pattern)&&!new RegExp(e.pattern).test(r)?!1:y0(e.format)?nc.FormatRegistry.Has(e.format)?nc.FormatRegistry.Get(e.format)(r):!1:!0}o($me,"TString");function Vme(e,t,r){return(0,il.IsSymbol)(r)}o(Vme,"TSymbol");function Gme(e,t,r){return(0,il.IsString)(r)&&new RegExp(e.pattern).test(r)}o(Gme,"TTemplateLiteral");function zme(e,t,r){return ic((0,gW.Deref)(e,t),t,r)}o(zme,"TThis");function Kme(e,t,r){if(!(0,il.IsArray)(r)||e.items===void 0&&r.length!==0||r.length!==e.maxItems)return!1;if(!e.items)return!0;for(let n=0;n<e.items.length;n++)if(!ic(e.items[n],t,r[n]))return!1;return!0}o(Kme,"TTuple");function Wme(e,t,r){return(0,il.IsUndefined)(r)}o(Wme,"TUndefined");function Yme(e,t,r){return e.anyOf.some(n=>ic(n,t,r))}o(Yme,"TUnion");function Xme(e,t,r){return!(!(0,il.IsUint8Array)(r)||y0(e.maxByteLength)&&!(r.length<=e.maxByteLength)||y0(e.minByteLength)&&!(r.length>=e.minByteLength))}o(Xme,"TUint8Array");function Qme(e,t,r){return!0}o(Qme,"TUnknown");function Jme(e,t,r){return r7.TypeSystemPolicy.IsVoidLike(r)}o(Jme,"TVoid");function Zme(e,t,r){return nc.TypeRegistry.Has(e[nc.Kind])?nc.TypeRegistry.Get(e[nc.Kind])(e,r):!1}o(Zme,"TKind");function ic(e,t,r){let n=y0(e.$id)?[...t,e]:t,s=e;switch(s[nc.Kind]){case"Any":return Tme(s,n,r);case"Array":return Cme(s,n,r);case"AsyncIterator":return Sme(s,n,r);case"BigInt":return Ime(s,n,r);case"Boolean":return Ame(s,n,r);case"Constructor":return wme(s,n,r);case"Date":return Rme(s,n,r);case"Function":return Pme(s,n,r);case"Integer":return Nme(s,n,r);case"Intersect":return Ome(s,n,r);case"Iterator":return Dme(s,n,r);case"Literal":return Lme(s,n,r);case"Never":return kme(s,n,r);case"Not":return Mme(s,n,r);case"Null":return Bme(s,n,r);case"Number":return Fme(s,n,r);case"Object":return Ume(s,n,r);case"Promise":return qme(s,n,r);case"Record":return jme(s,n,r);case"Ref":return Hme(s,n,r);case"String":return $me(s,n,r);case"Symbol":return Vme(s,n,r);case"TemplateLiteral":return Gme(s,n,r);case"This":return zme(s,n,r);case"Tuple":return Kme(s,n,r);case"Undefined":return Wme(s,n,r);case"Union":return Yme(s,n,r);case"Uint8Array":return Xme(s,n,r);case"Unknown":return Qme(s,n,r);case"Void":return Jme(s,n,r);default:if(!nc.TypeRegistry.Has(s[nc.Kind]))throw new YE(s);return Zme(s,n,r)}}o(ic,"Visit");function ege(...e){return e.length===3?ic(e[0],e[1],e[2]):ic(e[0],[],e[1])}o(ege,"Check");T8.Check=ege});var hD=k(Ic=>{"use strict";Object.defineProperty(Ic,"__esModule",{value:!0});Ic.EncodeTransform=Ic.DecodeTransform=Ic.HasTransform=Ic.TransformEncodeError=Ic.TransformDecodeError=Ic.TransformEncodeCheckError=Ic.TransformDecodeCheckError=void 0;var zc=yu(),S8=D5(),oD=C8(),zs=vu(),uD=class uD extends zs.TypeBoxError{constructor(t,r,n){super("Unable to decode due to invalid value"),this.schema=t,this.value=r,this.error=n}};o(uD,"TransformDecodeCheckError");var lD=uD;Ic.TransformDecodeCheckError=lD;var fD=class fD extends zs.TypeBoxError{constructor(t,r,n){super("Unable to encode due to invalid value"),this.schema=t,this.value=r,this.error=n}};o(fD,"TransformEncodeCheckError");var cD=fD;Ic.TransformEncodeCheckError=cD;var dD=class dD extends zs.TypeBoxError{constructor(t,r,n){super(`${n instanceof Error?n.message:"Unknown error"}`),this.schema=t,this.value=r}};o(dD,"TransformDecodeError");var XE=dD;Ic.TransformDecodeError=XE;var pD=class pD extends zs.TypeBoxError{constructor(t,r,n){super(`${n instanceof Error?n.message:"Unknown error"}`),this.schema=t,this.value=r}};o(pD,"TransformEncodeError");var QE=pD;Ic.TransformEncodeError=QE;var vW;(function(e){function t(A,O){return zs.TypeGuard.TTransform(A)||_(A.items,O)}o(t,"TArray");function r(A,O){return zs.TypeGuard.TTransform(A)||_(A.items,O)}o(r,"TAsyncIterator");function n(A,O){return zs.TypeGuard.TTransform(A)||_(A.returns,O)||A.parameters.some(L=>_(L,O))}o(n,"TConstructor");function s(A,O){return zs.TypeGuard.TTransform(A)||_(A.returns,O)||A.parameters.some(L=>_(L,O))}o(s,"TFunction");function a(A,O){return zs.TypeGuard.TTransform(A)||zs.TypeGuard.TTransform(A.unevaluatedProperties)||A.allOf.some(L=>_(L,O))}o(a,"TIntersect");function l(A,O){return zs.TypeGuard.TTransform(A)||_(A.items,O)}o(l,"TIterator");function c(A,O){return zs.TypeGuard.TTransform(A)||_(A.not,O)}o(c,"TNot");function u(A,O){return zs.TypeGuard.TTransform(A)||Object.values(A.properties).some(L=>_(L,O))||zs.TypeGuard.TSchema(A.additionalProperties)&&_(A.additionalProperties,O)}o(u,"TObject");function f(A,O){return zs.TypeGuard.TTransform(A)||_(A.item,O)}o(f,"TPromise");function d(A,O){let L=Object.getOwnPropertyNames(A.patternProperties)[0],D=A.patternProperties[L];return zs.TypeGuard.TTransform(A)||_(D,O)||zs.TypeGuard.TSchema(A.additionalProperties)&&zs.TypeGuard.TTransform(A.additionalProperties)}o(d,"TRecord");function p(A,O){return zs.TypeGuard.TTransform(A)?!0:_((0,S8.Deref)(A,O),O)}o(p,"TRef");function h(A,O){return zs.TypeGuard.TTransform(A)?!0:_((0,S8.Deref)(A,O),O)}o(h,"TThis");function m(A,O){return zs.TypeGuard.TTransform(A)||!(0,zc.IsUndefined)(A.items)&&A.items.some(L=>_(L,O))}o(m,"TTuple");function v(A,O){return zs.TypeGuard.TTransform(A)||A.anyOf.some(L=>_(L,O))}o(v,"TUnion");function _(A,O){let L=(0,zc.IsString)(A.$id)?[...O,A]:O,D=A;if(A.$id&&b.has(A.$id))return!1;switch(A.$id&&b.add(A.$id),A[zs.Kind]){case"Array":return t(D,L);case"AsyncIterator":return r(D,L);case"Constructor":return n(D,L);case"Function":return s(D,L);case"Intersect":return a(D,L);case"Iterator":return l(D,L);case"Not":return c(D,L);case"Object":return u(D,L);case"Promise":return f(D,L);case"Record":return d(D,L);case"Ref":return p(D,L);case"This":return h(D,L);case"Tuple":return m(D,L);case"Union":return v(D,L);default:return zs.TypeGuard.TTransform(A)}}o(_,"Visit");let b=new Set;function S(A,O){return b.clear(),_(A,O)}o(S,"Has"),e.Has=S})(vW||(Ic.HasTransform=vW={}));var yW;(function(e){function t(m,v){try{return zs.TypeGuard.TTransform(m)?m[zs.Transform].Decode(v):v}catch(_){throw new XE(m,v,_)}}o(t,"Default");function r(m,v,_){return(0,zc.IsArray)(_)?t(m,_.map(b=>p(m.items,v,b))):t(m,_)}o(r,"TArray");function n(m,v,_){if(!(0,zc.IsPlainObject)(_)||(0,zc.IsValueType)(_))return t(m,_);let b=zs.KeyResolver.ResolveKeys(m,{includePatterns:!1}),S=b.reduce((D,$)=>$ in D?{...D,[$]:p(zs.IndexedAccessor.Resolve(m,[$]),v,D[$])}:D,_);if(!zs.TypeGuard.TTransform(m.unevaluatedProperties))return t(m,S);let A=Object.getOwnPropertyNames(S),O=m.unevaluatedProperties,L=A.reduce((D,$)=>b.includes($)?D:{...D,[$]:t(O,D[$])},S);return t(m,L)}o(n,"TIntersect");function s(m,v,_){return t(m,p(m.not,v,_))}o(s,"TNot");function a(m,v,_){if(!(0,zc.IsPlainObject)(_))return t(m,_);let b=zs.KeyResolver.ResolveKeys(m,{includePatterns:!1}),S=b.reduce((D,$)=>$ in D?{...D,[$]:p(m.properties[$],v,D[$])}:D,_);if(!zs.TypeGuard.TSchema(m.additionalProperties))return t(m,S);let A=Object.getOwnPropertyNames(S),O=m.additionalProperties,L=A.reduce((D,$)=>b.includes($)?D:{...D,[$]:t(O,D[$])},S);return t(m,L)}o(a,"TObject");function l(m,v,_){if(!(0,zc.IsPlainObject)(_))return t(m,_);let b=Object.getOwnPropertyNames(m.patternProperties)[0],S=new RegExp(b),A=Object.getOwnPropertyNames(_).reduce(($,de)=>S.test(de)?{...$,[de]:p(m.patternProperties[b],v,$[de])}:$,_);if(!zs.TypeGuard.TSchema(m.additionalProperties))return t(m,A);let O=Object.getOwnPropertyNames(A),L=m.additionalProperties,D=O.reduce(($,de)=>S.test(de)?$:{...$,[de]:t(L,$[de])},A);return t(m,D)}o(l,"TRecord");function c(m,v,_){let b=(0,S8.Deref)(m,v);return t(m,p(b,v,_))}o(c,"TRef");function u(m,v,_){let b=(0,S8.Deref)(m,v);return t(m,p(b,v,_))}o(u,"TThis");function f(m,v,_){return(0,zc.IsArray)(_)&&(0,zc.IsArray)(m.items)?t(m,m.items.map((b,S)=>p(b,v,_[S]))):t(m,_)}o(f,"TTuple");function d(m,v,_){let b=t(m,_);for(let S of m.anyOf)if((0,oD.Check)(S,v,b))return p(S,v,b);return b}o(d,"TUnion");function p(m,v,_){let b=typeof m.$id=="string"?[...v,m]:v,S=m;switch(m[zs.Kind]){case"Array":return r(S,b,_);case"Intersect":return n(S,b,_);case"Not":return s(S,b,_);case"Object":return a(S,b,_);case"Record":return l(S,b,_);case"Ref":return c(S,b,_);case"Symbol":return t(S,_);case"This":return u(S,b,_);case"Tuple":return f(S,b,_);case"Union":return d(S,b,_);default:return t(S,_)}}o(p,"Visit");function h(m,v,_){return p(m,v,_)}o(h,"Decode"),e.Decode=h})(yW||(Ic.DecodeTransform=yW={}));var _W;(function(e){function t(m,v){try{return zs.TypeGuard.TTransform(m)?m[zs.Transform].Encode(v):v}catch(_){throw new QE(m,v,_)}}o(t,"Default");function r(m,v,_){let b=t(m,_);return(0,zc.IsArray)(b)?b.map(S=>p(m.items,v,S)):b}o(r,"TArray");function n(m,v,_){let b=t(m,_);if(!(0,zc.IsPlainObject)(_)||(0,zc.IsValueType)(_))return b;let S=zs.KeyResolver.ResolveKeys(m,{includePatterns:!1}),A=S.reduce((D,$)=>$ in b?{...D,[$]:p(zs.IndexedAccessor.Resolve(m,[$]),v,D[$])}:D,b);if(!zs.TypeGuard.TTransform(m.unevaluatedProperties))return t(m,A);let O=Object.getOwnPropertyNames(A),L=m.unevaluatedProperties;return O.reduce((D,$)=>S.includes($)?D:{...D,[$]:t(L,D[$])},A)}o(n,"TIntersect");function s(m,v,_){return t(m.not,t(m,_))}o(s,"TNot");function a(m,v,_){let b=t(m,_);if(!(0,zc.IsPlainObject)(_))return b;let S=zs.KeyResolver.ResolveKeys(m,{includePatterns:!1}),A=S.reduce((D,$)=>$ in D?{...D,[$]:p(m.properties[$],v,D[$])}:D,b);if(!zs.TypeGuard.TSchema(m.additionalProperties))return A;let O=Object.getOwnPropertyNames(A),L=m.additionalProperties;return O.reduce((D,$)=>S.includes($)?D:{...D,[$]:t(L,D[$])},A)}o(a,"TObject");function l(m,v,_){let b=t(m,_);if(!(0,zc.IsPlainObject)(_))return b;let S=Object.getOwnPropertyNames(m.patternProperties)[0],A=new RegExp(S),O=Object.getOwnPropertyNames(_).reduce(($,de)=>A.test(de)?{...$,[de]:p(m.patternProperties[S],v,$[de])}:$,b);if(!zs.TypeGuard.TSchema(m.additionalProperties))return t(m,O);let L=Object.getOwnPropertyNames(O),D=m.additionalProperties;return L.reduce(($,de)=>A.test(de)?$:{...$,[de]:t(D,$[de])},O)}o(l,"TRecord");function c(m,v,_){let b=(0,S8.Deref)(m,v),S=p(b,v,_);return t(m,S)}o(c,"TRef");function u(m,v,_){let b=(0,S8.Deref)(m,v),S=p(b,v,_);return t(m,S)}o(u,"TThis");function f(m,v,_){let b=t(m,_);return(0,zc.IsArray)(m.items)?m.items.map((S,A)=>p(S,v,b[A])):[]}o(f,"TTuple");function d(m,v,_){for(let b of m.anyOf){if(!(0,oD.Check)(b,v,_))continue;let S=p(b,v,_);return t(m,S)}for(let b of m.anyOf){let S=p(b,v,_);if((0,oD.Check)(m,v,S))return t(m,S)}return t(m,_)}o(d,"TUnion");function p(m,v,_){let b=typeof m.$id=="string"?[...v,m]:v,S=m;switch(m[zs.Kind]){case"Array":return r(S,b,_);case"Intersect":return n(S,b,_);case"Not":return s(S,b,_);case"Object":return a(S,b,_);case"Record":return l(S,b,_);case"Ref":return c(S,b,_);case"This":return u(S,b,_);case"Tuple":return f(S,b,_);case"Union":return d(S,b,_);default:return t(S,_)}}o(p,"Visit");function h(m,v,_){return p(m,v,_)}o(h,"Encode"),e.Encode=h})(_W||(Ic.EncodeTransform=_W={}))});var bW=k(gf=>{"use strict";Object.defineProperty(gf,"__esModule",{value:!0});gf.TypeCompiler=gf.Policy=gf.TypeCompilerTypeGuardError=gf.TypeCompilerUnknownTypeError=gf.TypeCheck=void 0;var n7=hD(),t0=yu(),tge=e7(),i7=WE(),rge=D5(),nge=t7(),Fa=vu(),vD=class vD{constructor(t,r,n,s){this.schema=t,this.references=r,this.checkFunc=n,this.code=s,this.hasTransform=n7.HasTransform.Has(t,r)}Code(){return this.code}Errors(t){return(0,tge.Errors)(this.schema,this.references,t)}Check(t){return this.checkFunc(t)}Decode(t){if(!this.checkFunc(t))throw new n7.TransformDecodeCheckError(this.schema,t,this.Errors(t).First());return this.hasTransform?n7.DecodeTransform.Decode(this.schema,this.references,t):t}Encode(t){let r=this.hasTransform?n7.EncodeTransform.Encode(this.schema,this.references,t):t;if(!this.checkFunc(r))throw new n7.TransformEncodeCheckError(this.schema,t,this.Errors(t).First());return r}};o(vD,"TypeCheck");var JE=vD;gf.TypeCheck=JE;var Xp;(function(e){function t(a){return a===36}o(t,"DollarSign"),e.DollarSign=t;function r(a){return a===95}o(r,"IsUnderscore"),e.IsUnderscore=r;function n(a){return a>=65&&a<=90||a>=97&&a<=122}o(n,"IsAlpha"),e.IsAlpha=n;function s(a){return a>=48&&a<=57}o(s,"IsNumeric"),e.IsNumeric=s})(Xp||(Xp={}));var ZE;(function(e){function t(a){return a.length===0?!1:Xp.IsNumeric(a.charCodeAt(0))}o(t,"IsFirstCharacterNumeric");function r(a){if(t(a))return!1;for(let l=0;l<a.length;l++){let c=a.charCodeAt(l);if(!(Xp.IsAlpha(c)||Xp.IsNumeric(c)||Xp.DollarSign(c)||Xp.IsUnderscore(c)))return!1}return!0}o(r,"IsAccessor");function n(a){return a.replace(/'/g,"\\'")}o(n,"EscapeHyphen");function s(a,l){return r(l)?`${a}.${l}`:`${a}['${n(l)}']`}o(s,"Encode"),e.Encode=s})(ZE||(ZE={}));var mD;(function(e){function t(r){let n=[];for(let s=0;s<r.length;s++){let a=r.charCodeAt(s);Xp.IsNumeric(a)||Xp.IsAlpha(a)?n.push(r.charAt(s)):n.push(`_${a}_`)}return n.join("").replace(/__/g,"_")}o(t,"Encode"),e.Encode=t})(mD||(mD={}));var gD;(function(e){function t(r){return r.replace(/'/g,"\\'")}o(t,"Escape"),e.Escape=t})(gD||(gD={}));var yD=class yD extends Fa.TypeBoxError{constructor(t){super("Unknown type"),this.schema=t}};o(yD,"TypeCompilerUnknownTypeError");var eT=yD;gf.TypeCompilerUnknownTypeError=eT;var _D=class _D extends Fa.TypeBoxError{constructor(t){super("Preflight validation check failed to guard for the given schema"),this.schema=t}};o(_D,"TypeCompilerTypeGuardError");var s7=_D;gf.TypeCompilerTypeGuardError=s7;var um;(function(e){function t(l,c,u){return i7.TypeSystemPolicy.ExactOptionalPropertyTypes?`('${c}' in ${l} ? ${u} : true)`:`(${ZE.Encode(l,c)} !== undefined ? ${u} : true)`}o(t,"IsExactOptionalProperty"),e.IsExactOptionalProperty=t;function r(l){return i7.TypeSystemPolicy.AllowArrayObject?`(typeof ${l} === 'object' && ${l} !== null)`:`(typeof ${l} === 'object' && ${l} !== null && !Array.isArray(${l}))`}o(r,"IsObjectLike"),e.IsObjectLike=r;function n(l){return i7.TypeSystemPolicy.AllowArrayObject?`(typeof ${l} === 'object' && ${l} !== null && !(${l} instanceof Date) && !(${l} instanceof Uint8Array))`:`(typeof ${l} === 'object' && ${l} !== null && !Array.isArray(${l}) && !(${l} instanceof Date) && !(${l} instanceof Uint8Array))`}o(n,"IsRecordLike"),e.IsRecordLike=n;function s(l){return i7.TypeSystemPolicy.AllowNaN?`typeof ${l} === 'number'`:`(typeof ${l} === 'number' && Number.isFinite(${l}))`}o(s,"IsNumberLike"),e.IsNumberLike=s;function a(l){return i7.TypeSystemPolicy.AllowNullVoid?`(${l} === undefined || ${l} === null)`:`${l} === undefined`}o(a,"IsVoidLike"),e.IsVoidLike=a})(um||(gf.Policy=um={}));var xW;(function(e){function t(je){return je[Fa.Kind]==="Any"||je[Fa.Kind]==="Unknown"}o(t,"IsAnyOrUnknown");function*r(je,en,Ke){yield"true"}o(r,"TAny");function*n(je,en,Ke){yield`Array.isArray(${Ke})`;let[un,tn]=[Er("value","any"),Er("acc","number")];(0,t0.IsNumber)(je.maxItems)&&(yield`${Ke}.length <= ${je.maxItems}`),(0,t0.IsNumber)(je.minItems)&&(yield`${Ke}.length >= ${je.minItems}`);let fn=Mt(je.items,en,"value");if(yield`${Ke}.every((${un}) => ${fn})`,Fa.TypeGuard.TSchema(je.contains)||(0,t0.IsNumber)(je.minContains)||(0,t0.IsNumber)(je.maxContains)){let Wi=Fa.TypeGuard.TSchema(je.contains)?je.contains:Fa.Type.Never(),Os=Mt(Wi,en,"value"),Hi=(0,t0.IsNumber)(je.minContains)?[`(count >= ${je.minContains})`]:[],le=(0,t0.IsNumber)(je.maxContains)?[`(count <= ${je.maxContains})`]:[],Xi=`const count = value.reduce((${tn}, ${un}) => ${Os} ? acc + 1 : acc, 0)`,js=["(count > 0)",...Hi,...le].join(" && ");yield`((${un}) => { ${Xi}; return ${js}})(${Ke})`}je.uniqueItems===!0&&(yield`((${un}) => { const set = new Set(); for(const element of value) { const hashed = hash(element); if(set.has(hashed)) { return false } else { set.add(hashed) } } return true } )(${Ke})`)}o(n,"TArray");function*s(je,en,Ke){yield`(typeof value === 'object' && Symbol.asyncIterator in ${Ke})`}o(s,"TAsyncIterator");function*a(je,en,Ke){yield`(typeof ${Ke} === 'bigint')`,(0,t0.IsBigInt)(je.exclusiveMaximum)&&(yield`${Ke} < BigInt(${je.exclusiveMaximum})`),(0,t0.IsBigInt)(je.exclusiveMinimum)&&(yield`${Ke} > BigInt(${je.exclusiveMinimum})`),(0,t0.IsBigInt)(je.maximum)&&(yield`${Ke} <= BigInt(${je.maximum})`),(0,t0.IsBigInt)(je.minimum)&&(yield`${Ke} >= BigInt(${je.minimum})`),(0,t0.IsBigInt)(je.multipleOf)&&(yield`(${Ke} % BigInt(${je.multipleOf})) === 0`)}o(a,"TBigInt");function*l(je,en,Ke){yield`(typeof ${Ke} === 'boolean')`}o(l,"TBoolean");function*c(je,en,Ke){yield*Yt(je.returns,en,`${Ke}.prototype`)}o(c,"TConstructor");function*u(je,en,Ke){yield`(${Ke} instanceof Date) && Number.isFinite(${Ke}.getTime())`,(0,t0.IsNumber)(je.exclusiveMaximumTimestamp)&&(yield`${Ke}.getTime() < ${je.exclusiveMaximumTimestamp}`),(0,t0.IsNumber)(je.exclusiveMinimumTimestamp)&&(yield`${Ke}.getTime() > ${je.exclusiveMinimumTimestamp}`),(0,t0.IsNumber)(je.maximumTimestamp)&&(yield`${Ke}.getTime() <= ${je.maximumTimestamp}`),(0,t0.IsNumber)(je.minimumTimestamp)&&(yield`${Ke}.getTime() >= ${je.minimumTimestamp}`),(0,t0.IsNumber)(je.multipleOfTimestamp)&&(yield`(${Ke}.getTime() % ${je.multipleOfTimestamp}) === 0`)}o(u,"TDate");function*f(je,en,Ke){yield`(typeof ${Ke} === 'function')`}o(f,"TFunction");function*d(je,en,Ke){yield`(typeof ${Ke} === 'number' && Number.isInteger(${Ke}))`,(0,t0.IsNumber)(je.exclusiveMaximum)&&(yield`${Ke} < ${je.exclusiveMaximum}`),(0,t0.IsNumber)(je.exclusiveMinimum)&&(yield`${Ke} > ${je.exclusiveMinimum}`),(0,t0.IsNumber)(je.maximum)&&(yield`${Ke} <= ${je.maximum}`),(0,t0.IsNumber)(je.minimum)&&(yield`${Ke} >= ${je.minimum}`),(0,t0.IsNumber)(je.multipleOf)&&(yield`(${Ke} % ${je.multipleOf}) === 0`)}o(d,"TInteger");function*p(je,en,Ke){let un=je.allOf.map(tn=>Mt(tn,en,Ke)).join(" && ");if(je.unevaluatedProperties===!1){let tn=Ee(`${new RegExp(Fa.KeyResolver.ResolvePattern(je))};`),fn=`Object.getOwnPropertyNames(${Ke}).every(key => ${tn}.test(key))`;yield`(${un} && ${fn})`}else if(Fa.TypeGuard.TSchema(je.unevaluatedProperties)){let tn=Ee(`${new RegExp(Fa.KeyResolver.ResolvePattern(je))};`),fn=`Object.getOwnPropertyNames(${Ke}).every(key => ${tn}.test(key) || ${Mt(je.unevaluatedProperties,en,`${Ke}[key]`)})`;yield`(${un} && ${fn})`}else yield`(${un})`}o(p,"TIntersect");function*h(je,en,Ke){yield`(typeof value === 'object' && Symbol.iterator in ${Ke})`}o(h,"TIterator");function*m(je,en,Ke){typeof je.const=="number"||typeof je.const=="boolean"?yield`(${Ke} === ${je.const})`:yield`(${Ke} === '${gD.Escape(je.const)}')`}o(m,"TLiteral");function*v(je,en,Ke){yield"false"}o(v,"TNever");function*_(je,en,Ke){yield`(!${Mt(je.not,en,Ke)})`}o(_,"TNot");function*b(je,en,Ke){yield`(${Ke} === null)`}o(b,"TNull");function*S(je,en,Ke){yield um.IsNumberLike(Ke),(0,t0.IsNumber)(je.exclusiveMaximum)&&(yield`${Ke} < ${je.exclusiveMaximum}`),(0,t0.IsNumber)(je.exclusiveMinimum)&&(yield`${Ke} > ${je.exclusiveMinimum}`),(0,t0.IsNumber)(je.maximum)&&(yield`${Ke} <= ${je.maximum}`),(0,t0.IsNumber)(je.minimum)&&(yield`${Ke} >= ${je.minimum}`),(0,t0.IsNumber)(je.multipleOf)&&(yield`(${Ke} % ${je.multipleOf}) === 0`)}o(S,"TNumber");function*A(je,en,Ke){yield um.IsObjectLike(Ke),(0,t0.IsNumber)(je.minProperties)&&(yield`Object.getOwnPropertyNames(${Ke}).length >= ${je.minProperties}`),(0,t0.IsNumber)(je.maxProperties)&&(yield`Object.getOwnPropertyNames(${Ke}).length <= ${je.maxProperties}`);let un=Object.getOwnPropertyNames(je.properties);for(let tn of un){let fn=ZE.Encode(Ke,tn),Wi=je.properties[tn];if(je.required&&je.required.includes(tn))yield*Yt(Wi,en,fn),(Fa.ExtendsUndefined.Check(Wi)||t(Wi))&&(yield`('${tn}' in ${Ke})`);else{let Os=Mt(Wi,en,fn);yield um.IsExactOptionalProperty(Ke,tn,Os)}}if(je.additionalProperties===!1)if(je.required&&je.required.length===un.length)yield`Object.getOwnPropertyNames(${Ke}).length === ${un.length}`;else{let tn=`[${un.map(fn=>`'${fn}'`).join(", ")}]`;yield`Object.getOwnPropertyNames(${Ke}).every(key => ${tn}.includes(key))`}if(typeof je.additionalProperties=="object"){let tn=Mt(je.additionalProperties,en,`${Ke}[key]`),fn=`[${un.map(Wi=>`'${Wi}'`).join(", ")}]`;yield`(Object.getOwnPropertyNames(${Ke}).every(key => ${fn}.includes(key) || ${tn}))`}}o(A,"TObject");function*O(je,en,Ke){yield`(typeof value === 'object' && typeof ${Ke}.then === 'function')`}o(O,"TPromise");function*L(je,en,Ke){yield um.IsRecordLike(Ke),(0,t0.IsNumber)(je.minProperties)&&(yield`Object.getOwnPropertyNames(${Ke}).length >= ${je.minProperties}`),(0,t0.IsNumber)(je.maxProperties)&&(yield`Object.getOwnPropertyNames(${Ke}).length <= ${je.maxProperties}`);let[un,tn]=Object.entries(je.patternProperties)[0],fn=Ee(`${new RegExp(un)}`),Wi=Mt(tn,en,"value"),Os=Fa.TypeGuard.TSchema(je.additionalProperties)?Mt(je.additionalProperties,en,Ke):je.additionalProperties===!1?"false":"true",Hi=`(${fn}.test(key) ? ${Wi} : ${Os})`;yield`(Object.entries(${Ke}).every(([key, value]) => ${Hi}))`}o(L,"TRecord");function*D(je,en,Ke){let un=(0,rge.Deref)(je,en);if(hr.functions.has(je.$ref))return yield`${yr(je.$ref)}(${Ke})`;yield*Yt(un,en,Ke)}o(D,"TRef");function*$(je,en,Ke){yield`(typeof ${Ke} === 'string')`,(0,t0.IsNumber)(je.maxLength)&&(yield`${Ke}.length <= ${je.maxLength}`),(0,t0.IsNumber)(je.minLength)&&(yield`${Ke}.length >= ${je.minLength}`),je.pattern!==void 0&&(yield`${Ee(`${new RegExp(je.pattern)};`)}.test(${Ke})`),je.format!==void 0&&(yield`format('${je.format}', ${Ke})`)}o($,"TString");function*de(je,en,Ke){yield`(typeof ${Ke} === 'symbol')`}o(de,"TSymbol");function*ue(je,en,Ke){yield`(typeof ${Ke} === 'string')`,yield`${Ee(`${new RegExp(je.pattern)};`)}.test(${Ke})`}o(ue,"TTemplateLiteral");function*Ze(je,en,Ke){yield`${yr(je.$ref)}(${Ke})`}o(Ze,"TThis");function*vr(je,en,Ke){if(yield`Array.isArray(${Ke})`,je.items===void 0)return yield`${Ke}.length === 0`;yield`(${Ke}.length === ${je.maxItems})`;for(let un=0;un<je.items.length;un++)yield`${Mt(je.items[un],en,`${Ke}[${un}]`)}`}o(vr,"TTuple");function*vt(je,en,Ke){yield`${Ke} === undefined`}o(vt,"TUndefined");function*wr(je,en,Ke){yield`(${je.anyOf.map(tn=>Mt(tn,en,Ke)).join(" || ")})`}o(wr,"TUnion");function*Ve(je,en,Ke){yield`${Ke} instanceof Uint8Array`,(0,t0.IsNumber)(je.maxByteLength)&&(yield`(${Ke}.length <= ${je.maxByteLength})`),(0,t0.IsNumber)(je.minByteLength)&&(yield`(${Ke}.length >= ${je.minByteLength})`)}o(Ve,"TUint8Array");function*Me(je,en,Ke){yield"true"}o(Me,"TUnknown");function*St(je,en,Ke){yield um.IsVoidLike(Ke)}o(St,"TVoid");function*br(je,en,Ke){let un=hr.instances.size;hr.instances.set(un,je),yield`kind('${je[Fa.Kind]}', ${un}, ${Ke})`}o(br,"TKind");function*Yt(je,en,Ke,un=!0){let tn=(0,t0.IsString)(je.$id)?[...en,je]:en,fn=je;if(un&&(0,t0.IsString)(je.$id)){let Wi=yr(je.$id);if(hr.functions.has(Wi))return yield`${Wi}(${Ke})`;{let Os=_e(Wi,je,en,"value",!1);return hr.functions.set(Wi,Os),yield`${Wi}(${Ke})`}}switch(fn[Fa.Kind]){case"Any":return yield*r(fn,tn,Ke);case"Array":return yield*n(fn,tn,Ke);case"AsyncIterator":return yield*s(fn,tn,Ke);case"BigInt":return yield*a(fn,tn,Ke);case"Boolean":return yield*l(fn,tn,Ke);case"Constructor":return yield*c(fn,tn,Ke);case"Date":return yield*u(fn,tn,Ke);case"Function":return yield*f(fn,tn,Ke);case"Integer":return yield*d(fn,tn,Ke);case"Intersect":return yield*p(fn,tn,Ke);case"Iterator":return yield*h(fn,tn,Ke);case"Literal":return yield*m(fn,tn,Ke);case"Never":return yield*v(fn,tn,Ke);case"Not":return yield*_(fn,tn,Ke);case"Null":return yield*b(fn,tn,Ke);case"Number":return yield*S(fn,tn,Ke);case"Object":return yield*A(fn,tn,Ke);case"Promise":return yield*O(fn,tn,Ke);case"Record":return yield*L(fn,tn,Ke);case"Ref":return yield*D(fn,tn,Ke);case"String":return yield*$(fn,tn,Ke);case"Symbol":return yield*de(fn,tn,Ke);case"TemplateLiteral":return yield*ue(fn,tn,Ke);case"This":return yield*Ze(fn,tn,Ke);case"Tuple":return yield*vr(fn,tn,Ke);case"Undefined":return yield*vt(fn,tn,Ke);case"Union":return yield*wr(fn,tn,Ke);case"Uint8Array":return yield*Ve(fn,tn,Ke);case"Unknown":return yield*Me(fn,tn,Ke);case"Void":return yield*St(fn,tn,Ke);default:if(!Fa.TypeRegistry.Has(fn[Fa.Kind]))throw new eT(je);return yield*br(fn,tn,Ke)}}o(Yt,"Visit");let hr={language:"javascript",functions:new Map,variables:new Map,instances:new Map};function Mt(je,en,Ke,un=!0){return`(${[...Yt(je,en,Ke,un)].join(" && ")})`}o(Mt,"CreateExpression");function yr(je){return`check_${mD.Encode(je)}`}o(yr,"CreateFunctionName");function Ee(je){let en=`local_${hr.variables.size}`;return hr.variables.set(en,`const ${en} = ${je}`),en}o(Ee,"CreateVariable");function _e(je,en,Ke,un,tn=!0){let[fn,Wi]=[`
`,Xi=>"".padStart(Xi," ")],Os=Er("value","any"),Hi=Vr("boolean"),le=[...Yt(en,Ke,un,tn)].map(Xi=>`${Wi(4)}${Xi}`).join(` &&${fn}`);return`function ${je}(${Os})${Hi} {${fn}${Wi(2)}return (${fn}${le}${fn}${Wi(2)})
}`}o(_e,"CreateFunction");function Er(je,en){let Ke=hr.language==="typescript"?`: ${en}`:"";return`${je}${Ke}`}o(Er,"CreateParameter");function Vr(je){return hr.language==="typescript"?`: ${je}`:""}o(Vr,"CreateReturns");function zr(je,en,Ke){let un=_e("check",je,en,"value"),tn=Er("value","any"),fn=Vr("boolean"),Wi=[...hr.functions.values()],Os=[...hr.variables.values()],Hi=(0,t0.IsString)(je.$id)?`return function check(${tn})${fn} {
  return ${yr(je.$id)}(value)
}`:`return ${un}`;return[...Os,...Wi,Hi].join(`
`)}o(zr,"Build");function jr(...je){let en={language:"javascript"},[Ke,un,tn]=je.length===2&&(0,t0.IsArray)(je[1])?[je[0],je[1],en]:je.length===2&&!(0,t0.IsArray)(je[1])?[je[0],[],je[1]]:je.length===3?[je[0],je[1],je[2]]:je.length===1?[je[0],[],en]:[null,[],en];if(hr.language=tn.language,hr.variables.clear(),hr.functions.clear(),hr.instances.clear(),!Fa.TypeGuard.TSchema(Ke))throw new s7(Ke);for(let fn of un)if(!Fa.TypeGuard.TSchema(fn))throw new s7(fn);return zr(Ke,un,tn)}o(jr,"Code"),e.Code=jr;function Ri(je,en=[]){let Ke=jr(je,en,{language:"javascript"}),un=globalThis.Function("kind","format","hash",Ke),tn=new Map(hr.instances);function fn(le,Xi,js){if(!Fa.TypeRegistry.Has(le)||!tn.has(Xi))return!1;let Na=Fa.TypeRegistry.Get(le),_c=tn.get(Xi);return Na(_c,js)}o(fn,"typeRegistryFunction");function Wi(le,Xi){return Fa.FormatRegistry.Has(le)?Fa.FormatRegistry.Get(le)(Xi):!1}o(Wi,"formatRegistryFunction");function Os(le){return(0,nge.Hash)(le)}o(Os,"hashFunction");let Hi=un(fn,Wi,Os);return new JE(je,en,Hi,Ke)}o(Ri,"Compile"),e.Compile=Ri})(xW||(gf.TypeCompiler=xW={}))});var TW=k(yd=>{"use strict";var ige=yd&&yd.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),sge=yd&&yd.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&ige(t,e,r)};Object.defineProperty(yd,"__esModule",{value:!0});yd.ValueErrorIterator=yd.ValueErrorType=void 0;var EW=KE();Object.defineProperty(yd,"ValueErrorType",{enumerable:!0,get:function(){return EW.ValueErrorType}});Object.defineProperty(yd,"ValueErrorIterator",{enumerable:!0,get:function(){return EW.ValueErrorIterator}});sge(bW(),yd)});var I1=k((exports,module)=>{"use strict";var fo=Object.create,Le=Object.defineProperty,go=Object.getOwnPropertyDescriptor,ho=Object.getOwnPropertyNames,bo=Object.getPrototypeOf,yo=Object.prototype.hasOwnProperty,i=o((e,t)=>Le(e,"name",{value:t,configurable:!0}),"i"),P=o((e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),"P"),wo=o((e,t)=>{for(var r in t)Le(e,r,{get:t[r],enumerable:!0})},"wo"),Nn=o((e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of ho(t))!yo.call(e,s)&&s!==r&&Le(e,s,{get:()=>t[s],enumerable:!(n=go(t,s))||n.enumerable});return e},"Nn"),Ft=o((e,t,r)=>(r=e!=null?fo(bo(e)):{},Nn(t||!e||!e.__esModule?Le(r,"default",{value:e,enumerable:!0}):r,e)),"Ft"),vo=o(e=>Nn(Le({},"__esModule",{value:!0}),e),"vo"),fr=P(e=>{var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");e.encode=function(r){if(0<=r&&r<t.length)return t[r];throw new TypeError("Must be between 0 and 63: "+r)},e.decode=function(r){var n=65,s=90,a=97,l=122,c=48,u=57,f=43,d=47,p=26,h=52;return n<=r&&r<=s?r-n:a<=r&&r<=l?r-a+p:c<=r&&r<=u?r-c+h:r==f?62:r==d?63:-1}}),nn=P(e=>{var t=fr(),r=5,n=1<<r,s=n-1,a=n;function l(u){return u<0?(-u<<1)+1:(u<<1)+0}o(l,"hs"),i(l,"toVLQSigned");function c(u){var f=(u&1)===1,d=u>>1;return f?-d:d}o(c,"bs"),i(c,"fromVLQSigned"),e.encode=i(function(u){var f="",d,p=l(u);do d=p&s,p>>>=r,p>0&&(d|=a),f+=t.encode(d);while(p>0);return f},"base64VLQ_encode"),e.decode=i(function(u,f,d){var p=u.length,h=0,m=0,v,_;do{if(f>=p)throw new Error("Expected more digits in base 64 VLQ value.");if(_=t.decode(u.charCodeAt(f++)),_===-1)throw new Error("Invalid base64 digit: "+u.charAt(f-1));v=!!(_&a),_&=s,h=h+(_<<m),m+=r}while(v);d.value=c(h),d.rest=f},"base64VLQ_decode")}),Se=P(e=>{function t(L,D,$){if(D in L)return L[D];if(arguments.length===3)return $;throw new Error('"'+D+'" is a required argument.')}o(t,"ys"),i(t,"getArg"),e.getArg=t;var r=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,n=/^data:.+\,.+$/;function s(L){var D=L.match(r);return D?{scheme:D[1],auth:D[2],host:D[3],port:D[4],path:D[5]}:null}o(s,"Ve"),i(s,"urlParse"),e.urlParse=s;function a(L){var D="";return L.scheme&&(D+=L.scheme+":"),D+="//",L.auth&&(D+=L.auth+"@"),L.host&&(D+=L.host),L.port&&(D+=":"+L.port),L.path&&(D+=L.path),D}o(a,"we"),i(a,"urlGenerate"),e.urlGenerate=a;function l(L){var D=L,$=s(L);if($){if(!$.path)return L;D=$.path}for(var de=e.isAbsolute(D),ue=D.split(/\/+/),Ze,vr=0,vt=ue.length-1;vt>=0;vt--)Ze=ue[vt],Ze==="."?ue.splice(vt,1):Ze===".."?vr++:vr>0&&(Ze===""?(ue.splice(vt+1,vr),vr=0):(ue.splice(vt,2),vr--));return D=ue.join("/"),D===""&&(D=de?"/":"."),$?($.path=D,a($)):D}o(l,"rn"),i(l,"normalize"),e.normalize=l;function c(L,D){L===""&&(L="."),D===""&&(D=".");var $=s(D),de=s(L);if(de&&(L=de.path||"/"),$&&!$.scheme)return de&&($.scheme=de.scheme),a($);if($||D.match(n))return D;if(de&&!de.host&&!de.path)return de.host=D,a(de);var ue=D.charAt(0)==="/"?D:l(L.replace(/\/+$/,"")+"/"+D);return de?(de.path=ue,a(de)):ue}o(c,"vr"),i(c,"join"),e.join=c,e.isAbsolute=function(L){return L.charAt(0)==="/"||r.test(L)};function u(L,D){L===""&&(L="."),L=L.replace(/\/$/,"");for(var $=0;D.indexOf(L+"/")!==0;){var de=L.lastIndexOf("/");if(de<0||(L=L.slice(0,de),L.match(/^([^\/]+:\/)?\/*$/)))return D;++$}return Array($+1).join("../")+D.substr(L.length+1)}o(u,"vs"),i(u,"relative"),e.relative=u;var f=function(){var L=Object.create(null);return!("__proto__"in L)}();function d(L){return L}o(d,"Er"),i(d,"identity");function p(L){return m(L)?"$"+L:L}o(p,"Ss"),i(p,"toSetString"),e.toSetString=f?d:p;function h(L){return m(L)?L.slice(1):L}o(h,"Es"),i(h,"fromSetString"),e.fromSetString=f?d:h;function m(L){if(!L)return!1;var D=L.length;if(D<9||L.charCodeAt(D-1)!==95||L.charCodeAt(D-2)!==95||L.charCodeAt(D-3)!==111||L.charCodeAt(D-4)!==116||L.charCodeAt(D-5)!==111||L.charCodeAt(D-6)!==114||L.charCodeAt(D-7)!==112||L.charCodeAt(D-8)!==95||L.charCodeAt(D-9)!==95)return!1;for(var $=D-10;$>=0;$--)if(L.charCodeAt($)!==36)return!1;return!0}o(m,"Mr"),i(m,"isProtoString");function v(L,D,$){var de=b(L.source,D.source);return de!==0||(de=L.originalLine-D.originalLine,de!==0)||(de=L.originalColumn-D.originalColumn,de!==0||$)||(de=L.generatedColumn-D.generatedColumn,de!==0)||(de=L.generatedLine-D.generatedLine,de!==0)?de:b(L.name,D.name)}o(v,"Ms"),i(v,"compareByOriginalPositions"),e.compareByOriginalPositions=v;function _(L,D,$){var de=L.generatedLine-D.generatedLine;return de!==0||(de=L.generatedColumn-D.generatedColumn,de!==0||$)||(de=b(L.source,D.source),de!==0)||(de=L.originalLine-D.originalLine,de!==0)||(de=L.originalColumn-D.originalColumn,de!==0)?de:b(L.name,D.name)}o(_,"Ts"),i(_,"compareByGeneratedPositionsDeflated"),e.compareByGeneratedPositionsDeflated=_;function b(L,D){return L===D?0:L===null?1:D===null?-1:L>D?1:-1}o(b,"ve"),i(b,"strcmp");function S(L,D){var $=L.generatedLine-D.generatedLine;return $!==0||($=L.generatedColumn-D.generatedColumn,$!==0)||($=b(L.source,D.source),$!==0)||($=L.originalLine-D.originalLine,$!==0)||($=L.originalColumn-D.originalColumn,$!==0)?$:b(L.name,D.name)}o(S,"xs"),i(S,"compareByGeneratedPositionsInflated"),e.compareByGeneratedPositionsInflated=S;function A(L){return JSON.parse(L.replace(/^\)]}'[^\n]*\n/,""))}o(A,"Is"),i(A,"parseSourceMapInput"),e.parseSourceMapInput=A;function O(L,D,$){if(D=D||"",L&&(L[L.length-1]!=="/"&&D[0]!=="/"&&(L+="/"),D=L+D),$){var de=s($);if(!de)throw new Error("sourceMapURL could not be parsed");if(de.path){var ue=de.path.lastIndexOf("/");ue>=0&&(de.path=de.path.substring(0,ue+1))}D=c(a(de),D)}return l(D)}o(O,"Ls"),i(O,"computeSourceURL"),e.computeSourceURL=O}),an=P(e=>{var t=Se(),r=Object.prototype.hasOwnProperty,n=typeof Map<"u";function s(){this._array=[],this._set=n?new Map:Object.create(null)}o(s,"Q"),i(s,"ArraySet"),s.fromArray=i(function(a,l){for(var c=new s,u=0,f=a.length;u<f;u++)c.add(a[u],l);return c},"ArraySet_fromArray"),s.prototype.size=i(function(){return n?this._set.size:Object.getOwnPropertyNames(this._set).length},"ArraySet_size"),s.prototype.add=i(function(a,l){var c=n?a:t.toSetString(a),u=n?this.has(a):r.call(this._set,c),f=this._array.length;(!u||l)&&this._array.push(a),u||(n?this._set.set(a,f):this._set[c]=f)},"ArraySet_add"),s.prototype.has=i(function(a){if(n)return this._set.has(a);var l=t.toSetString(a);return r.call(this._set,l)},"ArraySet_has"),s.prototype.indexOf=i(function(a){if(n){var l=this._set.get(a);if(l>=0)return l}else{var c=t.toSetString(a);if(r.call(this._set,c))return this._set[c]}throw new Error('"'+a+'" is not in the set.')},"ArraySet_indexOf"),s.prototype.at=i(function(a){if(a>=0&&a<this._array.length)return this._array[a];throw new Error("No element indexed by "+a)},"ArraySet_at"),s.prototype.toArray=i(function(){return this._array.slice()},"ArraySet_toArray"),e.ArraySet=s}),Lr=P(e=>{var t=Se();function r(s,a){var l=s.generatedLine,c=a.generatedLine,u=s.generatedColumn,f=a.generatedColumn;return c>l||c==l&&f>=u||t.compareByGeneratedPositionsInflated(s,a)<=0}o(r,"Ns"),i(r,"generatedPositionAfter");function n(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}o(n,"wt"),i(n,"MappingList"),n.prototype.unsortedForEach=i(function(s,a){this._array.forEach(s,a)},"MappingList_forEach"),n.prototype.add=i(function(s){r(this._last,s)?(this._last=s,this._array.push(s)):(this._sorted=!1,this._array.push(s))},"MappingList_add"),n.prototype.toArray=i(function(){return this._sorted||(this._array.sort(t.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},"MappingList_toArray"),e.MappingList=n}),ln=P(e=>{var t=nn(),r=Se(),n=an().ArraySet,s=Lr().MappingList;function a(l){l||(l={}),this._file=r.getArg(l,"file",null),this._sourceRoot=r.getArg(l,"sourceRoot",null),this._skipValidation=r.getArg(l,"skipValidation",!1),this._sources=new n,this._names=new n,this._mappings=new s,this._sourcesContents=null}o(a,"D"),i(a,"SourceMapGenerator"),a.prototype._version=3,a.fromSourceMap=i(function(l){var c=l.sourceRoot,u=new a({file:l.file,sourceRoot:c});return l.eachMapping(function(f){var d={generated:{line:f.generatedLine,column:f.generatedColumn}};f.source!=null&&(d.source=f.source,c!=null&&(d.source=r.relative(c,d.source)),d.original={line:f.originalLine,column:f.originalColumn},f.name!=null&&(d.name=f.name)),u.addMapping(d)}),l.sources.forEach(function(f){var d=f;c!==null&&(d=r.relative(c,f)),u._sources.has(d)||u._sources.add(d);var p=l.sourceContentFor(f);p!=null&&u.setSourceContent(f,p)}),u},"SourceMapGenerator_fromSourceMap"),a.prototype.addMapping=i(function(l){var c=r.getArg(l,"generated"),u=r.getArg(l,"original",null),f=r.getArg(l,"source",null),d=r.getArg(l,"name",null);this._skipValidation||this._validateMapping(c,u,f,d),f!=null&&(f=String(f),this._sources.has(f)||this._sources.add(f)),d!=null&&(d=String(d),this._names.has(d)||this._names.add(d)),this._mappings.add({generatedLine:c.line,generatedColumn:c.column,originalLine:u!=null&&u.line,originalColumn:u!=null&&u.column,source:f,name:d})},"SourceMapGenerator_addMapping"),a.prototype.setSourceContent=i(function(l,c){var u=l;this._sourceRoot!=null&&(u=r.relative(this._sourceRoot,u)),c!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[r.toSetString(u)]=c):this._sourcesContents&&(delete this._sourcesContents[r.toSetString(u)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))},"SourceMapGenerator_setSourceContent"),a.prototype.applySourceMap=i(function(l,c,u){var f=c;if(c==null){if(l.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);f=l.file}var d=this._sourceRoot;d!=null&&(f=r.relative(d,f));var p=new n,h=new n;this._mappings.unsortedForEach(function(m){if(m.source===f&&m.originalLine!=null){var v=l.originalPositionFor({line:m.originalLine,column:m.originalColumn});v.source!=null&&(m.source=v.source,u!=null&&(m.source=r.join(u,m.source)),d!=null&&(m.source=r.relative(d,m.source)),m.originalLine=v.line,m.originalColumn=v.column,v.name!=null&&(m.name=v.name))}var _=m.source;_!=null&&!p.has(_)&&p.add(_);var b=m.name;b!=null&&!h.has(b)&&h.add(b)},this),this._sources=p,this._names=h,l.sources.forEach(function(m){var v=l.sourceContentFor(m);v!=null&&(u!=null&&(m=r.join(u,m)),d!=null&&(m=r.relative(d,m)),this.setSourceContent(m,v))},this)},"SourceMapGenerator_applySourceMap"),a.prototype._validateMapping=i(function(l,c,u,f){if(c&&typeof c.line!="number"&&typeof c.column!="number")throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(l&&"line"in l&&"column"in l&&l.line>0&&l.column>=0&&!c&&!u&&!f)){if(l&&"line"in l&&"column"in l&&c&&"line"in c&&"column"in c&&l.line>0&&l.column>=0&&c.line>0&&c.column>=0&&u)return;throw new Error("Invalid mapping: "+JSON.stringify({generated:l,source:u,original:c,name:f}))}},"SourceMapGenerator_validateMapping"),a.prototype._serializeMappings=i(function(){for(var l=0,c=1,u=0,f=0,d=0,p=0,h="",m,v,_,b,S=this._mappings.toArray(),A=0,O=S.length;A<O;A++){if(v=S[A],m="",v.generatedLine!==c)for(l=0;v.generatedLine!==c;)m+=";",c++;else if(A>0){if(!r.compareByGeneratedPositionsInflated(v,S[A-1]))continue;m+=","}m+=t.encode(v.generatedColumn-l),l=v.generatedColumn,v.source!=null&&(b=this._sources.indexOf(v.source),m+=t.encode(b-p),p=b,m+=t.encode(v.originalLine-1-f),f=v.originalLine-1,m+=t.encode(v.originalColumn-u),u=v.originalColumn,v.name!=null&&(_=this._names.indexOf(v.name),m+=t.encode(_-d),d=_)),h+=m}return h},"SourceMapGenerator_serializeMappings"),a.prototype._generateSourcesContent=i(function(l,c){return l.map(function(u){if(!this._sourcesContents)return null;c!=null&&(u=r.relative(c,u));var f=r.toSetString(u);return Object.prototype.hasOwnProperty.call(this._sourcesContents,f)?this._sourcesContents[f]:null},this)},"SourceMapGenerator_generateSourcesContent"),a.prototype.toJSON=i(function(){var l={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(l.file=this._file),this._sourceRoot!=null&&(l.sourceRoot=this._sourceRoot),this._sourcesContents&&(l.sourcesContent=this._generateSourcesContent(l.sources,l.sourceRoot)),l},"SourceMapGenerator_toJSON"),a.prototype.toString=i(function(){return JSON.stringify(this.toJSON())},"SourceMapGenerator_toString"),e.SourceMapGenerator=a}),Pr=P(e=>{e.GREATEST_LOWER_BOUND=1,e.LEAST_UPPER_BOUND=2;function t(r,n,s,a,l,c){var u=Math.floor((n-r)/2)+r,f=l(s,a[u],!0);return f===0?u:f>0?n-u>1?t(u,n,s,a,l,c):c==e.LEAST_UPPER_BOUND?n<a.length?n:-1:u:u-r>1?t(r,u,s,a,l,c):c==e.LEAST_UPPER_BOUND?u:r<0?-1:r}o(t,"un"),i(t,"recursiveSearch"),e.search=i(function(r,n,s,a){if(n.length===0)return-1;var l=t(-1,n.length,r,n,s,a||e.GREATEST_LOWER_BOUND);if(l<0)return-1;for(;l-1>=0&&s(n[l],n[l-1],!0)===0;)--l;return l},"search")}),Cr=P(e=>{function t(s,a,l){var c=s[a];s[a]=s[l],s[l]=c}o(t,"cn"),i(t,"swap");function r(s,a){return Math.round(s+Math.random()*(a-s))}o(r,"ks"),i(r,"randomIntInRange");function n(s,a,l,c){if(l<c){var u=r(l,c),f=l-1;t(s,u,c);for(var d=s[c],p=l;p<c;p++)a(s[p],d)<=0&&(f+=1,t(s,f,p));t(s,f+1,p);var h=f+1;n(s,a,l,h-1),n(s,a,h+1,c)}}o(n,"dn"),i(n,"doQuickSort"),e.quickSort=function(s,a){n(s,a,0,s.length-1)}}),Fr=P(e=>{var t=Se(),r=Pr(),n=an().ArraySet,s=nn(),a=Cr().quickSort;function l(d,p){var h=d;return typeof d=="string"&&(h=t.parseSourceMapInput(d)),h.sections!=null?new f(h,p):new c(h,p)}o(l,"E"),i(l,"SourceMapConsumer"),l.fromSourceMap=function(d,p){return c.fromSourceMap(d,p)},l.prototype._version=3,l.prototype.__generatedMappings=null,Object.defineProperty(l.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),l.prototype.__originalMappings=null,Object.defineProperty(l.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),l.prototype._charIsMappingSeparator=i(function(d,p){var h=d.charAt(p);return h===";"||h===","},"SourceMapConsumer_charIsMappingSeparator"),l.prototype._parseMappings=i(function(d,p){throw new Error("Subclasses must implement _parseMappings")},"SourceMapConsumer_parseMappings"),l.GENERATED_ORDER=1,l.ORIGINAL_ORDER=2,l.GREATEST_LOWER_BOUND=1,l.LEAST_UPPER_BOUND=2,l.prototype.eachMapping=i(function(d,p,h){var m=p||null,v=h||l.GENERATED_ORDER,_;switch(v){case l.GENERATED_ORDER:_=this._generatedMappings;break;case l.ORIGINAL_ORDER:_=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var b=this.sourceRoot;_.map(function(S){var A=S.source===null?null:this._sources.at(S.source);return A=t.computeSourceURL(b,A,this._sourceMapURL),{source:A,generatedLine:S.generatedLine,generatedColumn:S.generatedColumn,originalLine:S.originalLine,originalColumn:S.originalColumn,name:S.name===null?null:this._names.at(S.name)}},this).forEach(d,m)},"SourceMapConsumer_eachMapping"),l.prototype.allGeneratedPositionsFor=i(function(d){var p=t.getArg(d,"line"),h={source:t.getArg(d,"source"),originalLine:p,originalColumn:t.getArg(d,"column",0)};if(h.source=this._findSourceIndex(h.source),h.source<0)return[];var m=[],v=this._findMapping(h,this._originalMappings,"originalLine","originalColumn",t.compareByOriginalPositions,r.LEAST_UPPER_BOUND);if(v>=0){var _=this._originalMappings[v];if(d.column===void 0)for(var b=_.originalLine;_&&_.originalLine===b;)m.push({line:t.getArg(_,"generatedLine",null),column:t.getArg(_,"generatedColumn",null),lastColumn:t.getArg(_,"lastGeneratedColumn",null)}),_=this._originalMappings[++v];else for(var S=_.originalColumn;_&&_.originalLine===p&&_.originalColumn==S;)m.push({line:t.getArg(_,"generatedLine",null),column:t.getArg(_,"generatedColumn",null),lastColumn:t.getArg(_,"lastGeneratedColumn",null)}),_=this._originalMappings[++v]}return m},"SourceMapConsumer_allGeneratedPositionsFor"),e.SourceMapConsumer=l;function c(d,p){var h=d;typeof d=="string"&&(h=t.parseSourceMapInput(d));var m=t.getArg(h,"version"),v=t.getArg(h,"sources"),_=t.getArg(h,"names",[]),b=t.getArg(h,"sourceRoot",null),S=t.getArg(h,"sourcesContent",null),A=t.getArg(h,"mappings"),O=t.getArg(h,"file",null);if(m!=this._version)throw new Error("Unsupported version: "+m);b&&(b=t.normalize(b)),v=v.map(String).map(t.normalize).map(function(L){return b&&t.isAbsolute(b)&&t.isAbsolute(L)?t.relative(b,L):L}),this._names=n.fromArray(_.map(String),!0),this._sources=n.fromArray(v,!0),this._absoluteSources=this._sources.toArray().map(function(L){return t.computeSourceURL(b,L,p)}),this.sourceRoot=b,this.sourcesContent=S,this._mappings=A,this._sourceMapURL=p,this.file=O}o(c,"L"),i(c,"BasicSourceMapConsumer"),c.prototype=Object.create(l.prototype),c.prototype.consumer=l,c.prototype._findSourceIndex=function(d){var p=d;if(this.sourceRoot!=null&&(p=t.relative(this.sourceRoot,p)),this._sources.has(p))return this._sources.indexOf(p);var h;for(h=0;h<this._absoluteSources.length;++h)if(this._absoluteSources[h]==d)return h;return-1},c.fromSourceMap=i(function(d,p){var h=Object.create(c.prototype),m=h._names=n.fromArray(d._names.toArray(),!0),v=h._sources=n.fromArray(d._sources.toArray(),!0);h.sourceRoot=d._sourceRoot,h.sourcesContent=d._generateSourcesContent(h._sources.toArray(),h.sourceRoot),h.file=d._file,h._sourceMapURL=p,h._absoluteSources=h._sources.toArray().map(function($){return t.computeSourceURL(h.sourceRoot,$,p)});for(var _=d._mappings.toArray().slice(),b=h.__generatedMappings=[],S=h.__originalMappings=[],A=0,O=_.length;A<O;A++){var L=_[A],D=new u;D.generatedLine=L.generatedLine,D.generatedColumn=L.generatedColumn,L.source&&(D.source=v.indexOf(L.source),D.originalLine=L.originalLine,D.originalColumn=L.originalColumn,L.name&&(D.name=m.indexOf(L.name)),S.push(D)),b.push(D)}return a(h.__originalMappings,t.compareByOriginalPositions),h},"SourceMapConsumer_fromSourceMap"),c.prototype._version=3,Object.defineProperty(c.prototype,"sources",{get:function(){return this._absoluteSources.slice()}});function u(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}o(u,"Ar"),i(u,"Mapping"),c.prototype._parseMappings=i(function(d,p){for(var h=1,m=0,v=0,_=0,b=0,S=0,A=d.length,O=0,L={},D={},$=[],de=[],ue,Ze,vr,vt,wr;O<A;)if(d.charAt(O)===";")h++,O++,m=0;else if(d.charAt(O)===",")O++;else{for(ue=new u,ue.generatedLine=h,vt=O;vt<A&&!this._charIsMappingSeparator(d,vt);vt++);if(Ze=d.slice(O,vt),vr=L[Ze],vr)O+=Ze.length;else{for(vr=[];O<vt;)s.decode(d,O,D),wr=D.value,O=D.rest,vr.push(wr);if(vr.length===2)throw new Error("Found a source, but no line and column");if(vr.length===3)throw new Error("Found a source and line, but no column");L[Ze]=vr}ue.generatedColumn=m+vr[0],m=ue.generatedColumn,vr.length>1&&(ue.source=b+vr[1],b+=vr[1],ue.originalLine=v+vr[2],v=ue.originalLine,ue.originalLine+=1,ue.originalColumn=_+vr[3],_=ue.originalColumn,vr.length>4&&(ue.name=S+vr[4],S+=vr[4])),de.push(ue),typeof ue.originalLine=="number"&&$.push(ue)}a(de,t.compareByGeneratedPositionsDeflated),this.__generatedMappings=de,a($,t.compareByOriginalPositions),this.__originalMappings=$},"SourceMapConsumer_parseMappings"),c.prototype._findMapping=i(function(d,p,h,m,v,_){if(d[h]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+d[h]);if(d[m]<0)throw new TypeError("Column must be greater than or equal to 0, got "+d[m]);return r.search(d,p,v,_)},"SourceMapConsumer_findMapping"),c.prototype.computeColumnSpans=i(function(){for(var d=0;d<this._generatedMappings.length;++d){var p=this._generatedMappings[d];if(d+1<this._generatedMappings.length){var h=this._generatedMappings[d+1];if(p.generatedLine===h.generatedLine){p.lastGeneratedColumn=h.generatedColumn-1;continue}}p.lastGeneratedColumn=1/0}},"SourceMapConsumer_computeColumnSpans"),c.prototype.originalPositionFor=i(function(d){var p={generatedLine:t.getArg(d,"line"),generatedColumn:t.getArg(d,"column")},h=this._findMapping(p,this._generatedMappings,"generatedLine","generatedColumn",t.compareByGeneratedPositionsDeflated,t.getArg(d,"bias",l.GREATEST_LOWER_BOUND));if(h>=0){var m=this._generatedMappings[h];if(m.generatedLine===p.generatedLine){var v=t.getArg(m,"source",null);v!==null&&(v=this._sources.at(v),v=t.computeSourceURL(this.sourceRoot,v,this._sourceMapURL));var _=t.getArg(m,"name",null);return _!==null&&(_=this._names.at(_)),{source:v,line:t.getArg(m,"originalLine",null),column:t.getArg(m,"originalColumn",null),name:_}}}return{source:null,line:null,column:null,name:null}},"SourceMapConsumer_originalPositionFor"),c.prototype.hasContentsOfAllSources=i(function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(d){return d==null}):!1},"BasicSourceMapConsumer_hasContentsOfAllSources"),c.prototype.sourceContentFor=i(function(d,p){if(!this.sourcesContent)return null;var h=this._findSourceIndex(d);if(h>=0)return this.sourcesContent[h];var m=d;this.sourceRoot!=null&&(m=t.relative(this.sourceRoot,m));var v;if(this.sourceRoot!=null&&(v=t.urlParse(this.sourceRoot))){var _=m.replace(/^file:\/\//,"");if(v.scheme=="file"&&this._sources.has(_))return this.sourcesContent[this._sources.indexOf(_)];if((!v.path||v.path=="/")&&this._sources.has("/"+m))return this.sourcesContent[this._sources.indexOf("/"+m)]}if(p)return null;throw new Error('"'+m+'" is not in the SourceMap.')},"SourceMapConsumer_sourceContentFor"),c.prototype.generatedPositionFor=i(function(d){var p=t.getArg(d,"source");if(p=this._findSourceIndex(p),p<0)return{line:null,column:null,lastColumn:null};var h={source:p,originalLine:t.getArg(d,"line"),originalColumn:t.getArg(d,"column")},m=this._findMapping(h,this._originalMappings,"originalLine","originalColumn",t.compareByOriginalPositions,t.getArg(d,"bias",l.GREATEST_LOWER_BOUND));if(m>=0){var v=this._originalMappings[m];if(v.source===h.source)return{line:t.getArg(v,"generatedLine",null),column:t.getArg(v,"generatedColumn",null),lastColumn:t.getArg(v,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},"SourceMapConsumer_generatedPositionFor"),e.BasicSourceMapConsumer=c;function f(d,p){var h=d;typeof d=="string"&&(h=t.parseSourceMapInput(d));var m=t.getArg(h,"version"),v=t.getArg(h,"sections");if(m!=this._version)throw new Error("Unsupported version: "+m);this._sources=new n,this._names=new n;var _={line:-1,column:0};this._sections=v.map(function(b){if(b.url)throw new Error("Support for url field in sections not implemented.");var S=t.getArg(b,"offset"),A=t.getArg(S,"line"),O=t.getArg(S,"column");if(A<_.line||A===_.line&&O<_.column)throw new Error("Section offsets must be ordered and non-overlapping.");return _=S,{generatedOffset:{generatedLine:A+1,generatedColumn:O+1},consumer:new l(t.getArg(b,"map"),p)}})}o(f,"V"),i(f,"IndexedSourceMapConsumer"),f.prototype=Object.create(l.prototype),f.prototype.constructor=l,f.prototype._version=3,Object.defineProperty(f.prototype,"sources",{get:function(){for(var d=[],p=0;p<this._sections.length;p++)for(var h=0;h<this._sections[p].consumer.sources.length;h++)d.push(this._sections[p].consumer.sources[h]);return d}}),f.prototype.originalPositionFor=i(function(d){var p={generatedLine:t.getArg(d,"line"),generatedColumn:t.getArg(d,"column")},h=r.search(p,this._sections,function(v,_){var b=v.generatedLine-_.generatedOffset.generatedLine;return b||v.generatedColumn-_.generatedOffset.generatedColumn}),m=this._sections[h];return m?m.consumer.originalPositionFor({line:p.generatedLine-(m.generatedOffset.generatedLine-1),column:p.generatedColumn-(m.generatedOffset.generatedLine===p.generatedLine?m.generatedOffset.generatedColumn-1:0),bias:d.bias}):{source:null,line:null,column:null,name:null}},"IndexedSourceMapConsumer_originalPositionFor"),f.prototype.hasContentsOfAllSources=i(function(){return this._sections.every(function(d){return d.consumer.hasContentsOfAllSources()})},"IndexedSourceMapConsumer_hasContentsOfAllSources"),f.prototype.sourceContentFor=i(function(d,p){for(var h=0;h<this._sections.length;h++){var m=this._sections[h],v=m.consumer.sourceContentFor(d,!0);if(v)return v}if(p)return null;throw new Error('"'+d+'" is not in the SourceMap.')},"IndexedSourceMapConsumer_sourceContentFor"),f.prototype.generatedPositionFor=i(function(d){for(var p=0;p<this._sections.length;p++){var h=this._sections[p];if(h.consumer._findSourceIndex(t.getArg(d,"source"))!==-1){var m=h.consumer.generatedPositionFor(d);if(m){var v={line:m.line+(h.generatedOffset.generatedLine-1),column:m.column+(h.generatedOffset.generatedLine===m.line?h.generatedOffset.generatedColumn-1:0)};return v}}}return{line:null,column:null}},"IndexedSourceMapConsumer_generatedPositionFor"),f.prototype._parseMappings=i(function(d,p){this.__generatedMappings=[],this.__originalMappings=[];for(var h=0;h<this._sections.length;h++)for(var m=this._sections[h],v=m.consumer._generatedMappings,_=0;_<v.length;_++){var b=v[_],S=m.consumer._sources.at(b.source);S=t.computeSourceURL(m.consumer.sourceRoot,S,this._sourceMapURL),this._sources.add(S),S=this._sources.indexOf(S);var A=null;b.name&&(A=m.consumer._names.at(b.name),this._names.add(A),A=this._names.indexOf(A));var O={source:S,generatedLine:b.generatedLine+(m.generatedOffset.generatedLine-1),generatedColumn:b.generatedColumn+(m.generatedOffset.generatedLine===b.generatedLine?m.generatedOffset.generatedColumn-1:0),originalLine:b.originalLine,originalColumn:b.originalColumn,name:A};this.__generatedMappings.push(O),typeof O.originalLine=="number"&&this.__originalMappings.push(O)}a(this.__generatedMappings,t.compareByGeneratedPositionsDeflated),a(this.__originalMappings,t.compareByOriginalPositions)},"IndexedSourceMapConsumer_parseMappings"),e.IndexedSourceMapConsumer=f}),Or=P(e=>{var t=ln().SourceMapGenerator,r=Se(),n=/(\r?\n)/,s=10,a="$$$isSourceNode$$$";function l(c,u,f,d,p){this.children=[],this.sourceContents={},this.line=c!=null?c:null,this.column=u!=null?u:null,this.source=f!=null?f:null,this.name=p!=null?p:null,this[a]=!0,d!=null&&this.add(d)}o(l,"R"),i(l,"SourceNode"),l.fromStringWithSourceMap=i(function(c,u,f){var d=new l,p=c.split(n),h=0,m=i(function(){var A=L(),O=L()||"";return A+O;function L(){return h<p.length?p[h++]:void 0}},"shiftNextLine"),v=1,_=0,b=null;return u.eachMapping(function(A){if(b!==null)if(v<A.generatedLine)S(b,m()),v++,_=0;else{var O=p[h]||"",L=O.substr(0,A.generatedColumn-_);p[h]=O.substr(A.generatedColumn-_),_=A.generatedColumn,S(b,L),b=A;return}for(;v<A.generatedLine;)d.add(m()),v++;if(_<A.generatedColumn){var O=p[h]||"";d.add(O.substr(0,A.generatedColumn)),p[h]=O.substr(A.generatedColumn),_=A.generatedColumn}b=A},this),h<p.length&&(b&&S(b,m()),d.add(p.splice(h).join(""))),u.sources.forEach(function(A){var O=u.sourceContentFor(A);O!=null&&(f!=null&&(A=r.join(f,A)),d.setSourceContent(A,O))}),d;function S(A,O){if(A===null||A.source===void 0)d.add(O);else{var L=f?r.join(f,A.source):A.source;d.add(new l(A.originalLine,A.originalColumn,L,O,A.name))}}},"SourceNode_fromStringWithSourceMap"),l.prototype.add=i(function(c){if(Array.isArray(c))c.forEach(function(u){this.add(u)},this);else if(c[a]||typeof c=="string")c&&this.children.push(c);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+c);return this},"SourceNode_add"),l.prototype.prepend=i(function(c){if(Array.isArray(c))for(var u=c.length-1;u>=0;u--)this.prepend(c[u]);else if(c[a]||typeof c=="string")this.children.unshift(c);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+c);return this},"SourceNode_prepend"),l.prototype.walk=i(function(c){for(var u,f=0,d=this.children.length;f<d;f++)u=this.children[f],u[a]?u.walk(c):u!==""&&c(u,{source:this.source,line:this.line,column:this.column,name:this.name})},"SourceNode_walk"),l.prototype.join=i(function(c){var u,f,d=this.children.length;if(d>0){for(u=[],f=0;f<d-1;f++)u.push(this.children[f]),u.push(c);u.push(this.children[f]),this.children=u}return this},"SourceNode_join"),l.prototype.replaceRight=i(function(c,u){var f=this.children[this.children.length-1];return f[a]?f.replaceRight(c,u):typeof f=="string"?this.children[this.children.length-1]=f.replace(c,u):this.children.push("".replace(c,u)),this},"SourceNode_replaceRight"),l.prototype.setSourceContent=i(function(c,u){this.sourceContents[r.toSetString(c)]=u},"SourceNode_setSourceContent"),l.prototype.walkSourceContents=i(function(c){for(var u=0,f=this.children.length;u<f;u++)this.children[u][a]&&this.children[u].walkSourceContents(c);for(var d=Object.keys(this.sourceContents),u=0,f=d.length;u<f;u++)c(r.fromSetString(d[u]),this.sourceContents[d[u]])},"SourceNode_walkSourceContents"),l.prototype.toString=i(function(){var c="";return this.walk(function(u){c+=u}),c},"SourceNode_toString"),l.prototype.toStringWithSourceMap=i(function(c){var u={code:"",line:1,column:0},f=new t(c),d=!1,p=null,h=null,m=null,v=null;return this.walk(function(_,b){u.code+=_,b.source!==null&&b.line!==null&&b.column!==null?((p!==b.source||h!==b.line||m!==b.column||v!==b.name)&&f.addMapping({source:b.source,original:{line:b.line,column:b.column},generated:{line:u.line,column:u.column},name:b.name}),p=b.source,h=b.line,m=b.column,v=b.name,d=!0):d&&(f.addMapping({generated:{line:u.line,column:u.column}}),p=null,d=!1);for(var S=0,A=_.length;S<A;S++)_.charCodeAt(S)===s?(u.line++,u.column=0,S+1===A?(p=null,d=!1):d&&f.addMapping({source:b.source,original:{line:b.line,column:b.column},generated:{line:u.line,column:u.column},name:b.name})):u.column++}),this.walkSourceContents(function(_,b){f.setSourceContent(_,b)}),{code:u.code,map:f}},"SourceNode_toStringWithSourceMap"),e.SourceNode=l}),Dr=P(e=>{e.SourceMapGenerator=ln().SourceMapGenerator,e.SourceMapConsumer=Fr().SourceMapConsumer,e.SourceNode=Or().SourceNode}),Wr=P((e,t)=>{var r=Object.prototype.toString,n=typeof Buffer.alloc=="function"&&typeof Buffer.allocUnsafe=="function"&&typeof Buffer.from=="function";function s(u){return r.call(u).slice(8,-1)==="ArrayBuffer"}o(s,"Ds"),i(s,"isArrayBuffer");function a(u,f,d){f>>>=0;var p=u.byteLength-f;if(p<0)throw new RangeError("'offset' is out of bounds");if(d===void 0)d=p;else if(d>>>=0,d>p)throw new RangeError("'length' is out of bounds");return n?Buffer.from(u.slice(f,f+d)):new Buffer(new Uint8Array(u.slice(f,f+d)))}o(a,"Bs"),i(a,"fromArrayBuffer");function l(u,f){if((typeof f!="string"||f==="")&&(f="utf8"),!Buffer.isEncoding(f))throw new TypeError('"encoding" must be a valid string encoding');return n?Buffer.from(u,f):new Buffer(u,f)}o(l,"Ws"),i(l,"fromString");function c(u,f,d){if(typeof u=="number")throw new TypeError('"value" argument must not be a number');return s(u)?a(u,f,d):typeof u=="string"?l(u,f):n?Buffer.from(u):new Buffer(u)}o(c,"Us"),i(c,"bufferFrom"),t.exports=c}),$r=P((e,t)=>{var r=Dr().SourceMapConsumer,n=require("path"),s;try{s=require("fs"),(!s.existsSync||!s.readFileSync)&&(s=null)}catch{}var a=Wr();function l(Ee,_e){return Ee.require(_e)}o(l,"Ur"),i(l,"dynamicRequire");var c=!1,u=!1,f=!1,d="auto",p={},h={},m=/^data:application\/json[^,]+base64,/,v=[],_=[];function b(){return d==="browser"?!0:d==="node"?!1:typeof window<"u"&&typeof XMLHttpRequest=="function"&&!(window.require&&window.module&&window.process&&window.process.type==="renderer")}o(b,"bn"),i(b,"isInBrowser");function S(){return typeof process=="object"&&process!==null&&typeof process.on=="function"}o(S,"qs"),i(S,"hasGlobalProcessEventEmitter");function A(){return typeof process=="object"&&process!==null?process.version:""}o(A,"js"),i(A,"globalProcessVersion");function O(){if(typeof process=="object"&&process!==null)return process.stderr}o(O,"Zs"),i(O,"globalProcessStderr");function L(Ee){if(typeof process=="object"&&process!==null&&typeof process.exit=="function")return process.exit(Ee)}o(L,"$s"),i(L,"globalProcessExit");function D(Ee){return function(_e){for(var Er=0;Er<Ee.length;Er++){var Vr=Ee[Er](_e);if(Vr)return Vr}return null}}o(D,"Tt"),i(D,"handlerExec");var $=D(v);v.push(function(Ee){if(Ee=Ee.trim(),/^file:/.test(Ee)&&(Ee=Ee.replace(/file:\/\/\/(\w:)?/,function(Vr,zr){return zr?"":"/"})),Ee in p)return p[Ee];var _e="";try{if(s)s.existsSync(Ee)&&(_e=s.readFileSync(Ee,"utf8"));else{var Er=new XMLHttpRequest;Er.open("GET",Ee,!1),Er.send(null),Er.readyState===4&&Er.status===200&&(_e=Er.responseText)}}catch{}return p[Ee]=_e});function de(Ee,_e){if(!Ee)return _e;var Er=n.dirname(Ee),Vr=/^\w+:\/\/[^\/]*/.exec(Er),zr=Vr?Vr[0]:"",jr=Er.slice(zr.length);return zr&&/^\/\w\:/.test(jr)?(zr+="/",zr+n.resolve(Er.slice(zr.length),_e).replace(/\\/g,"/")):zr+n.resolve(Er.slice(zr.length),_e)}o(de,"gn"),i(de,"supportRelativeURL");function ue(Ee){var _e;if(b())try{var Er=new XMLHttpRequest;Er.open("GET",Ee,!1),Er.send(null),_e=Er.readyState===4?Er.responseText:null;var Vr=Er.getResponseHeader("SourceMap")||Er.getResponseHeader("X-SourceMap");if(Vr)return Vr}catch{}_e=$(Ee);for(var zr=/(?:\/\/[@#][\s]*sourceMappingURL=([^\s'"]+)[\s]*$)|(?:\/\*[@#][\s]*sourceMappingURL=([^\s*'"]+)[\s]*(?:\*\/)[\s]*$)/mg,jr,Ri;Ri=zr.exec(_e);)jr=Ri;return jr?jr[1]:null}o(ue,"Gs"),i(ue,"retrieveSourceMapURL");var Ze=D(_);_.push(function(Ee){var _e=ue(Ee);if(!_e)return null;var Er;if(m.test(_e)){var Vr=_e.slice(_e.indexOf(",")+1);Er=a(Vr,"base64").toString(),_e=Ee}else _e=de(Ee,_e),Er=$(_e);return Er?{url:_e,map:Er}:null});function vr(Ee){var _e=h[Ee.source];if(!_e){var Er=Ze(Ee.source);Er?(_e=h[Ee.source]={url:Er.url,map:new r(Er.map)},_e.map.sourcesContent&&_e.map.sources.forEach(function(zr,jr){var Ri=_e.map.sourcesContent[jr];if(Ri){var je=de(_e.url,zr);p[je]=Ri}})):_e=h[Ee.source]={url:null,map:null}}if(_e&&_e.map&&typeof _e.map.originalPositionFor=="function"){var Vr=_e.map.originalPositionFor(Ee);if(Vr.source!==null)return Vr.source=de(_e.url,Vr.source),Vr}return Ee}o(vr,"vn"),i(vr,"mapSourcePosition");function vt(Ee){var _e=/^eval at ([^(]+) \((.+):(\d+):(\d+)\)$/.exec(Ee);if(_e){var Er=vr({source:_e[2],line:+_e[3],column:_e[4]-1});return"eval at "+_e[1]+" ("+Er.source+":"+Er.line+":"+(Er.column+1)+")"}return _e=/^eval at ([^(]+) \((.+)\)$/.exec(Ee),_e?"eval at "+_e[1]+" ("+vt(_e[2])+")":Ee}o(vt,"qr"),i(vt,"mapEvalOrigin");function wr(){var Ee,_e="";if(this.isNative())_e="native";else{Ee=this.getScriptNameOrSourceURL(),!Ee&&this.isEval()&&(_e=this.getEvalOrigin(),_e+=", "),Ee?_e+=Ee:_e+="<anonymous>";var Er=this.getLineNumber();if(Er!=null){_e+=":"+Er;var Vr=this.getColumnNumber();Vr&&(_e+=":"+Vr)}}var zr="",jr=this.getFunctionName(),Ri=!0,je=this.isConstructor(),en=!(this.isToplevel()||je);if(en){var Ke=this.getTypeName();Ke==="[object Object]"&&(Ke="null");var un=this.getMethodName();jr?(Ke&&jr.indexOf(Ke)!=0&&(zr+=Ke+"."),zr+=jr,un&&jr.indexOf("."+un)!=jr.length-un.length-1&&(zr+=" [as "+un+"]")):zr+=Ke+"."+(un||"<anonymous>")}else je?zr+="new "+(jr||"<anonymous>"):jr?zr+=jr:(zr+=_e,Ri=!1);return Ri&&(zr+=" ("+_e+")"),zr}o(wr,"Ks"),i(wr,"CallSiteToString");function Ve(Ee){var _e={};return Object.getOwnPropertyNames(Object.getPrototypeOf(Ee)).forEach(function(Er){_e[Er]=/^(?:is|get)/.test(Er)?function(){return Ee[Er].call(Ee)}:Ee[Er]}),_e.toString=wr,_e}o(Ve,"Hr"),i(Ve,"cloneCallSite");function Me(Ee,_e){if(_e===void 0&&(_e={nextPosition:null,curPosition:null}),Ee.isNative())return _e.curPosition=null,Ee;var Er=Ee.getFileName()||Ee.getScriptNameOrSourceURL();if(Er){var Vr=Ee.getLineNumber(),zr=Ee.getColumnNumber()-1,jr=/^v(10\.1[6-9]|10\.[2-9][0-9]|10\.[0-9]{3,}|1[2-9]\d*|[2-9]\d|\d{3,}|11\.11)/,Ri=jr.test(A())?0:62;Vr===1&&zr>Ri&&!b()&&!Ee.isEval()&&(zr-=Ri);var je=vr({source:Er,line:Vr,column:zr});_e.curPosition=je,Ee=Ve(Ee);var en=Ee.getFunctionName;return Ee.getFunctionName=function(){return _e.nextPosition==null?en():_e.nextPosition.name||en()},Ee.getFileName=function(){return je.source},Ee.getLineNumber=function(){return je.line},Ee.getColumnNumber=function(){return je.column+1},Ee.getScriptNameOrSourceURL=function(){return je.source},Ee}var Ke=Ee.isEval()&&Ee.getEvalOrigin();return Ke&&(Ke=vt(Ke),Ee=Ve(Ee),Ee.getEvalOrigin=function(){return Ke}),Ee}o(Me,"jr"),i(Me,"wrapCallSite");function St(Ee,_e){f&&(p={},h={});for(var Er=Ee.name||"Error",Vr=Ee.message||"",zr=Er+": "+Vr,jr={nextPosition:null,curPosition:null},Ri=[],je=_e.length-1;je>=0;je--)Ri.push(`
    at `+Me(_e[je],jr)),jr.nextPosition=jr.curPosition;return jr.curPosition=jr.nextPosition=null,zr+Ri.reverse().join("")}o(St,"Js"),i(St,"prepareStackTrace");function br(Ee){var _e=/\n    at [^(]+ \((.*):(\d+):(\d+)\)/.exec(Ee.stack);if(_e){var Er=_e[1],Vr=+_e[2],zr=+_e[3],jr=p[Er];if(!jr&&s&&s.existsSync(Er))try{jr=s.readFileSync(Er,"utf8")}catch{jr=""}if(jr){var Ri=jr.split(/(?:\r\n|\r|\n)/)[Vr-1];if(Ri)return Er+":"+Vr+`
`+Ri+`
`+new Array(zr).join(" ")+"^"}}return null}o(br,"Zr"),i(br,"getErrorSource");function Yt(Ee){var _e=br(Ee),Er=O();Er&&Er._handle&&Er._handle.setBlocking&&Er._handle.setBlocking(!0),_e&&(console.error(),console.error(_e)),console.error(Ee.stack),L(1)}o(Yt,"Qs"),i(Yt,"printErrorAndExit");function hr(){var Ee=process.emit;process.emit=function(_e){if(_e==="uncaughtException"){var Er=arguments[1]&&arguments[1].stack,Vr=this.listeners(_e).length>0;if(Er&&!Vr)return Yt(arguments[1])}return Ee.apply(this,arguments)}}o(hr,"Xs"),i(hr,"shimEmitUncaughtException");var Mt=v.slice(0),yr=_.slice(0);e.wrapCallSite=Me,e.getErrorSource=br,e.mapSourcePosition=vr,e.retrieveSourceMap=Ze,e.install=function(Ee){if(Ee=Ee||{},Ee.environment&&(d=Ee.environment,["node","browser","auto"].indexOf(d)===-1))throw new Error("environment "+d+" was unknown. Available options are {auto, browser, node}");if(Ee.retrieveFile&&(Ee.overrideRetrieveFile&&(v.length=0),v.unshift(Ee.retrieveFile)),Ee.retrieveSourceMap&&(Ee.overrideRetrieveSourceMap&&(_.length=0),_.unshift(Ee.retrieveSourceMap)),Ee.hookRequire&&!b()){var _e=l(t,"module"),Er=_e.prototype._compile;Er.__sourceMapSupport||(_e.prototype._compile=function(jr,Ri){return p[Ri]=jr,h[Ri]=void 0,Er.call(this,jr,Ri)},_e.prototype._compile.__sourceMapSupport=!0)}if(f||(f="emptyCacheBetweenOperations"in Ee?Ee.emptyCacheBetweenOperations:!1),c||(c=!0,Error.prepareStackTrace=St),!u){var Vr="handleUncaughtExceptions"in Ee?Ee.handleUncaughtExceptions:!0;try{var zr=l(t,"worker_threads");zr.isMainThread===!1&&(Vr=!1)}catch{}Vr&&S()&&(u=!0,hr())}},e.resetRetrieveHandlers=function(){v.length=0,_.length=0,v=Mt.slice(0),_=yr.slice(0),Ze=D(_),$=D(v)}}),Gr=P(()=>{$r().install()}),to=P((exports,module)=>{var Module=Module!==void 0?Module:{},TreeSitter=function(){var initPromise,document=typeof window=="object"?{currentScript:window.document.currentScript}:null;let _Parser=class _Parser{constructor(){this.initialize()}initialize(){throw new Error("cannot construct a Parser before calling `init()`")}static init(moduleOptions){return initPromise||(Module=Object.assign({},Module,moduleOptions),initPromise=new Promise(resolveInitPromise=>{var moduleOverrides=Object.assign({},Module),arguments_=[],thisProgram="./this.program",quit_=i((l,c)=>{throw c},"quit_"),ENVIRONMENT_IS_WEB=typeof window=="object",ENVIRONMENT_IS_WORKER=typeof importScripts=="function",ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",scriptDirectory="",read_,readAsync,readBinary,setWindowTitle;function locateFile(l){return Module.locateFile?Module.locateFile(l,scriptDirectory):scriptDirectory+l}o(locateFile,"locateFile"),i(locateFile,"locateFile");function logExceptionOnExit(l){l instanceof ExitStatus||err("exiting due to exception: "+l)}if(o(logExceptionOnExit,"logExceptionOnExit"),i(logExceptionOnExit,"logExceptionOnExit"),ENVIRONMENT_IS_NODE){var fs=require("fs"),nodePath=require("path");scriptDirectory=ENVIRONMENT_IS_WORKER?nodePath.dirname(scriptDirectory)+"/":__dirname+"/",read_=i((l,c)=>(l=isFileURI(l)?new URL(l):nodePath.normalize(l),fs.readFileSync(l,c?void 0:"utf8")),"read_"),readBinary=i(l=>{var c=read_(l,!0);return c.buffer||(c=new Uint8Array(c)),c},"readBinary"),readAsync=i((l,c,u)=>{l=isFileURI(l)?new URL(l):nodePath.normalize(l),fs.readFile(l,function(f,d){f?u(f):c(d.buffer)})},"readAsync"),process.argv.length>1&&(thisProgram=process.argv[1].replace(/\\/g,"/")),arguments_=process.argv.slice(2),typeof module<"u"&&(module.exports=Module),quit_=i((l,c)=>{if(keepRuntimeAlive())throw process.exitCode=l,c;logExceptionOnExit(c),process.exit(l)},"quit_"),Module.inspect=function(){return"[Emscripten Module object]"}}else(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)&&(ENVIRONMENT_IS_WORKER?scriptDirectory=self.location.href:document!==void 0&&document.currentScript&&(scriptDirectory=document.currentScript.src),scriptDirectory=scriptDirectory.indexOf("blob:")!==0?scriptDirectory.substr(0,scriptDirectory.replace(/[?#].*/,"").lastIndexOf("/")+1):"",read_=i(l=>{var c=new XMLHttpRequest;return c.open("GET",l,!1),c.send(null),c.responseText},"read_"),ENVIRONMENT_IS_WORKER&&(readBinary=i(l=>{var c=new XMLHttpRequest;return c.open("GET",l,!1),c.responseType="arraybuffer",c.send(null),new Uint8Array(c.response)},"readBinary")),readAsync=i((l,c,u)=>{var f=new XMLHttpRequest;f.open("GET",l,!0),f.responseType="arraybuffer",f.onload=()=>{f.status==200||f.status==0&&f.response?c(f.response):u()},f.onerror=u,f.send(null)},"readAsync"),setWindowTitle=i(l=>document.title=l,"setWindowTitle"));var out=Module.print||console.log.bind(console),err=Module.printErr||console.warn.bind(console);Object.assign(Module,moduleOverrides),moduleOverrides=null,Module.arguments&&(arguments_=Module.arguments),Module.thisProgram&&(thisProgram=Module.thisProgram),Module.quit&&(quit_=Module.quit);var STACK_ALIGN=16,dynamicLibraries=Module.dynamicLibraries||[],wasmBinary;Module.wasmBinary&&(wasmBinary=Module.wasmBinary);var noExitRuntime=Module.noExitRuntime||!0,wasmMemory;typeof WebAssembly!="object"&&abort("no native wasm support detected");var ABORT=!1,EXITSTATUS,UTF8Decoder=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,buffer,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function UTF8ArrayToString(l,c,u){for(var f=c+u,d=c;l[d]&&!(d>=f);)++d;if(d-c>16&&l.buffer&&UTF8Decoder)return UTF8Decoder.decode(l.subarray(c,d));for(var p="";c<d;){var h=l[c++];if(128&h){var m=63&l[c++];if((224&h)!=192){var v=63&l[c++];if((h=(240&h)==224?(15&h)<<12|m<<6|v:(7&h)<<18|m<<12|v<<6|63&l[c++])<65536)p+=String.fromCharCode(h);else{var _=h-65536;p+=String.fromCharCode(55296|_>>10,56320|1023&_)}}else p+=String.fromCharCode((31&h)<<6|m)}else p+=String.fromCharCode(h)}return p}o(UTF8ArrayToString,"UTF8ArrayToString"),i(UTF8ArrayToString,"UTF8ArrayToString");function UTF8ToString(l,c){return l?UTF8ArrayToString(HEAPU8,l,c):""}o(UTF8ToString,"UTF8ToString"),i(UTF8ToString,"UTF8ToString");function stringToUTF8Array(l,c,u,f){if(!(f>0))return 0;for(var d=u,p=u+f-1,h=0;h<l.length;++h){var m=l.charCodeAt(h);if(m>=55296&&m<=57343&&(m=65536+((1023&m)<<10)|1023&l.charCodeAt(++h)),m<=127){if(u>=p)break;c[u++]=m}else if(m<=2047){if(u+1>=p)break;c[u++]=192|m>>6,c[u++]=128|63&m}else if(m<=65535){if(u+2>=p)break;c[u++]=224|m>>12,c[u++]=128|m>>6&63,c[u++]=128|63&m}else{if(u+3>=p)break;c[u++]=240|m>>18,c[u++]=128|m>>12&63,c[u++]=128|m>>6&63,c[u++]=128|63&m}}return c[u]=0,u-d}o(stringToUTF8Array,"stringToUTF8Array"),i(stringToUTF8Array,"stringToUTF8Array");function stringToUTF8(l,c,u){return stringToUTF8Array(l,HEAPU8,c,u)}o(stringToUTF8,"stringToUTF8"),i(stringToUTF8,"stringToUTF8");function lengthBytesUTF8(l){for(var c=0,u=0;u<l.length;++u){var f=l.charCodeAt(u);f<=127?c++:f<=2047?c+=2:f>=55296&&f<=57343?(c+=4,++u):c+=3}return c}o(lengthBytesUTF8,"lengthBytesUTF8"),i(lengthBytesUTF8,"lengthBytesUTF8");function updateGlobalBufferAndViews(l){buffer=l,Module.HEAP8=HEAP8=new Int8Array(l),Module.HEAP16=HEAP16=new Int16Array(l),Module.HEAP32=HEAP32=new Int32Array(l),Module.HEAPU8=HEAPU8=new Uint8Array(l),Module.HEAPU16=HEAPU16=new Uint16Array(l),Module.HEAPU32=HEAPU32=new Uint32Array(l),Module.HEAPF32=HEAPF32=new Float32Array(l),Module.HEAPF64=HEAPF64=new Float64Array(l)}o(updateGlobalBufferAndViews,"updateGlobalBufferAndViews"),i(updateGlobalBufferAndViews,"updateGlobalBufferAndViews");var INITIAL_MEMORY=Module.INITIAL_MEMORY||33554432;wasmMemory=Module.wasmMemory?Module.wasmMemory:new WebAssembly.Memory({initial:INITIAL_MEMORY/65536,maximum:32768}),wasmMemory&&(buffer=wasmMemory.buffer),INITIAL_MEMORY=buffer.byteLength,updateGlobalBufferAndViews(buffer);var wasmTable=new WebAssembly.Table({initial:20,element:"anyfunc"}),__ATPRERUN__=[],__ATINIT__=[],__ATMAIN__=[],__ATPOSTRUN__=[],__RELOC_FUNCS__=[],runtimeInitialized=!1;function keepRuntimeAlive(){return noExitRuntime}o(keepRuntimeAlive,"keepRuntimeAlive"),i(keepRuntimeAlive,"keepRuntimeAlive");function preRun(){if(Module.preRun)for(typeof Module.preRun=="function"&&(Module.preRun=[Module.preRun]);Module.preRun.length;)addOnPreRun(Module.preRun.shift());callRuntimeCallbacks(__ATPRERUN__)}o(preRun,"preRun"),i(preRun,"preRun");function initRuntime(){runtimeInitialized=!0,callRuntimeCallbacks(__RELOC_FUNCS__),callRuntimeCallbacks(__ATINIT__)}o(initRuntime,"initRuntime"),i(initRuntime,"initRuntime");function preMain(){callRuntimeCallbacks(__ATMAIN__)}o(preMain,"preMain"),i(preMain,"preMain");function postRun(){if(Module.postRun)for(typeof Module.postRun=="function"&&(Module.postRun=[Module.postRun]);Module.postRun.length;)addOnPostRun(Module.postRun.shift());callRuntimeCallbacks(__ATPOSTRUN__)}o(postRun,"postRun"),i(postRun,"postRun");function addOnPreRun(l){__ATPRERUN__.unshift(l)}o(addOnPreRun,"addOnPreRun"),i(addOnPreRun,"addOnPreRun");function addOnInit(l){__ATINIT__.unshift(l)}o(addOnInit,"addOnInit"),i(addOnInit,"addOnInit");function addOnPostRun(l){__ATPOSTRUN__.unshift(l)}o(addOnPostRun,"addOnPostRun"),i(addOnPostRun,"addOnPostRun");var runDependencies=0,runDependencyWatcher=null,dependenciesFulfilled=null;function addRunDependency(l){runDependencies++,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies)}o(addRunDependency,"addRunDependency"),i(addRunDependency,"addRunDependency");function removeRunDependency(l){if(runDependencies--,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies),runDependencies==0&&(runDependencyWatcher!==null&&(clearInterval(runDependencyWatcher),runDependencyWatcher=null),dependenciesFulfilled)){var c=dependenciesFulfilled;dependenciesFulfilled=null,c()}}o(removeRunDependency,"removeRunDependency"),i(removeRunDependency,"removeRunDependency");function abort(l){throw Module.onAbort&&Module.onAbort(l),err(l="Aborted("+l+")"),ABORT=!0,EXITSTATUS=1,l+=". Build with -sASSERTIONS for more info.",new WebAssembly.RuntimeError(l)}o(abort,"abort"),i(abort,"abort");var dataURIPrefix="data:application/octet-stream;base64,",wasmBinaryFile,tempDouble,tempI64;function isDataURI(l){return l.startsWith(dataURIPrefix)}o(isDataURI,"isDataURI"),i(isDataURI,"isDataURI");function isFileURI(l){return l.startsWith("file://")}o(isFileURI,"isFileURI"),i(isFileURI,"isFileURI");function getBinary(l){try{if(l==wasmBinaryFile&&wasmBinary)return new Uint8Array(wasmBinary);if(readBinary)return readBinary(l);throw"both async and sync fetching of the wasm failed"}catch(c){abort(c)}}o(getBinary,"getBinary"),i(getBinary,"getBinary");function getBinaryPromise(){if(!wasmBinary&&(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)){if(typeof fetch=="function"&&!isFileURI(wasmBinaryFile))return fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(l){if(!l.ok)throw"failed to load wasm binary file at '"+wasmBinaryFile+"'";return l.arrayBuffer()}).catch(function(){return getBinary(wasmBinaryFile)});if(readAsync)return new Promise(function(l,c){readAsync(wasmBinaryFile,function(u){l(new Uint8Array(u))},c)})}return Promise.resolve().then(function(){return getBinary(wasmBinaryFile)})}o(getBinaryPromise,"getBinaryPromise"),i(getBinaryPromise,"getBinaryPromise");function createWasm(){var l={env:asmLibraryArg,wasi_snapshot_preview1:asmLibraryArg,"GOT.mem":new Proxy(asmLibraryArg,GOTHandler),"GOT.func":new Proxy(asmLibraryArg,GOTHandler)};function c(d,p){var h=d.exports;h=relocateExports(h,1024);var m=getDylinkMetadata(p);m.neededDynlibs&&(dynamicLibraries=m.neededDynlibs.concat(dynamicLibraries)),mergeLibSymbols(h,"main"),Module.asm=h,addOnInit(Module.asm.__wasm_call_ctors),__RELOC_FUNCS__.push(Module.asm.__wasm_apply_data_relocs),removeRunDependency("wasm-instantiate")}o(c,"e"),i(c,"t");function u(d){c(d.instance,d.module)}o(u,"n"),i(u,"r");function f(d){return getBinaryPromise().then(function(p){return WebAssembly.instantiate(p,l)}).then(function(p){return p}).then(d,function(p){err("failed to asynchronously prepare wasm: "+p),abort(p)})}if(o(f,"r"),i(f,"_"),addRunDependency("wasm-instantiate"),Module.instantiateWasm)try{return Module.instantiateWasm(l,c)}catch(d){return err("Module.instantiateWasm callback failed with error: "+d),!1}return wasmBinary||typeof WebAssembly.instantiateStreaming!="function"||isDataURI(wasmBinaryFile)||isFileURI(wasmBinaryFile)||ENVIRONMENT_IS_NODE||typeof fetch!="function"?f(u):fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(d){return WebAssembly.instantiateStreaming(d,l).then(u,function(p){return err("wasm streaming compile failed: "+p),err("falling back to ArrayBuffer instantiation"),f(u)})}),{}}o(createWasm,"createWasm"),i(createWasm,"createWasm"),wasmBinaryFile="tree-sitter.wasm",isDataURI(wasmBinaryFile)||(wasmBinaryFile=locateFile(wasmBinaryFile));var ASM_CONSTS={};function ExitStatus(l){this.name="ExitStatus",this.message="Program terminated with exit("+l+")",this.status=l}o(ExitStatus,"ExitStatus"),i(ExitStatus,"ExitStatus");var GOT={},CurrentModuleWeakSymbols=new Set([]),GOTHandler={get:function(l,c){var u=GOT[c];return u||(u=GOT[c]=new WebAssembly.Global({value:"i32",mutable:!0})),CurrentModuleWeakSymbols.has(c)||(u.required=!0),u}};function callRuntimeCallbacks(l){for(;l.length>0;)l.shift()(Module)}o(callRuntimeCallbacks,"callRuntimeCallbacks"),i(callRuntimeCallbacks,"callRuntimeCallbacks");function getDylinkMetadata(l){var c=0,u=0;function f(){for(var de=0,ue=1;;){var Ze=l[c++];if(de+=(127&Ze)*ue,ue*=128,!(128&Ze))break}return de}o(f,"r"),i(f,"_");function d(){var de=f();return UTF8ArrayToString(l,(c+=de)-de,de)}o(d,"o"),i(d,"n");function p(de,ue){if(de)throw new Error(ue)}o(p,"s"),i(p,"s");var h="dylink.0";if(l instanceof WebAssembly.Module){var m=WebAssembly.Module.customSections(l,h);m.length===0&&(h="dylink",m=WebAssembly.Module.customSections(l,h)),p(m.length===0,"need dylink section"),u=(l=new Uint8Array(m[0])).length}else{p(new Uint32Array(new Uint8Array(l.subarray(0,24)).buffer)[0]!=1836278016,"need to see wasm magic number"),p(l[8]!==0,"need the dylink section to be first"),c=9;var v=f();u=c+v,h=d()}var _={neededDynlibs:[],tlsExports:new Set,weakImports:new Set};if(h=="dylink"){_.memorySize=f(),_.memoryAlign=f(),_.tableSize=f(),_.tableAlign=f();for(var b=f(),S=0;S<b;++S){var A=d();_.neededDynlibs.push(A)}}else for(p(h!=="dylink.0");c<u;){var O=l[c++],L=f();if(O===1)_.memorySize=f(),_.memoryAlign=f(),_.tableSize=f(),_.tableAlign=f();else if(O===2)for(b=f(),S=0;S<b;++S)A=d(),_.neededDynlibs.push(A);else if(O===3)for(var D=f();D--;){var $=d();256&f()&&_.tlsExports.add($)}else if(O===4)for(D=f();D--;)d(),$=d(),(3&f())==1&&_.weakImports.add($);else c+=L}return _}o(getDylinkMetadata,"getDylinkMetadata"),i(getDylinkMetadata,"getDylinkMetadata");function getValue(l,c="i8"){switch(c.endsWith("*")&&(c="*"),c){case"i1":case"i8":return HEAP8[l>>0];case"i16":return HEAP16[l>>1];case"i32":case"i64":return HEAP32[l>>2];case"float":return HEAPF32[l>>2];case"double":return HEAPF64[l>>3];case"*":return HEAPU32[l>>2];default:abort("invalid type for getValue: "+c)}return null}o(getValue,"getValue"),i(getValue,"getValue");function asmjsMangle(l){return l.indexOf("dynCall_")==0||["stackAlloc","stackSave","stackRestore","getTempRet0","setTempRet0"].includes(l)?l:"_"+l}o(asmjsMangle,"asmjsMangle"),i(asmjsMangle,"asmjsMangle");function mergeLibSymbols(l,c){for(var u in l)if(l.hasOwnProperty(u)){asmLibraryArg.hasOwnProperty(u)||(asmLibraryArg[u]=l[u]);var f=asmjsMangle(u);Module.hasOwnProperty(f)||(Module[f]=l[u]),u=="__main_argc_argv"&&(Module._main=l[u])}}o(mergeLibSymbols,"mergeLibSymbols"),i(mergeLibSymbols,"mergeLibSymbols");var LDSO={loadedLibsByName:{},loadedLibsByHandle:{}};function dynCallLegacy(l,c,u){var f=Module["dynCall_"+l];return u&&u.length?f.apply(null,[c].concat(u)):f.call(null,c)}o(dynCallLegacy,"dynCallLegacy"),i(dynCallLegacy,"dynCallLegacy");var wasmTableMirror=[];function getWasmTableEntry(l){var c=wasmTableMirror[l];return c||(l>=wasmTableMirror.length&&(wasmTableMirror.length=l+1),wasmTableMirror[l]=c=wasmTable.get(l)),c}o(getWasmTableEntry,"getWasmTableEntry"),i(getWasmTableEntry,"getWasmTableEntry");function dynCall(l,c,u){return l.includes("j")?dynCallLegacy(l,c,u):getWasmTableEntry(c).apply(null,u)}o(dynCall,"dynCall"),i(dynCall,"dynCall");function createInvokeFunction(l){return function(){var c=stackSave();try{return dynCall(l,arguments[0],Array.prototype.slice.call(arguments,1))}catch(u){if(stackRestore(c),u!==u+0)throw u;_setThrew(1,0)}}}o(createInvokeFunction,"createInvokeFunction"),i(createInvokeFunction,"createInvokeFunction");var ___heap_base=78144;function zeroMemory(l,c){return HEAPU8.fill(0,l,l+c),l}o(zeroMemory,"zeroMemory"),i(zeroMemory,"zeroMemory");function getMemory(l){if(runtimeInitialized)return zeroMemory(_malloc(l),l);var c=___heap_base,u=c+l+15&-16;return ___heap_base=u,GOT.__heap_base.value=u,c}o(getMemory,"getMemory"),i(getMemory,"getMemory");function isInternalSym(l){return["__cpp_exception","__c_longjmp","__wasm_apply_data_relocs","__dso_handle","__tls_size","__tls_align","__set_stack_limits","_emscripten_tls_init","__wasm_init_tls","__wasm_call_ctors","__start_em_asm","__stop_em_asm"].includes(l)}o(isInternalSym,"isInternalSym"),i(isInternalSym,"isInternalSym");function uleb128Encode(l,c){l<128?c.push(l):c.push(l%128|128,l>>7)}o(uleb128Encode,"uleb128Encode"),i(uleb128Encode,"uleb128Encode");function sigToWasmTypes(l){for(var c={i:"i32",j:"i32",f:"f32",d:"f64",p:"i32"},u={parameters:[],results:l[0]=="v"?[]:[c[l[0]]]},f=1;f<l.length;++f)u.parameters.push(c[l[f]]),l[f]==="j"&&u.parameters.push("i32");return u}o(sigToWasmTypes,"sigToWasmTypes"),i(sigToWasmTypes,"sigToWasmTypes");function generateFuncType(l,c){var u=l.slice(0,1),f=l.slice(1),d={i:127,p:127,j:126,f:125,d:124};c.push(96),uleb128Encode(f.length,c);for(var p=0;p<f.length;++p)c.push(d[f[p]]);u=="v"?c.push(0):c.push(1,d[u])}o(generateFuncType,"generateFuncType"),i(generateFuncType,"generateFuncType");function convertJsFunctionToWasm(l,c){if(typeof WebAssembly.Function=="function")return new WebAssembly.Function(sigToWasmTypes(c),l);var u=[1];generateFuncType(c,u);var f=[0,97,115,109,1,0,0,0,1];uleb128Encode(u.length,f),f.push.apply(f,u),f.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var d=new WebAssembly.Module(new Uint8Array(f));return new WebAssembly.Instance(d,{e:{f:l}}).exports.f}o(convertJsFunctionToWasm,"convertJsFunctionToWasm"),i(convertJsFunctionToWasm,"convertJsFunctionToWasm");function updateTableMap(l,c){if(functionsInTableMap)for(var u=l;u<l+c;u++){var f=getWasmTableEntry(u);f&&functionsInTableMap.set(f,u)}}o(updateTableMap,"updateTableMap"),i(updateTableMap,"updateTableMap");var functionsInTableMap=void 0,freeTableIndexes=[];function getEmptyTableSlot(){if(freeTableIndexes.length)return freeTableIndexes.pop();try{wasmTable.grow(1)}catch(l){throw l instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":l}return wasmTable.length-1}o(getEmptyTableSlot,"getEmptyTableSlot"),i(getEmptyTableSlot,"getEmptyTableSlot");function setWasmTableEntry(l,c){wasmTable.set(l,c),wasmTableMirror[l]=wasmTable.get(l)}o(setWasmTableEntry,"setWasmTableEntry"),i(setWasmTableEntry,"setWasmTableEntry");function addFunction(l,c){if(functionsInTableMap||(functionsInTableMap=new WeakMap,updateTableMap(0,wasmTable.length)),functionsInTableMap.has(l))return functionsInTableMap.get(l);var u=getEmptyTableSlot();try{setWasmTableEntry(u,l)}catch(f){if(!(f instanceof TypeError))throw f;setWasmTableEntry(u,convertJsFunctionToWasm(l,c))}return functionsInTableMap.set(l,u),u}o(addFunction,"addFunction"),i(addFunction,"addFunction");function updateGOT(l,c){for(var u in l)if(!isInternalSym(u)){var f=l[u];u.startsWith("orig$")&&(u=u.split("$")[1],c=!0),GOT[u]||(GOT[u]=new WebAssembly.Global({value:"i32",mutable:!0})),(c||GOT[u].value==0)&&(typeof f=="function"?GOT[u].value=addFunction(f):typeof f=="number"?GOT[u].value=f:err("unhandled export type for `"+u+"`: "+typeof f))}}o(updateGOT,"updateGOT"),i(updateGOT,"updateGOT");function relocateExports(l,c,u){var f={};for(var d in l){var p=l[d];typeof p=="object"&&(p=p.value),typeof p=="number"&&(p+=c),f[d]=p}return updateGOT(f,u),f}o(relocateExports,"relocateExports"),i(relocateExports,"relocateExports");function resolveGlobalSymbol(l,c){var u;return c&&(u=asmLibraryArg["orig$"+l]),u||(u=asmLibraryArg[l])&&u.stub&&(u=void 0),u||(u=Module[asmjsMangle(l)]),!u&&l.startsWith("invoke_")&&(u=createInvokeFunction(l.split("_")[1])),u}o(resolveGlobalSymbol,"resolveGlobalSymbol"),i(resolveGlobalSymbol,"resolveGlobalSymbol");function alignMemory(l,c){return Math.ceil(l/c)*c}o(alignMemory,"alignMemory"),i(alignMemory,"alignMemory");function loadWebAssemblyModule(binary,flags,handle){var metadata=getDylinkMetadata(binary);function loadModule(){var firstLoad=!handle||!HEAP8[handle+12>>0];if(firstLoad){var memAlign=Math.pow(2,metadata.memoryAlign);memAlign=Math.max(memAlign,STACK_ALIGN);var memoryBase=metadata.memorySize?alignMemory(getMemory(metadata.memorySize+memAlign),memAlign):0,tableBase=metadata.tableSize?wasmTable.length:0;handle&&(HEAP8[handle+12>>0]=1,HEAPU32[handle+16>>2]=memoryBase,HEAP32[handle+20>>2]=metadata.memorySize,HEAPU32[handle+24>>2]=tableBase,HEAP32[handle+28>>2]=metadata.tableSize)}else memoryBase=HEAPU32[handle+16>>2],tableBase=HEAPU32[handle+24>>2];var tableGrowthNeeded=tableBase+metadata.tableSize-wasmTable.length,moduleExports;function resolveSymbol(l){var c=resolveGlobalSymbol(l,!1);return c||(c=moduleExports[l]),c}o(resolveSymbol,"resolveSymbol"),i(resolveSymbol,"resolveSymbol"),tableGrowthNeeded>0&&wasmTable.grow(tableGrowthNeeded);var proxyHandler={get:function(l,c){switch(c){case"__memory_base":return memoryBase;case"__table_base":return tableBase}if(c in asmLibraryArg)return asmLibraryArg[c];var u;return c in l||(l[c]=function(){return u||(u=resolveSymbol(c)),u.apply(null,arguments)}),l[c]}},proxy=new Proxy({},proxyHandler),info={"GOT.mem":new Proxy({},GOTHandler),"GOT.func":new Proxy({},GOTHandler),env:proxy,wasi_snapshot_preview1:proxy};function postInstantiation(instance){function addEmAsm(addr,body){for(var args=[],arity=0;arity<16&&body.indexOf("$"+arity)!=-1;arity++)args.push("$"+arity);args=args.join(",");var func="("+args+" ) => { "+body+"};";ASM_CONSTS[start]=eval(func)}if(o(addEmAsm,"addEmAsm"),i(addEmAsm,"addEmAsm"),updateTableMap(tableBase,metadata.tableSize),moduleExports=relocateExports(instance.exports,memoryBase),flags.allowUndefined||reportUndefinedSymbols(),"__start_em_asm"in moduleExports)for(var start=moduleExports.__start_em_asm,stop=moduleExports.__stop_em_asm;start<stop;){var jsString=UTF8ToString(start);addEmAsm(start,jsString),start=HEAPU8.indexOf(0,start)+1}var applyRelocs=moduleExports.__wasm_apply_data_relocs;applyRelocs&&(runtimeInitialized?applyRelocs():__RELOC_FUNCS__.push(applyRelocs));var init=moduleExports.__wasm_call_ctors;return init&&(runtimeInitialized?init():__ATINIT__.push(init)),moduleExports}if(o(postInstantiation,"postInstantiation"),i(postInstantiation,"postInstantiation"),flags.loadAsync){if(binary instanceof WebAssembly.Module){var instance=new WebAssembly.Instance(binary,info);return Promise.resolve(postInstantiation(instance))}return WebAssembly.instantiate(binary,info).then(function(l){return postInstantiation(l.instance)})}var module=binary instanceof WebAssembly.Module?binary:new WebAssembly.Module(binary),instance=new WebAssembly.Instance(module,info);return postInstantiation(instance)}return o(loadModule,"loadModule"),i(loadModule,"loadModule"),CurrentModuleWeakSymbols=metadata.weakImports,flags.loadAsync?metadata.neededDynlibs.reduce(function(l,c){return l.then(function(){return loadDynamicLibrary(c,flags)})},Promise.resolve()).then(function(){return loadModule()}):(metadata.neededDynlibs.forEach(function(l){loadDynamicLibrary(l,flags)}),loadModule())}o(loadWebAssemblyModule,"loadWebAssemblyModule"),i(loadWebAssemblyModule,"loadWebAssemblyModule");function loadDynamicLibrary(l,c,u){c=c||{global:!0,nodelete:!0};var f=LDSO.loadedLibsByName[l];if(f)return c.global&&!f.global&&(f.global=!0,f.module!=="loading"&&mergeLibSymbols(f.module,l)),c.nodelete&&f.refcount!==1/0&&(f.refcount=1/0),f.refcount++,u&&(LDSO.loadedLibsByHandle[u]=f),!c.loadAsync||Promise.resolve(!0);function d(m){if(c.fs&&c.fs.findObject(m)){var v=c.fs.readFile(m,{encoding:"binary"});return v instanceof Uint8Array||(v=new Uint8Array(v)),c.loadAsync?Promise.resolve(v):v}if(m=locateFile(m),c.loadAsync)return new Promise(function(_,b){readAsync(m,S=>_(new Uint8Array(S)),b)});if(!readBinary)throw new Error(m+": file not found, and synchronous loading of external files is not available");return readBinary(m)}o(d,"o"),i(d,"n");function p(){if(typeof preloadedWasm<"u"&&preloadedWasm[l]){var m=preloadedWasm[l];return c.loadAsync?Promise.resolve(m):m}return c.loadAsync?d(l).then(function(v){return loadWebAssemblyModule(v,c,u)}):loadWebAssemblyModule(d(l),c,u)}o(p,"s"),i(p,"s");function h(m){f.global&&mergeLibSymbols(m,l),f.module=m}return o(h,"a"),i(h,"a"),f={refcount:c.nodelete?1/0:1,name:l,module:"loading",global:c.global},LDSO.loadedLibsByName[l]=f,u&&(LDSO.loadedLibsByHandle[u]=f),c.loadAsync?p().then(function(m){return h(m),!0}):(h(p()),!0)}o(loadDynamicLibrary,"loadDynamicLibrary"),i(loadDynamicLibrary,"loadDynamicLibrary");function reportUndefinedSymbols(){for(var l in GOT)if(GOT[l].value==0){var c=resolveGlobalSymbol(l,!0);if(!c&&!GOT[l].required)continue;if(typeof c=="function")GOT[l].value=addFunction(c,c.sig);else{if(typeof c!="number")throw new Error("bad export type for `"+l+"`: "+typeof c);GOT[l].value=c}}}o(reportUndefinedSymbols,"reportUndefinedSymbols"),i(reportUndefinedSymbols,"reportUndefinedSymbols");function preloadDylibs(){dynamicLibraries.length?(addRunDependency("preloadDylibs"),dynamicLibraries.reduce(function(l,c){return l.then(function(){return loadDynamicLibrary(c,{loadAsync:!0,global:!0,nodelete:!0,allowUndefined:!0})})},Promise.resolve()).then(function(){reportUndefinedSymbols(),removeRunDependency("preloadDylibs")})):reportUndefinedSymbols()}o(preloadDylibs,"preloadDylibs"),i(preloadDylibs,"preloadDylibs");function setValue(l,c,u="i8"){switch(u.endsWith("*")&&(u="*"),u){case"i1":case"i8":HEAP8[l>>0]=c;break;case"i16":HEAP16[l>>1]=c;break;case"i32":HEAP32[l>>2]=c;break;case"i64":tempI64=[c>>>0,(tempDouble=c,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[l>>2]=tempI64[0],HEAP32[l+4>>2]=tempI64[1];break;case"float":HEAPF32[l>>2]=c;break;case"double":HEAPF64[l>>3]=c;break;case"*":HEAPU32[l>>2]=c;break;default:abort("invalid type for setValue: "+u)}}o(setValue,"setValue"),i(setValue,"setValue");var ___memory_base=new WebAssembly.Global({value:"i32",mutable:!1},1024),___stack_pointer=new WebAssembly.Global({value:"i32",mutable:!0},78144),___table_base=new WebAssembly.Global({value:"i32",mutable:!1},1),nowIsMonotonic=!0,_emscripten_get_now;function __emscripten_get_now_is_monotonic(){return nowIsMonotonic}o(__emscripten_get_now_is_monotonic,"__emscripten_get_now_is_monotonic"),i(__emscripten_get_now_is_monotonic,"__emscripten_get_now_is_monotonic");function _abort(){abort("")}o(_abort,"_abort"),i(_abort,"_abort");function _emscripten_date_now(){return Date.now()}o(_emscripten_date_now,"_emscripten_date_now"),i(_emscripten_date_now,"_emscripten_date_now");function _emscripten_memcpy_big(l,c,u){HEAPU8.copyWithin(l,c,c+u)}o(_emscripten_memcpy_big,"_emscripten_memcpy_big"),i(_emscripten_memcpy_big,"_emscripten_memcpy_big");function getHeapMax(){return 2147483648}o(getHeapMax,"getHeapMax"),i(getHeapMax,"getHeapMax");function emscripten_realloc_buffer(l){try{return wasmMemory.grow(l-buffer.byteLength+65535>>>16),updateGlobalBufferAndViews(wasmMemory.buffer),1}catch{}}o(emscripten_realloc_buffer,"emscripten_realloc_buffer"),i(emscripten_realloc_buffer,"emscripten_realloc_buffer");function _emscripten_resize_heap(l){var c=HEAPU8.length;l>>>=0;var u=getHeapMax();if(l>u)return!1;for(var f=1;f<=4;f*=2){var d=c*(1+.2/f);if(d=Math.min(d,l+100663296),emscripten_realloc_buffer(Math.min(u,(p=Math.max(l,d))+((h=65536)-p%h)%h)))return!0}var p,h;return!1}o(_emscripten_resize_heap,"_emscripten_resize_heap"),i(_emscripten_resize_heap,"_emscripten_resize_heap"),__emscripten_get_now_is_monotonic.sig="i",Module._abort=_abort,_abort.sig="v",_emscripten_date_now.sig="d",_emscripten_get_now=ENVIRONMENT_IS_NODE?()=>{var l=process.hrtime();return 1e3*l[0]+l[1]/1e6}:()=>performance.now(),_emscripten_get_now.sig="d",_emscripten_memcpy_big.sig="vppp",_emscripten_resize_heap.sig="ip";var SYSCALLS={DEFAULT_POLLMASK:5,calculateAt:function(l,c,u){if(PATH.isAbs(c))return c;var f;if(l===-100?f=FS.cwd():f=SYSCALLS.getStreamFromFD(l).path,c.length==0){if(!u)throw new FS.ErrnoError(44);return f}return PATH.join2(f,c)},doStat:function(l,c,u){try{var f=l(c)}catch(m){if(m&&m.node&&PATH.normalize(c)!==PATH.normalize(FS.getPath(m.node)))return-54;throw m}HEAP32[u>>2]=f.dev,HEAP32[u+8>>2]=f.ino,HEAP32[u+12>>2]=f.mode,HEAPU32[u+16>>2]=f.nlink,HEAP32[u+20>>2]=f.uid,HEAP32[u+24>>2]=f.gid,HEAP32[u+28>>2]=f.rdev,tempI64=[f.size>>>0,(tempDouble=f.size,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[u+40>>2]=tempI64[0],HEAP32[u+44>>2]=tempI64[1],HEAP32[u+48>>2]=4096,HEAP32[u+52>>2]=f.blocks;var d=f.atime.getTime(),p=f.mtime.getTime(),h=f.ctime.getTime();return tempI64=[Math.floor(d/1e3)>>>0,(tempDouble=Math.floor(d/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[u+56>>2]=tempI64[0],HEAP32[u+60>>2]=tempI64[1],HEAPU32[u+64>>2]=d%1e3*1e3,tempI64=[Math.floor(p/1e3)>>>0,(tempDouble=Math.floor(p/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[u+72>>2]=tempI64[0],HEAP32[u+76>>2]=tempI64[1],HEAPU32[u+80>>2]=p%1e3*1e3,tempI64=[Math.floor(h/1e3)>>>0,(tempDouble=Math.floor(h/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[u+88>>2]=tempI64[0],HEAP32[u+92>>2]=tempI64[1],HEAPU32[u+96>>2]=h%1e3*1e3,tempI64=[f.ino>>>0,(tempDouble=f.ino,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[u+104>>2]=tempI64[0],HEAP32[u+108>>2]=tempI64[1],0},doMsync:function(l,c,u,f,d){if(!FS.isFile(c.node.mode))throw new FS.ErrnoError(43);if(2&f)return 0;var p=HEAPU8.slice(l,l+u);FS.msync(c,p,d,u,f)},varargs:void 0,get:function(){return SYSCALLS.varargs+=4,HEAP32[SYSCALLS.varargs-4>>2]},getStr:function(l){return UTF8ToString(l)},getStreamFromFD:function(l){var c=FS.getStream(l);if(!c)throw new FS.ErrnoError(8);return c}};function _proc_exit(l){EXITSTATUS=l,keepRuntimeAlive()||(Module.onExit&&Module.onExit(l),ABORT=!0),quit_(l,new ExitStatus(l))}o(_proc_exit,"_proc_exit"),i(_proc_exit,"_proc_exit");function exitJS(l,c){EXITSTATUS=l,_proc_exit(l)}o(exitJS,"exitJS"),i(exitJS,"exitJS"),_proc_exit.sig="vi";var _exit=exitJS;function _fd_close(l){try{var c=SYSCALLS.getStreamFromFD(l);return FS.close(c),0}catch(u){if(typeof FS>"u"||!(u instanceof FS.ErrnoError))throw u;return u.errno}}o(_fd_close,"_fd_close"),i(_fd_close,"_fd_close");function convertI32PairToI53Checked(l,c){return c+2097152>>>0<4194305-!!l?(l>>>0)+4294967296*c:NaN}o(convertI32PairToI53Checked,"convertI32PairToI53Checked"),i(convertI32PairToI53Checked,"convertI32PairToI53Checked");function _fd_seek(l,c,u,f,d){try{var p=convertI32PairToI53Checked(c,u);if(isNaN(p))return 61;var h=SYSCALLS.getStreamFromFD(l);return FS.llseek(h,p,f),tempI64=[h.position>>>0,(tempDouble=h.position,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[d>>2]=tempI64[0],HEAP32[d+4>>2]=tempI64[1],h.getdents&&p===0&&f===0&&(h.getdents=null),0}catch(m){if(typeof FS>"u"||!(m instanceof FS.ErrnoError))throw m;return m.errno}}o(_fd_seek,"_fd_seek"),i(_fd_seek,"_fd_seek");function doWritev(l,c,u,f){for(var d=0,p=0;p<u;p++){var h=HEAPU32[c>>2],m=HEAPU32[c+4>>2];c+=8;var v=FS.write(l,HEAP8,h,m,f);if(v<0)return-1;d+=v,f!==void 0&&(f+=v)}return d}o(doWritev,"doWritev"),i(doWritev,"doWritev");function _fd_write(l,c,u,f){try{var d=doWritev(SYSCALLS.getStreamFromFD(l),c,u);return HEAPU32[f>>2]=d,0}catch(p){if(typeof FS>"u"||!(p instanceof FS.ErrnoError))throw p;return p.errno}}o(_fd_write,"_fd_write"),i(_fd_write,"_fd_write");function _tree_sitter_log_callback(l,c){if(currentLogCallback){let u=UTF8ToString(c);currentLogCallback(u,l!==0)}}o(_tree_sitter_log_callback,"_tree_sitter_log_callback"),i(_tree_sitter_log_callback,"_tree_sitter_log_callback");function _tree_sitter_parse_callback(l,c,u,f,d){var p=currentParseCallback(c,{row:u,column:f});typeof p=="string"?(setValue(d,p.length,"i32"),stringToUTF16(p,l,10240)):setValue(d,0,"i32")}o(_tree_sitter_parse_callback,"_tree_sitter_parse_callback"),i(_tree_sitter_parse_callback,"_tree_sitter_parse_callback");function handleException(l){if(l instanceof ExitStatus||l=="unwind")return EXITSTATUS;quit_(1,l)}o(handleException,"handleException"),i(handleException,"handleException");function allocateUTF8OnStack(l){var c=lengthBytesUTF8(l)+1,u=stackAlloc(c);return stringToUTF8Array(l,HEAP8,u,c),u}o(allocateUTF8OnStack,"allocateUTF8OnStack"),i(allocateUTF8OnStack,"allocateUTF8OnStack");function stringToUTF16(l,c,u){if(u===void 0&&(u=2147483647),u<2)return 0;for(var f=c,d=(u-=2)<2*l.length?u/2:l.length,p=0;p<d;++p){var h=l.charCodeAt(p);HEAP16[c>>1]=h,c+=2}return HEAP16[c>>1]=0,c-f}o(stringToUTF16,"stringToUTF16"),i(stringToUTF16,"stringToUTF16");function AsciiToString(l){for(var c="";;){var u=HEAPU8[l++>>0];if(!u)return c;c+=String.fromCharCode(u)}}o(AsciiToString,"AsciiToString"),i(AsciiToString,"AsciiToString"),_exit.sig="vi",_fd_close.sig="ii",_fd_seek.sig="iijip",_fd_write.sig="iippp";var asmLibraryArg={__heap_base:___heap_base,__indirect_function_table:wasmTable,__memory_base:___memory_base,__stack_pointer:___stack_pointer,__table_base:___table_base,_emscripten_get_now_is_monotonic:__emscripten_get_now_is_monotonic,abort:_abort,emscripten_get_now:_emscripten_get_now,emscripten_memcpy_big:_emscripten_memcpy_big,emscripten_resize_heap:_emscripten_resize_heap,exit:_exit,fd_close:_fd_close,fd_seek:_fd_seek,fd_write:_fd_write,memory:wasmMemory,tree_sitter_log_callback:_tree_sitter_log_callback,tree_sitter_parse_callback:_tree_sitter_parse_callback},asm=createWasm(),___wasm_call_ctors=Module.___wasm_call_ctors=function(){return(___wasm_call_ctors=Module.___wasm_call_ctors=Module.asm.__wasm_call_ctors).apply(null,arguments)},___wasm_apply_data_relocs=Module.___wasm_apply_data_relocs=function(){return(___wasm_apply_data_relocs=Module.___wasm_apply_data_relocs=Module.asm.__wasm_apply_data_relocs).apply(null,arguments)},_malloc=Module._malloc=function(){return(_malloc=Module._malloc=Module.asm.malloc).apply(null,arguments)},_calloc=Module._calloc=function(){return(_calloc=Module._calloc=Module.asm.calloc).apply(null,arguments)},_realloc=Module._realloc=function(){return(_realloc=Module._realloc=Module.asm.realloc).apply(null,arguments)},_free=Module._free=function(){return(_free=Module._free=Module.asm.free).apply(null,arguments)},_ts_language_symbol_count=Module._ts_language_symbol_count=function(){return(_ts_language_symbol_count=Module._ts_language_symbol_count=Module.asm.ts_language_symbol_count).apply(null,arguments)},_ts_language_version=Module._ts_language_version=function(){return(_ts_language_version=Module._ts_language_version=Module.asm.ts_language_version).apply(null,arguments)},_ts_language_field_count=Module._ts_language_field_count=function(){return(_ts_language_field_count=Module._ts_language_field_count=Module.asm.ts_language_field_count).apply(null,arguments)},_ts_language_symbol_name=Module._ts_language_symbol_name=function(){return(_ts_language_symbol_name=Module._ts_language_symbol_name=Module.asm.ts_language_symbol_name).apply(null,arguments)},_ts_language_symbol_for_name=Module._ts_language_symbol_for_name=function(){return(_ts_language_symbol_for_name=Module._ts_language_symbol_for_name=Module.asm.ts_language_symbol_for_name).apply(null,arguments)},_ts_language_symbol_type=Module._ts_language_symbol_type=function(){return(_ts_language_symbol_type=Module._ts_language_symbol_type=Module.asm.ts_language_symbol_type).apply(null,arguments)},_ts_language_field_name_for_id=Module._ts_language_field_name_for_id=function(){return(_ts_language_field_name_for_id=Module._ts_language_field_name_for_id=Module.asm.ts_language_field_name_for_id).apply(null,arguments)},_memset=Module._memset=function(){return(_memset=Module._memset=Module.asm.memset).apply(null,arguments)},_memcpy=Module._memcpy=function(){return(_memcpy=Module._memcpy=Module.asm.memcpy).apply(null,arguments)},_ts_parser_delete=Module._ts_parser_delete=function(){return(_ts_parser_delete=Module._ts_parser_delete=Module.asm.ts_parser_delete).apply(null,arguments)},_ts_parser_reset=Module._ts_parser_reset=function(){return(_ts_parser_reset=Module._ts_parser_reset=Module.asm.ts_parser_reset).apply(null,arguments)},_ts_parser_set_language=Module._ts_parser_set_language=function(){return(_ts_parser_set_language=Module._ts_parser_set_language=Module.asm.ts_parser_set_language).apply(null,arguments)},_ts_parser_timeout_micros=Module._ts_parser_timeout_micros=function(){return(_ts_parser_timeout_micros=Module._ts_parser_timeout_micros=Module.asm.ts_parser_timeout_micros).apply(null,arguments)},_ts_parser_set_timeout_micros=Module._ts_parser_set_timeout_micros=function(){return(_ts_parser_set_timeout_micros=Module._ts_parser_set_timeout_micros=Module.asm.ts_parser_set_timeout_micros).apply(null,arguments)},_memmove=Module._memmove=function(){return(_memmove=Module._memmove=Module.asm.memmove).apply(null,arguments)},_memcmp=Module._memcmp=function(){return(_memcmp=Module._memcmp=Module.asm.memcmp).apply(null,arguments)},_ts_query_new=Module._ts_query_new=function(){return(_ts_query_new=Module._ts_query_new=Module.asm.ts_query_new).apply(null,arguments)},_ts_query_delete=Module._ts_query_delete=function(){return(_ts_query_delete=Module._ts_query_delete=Module.asm.ts_query_delete).apply(null,arguments)},_iswspace=Module._iswspace=function(){return(_iswspace=Module._iswspace=Module.asm.iswspace).apply(null,arguments)},_iswalnum=Module._iswalnum=function(){return(_iswalnum=Module._iswalnum=Module.asm.iswalnum).apply(null,arguments)},_ts_query_pattern_count=Module._ts_query_pattern_count=function(){return(_ts_query_pattern_count=Module._ts_query_pattern_count=Module.asm.ts_query_pattern_count).apply(null,arguments)},_ts_query_capture_count=Module._ts_query_capture_count=function(){return(_ts_query_capture_count=Module._ts_query_capture_count=Module.asm.ts_query_capture_count).apply(null,arguments)},_ts_query_string_count=Module._ts_query_string_count=function(){return(_ts_query_string_count=Module._ts_query_string_count=Module.asm.ts_query_string_count).apply(null,arguments)},_ts_query_capture_name_for_id=Module._ts_query_capture_name_for_id=function(){return(_ts_query_capture_name_for_id=Module._ts_query_capture_name_for_id=Module.asm.ts_query_capture_name_for_id).apply(null,arguments)},_ts_query_string_value_for_id=Module._ts_query_string_value_for_id=function(){return(_ts_query_string_value_for_id=Module._ts_query_string_value_for_id=Module.asm.ts_query_string_value_for_id).apply(null,arguments)},_ts_query_predicates_for_pattern=Module._ts_query_predicates_for_pattern=function(){return(_ts_query_predicates_for_pattern=Module._ts_query_predicates_for_pattern=Module.asm.ts_query_predicates_for_pattern).apply(null,arguments)},_ts_tree_copy=Module._ts_tree_copy=function(){return(_ts_tree_copy=Module._ts_tree_copy=Module.asm.ts_tree_copy).apply(null,arguments)},_ts_tree_delete=Module._ts_tree_delete=function(){return(_ts_tree_delete=Module._ts_tree_delete=Module.asm.ts_tree_delete).apply(null,arguments)},_ts_init=Module._ts_init=function(){return(_ts_init=Module._ts_init=Module.asm.ts_init).apply(null,arguments)},_ts_parser_new_wasm=Module._ts_parser_new_wasm=function(){return(_ts_parser_new_wasm=Module._ts_parser_new_wasm=Module.asm.ts_parser_new_wasm).apply(null,arguments)},_ts_parser_enable_logger_wasm=Module._ts_parser_enable_logger_wasm=function(){return(_ts_parser_enable_logger_wasm=Module._ts_parser_enable_logger_wasm=Module.asm.ts_parser_enable_logger_wasm).apply(null,arguments)},_ts_parser_parse_wasm=Module._ts_parser_parse_wasm=function(){return(_ts_parser_parse_wasm=Module._ts_parser_parse_wasm=Module.asm.ts_parser_parse_wasm).apply(null,arguments)},_ts_language_type_is_named_wasm=Module._ts_language_type_is_named_wasm=function(){return(_ts_language_type_is_named_wasm=Module._ts_language_type_is_named_wasm=Module.asm.ts_language_type_is_named_wasm).apply(null,arguments)},_ts_language_type_is_visible_wasm=Module._ts_language_type_is_visible_wasm=function(){return(_ts_language_type_is_visible_wasm=Module._ts_language_type_is_visible_wasm=Module.asm.ts_language_type_is_visible_wasm).apply(null,arguments)},_ts_tree_root_node_wasm=Module._ts_tree_root_node_wasm=function(){return(_ts_tree_root_node_wasm=Module._ts_tree_root_node_wasm=Module.asm.ts_tree_root_node_wasm).apply(null,arguments)},_ts_tree_edit_wasm=Module._ts_tree_edit_wasm=function(){return(_ts_tree_edit_wasm=Module._ts_tree_edit_wasm=Module.asm.ts_tree_edit_wasm).apply(null,arguments)},_ts_tree_get_changed_ranges_wasm=Module._ts_tree_get_changed_ranges_wasm=function(){return(_ts_tree_get_changed_ranges_wasm=Module._ts_tree_get_changed_ranges_wasm=Module.asm.ts_tree_get_changed_ranges_wasm).apply(null,arguments)},_ts_tree_cursor_new_wasm=Module._ts_tree_cursor_new_wasm=function(){return(_ts_tree_cursor_new_wasm=Module._ts_tree_cursor_new_wasm=Module.asm.ts_tree_cursor_new_wasm).apply(null,arguments)},_ts_tree_cursor_delete_wasm=Module._ts_tree_cursor_delete_wasm=function(){return(_ts_tree_cursor_delete_wasm=Module._ts_tree_cursor_delete_wasm=Module.asm.ts_tree_cursor_delete_wasm).apply(null,arguments)},_ts_tree_cursor_reset_wasm=Module._ts_tree_cursor_reset_wasm=function(){return(_ts_tree_cursor_reset_wasm=Module._ts_tree_cursor_reset_wasm=Module.asm.ts_tree_cursor_reset_wasm).apply(null,arguments)},_ts_tree_cursor_goto_first_child_wasm=Module._ts_tree_cursor_goto_first_child_wasm=function(){return(_ts_tree_cursor_goto_first_child_wasm=Module._ts_tree_cursor_goto_first_child_wasm=Module.asm.ts_tree_cursor_goto_first_child_wasm).apply(null,arguments)},_ts_tree_cursor_goto_next_sibling_wasm=Module._ts_tree_cursor_goto_next_sibling_wasm=function(){return(_ts_tree_cursor_goto_next_sibling_wasm=Module._ts_tree_cursor_goto_next_sibling_wasm=Module.asm.ts_tree_cursor_goto_next_sibling_wasm).apply(null,arguments)},_ts_tree_cursor_goto_parent_wasm=Module._ts_tree_cursor_goto_parent_wasm=function(){return(_ts_tree_cursor_goto_parent_wasm=Module._ts_tree_cursor_goto_parent_wasm=Module.asm.ts_tree_cursor_goto_parent_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_type_id_wasm=Module._ts_tree_cursor_current_node_type_id_wasm=function(){return(_ts_tree_cursor_current_node_type_id_wasm=Module._ts_tree_cursor_current_node_type_id_wasm=Module.asm.ts_tree_cursor_current_node_type_id_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_is_named_wasm=Module._ts_tree_cursor_current_node_is_named_wasm=function(){return(_ts_tree_cursor_current_node_is_named_wasm=Module._ts_tree_cursor_current_node_is_named_wasm=Module.asm.ts_tree_cursor_current_node_is_named_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_is_missing_wasm=Module._ts_tree_cursor_current_node_is_missing_wasm=function(){return(_ts_tree_cursor_current_node_is_missing_wasm=Module._ts_tree_cursor_current_node_is_missing_wasm=Module.asm.ts_tree_cursor_current_node_is_missing_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_id_wasm=Module._ts_tree_cursor_current_node_id_wasm=function(){return(_ts_tree_cursor_current_node_id_wasm=Module._ts_tree_cursor_current_node_id_wasm=Module.asm.ts_tree_cursor_current_node_id_wasm).apply(null,arguments)},_ts_tree_cursor_start_position_wasm=Module._ts_tree_cursor_start_position_wasm=function(){return(_ts_tree_cursor_start_position_wasm=Module._ts_tree_cursor_start_position_wasm=Module.asm.ts_tree_cursor_start_position_wasm).apply(null,arguments)},_ts_tree_cursor_end_position_wasm=Module._ts_tree_cursor_end_position_wasm=function(){return(_ts_tree_cursor_end_position_wasm=Module._ts_tree_cursor_end_position_wasm=Module.asm.ts_tree_cursor_end_position_wasm).apply(null,arguments)},_ts_tree_cursor_start_index_wasm=Module._ts_tree_cursor_start_index_wasm=function(){return(_ts_tree_cursor_start_index_wasm=Module._ts_tree_cursor_start_index_wasm=Module.asm.ts_tree_cursor_start_index_wasm).apply(null,arguments)},_ts_tree_cursor_end_index_wasm=Module._ts_tree_cursor_end_index_wasm=function(){return(_ts_tree_cursor_end_index_wasm=Module._ts_tree_cursor_end_index_wasm=Module.asm.ts_tree_cursor_end_index_wasm).apply(null,arguments)},_ts_tree_cursor_current_field_id_wasm=Module._ts_tree_cursor_current_field_id_wasm=function(){return(_ts_tree_cursor_current_field_id_wasm=Module._ts_tree_cursor_current_field_id_wasm=Module.asm.ts_tree_cursor_current_field_id_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_wasm=Module._ts_tree_cursor_current_node_wasm=function(){return(_ts_tree_cursor_current_node_wasm=Module._ts_tree_cursor_current_node_wasm=Module.asm.ts_tree_cursor_current_node_wasm).apply(null,arguments)},_ts_node_symbol_wasm=Module._ts_node_symbol_wasm=function(){return(_ts_node_symbol_wasm=Module._ts_node_symbol_wasm=Module.asm.ts_node_symbol_wasm).apply(null,arguments)},_ts_node_child_count_wasm=Module._ts_node_child_count_wasm=function(){return(_ts_node_child_count_wasm=Module._ts_node_child_count_wasm=Module.asm.ts_node_child_count_wasm).apply(null,arguments)},_ts_node_named_child_count_wasm=Module._ts_node_named_child_count_wasm=function(){return(_ts_node_named_child_count_wasm=Module._ts_node_named_child_count_wasm=Module.asm.ts_node_named_child_count_wasm).apply(null,arguments)},_ts_node_child_wasm=Module._ts_node_child_wasm=function(){return(_ts_node_child_wasm=Module._ts_node_child_wasm=Module.asm.ts_node_child_wasm).apply(null,arguments)},_ts_node_named_child_wasm=Module._ts_node_named_child_wasm=function(){return(_ts_node_named_child_wasm=Module._ts_node_named_child_wasm=Module.asm.ts_node_named_child_wasm).apply(null,arguments)},_ts_node_child_by_field_id_wasm=Module._ts_node_child_by_field_id_wasm=function(){return(_ts_node_child_by_field_id_wasm=Module._ts_node_child_by_field_id_wasm=Module.asm.ts_node_child_by_field_id_wasm).apply(null,arguments)},_ts_node_next_sibling_wasm=Module._ts_node_next_sibling_wasm=function(){return(_ts_node_next_sibling_wasm=Module._ts_node_next_sibling_wasm=Module.asm.ts_node_next_sibling_wasm).apply(null,arguments)},_ts_node_prev_sibling_wasm=Module._ts_node_prev_sibling_wasm=function(){return(_ts_node_prev_sibling_wasm=Module._ts_node_prev_sibling_wasm=Module.asm.ts_node_prev_sibling_wasm).apply(null,arguments)},_ts_node_next_named_sibling_wasm=Module._ts_node_next_named_sibling_wasm=function(){return(_ts_node_next_named_sibling_wasm=Module._ts_node_next_named_sibling_wasm=Module.asm.ts_node_next_named_sibling_wasm).apply(null,arguments)},_ts_node_prev_named_sibling_wasm=Module._ts_node_prev_named_sibling_wasm=function(){return(_ts_node_prev_named_sibling_wasm=Module._ts_node_prev_named_sibling_wasm=Module.asm.ts_node_prev_named_sibling_wasm).apply(null,arguments)},_ts_node_parent_wasm=Module._ts_node_parent_wasm=function(){return(_ts_node_parent_wasm=Module._ts_node_parent_wasm=Module.asm.ts_node_parent_wasm).apply(null,arguments)},_ts_node_descendant_for_index_wasm=Module._ts_node_descendant_for_index_wasm=function(){return(_ts_node_descendant_for_index_wasm=Module._ts_node_descendant_for_index_wasm=Module.asm.ts_node_descendant_for_index_wasm).apply(null,arguments)},_ts_node_named_descendant_for_index_wasm=Module._ts_node_named_descendant_for_index_wasm=function(){return(_ts_node_named_descendant_for_index_wasm=Module._ts_node_named_descendant_for_index_wasm=Module.asm.ts_node_named_descendant_for_index_wasm).apply(null,arguments)},_ts_node_descendant_for_position_wasm=Module._ts_node_descendant_for_position_wasm=function(){return(_ts_node_descendant_for_position_wasm=Module._ts_node_descendant_for_position_wasm=Module.asm.ts_node_descendant_for_position_wasm).apply(null,arguments)},_ts_node_named_descendant_for_position_wasm=Module._ts_node_named_descendant_for_position_wasm=function(){return(_ts_node_named_descendant_for_position_wasm=Module._ts_node_named_descendant_for_position_wasm=Module.asm.ts_node_named_descendant_for_position_wasm).apply(null,arguments)},_ts_node_start_point_wasm=Module._ts_node_start_point_wasm=function(){return(_ts_node_start_point_wasm=Module._ts_node_start_point_wasm=Module.asm.ts_node_start_point_wasm).apply(null,arguments)},_ts_node_end_point_wasm=Module._ts_node_end_point_wasm=function(){return(_ts_node_end_point_wasm=Module._ts_node_end_point_wasm=Module.asm.ts_node_end_point_wasm).apply(null,arguments)},_ts_node_start_index_wasm=Module._ts_node_start_index_wasm=function(){return(_ts_node_start_index_wasm=Module._ts_node_start_index_wasm=Module.asm.ts_node_start_index_wasm).apply(null,arguments)},_ts_node_end_index_wasm=Module._ts_node_end_index_wasm=function(){return(_ts_node_end_index_wasm=Module._ts_node_end_index_wasm=Module.asm.ts_node_end_index_wasm).apply(null,arguments)},_ts_node_to_string_wasm=Module._ts_node_to_string_wasm=function(){return(_ts_node_to_string_wasm=Module._ts_node_to_string_wasm=Module.asm.ts_node_to_string_wasm).apply(null,arguments)},_ts_node_children_wasm=Module._ts_node_children_wasm=function(){return(_ts_node_children_wasm=Module._ts_node_children_wasm=Module.asm.ts_node_children_wasm).apply(null,arguments)},_ts_node_named_children_wasm=Module._ts_node_named_children_wasm=function(){return(_ts_node_named_children_wasm=Module._ts_node_named_children_wasm=Module.asm.ts_node_named_children_wasm).apply(null,arguments)},_ts_node_descendants_of_type_wasm=Module._ts_node_descendants_of_type_wasm=function(){return(_ts_node_descendants_of_type_wasm=Module._ts_node_descendants_of_type_wasm=Module.asm.ts_node_descendants_of_type_wasm).apply(null,arguments)},_ts_node_is_named_wasm=Module._ts_node_is_named_wasm=function(){return(_ts_node_is_named_wasm=Module._ts_node_is_named_wasm=Module.asm.ts_node_is_named_wasm).apply(null,arguments)},_ts_node_has_changes_wasm=Module._ts_node_has_changes_wasm=function(){return(_ts_node_has_changes_wasm=Module._ts_node_has_changes_wasm=Module.asm.ts_node_has_changes_wasm).apply(null,arguments)},_ts_node_has_error_wasm=Module._ts_node_has_error_wasm=function(){return(_ts_node_has_error_wasm=Module._ts_node_has_error_wasm=Module.asm.ts_node_has_error_wasm).apply(null,arguments)},_ts_node_is_missing_wasm=Module._ts_node_is_missing_wasm=function(){return(_ts_node_is_missing_wasm=Module._ts_node_is_missing_wasm=Module.asm.ts_node_is_missing_wasm).apply(null,arguments)},_ts_query_matches_wasm=Module._ts_query_matches_wasm=function(){return(_ts_query_matches_wasm=Module._ts_query_matches_wasm=Module.asm.ts_query_matches_wasm).apply(null,arguments)},_ts_query_captures_wasm=Module._ts_query_captures_wasm=function(){return(_ts_query_captures_wasm=Module._ts_query_captures_wasm=Module.asm.ts_query_captures_wasm).apply(null,arguments)},___cxa_atexit=Module.___cxa_atexit=function(){return(___cxa_atexit=Module.___cxa_atexit=Module.asm.__cxa_atexit).apply(null,arguments)},_iswdigit=Module._iswdigit=function(){return(_iswdigit=Module._iswdigit=Module.asm.iswdigit).apply(null,arguments)},_iswalpha=Module._iswalpha=function(){return(_iswalpha=Module._iswalpha=Module.asm.iswalpha).apply(null,arguments)},_iswlower=Module._iswlower=function(){return(_iswlower=Module._iswlower=Module.asm.iswlower).apply(null,arguments)},_memchr=Module._memchr=function(){return(_memchr=Module._memchr=Module.asm.memchr).apply(null,arguments)},_strlen=Module._strlen=function(){return(_strlen=Module._strlen=Module.asm.strlen).apply(null,arguments)},_towupper=Module._towupper=function(){return(_towupper=Module._towupper=Module.asm.towupper).apply(null,arguments)},_setThrew=Module._setThrew=function(){return(_setThrew=Module._setThrew=Module.asm.setThrew).apply(null,arguments)},stackSave=Module.stackSave=function(){return(stackSave=Module.stackSave=Module.asm.stackSave).apply(null,arguments)},stackRestore=Module.stackRestore=function(){return(stackRestore=Module.stackRestore=Module.asm.stackRestore).apply(null,arguments)},stackAlloc=Module.stackAlloc=function(){return(stackAlloc=Module.stackAlloc=Module.asm.stackAlloc).apply(null,arguments)},__Znwm=Module.__Znwm=function(){return(__Znwm=Module.__Znwm=Module.asm._Znwm).apply(null,arguments)},__ZdlPv=Module.__ZdlPv=function(){return(__ZdlPv=Module.__ZdlPv=Module.asm._ZdlPv).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm).apply(null,arguments)},__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=function(){return(__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.asm._ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw).apply(null,arguments)},dynCall_jiji=Module.dynCall_jiji=function(){return(dynCall_jiji=Module.dynCall_jiji=Module.asm.dynCall_jiji).apply(null,arguments)},_orig$ts_parser_timeout_micros=Module._orig$ts_parser_timeout_micros=function(){return(_orig$ts_parser_timeout_micros=Module._orig$ts_parser_timeout_micros=Module.asm.orig$ts_parser_timeout_micros).apply(null,arguments)},_orig$ts_parser_set_timeout_micros=Module._orig$ts_parser_set_timeout_micros=function(){return(_orig$ts_parser_set_timeout_micros=Module._orig$ts_parser_set_timeout_micros=Module.asm.orig$ts_parser_set_timeout_micros).apply(null,arguments)},calledRun;function callMain(l){var c=Module._main;if(c){(l=l||[]).unshift(thisProgram);var u=l.length,f=stackAlloc(4*(u+1)),d=f>>2;l.forEach(h=>{HEAP32[d++]=allocateUTF8OnStack(h)}),HEAP32[d]=0;try{var p=c(u,f);return exitJS(p,!0),p}catch(h){return handleException(h)}}}o(callMain,"callMain"),i(callMain,"callMain"),Module.AsciiToString=AsciiToString,Module.stringToUTF16=stringToUTF16,dependenciesFulfilled=i(o(function l(){calledRun||run(),calledRun||(dependenciesFulfilled=l)},"t"),"e");var dylibsLoaded=!1;function run(l){function c(){calledRun||(calledRun=!0,Module.calledRun=!0,ABORT||(initRuntime(),preMain(),Module.onRuntimeInitialized&&Module.onRuntimeInitialized(),shouldRunNow&&callMain(l),postRun()))}o(c,"e"),i(c,"t"),l=l||arguments_,runDependencies>0||!dylibsLoaded&&(preloadDylibs(),dylibsLoaded=!0,runDependencies>0)||(preRun(),runDependencies>0||(Module.setStatus?(Module.setStatus("Running..."),setTimeout(function(){setTimeout(function(){Module.setStatus("")},1),c()},1)):c()))}if(o(run,"run"),i(run,"run"),Module.preInit)for(typeof Module.preInit=="function"&&(Module.preInit=[Module.preInit]);Module.preInit.length>0;)Module.preInit.pop()();var shouldRunNow=!0;Module.noInitialRun&&(shouldRunNow=!1),run();let C=Module,INTERNAL={},SIZE_OF_INT=4,SIZE_OF_NODE=5*SIZE_OF_INT,SIZE_OF_POINT=2*SIZE_OF_INT,SIZE_OF_RANGE=2*SIZE_OF_INT+2*SIZE_OF_POINT,ZERO_POINT={row:0,column:0},QUERY_WORD_REGEX=/[\w-.]*/g,PREDICATE_STEP_TYPE_CAPTURE=1,PREDICATE_STEP_TYPE_STRING=2,LANGUAGE_FUNCTION_REGEX=/^_?tree_sitter_\w+/;var VERSION,MIN_COMPATIBLE_VERSION,TRANSFER_BUFFER,currentParseCallback,currentLogCallback;let e=class e{static init(){TRANSFER_BUFFER=C._ts_init(),VERSION=getValue(TRANSFER_BUFFER,"i32"),MIN_COMPATIBLE_VERSION=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}initialize(){C._ts_parser_new_wasm(),this[0]=getValue(TRANSFER_BUFFER,"i32"),this[1]=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}delete(){C._ts_parser_delete(this[0]),C._free(this[1]),this[0]=0,this[1]=0}setLanguage(c){let u;if(c){if(c.constructor!==Language)throw new Error("Argument must be a Language");{u=c[0];let f=C._ts_language_version(u);if(f<MIN_COMPATIBLE_VERSION||VERSION<f)throw new Error(`Incompatible language version ${f}. Compatibility range ${MIN_COMPATIBLE_VERSION} through ${VERSION}.`)}}else u=0,c=null;return this.language=c,C._ts_parser_set_language(this[0],u),this}getLanguage(){return this.language}parse(c,u,f){if(typeof c=="string")currentParseCallback=i((v,_,b)=>c.slice(v,b),"currentParseCallback");else{if(typeof c!="function")throw new Error("Argument must be a string or a function");currentParseCallback=c}this.logCallback?(currentLogCallback=this.logCallback,C._ts_parser_enable_logger_wasm(this[0],1)):(currentLogCallback=null,C._ts_parser_enable_logger_wasm(this[0],0));let d=0,p=0;if(f&&f.includedRanges){d=f.includedRanges.length,p=C._calloc(d,SIZE_OF_RANGE);let v=p;for(let _=0;_<d;_++)marshalRange(v,f.includedRanges[_]),v+=SIZE_OF_RANGE}let h=C._ts_parser_parse_wasm(this[0],this[1],u?u[0]:0,p,d);if(!h)throw currentParseCallback=null,currentLogCallback=null,new Error("Parsing failed");let m=new Tree(INTERNAL,h,this.language,currentParseCallback);return currentParseCallback=null,currentLogCallback=null,m}reset(){C._ts_parser_reset(this[0])}setTimeoutMicros(c){C._ts_parser_set_timeout_micros(this[0],c)}getTimeoutMicros(){return C._ts_parser_timeout_micros(this[0])}setLogger(c){if(c){if(typeof c!="function")throw new Error("Logger callback must be a function")}else c=null;return this.logCallback=c,this}getLogger(){return this.logCallback}};o(e,"ParserImpl"),i(e,"ParserImpl");let ParserImpl=e,t=class t{constructor(c,u,f,d){assertInternal(c),this[0]=u,this.language=f,this.textCallback=d}copy(){let c=C._ts_tree_copy(this[0]);return new t(INTERNAL,c,this.language,this.textCallback)}delete(){C._ts_tree_delete(this[0]),this[0]=0}edit(c){marshalEdit(c),C._ts_tree_edit_wasm(this[0])}get rootNode(){return C._ts_tree_root_node_wasm(this[0]),unmarshalNode(this)}getLanguage(){return this.language}walk(){return this.rootNode.walk()}getChangedRanges(c){if(c.constructor!==t)throw new TypeError("Argument must be a Tree");C._ts_tree_get_changed_ranges_wasm(this[0],c[0]);let u=getValue(TRANSFER_BUFFER,"i32"),f=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),d=new Array(u);if(u>0){let p=f;for(let h=0;h<u;h++)d[h]=unmarshalRange(p),p+=SIZE_OF_RANGE;C._free(f)}return d}};o(t,"Tree"),i(t,"Tree");let Tree=t,r=class r{constructor(c,u){assertInternal(c),this.tree=u}get typeId(){return marshalNode(this),C._ts_node_symbol_wasm(this.tree[0])}get type(){return this.tree.language.types[this.typeId]||"ERROR"}get endPosition(){return marshalNode(this),C._ts_node_end_point_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endIndex(){return marshalNode(this),C._ts_node_end_index_wasm(this.tree[0])}get text(){return getText(this.tree,this.startIndex,this.endIndex)}isNamed(){return marshalNode(this),C._ts_node_is_named_wasm(this.tree[0])===1}hasError(){return marshalNode(this),C._ts_node_has_error_wasm(this.tree[0])===1}hasChanges(){return marshalNode(this),C._ts_node_has_changes_wasm(this.tree[0])===1}isMissing(){return marshalNode(this),C._ts_node_is_missing_wasm(this.tree[0])===1}equals(c){return this.id===c.id}child(c){return marshalNode(this),C._ts_node_child_wasm(this.tree[0],c),unmarshalNode(this.tree)}namedChild(c){return marshalNode(this),C._ts_node_named_child_wasm(this.tree[0],c),unmarshalNode(this.tree)}childForFieldId(c){return marshalNode(this),C._ts_node_child_by_field_id_wasm(this.tree[0],c),unmarshalNode(this.tree)}childForFieldName(c){let u=this.tree.language.fields.indexOf(c);if(u!==-1)return this.childForFieldId(u)}get childCount(){return marshalNode(this),C._ts_node_child_count_wasm(this.tree[0])}get namedChildCount(){return marshalNode(this),C._ts_node_named_child_count_wasm(this.tree[0])}get firstChild(){return this.child(0)}get firstNamedChild(){return this.namedChild(0)}get lastChild(){return this.child(this.childCount-1)}get lastNamedChild(){return this.namedChild(this.namedChildCount-1)}get children(){if(!this._children){marshalNode(this),C._ts_node_children_wasm(this.tree[0]);let c=getValue(TRANSFER_BUFFER,"i32"),u=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._children=new Array(c),c>0){let f=u;for(let d=0;d<c;d++)this._children[d]=unmarshalNode(this.tree,f),f+=SIZE_OF_NODE;C._free(u)}}return this._children}get namedChildren(){if(!this._namedChildren){marshalNode(this),C._ts_node_named_children_wasm(this.tree[0]);let c=getValue(TRANSFER_BUFFER,"i32"),u=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._namedChildren=new Array(c),c>0){let f=u;for(let d=0;d<c;d++)this._namedChildren[d]=unmarshalNode(this.tree,f),f+=SIZE_OF_NODE;C._free(u)}}return this._namedChildren}descendantsOfType(c,u,f){Array.isArray(c)||(c=[c]),u||(u=ZERO_POINT),f||(f=ZERO_POINT);let d=[],p=this.tree.language.types;for(let b=0,S=p.length;b<S;b++)c.includes(p[b])&&d.push(b);let h=C._malloc(SIZE_OF_INT*d.length);for(let b=0,S=d.length;b<S;b++)setValue(h+b*SIZE_OF_INT,d[b],"i32");marshalNode(this),C._ts_node_descendants_of_type_wasm(this.tree[0],h,d.length,u.row,u.column,f.row,f.column);let m=getValue(TRANSFER_BUFFER,"i32"),v=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),_=new Array(m);if(m>0){let b=v;for(let S=0;S<m;S++)_[S]=unmarshalNode(this.tree,b),b+=SIZE_OF_NODE}return C._free(v),C._free(h),_}get nextSibling(){return marshalNode(this),C._ts_node_next_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousSibling(){return marshalNode(this),C._ts_node_prev_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get nextNamedSibling(){return marshalNode(this),C._ts_node_next_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousNamedSibling(){return marshalNode(this),C._ts_node_prev_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get parent(){return marshalNode(this),C._ts_node_parent_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForIndex(c,u=c){if(typeof c!="number"||typeof u!="number")throw new Error("Arguments must be numbers");marshalNode(this);let f=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(f,c,"i32"),setValue(f+SIZE_OF_INT,u,"i32"),C._ts_node_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForIndex(c,u=c){if(typeof c!="number"||typeof u!="number")throw new Error("Arguments must be numbers");marshalNode(this);let f=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(f,c,"i32"),setValue(f+SIZE_OF_INT,u,"i32"),C._ts_node_named_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForPosition(c,u=c){if(!isPoint(c)||!isPoint(u))throw new Error("Arguments must be {row, column} objects");marshalNode(this);let f=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(f,c),marshalPoint(f+SIZE_OF_POINT,u),C._ts_node_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForPosition(c,u=c){if(!isPoint(c)||!isPoint(u))throw new Error("Arguments must be {row, column} objects");marshalNode(this);let f=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(f,c),marshalPoint(f+SIZE_OF_POINT,u),C._ts_node_named_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}walk(){return marshalNode(this),C._ts_tree_cursor_new_wasm(this.tree[0]),new TreeCursor(INTERNAL,this.tree)}toString(){marshalNode(this);let c=C._ts_node_to_string_wasm(this.tree[0]),u=AsciiToString(c);return C._free(c),u}};o(r,"Node"),i(r,"Node");let Node=r,n=class n{constructor(c,u){assertInternal(c),this.tree=u,unmarshalTreeCursor(this)}delete(){marshalTreeCursor(this),C._ts_tree_cursor_delete_wasm(this.tree[0]),this[0]=this[1]=this[2]=0}reset(c){marshalNode(c),marshalTreeCursor(this,TRANSFER_BUFFER+SIZE_OF_NODE),C._ts_tree_cursor_reset_wasm(this.tree[0]),unmarshalTreeCursor(this)}get nodeType(){return this.tree.language.types[this.nodeTypeId]||"ERROR"}get nodeTypeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_type_id_wasm(this.tree[0])}get nodeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_id_wasm(this.tree[0])}get nodeIsNamed(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_is_named_wasm(this.tree[0])===1}get nodeIsMissing(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_is_missing_wasm(this.tree[0])===1}get nodeText(){marshalTreeCursor(this);let c=C._ts_tree_cursor_start_index_wasm(this.tree[0]),u=C._ts_tree_cursor_end_index_wasm(this.tree[0]);return getText(this.tree,c,u)}get startPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_start_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_end_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get startIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_start_index_wasm(this.tree[0])}get endIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_end_index_wasm(this.tree[0])}currentNode(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_wasm(this.tree[0]),unmarshalNode(this.tree)}currentFieldId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_field_id_wasm(this.tree[0])}currentFieldName(){return this.tree.language.fields[this.currentFieldId()]}gotoFirstChild(){marshalTreeCursor(this);let c=C._ts_tree_cursor_goto_first_child_wasm(this.tree[0]);return unmarshalTreeCursor(this),c===1}gotoNextSibling(){marshalTreeCursor(this);let c=C._ts_tree_cursor_goto_next_sibling_wasm(this.tree[0]);return unmarshalTreeCursor(this),c===1}gotoParent(){marshalTreeCursor(this);let c=C._ts_tree_cursor_goto_parent_wasm(this.tree[0]);return unmarshalTreeCursor(this),c===1}};o(n,"TreeCursor"),i(n,"TreeCursor");let TreeCursor=n,s=class s{constructor(c,u){assertInternal(c),this[0]=u,this.types=new Array(C._ts_language_symbol_count(this[0]));for(let f=0,d=this.types.length;f<d;f++)C._ts_language_symbol_type(this[0],f)<2&&(this.types[f]=UTF8ToString(C._ts_language_symbol_name(this[0],f)));this.fields=new Array(C._ts_language_field_count(this[0])+1);for(let f=0,d=this.fields.length;f<d;f++){let p=C._ts_language_field_name_for_id(this[0],f);this.fields[f]=p!==0?UTF8ToString(p):null}}get version(){return C._ts_language_version(this[0])}get fieldCount(){return this.fields.length-1}fieldIdForName(c){let u=this.fields.indexOf(c);return u!==-1?u:null}fieldNameForId(c){return this.fields[c]||null}idForNodeType(c,u){let f=lengthBytesUTF8(c),d=C._malloc(f+1);stringToUTF8(c,d,f+1);let p=C._ts_language_symbol_for_name(this[0],d,f,u);return C._free(d),p||null}get nodeTypeCount(){return C._ts_language_symbol_count(this[0])}nodeTypeForId(c){let u=C._ts_language_symbol_name(this[0],c);return u?UTF8ToString(u):null}nodeTypeIsNamed(c){return!!C._ts_language_type_is_named_wasm(this[0],c)}nodeTypeIsVisible(c){return!!C._ts_language_type_is_visible_wasm(this[0],c)}query(c){let u=lengthBytesUTF8(c),f=C._malloc(u+1);stringToUTF8(c,f,u+1);let d=C._ts_query_new(this[0],f,u,TRANSFER_BUFFER,TRANSFER_BUFFER+SIZE_OF_INT);if(!d){let D=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),$=UTF8ToString(f,getValue(TRANSFER_BUFFER,"i32")).length,de=c.substr($,100).split(`
`)[0],ue,Ze=de.match(QUERY_WORD_REGEX)[0];switch(D){case 2:ue=new RangeError(`Bad node name '${Ze}'`);break;case 3:ue=new RangeError(`Bad field name '${Ze}'`);break;case 4:ue=new RangeError(`Bad capture name @${Ze}`);break;case 5:ue=new TypeError(`Bad pattern structure at offset ${$}: '${de}'...`),Ze="";break;default:ue=new SyntaxError(`Bad syntax at offset ${$}: '${de}'...`),Ze=""}throw ue.index=$,ue.length=Ze.length,C._free(f),ue}let p=C._ts_query_string_count(d),h=C._ts_query_capture_count(d),m=C._ts_query_pattern_count(d),v=new Array(h),_=new Array(p);for(let D=0;D<h;D++){let $=C._ts_query_capture_name_for_id(d,D,TRANSFER_BUFFER),de=getValue(TRANSFER_BUFFER,"i32");v[D]=UTF8ToString($,de)}for(let D=0;D<p;D++){let $=C._ts_query_string_value_for_id(d,D,TRANSFER_BUFFER),de=getValue(TRANSFER_BUFFER,"i32");_[D]=UTF8ToString($,de)}let b=new Array(m),S=new Array(m),A=new Array(m),O=new Array(m),L=new Array(m);for(let D=0;D<m;D++){let $=C._ts_query_predicates_for_pattern(d,D,TRANSFER_BUFFER),de=getValue(TRANSFER_BUFFER,"i32");O[D]=[],L[D]=[];let ue=[],Ze=$;for(let vr=0;vr<de;vr++){let vt=getValue(Ze,"i32");Ze+=SIZE_OF_INT;let wr=getValue(Ze,"i32");if(Ze+=SIZE_OF_INT,vt===PREDICATE_STEP_TYPE_CAPTURE)ue.push({type:"capture",name:v[wr]});else if(vt===PREDICATE_STEP_TYPE_STRING)ue.push({type:"string",value:_[wr]});else if(ue.length>0){if(ue[0].type!=="string")throw new Error("Predicates must begin with a literal value");let Ve=ue[0].value,Me=!0;switch(Ve){case"not-eq?":Me=!1;case"eq?":if(ue.length!==3)throw new Error("Wrong number of arguments to `#eq?` predicate. Expected 2, got "+(ue.length-1));if(ue[1].type!=="capture")throw new Error(`First argument of \`#eq?\` predicate must be a capture. Got "${ue[1].value}"`);if(ue[2].type==="capture"){let hr=ue[1].name,Mt=ue[2].name;L[D].push(function(yr){let Ee,_e;for(let Er of yr)Er.name===hr&&(Ee=Er.node),Er.name===Mt&&(_e=Er.node);return Ee===void 0||_e===void 0||Ee.text===_e.text===Me})}else{let hr=ue[1].name,Mt=ue[2].value;L[D].push(function(yr){for(let Ee of yr)if(Ee.name===hr)return Ee.node.text===Mt===Me;return!0})}break;case"not-match?":Me=!1;case"match?":if(ue.length!==3)throw new Error(`Wrong number of arguments to \`#match?\` predicate. Expected 2, got ${ue.length-1}.`);if(ue[1].type!=="capture")throw new Error(`First argument of \`#match?\` predicate must be a capture. Got "${ue[1].value}".`);if(ue[2].type!=="string")throw new Error(`Second argument of \`#match?\` predicate must be a string. Got @${ue[2].value}.`);let St=ue[1].name,br=new RegExp(ue[2].value);L[D].push(function(hr){for(let Mt of hr)if(Mt.name===St)return br.test(Mt.node.text)===Me;return!0});break;case"set!":if(ue.length<2||ue.length>3)throw new Error(`Wrong number of arguments to \`#set!\` predicate. Expected 1 or 2. Got ${ue.length-1}.`);if(ue.some(hr=>hr.type!=="string"))throw new Error('Arguments to `#set!` predicate must be a strings.".');b[D]||(b[D]={}),b[D][ue[1].value]=ue[2]?ue[2].value:null;break;case"is?":case"is-not?":if(ue.length<2||ue.length>3)throw new Error(`Wrong number of arguments to \`#${Ve}\` predicate. Expected 1 or 2. Got ${ue.length-1}.`);if(ue.some(hr=>hr.type!=="string"))throw new Error(`Arguments to \`#${Ve}\` predicate must be a strings.".`);let Yt=Ve==="is?"?S:A;Yt[D]||(Yt[D]={}),Yt[D][ue[1].value]=ue[2]?ue[2].value:null;break;default:O[D].push({operator:Ve,operands:ue.slice(1)})}ue.length=0}}Object.freeze(b[D]),Object.freeze(S[D]),Object.freeze(A[D])}return C._free(f),new Query(INTERNAL,d,v,L,O,Object.freeze(b),Object.freeze(S),Object.freeze(A))}static load(c){let u;if(c instanceof Uint8Array)u=Promise.resolve(c);else{let d=c;if(typeof process<"u"&&process.versions&&process.versions.node){let p=require("fs");u=Promise.resolve(p.readFileSync(d))}else u=fetch(d).then(p=>p.arrayBuffer().then(h=>{if(p.ok)return new Uint8Array(h);{let m=new TextDecoder("utf-8").decode(h);throw new Error(`Language.load failed with status ${p.status}.

${m}`)}}))}let f=typeof loadSideModule=="function"?loadSideModule:loadWebAssemblyModule;return u.then(d=>f(d,{loadAsync:!0})).then(d=>{let p=Object.keys(d),h=p.find(v=>LANGUAGE_FUNCTION_REGEX.test(v)&&!v.includes("external_scanner_"));h||console.log(`Couldn't find language function in WASM file. Symbols:
${JSON.stringify(p,null,2)}`);let m=d[h]();return new s(INTERNAL,m)})}};o(s,"Language"),i(s,"Language");let Language=s,a=class a{constructor(c,u,f,d,p,h,m,v){assertInternal(c),this[0]=u,this.captureNames=f,this.textPredicates=d,this.predicates=p,this.setProperties=h,this.assertedProperties=m,this.refutedProperties=v,this.exceededMatchLimit=!1}delete(){C._ts_query_delete(this[0]),this[0]=0}matches(c,u,f,d){u||(u=ZERO_POINT),f||(f=ZERO_POINT),d||(d={});let p=d.matchLimit;if(p===void 0)p=0;else if(typeof p!="number")throw new Error("Arguments must be numbers");marshalNode(c),C._ts_query_matches_wasm(this[0],c.tree[0],u.row,u.column,f.row,f.column,p);let h=getValue(TRANSFER_BUFFER,"i32"),m=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),v=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),_=new Array(h);this.exceededMatchLimit=!!v;let b=0,S=m;for(let A=0;A<h;A++){let O=getValue(S,"i32");S+=SIZE_OF_INT;let L=getValue(S,"i32");S+=SIZE_OF_INT;let D=new Array(L);if(S=unmarshalCaptures(this,c.tree,S,D),this.textPredicates[O].every($=>$(D))){_[b++]={pattern:O,captures:D};let $=this.setProperties[O];$&&(_[A].setProperties=$);let de=this.assertedProperties[O];de&&(_[A].assertedProperties=de);let ue=this.refutedProperties[O];ue&&(_[A].refutedProperties=ue)}}return _.length=b,C._free(m),_}captures(c,u,f,d){u||(u=ZERO_POINT),f||(f=ZERO_POINT),d||(d={});let p=d.matchLimit;if(p===void 0)p=0;else if(typeof p!="number")throw new Error("Arguments must be numbers");marshalNode(c),C._ts_query_captures_wasm(this[0],c.tree[0],u.row,u.column,f.row,f.column,p);let h=getValue(TRANSFER_BUFFER,"i32"),m=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),v=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),_=[];this.exceededMatchLimit=!!v;let b=[],S=m;for(let A=0;A<h;A++){let O=getValue(S,"i32");S+=SIZE_OF_INT;let L=getValue(S,"i32");S+=SIZE_OF_INT;let D=getValue(S,"i32");if(S+=SIZE_OF_INT,b.length=L,S=unmarshalCaptures(this,c.tree,S,b),this.textPredicates[O].every($=>$(b))){let $=b[D],de=this.setProperties[O];de&&($.setProperties=de);let ue=this.assertedProperties[O];ue&&($.assertedProperties=ue);let Ze=this.refutedProperties[O];Ze&&($.refutedProperties=Ze),_.push($)}}return C._free(m),_}predicatesForPattern(c){return this.predicates[c]}didExceedMatchLimit(){return this.exceededMatchLimit}};o(a,"Query"),i(a,"Query");let Query=a;function getText(l,c,u){let f=u-c,d=l.textCallback(c,null,u);for(c+=d.length;c<u;){let p=l.textCallback(c,null,u);if(!(p&&p.length>0))break;c+=p.length,d+=p}return c>u&&(d=d.slice(0,f)),d}o(getText,"getText"),i(getText,"getText");function unmarshalCaptures(l,c,u,f){for(let d=0,p=f.length;d<p;d++){let h=getValue(u,"i32"),m=unmarshalNode(c,u+=SIZE_OF_INT);u+=SIZE_OF_NODE,f[d]={name:l.captureNames[h],node:m}}return u}o(unmarshalCaptures,"unmarshalCaptures"),i(unmarshalCaptures,"unmarshalCaptures");function assertInternal(l){if(l!==INTERNAL)throw new Error("Illegal constructor")}o(assertInternal,"assertInternal"),i(assertInternal,"assertInternal");function isPoint(l){return l&&typeof l.row=="number"&&typeof l.column=="number"}o(isPoint,"isPoint"),i(isPoint,"isPoint");function marshalNode(l){let c=TRANSFER_BUFFER;setValue(c,l.id,"i32"),c+=SIZE_OF_INT,setValue(c,l.startIndex,"i32"),c+=SIZE_OF_INT,setValue(c,l.startPosition.row,"i32"),c+=SIZE_OF_INT,setValue(c,l.startPosition.column,"i32"),c+=SIZE_OF_INT,setValue(c,l[0],"i32")}o(marshalNode,"marshalNode"),i(marshalNode,"marshalNode");function unmarshalNode(l,c=TRANSFER_BUFFER){let u=getValue(c,"i32");if(u===0)return null;let f=getValue(c+=SIZE_OF_INT,"i32"),d=getValue(c+=SIZE_OF_INT,"i32"),p=getValue(c+=SIZE_OF_INT,"i32"),h=getValue(c+=SIZE_OF_INT,"i32"),m=new Node(INTERNAL,l);return m.id=u,m.startIndex=f,m.startPosition={row:d,column:p},m[0]=h,m}o(unmarshalNode,"unmarshalNode"),i(unmarshalNode,"unmarshalNode");function marshalTreeCursor(l,c=TRANSFER_BUFFER){setValue(c+0*SIZE_OF_INT,l[0],"i32"),setValue(c+1*SIZE_OF_INT,l[1],"i32"),setValue(c+2*SIZE_OF_INT,l[2],"i32")}o(marshalTreeCursor,"marshalTreeCursor"),i(marshalTreeCursor,"marshalTreeCursor");function unmarshalTreeCursor(l){l[0]=getValue(TRANSFER_BUFFER+0*SIZE_OF_INT,"i32"),l[1]=getValue(TRANSFER_BUFFER+1*SIZE_OF_INT,"i32"),l[2]=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32")}o(unmarshalTreeCursor,"unmarshalTreeCursor"),i(unmarshalTreeCursor,"unmarshalTreeCursor");function marshalPoint(l,c){setValue(l,c.row,"i32"),setValue(l+SIZE_OF_INT,c.column,"i32")}o(marshalPoint,"marshalPoint"),i(marshalPoint,"marshalPoint");function unmarshalPoint(l){return{row:getValue(l,"i32"),column:getValue(l+SIZE_OF_INT,"i32")}}o(unmarshalPoint,"unmarshalPoint"),i(unmarshalPoint,"unmarshalPoint");function marshalRange(l,c){marshalPoint(l,c.startPosition),marshalPoint(l+=SIZE_OF_POINT,c.endPosition),setValue(l+=SIZE_OF_POINT,c.startIndex,"i32"),setValue(l+=SIZE_OF_INT,c.endIndex,"i32"),l+=SIZE_OF_INT}o(marshalRange,"marshalRange"),i(marshalRange,"marshalRange");function unmarshalRange(l){let c={};return c.startPosition=unmarshalPoint(l),l+=SIZE_OF_POINT,c.endPosition=unmarshalPoint(l),l+=SIZE_OF_POINT,c.startIndex=getValue(l,"i32"),l+=SIZE_OF_INT,c.endIndex=getValue(l,"i32"),c}o(unmarshalRange,"unmarshalRange"),i(unmarshalRange,"unmarshalRange");function marshalEdit(l){let c=TRANSFER_BUFFER;marshalPoint(c,l.startPosition),c+=SIZE_OF_POINT,marshalPoint(c,l.oldEndPosition),c+=SIZE_OF_POINT,marshalPoint(c,l.newEndPosition),c+=SIZE_OF_POINT,setValue(c,l.startIndex,"i32"),c+=SIZE_OF_INT,setValue(c,l.oldEndIndex,"i32"),c+=SIZE_OF_INT,setValue(c,l.newEndIndex,"i32"),c+=SIZE_OF_INT}o(marshalEdit,"marshalEdit"),i(marshalEdit,"marshalEdit");for(let l of Object.getOwnPropertyNames(ParserImpl.prototype))Object.defineProperty(_Parser.prototype,l,{value:ParserImpl.prototype[l],enumerable:!1,writable:!1});_Parser.Language=Language,Module.onRuntimeInitialized=()=>{ParserImpl.init(),resolveInitPromise()}}))}};o(_Parser,"Parser"),i(_Parser,"Parser");let Parser=_Parser;return Parser}();typeof exports=="object"&&(module.exports=TreeSitter)}),Ni={};wo(Ni,{DEFAULT_NUM_OF_SNIPPETS:()=>cr,DEFAULT_TREE_TRAVERSAL_CONFIG:()=>Hn,ElidableText:()=>Fe,FileSystem:()=>Oe,LineEndingOptions:()=>Kt,LineWithValueAndCost:()=>he,LocalFileSystem:()=>De,MAX_PROMPT_LENGTH:()=>ur,MAX_TOOLTIP_SIGNATURE_TOKENS:()=>dr,NeighboringTabsOption:()=>ze,PromptOptions:()=>ft,ProviderTimeoutError:()=>re,SnippetOrchestrator:()=>It,SnippetProviderType:()=>j,SnippetSemantics:()=>ie,SuffixMatchOption:()=>mr,SuffixOption:()=>_r,TokenizerName:()=>Xe,WASMLanguage:()=>io,blankNode:()=>et,buildLabelRules:()=>fe,clearLabels:()=>An,clearLabelsIf:()=>Ut,combineClosersAndOpeners:()=>tt,comment:()=>Be,commentBlockAsSingles:()=>be,createWorker:()=>Li,cutTreeAfterLine:()=>xo,deparseAndCutTree:()=>Oo,deparseLine:()=>Ae,deparseTree:()=>Bn,describeTree:()=>Wn,duplicateTree:()=>Io,elidableTextForDiff:()=>Go,elidableTextForSourceCode:()=>Vt,encodeTree:()=>Un,firstLineOf:()=>zn,flattenVirtual:()=>q,foldTree:()=>Pe,fromTreeWithFocussedLines:()=>ge,fromTreeWithValuedLines:()=>qn,getAncestorWithSiblingFunctions:()=>bi,getBlockCloseToken:()=>mi,getBlockParser:()=>Ct,getCursorContext:()=>st,getFirstPrecedingComment:()=>wi,getFunctionPositions:()=>vi,getLanguage:()=>lo,getNodeStart:()=>Ii,getPrompt:()=>gs,getTokenizer:()=>U,groupBlocks:()=>zt,isBlank:()=>M,isBlockBodyFinished:()=>xi,isEmptyBlockStart:()=>Ti,isFunction:()=>Lt,isFunctionDefinition:()=>yi,isLine:()=>z,isSupportedLanguageId:()=>$e,isTop:()=>ee,isVirtual:()=>F,labelLines:()=>pe,labelVirtualInherited:()=>Ce,languageCommentMarkers:()=>ot,languageIdToWasmLanguage:()=>B,lastLineOf:()=>Vn,lineNode:()=>Wt,mapLabels:()=>H,normalizeLanguageId:()=>ne,parseRaw:()=>Fn,parseTree:()=>te,parseTreeSitter:()=>Te,parsesWithoutError:()=>_i,providersErrors:()=>Yr,providersPerformance:()=>eo,providersSnippets:()=>Xr,queryExports:()=>fi,queryFunctions:()=>uo,queryGlobalVars:()=>gi,queryImports:()=>pi,queryPythonIsDocstring:()=>Ln,rebuildTree:()=>ke,registerLanguageSpecificParser:()=>nt,resetLineNumbers:()=>Lo,topNode:()=>Ne,virtualNode:()=>Ye,visitTree:()=>T,visitTreeConditionally:()=>No});module.exports=vo(Ni);var mo=require("path"),po=require("worker_threads"),Rt=Ft(require("fs")),Ot=Ft(require("path")),Qe=require("util"),Je=i((e,t)=>Array.from(Array(t).keys()).slice(e),"range"),me=i(e=>e.charCodeAt(0),"ord"),So=i(e=>String.fromCharCode(e),"chr"),Eo=new Qe.TextDecoder("utf-8"),Pn=i(e=>Eo.decode(new Uint8Array(e)),"decodeStr"),Mo=i((e,t)=>{let r=new Map;return e.forEach((n,s)=>{r.set(e[s],t[s])}),r},"dictZip");function To(e){let t=Je(me("!"),me("~")+1).concat(Je(me("\xA1"),me("\xAC")+1),Je(me("\xAE"),me("\xFF")+1)),r=t.slice(),n=0;for(let a=0;a<2**8;a++)t.includes(a)||(t.push(a),r.push(2**8+n),n=n+1);let s=r.map(a=>So(a));for(let a=0;a<t.length;a++)e.set(t[a],s[a])}o(To,"To");i(To,"bytes_to_unicode");function kn(e){let t=new Set,r=e[0];for(let n=1;n<e.length;n++){let s=e[n];t.add([r,s]),r=s}return t}o(kn,"kn");i(kn,"get_char_pairs");var Xe=(e=>(e.cl100k="cl100k",e.mock="mock",e))(Xe||{}),Cn=new Map;function U(e="cl100k"){let t=Cn.get(e);return t!==void 0||(e==="mock"?t=new Bt:t=new Dt(e),Cn.set(e,t)),t}o(U,"U");i(U,"getTokenizer");var I8,Dt=(I8=class{constructor(t="cl100k"){this.decoder=new Map,this.byte_encoder=new Map,this.byte_decoder=new Map,this.cache=new Map,this.textEncoder=new Qe.TextEncoder,this.encodeStr=c=>Array.from(this.textEncoder.encode(c));let r="",n="";if(t==="cl100k")r="vocab_cushman002.bpe",n="tokenizer_cushman002.json",this.pat=new RegExp("'s|'t|'re|'ve|'m|'ll|'d|[^\\r\\n\\p{L}\\p{N}]?\\p{L}+|\\p{N}{1,3}| ?[^\\s\\p{L}\\p{N}]+[\\r\\n]*|\\s*[\\r\\n]+|\\s+(?!\\S)|\\s+","giu");else throw new Error(`Unknown tokenizer name: ${t}`);let s,a;try{let c=Rt.readFileSync(Ot.resolve(__dirname,"resources",t,n));s=JSON.parse(c.toString()),a=Rt.readFileSync(Ot.resolve(__dirname,"resources",t,r),"utf-8")}catch(c){if(typeof c.code=="string"&&c instanceof Error&&c.name==="Error"||c instanceof SyntaxError){let u=new Error(`Could not load tokenizer: ${t}`);throw u.code="CopilotPromptLoadFailure",u.cause=c,u}throw c}this.encoder=new Map(Object.entries(s));for(let[c,u]of this.encoder)this.decoder.set(u,c);let l=a.split(`
`).slice(1).filter(c=>c.trim().length>0);this.bpe_ranks=Mo(l,Je(0,l.length)),To(this.byte_encoder),this.byte_encoder.forEach((c,u,f)=>{this.byte_decoder.set(c,u)})}byteEncodeStr(t){return this.encodeStr(t).map(r=>this.byte_encoder.get(r))}mutatingConcat(t,r){for(let n=0;n<r.length;n++)t.push(r[n]);return t}bpe(t){if(this.cache.has(t))return this.cache.get(t);let r=this.byteEncodeStr(t),n=kn(r);if(!n)return r.map(a=>this.encoder.get(a));for(;;){let a=new Map;n.forEach(h=>{let m=h.join(" "),v=this.bpe_ranks.get(m);a.set(v===void 0||isNaN(v)?1e11:v,h)});let l=Array.from(a.keys()).map(h=>Number(h)),c=a.get(Math.min(...l));if(!c||!this.bpe_ranks.has(c.join(" ")))break;let u=c[0],f=c[1],d=[],p=0;for(;p<r.length;){let h=r.indexOf(u,p);if(h===-1){this.mutatingConcat(d,r.slice(p));break}this.mutatingConcat(d,r.slice(p,h)),p=h,r[p]===u&&p<r.length-1&&r[p+1]===f?(d.push(u+f),p=p+2):(d.push(r[p]),p=p+1)}if(r=d,r.length===1)break;n=kn(r)}let s=r.map(a=>this.encoder.get(a));return this.cache.set(t,s),s}tokenize(t){let r=[];for(let[n]of t.matchAll(this.pat)){let s=this.bpe(n);this.mutatingConcat(r,s)}return r}tokenLength(t){return this.tokenize(t).length}takeLastTokens(t,r){if(r<=0)return"";let n=4,s=1,a=Math.min(t.length,r*n),l=t.slice(-a),c=this.tokenize(l);for(;c.length<r+2&&a<t.length;)a=Math.min(t.length,a+r*s),l=t.slice(-a),c=this.tokenize(l);return c.length<r?t:(c=c.slice(-r),this.detokenize(c))}takeFirstTokens(t,r){if(r<=0)return{text:"",tokens:[]};let n=4,s=1,a=Math.min(t.length,r*n),l=t.slice(0,a),c=this.tokenize(l);for(;c.length<r+2&&a<t.length;)a=Math.min(t.length,a+r*s),l=t.slice(0,a),c=this.tokenize(l);return c.length<r?{text:t,tokens:c}:(c=c.slice(0,r),{text:this.detokenize(c),tokens:c})}takeLastLinesTokens(t,r){let n=this.takeLastTokens(t,r);if(n.length===t.length||t[t.length-n.length-1]===`
`)return n;let s=n.indexOf(`
`);return n.substring(s+1)}detokenize(t){let r=t.map(n=>this.decoder.get(n)).join("");return r=Pn(r.split("").map(n=>this.byte_decoder.get(n))),r}tokenizeStrings(t){return this.tokenize(t).map(r=>Pn(this.decoder.get(r).split("").map(n=>this.byte_decoder.get(n))))}},o(I8,"Dt"),i(I8,"BPETokenizer"),I8),A8,Bt=(A8=class{constructor(){this.hash=t=>{let r=0;for(let n=0;n<t.length;n++){let s=t.charCodeAt(n);r=(r<<5)-r+s,r&=r&65535}return r}}tokenize(t){return this.tokenizeStrings(t).map(this.hash)}detokenize(t){return t.map(r=>r.toString()).join(" ")}tokenizeStrings(t){return t.split(/\b/)}tokenLength(t){return this.tokenizeStrings(t).length}takeLastTokens(t,r){return this.tokenizeStrings(t).slice(-r).join("")}takeFirstTokens(t,r){let n=this.tokenizeStrings(t).slice(0,r);return{text:n.join(""),tokens:n.map(this.hash)}}takeLastLinesTokens(t,r){let n=this.takeLastTokens(t,r);if(n.length===t.length||t[t.length-n.length-1]===`
`)return n;let s=n.indexOf(`
`);return n.substring(s+1)}},o(A8,"Bt"),i(A8,"MockTokenizer"),A8);function Ye(e,t,r){return{type:"virtual",indentation:e,subs:t,label:r}}o(Ye,"Ye");i(Ye,"virtualNode");function Wt(e,t,r,n,s){if(r==="")throw new Error("Cannot create a line node with an empty source line");return{type:"line",indentation:e,lineNumber:t,sourceLine:r,subs:n,label:s}}o(Wt,"Wt");i(Wt,"lineNode");function et(e){return{type:"blank",lineNumber:e,subs:[]}}o(et,"et");i(et,"blankNode");function Ne(e){return{type:"top",indentation:-1,subs:e!=null?e:[]}}o(Ne,"Ne");i(Ne,"topNode");function M(e){return e.type==="blank"}o(M,"M");i(M,"isBlank");function z(e){return e.type==="line"}o(z,"z");i(z,"isLine");function F(e){return e.type==="virtual"}o(F,"F");i(F,"isVirtual");function ee(e){return e.type==="top"}o(ee,"ee");i(ee,"isTop");function xo(e,t){function r(n){if(!F(n)&&!ee(n)&&n.lineNumber===t)return n.subs=[],!0;for(let s=0;s<n.subs.length;s++)if(r(n.subs[s]))return n.subs=n.subs.slice(0,s+1),!0;return!1}o(r,"n"),i(r,"cut"),r(e)}o(xo,"xo");i(xo,"cutTreeAfterLine");function Io(e){return JSON.parse(JSON.stringify(e))}o(Io,"Io");i(Io,"duplicateTree");function An(e){return T(e,t=>{t.label=void 0},"bottomUp"),e}o(An,"An");i(An,"clearLabels");function Ut(e,t){return T(e,r=>{r.label=r.label?t(r.label)?void 0:r.label:void 0},"bottomUp"),e}o(Ut,"Ut");i(Ut,"clearLabelsIf");function H(e,t){switch(e.type){case"line":case"virtual":let r=e.subs.map(n=>H(n,t));return{...e,subs:r,label:e.label?t(e.label):void 0};case"blank":return{...e,label:e.label?t(e.label):void 0};case"top":return{...e,subs:e.subs.map(n=>H(n,t)),label:e.label?t(e.label):void 0}}}o(H,"H");i(H,"mapLabels");function Lo(e){let t=0;function r(n){!F(n)&&!ee(n)&&(n.lineNumber=t,t++)}o(r,"n"),i(r,"visitor"),T(e,r,"topDown")}o(Lo,"Lo");i(Lo,"resetLineNumbers");function T(e,t,r){function n(s){r==="topDown"&&t(s),s.subs.forEach(a=>{n(a)}),r==="bottomUp"&&t(s)}o(n,"r"),i(n,"_visit"),n(e)}o(T,"T");i(T,"visitTree");function No(e,t,r){function n(s){if(r==="topDown"&&!t(s))return!1;let a=!0;return s.subs.forEach(l=>{a=a&&n(l)}),r==="bottomUp"&&(a=a&&t(s)),a}o(n,"r"),i(n,"_visit"),n(e)}o(No,"No");i(No,"visitTreeConditionally");function Pe(e,t,r,n){let s=t;function a(l){s=r(l,s)}return o(a,"s"),i(a,"visitor"),T(e,a,n),s}o(Pe,"Pe");i(Pe,"foldTree");function ke(e,t,r){let n=i(a=>{if(r!==void 0&&r(a))return a;{let l=a.subs.map(n).filter(c=>c!==void 0);return a.subs=l,t(a)}},"rebuild"),s=n(e);return s!==void 0?s:Ne()}o(ke,"ke");i(ke,"rebuildTree");function Fn(e){let t=e.split(`
`),r=t.map(f=>f.match(/^\s*/)[0].length),n=t.map(f=>f.trimLeft());function s(f){let[d,p]=a(f+1,r[f]);return[Wt(r[f],f,n[f],d),p]}o(s,"o"),i(s,"parseNode");function a(f,d){let p,h=[],m=f,v;for(;m<n.length&&(n[m]===""||r[m]>d);)if(n[m]==="")v===void 0&&(v=m),m+=1;else{if(v!==void 0){for(let _=v;_<m;_++)h.push(et(_));v=void 0}[p,m]=s(m),h.push(p)}return v!==void 0&&(m=v),[h,m]}o(a,"s"),i(a,"parseSubs");let[l,c]=a(0,-1),u=c;for(;u<n.length&&n[u]==="";)l.push(et(u)),u+=1;if(u<n.length)throw new Error(`Parsing did not go to end of file. Ended at ${u} out of ${n.length}`);return Ne(l)}o(Fn,"Fn");i(Fn,"parseRaw");function pe(e,t){function r(n){if(z(n)){let s=t.find(a=>a.matches(n.sourceLine));s&&(n.label=s.label)}}o(r,"n"),i(r,"visitor"),T(e,r,"bottomUp")}o(pe,"pe");i(pe,"labelLines");function Ce(e){function t(r){if(F(r)&&r.label===void 0){let n=r.subs.filter(s=>!M(s));n.length===1&&(r.label=n[0].label)}}o(t,"e"),i(t,"visitor"),T(e,t,"bottomUp")}o(Ce,"Ce");i(Ce,"labelVirtualInherited");function fe(e){return Object.keys(e).map(t=>{let r;return e[t].test?r=i(n=>e[t].test(n),"matches"):r=e[t],{matches:r,label:t}})}o(fe,"fe");i(fe,"buildLabelRules");function tt(e){let t=ke(e,i(function(r){if(r.subs.length===0||r.subs.findIndex(a=>a.label==="closer"||a.label==="opener")===-1)return r;let n=[],s;for(let a=0;a<r.subs.length;a++){let l=r.subs[a],c=r.subs[a-1];if(l.label==="opener"&&c!==void 0&&z(c))c.subs.push(l),l.subs.forEach(u=>c.subs.push(u)),l.subs=[];else if(l.label==="closer"&&s!==void 0&&(z(l)||F(l))&&l.indentation>=s.indentation){let u=n.length-1;for(;u>0&&M(n[u]);)u-=1;if(s.subs.push(...n.splice(u+1)),l.subs.length>0){let f=s.subs.findIndex(m=>m.label!=="newVirtual"),d=s.subs.slice(0,f),p=s.subs.slice(f),h=p.length>0?[Ye(l.indentation,p,"newVirtual")]:[];s.subs=[...d,...h,l]}else s.subs.push(l)}else n.push(l),M(l)||(s=l)}return r.subs=n,r},"rebuilder"));return Ut(e,r=>r==="newVirtual"),t}o(tt,"tt");i(tt,"combineClosersAndOpeners");function zt(e,t=M,r){return ke(e,i(function(n){if(n.subs.length<=1)return n;let s=[],a=[],l,c=!1;function u(f=!1){if(l!==void 0&&(s.length>0||!f)){let d=Ye(l,a,r);s.push(d)}else a.forEach(d=>s.push(d))}o(u,"d"),i(u,"flushBlockIntoNewSubs");for(let f=0;f<n.subs.length;f++){let d=n.subs[f],p=t(d);!p&&c&&(u(),a=[]),c=p,a.push(d),M(d)||(l=l!=null?l:d.indentation)}return u(!0),n.subs=s,n},"rebuilder"))}o(zt,"zt");i(zt,"groupBlocks");function q(e){return ke(e,i(function(t){return F(t)&&t.label===void 0&&t.subs.length<=1?t.subs.length===0?void 0:t.subs[0]:(t.subs.length===1&&F(t.subs[0])&&t.subs[0].label===void 0&&(t.subs=t.subs[0].subs),t)},"rebuilder"))}o(q,"q");i(q,"flattenVirtual");var Po={opener:/^[\[({]/,closer:/^[\])}]/},ko=fe(Po),Rn={};function nt(e,t){Rn[e]=t}o(nt,"nt");i(nt,"registerLanguageSpecificParser");function te(e,t){let r=Fn(e),n=Rn[t!=null?t:""];return n?n(r):(pe(r,ko),tt(r))}o(te,"te");i(te,"parseTree");var Co={package:/^package /,import:/^import /,class:/\bclass /,interface:/\binterface /,javadoc:/^\/\*\*/,comment_multi:/^\/\*[^*]/,comment_single:/^\/\//,annotation:/^@/,opener:/^[\[({]/,closer:/^[\])}]/},Ao=fe(Co);function On(e){let t=e;return pe(t,Ao),t=tt(t),t=q(t),Ce(t),T(t,r=>{if(r.label==="class"||r.label==="interface")for(let n of r.subs)!M(n)&&(n.label===void 0||n.label==="annotation")&&(n.label="member")},"bottomUp"),t}o(On,"On");i(On,"processJava");var Fo={heading:/^# /,subheading:/^## /,subsubheading:/### /},Ro=fe(Fo);function Dn(e){let t=e;if(pe(t,Ro),M(t))return t;function r(a){if(a.label==="heading")return 1;if(a.label==="subheading")return 2;if(a.label==="subsubheading")return 3}o(r,"n"),i(r,"headingLevel");let n=[t],s=[...t.subs];t.subs=[];for(let a of s){let l=r(a);if(l===void 0||M(a))n[n.length-1].subs.push(a);else{for(;n.length<l;)n.push(n[n.length-1]);for(n[l-1].subs.push(a),n[l]=a;n.length>l+1;)n.pop()}}return t=zt(t),t=q(t),Ce(t),t}o(Dn,"Dn");i(Dn,"processMarkdown");function Ae(e){return" ".repeat(e.indentation)+e.sourceLine+`
`}o(Ae,"Ae");i(Ae,"deparseLine");function Bn(e){function t(r,n){let s="";return z(r)?s=Ae(r):M(r)&&(s=`
`),n+s}return o(t,"e"),i(t,"accumulator"),Pe(e,"",t,"topDown")}o(Bn,"Bn");i(Bn,"deparseTree");function Oo(e,t){let r=new Set(t),n=[],s="";function a(l){l.label!==void 0&&r.has(l.label)?(s!==""&&n.push({label:void 0,source:s}),n.push({label:l.label,source:Bn(l)}),s=""):(z(l)&&(s+=Ae(l)),l.subs.forEach(a))}return o(a,"s"),i(a,"visit"),a(e),s!==""&&n.push({label:void 0,source:s}),n}o(Oo,"Oo");i(Oo,"deparseAndCutTree");function Wn(e,t=0){let r=" ".repeat(t);if(e===void 0)return"UNDEFINED NODE";let n;e.subs===void 0?n="UNDEFINED SUBS":n=e.subs.map(l=>Wn(l,t+2)).join(`,
`),n===""?n="[]":n=`[
${n}
      ${r}]`;let s=(F(e)||ee(e)?"   ":String(e.lineNumber).padStart(3," "))+`:  ${r}`,a=e.label===void 0?"":JSON.stringify(e.label);return F(e)||ee(e)?`${s}vnode(${e.indentation}, ${a}, ${n})`:M(e)?`${s}blank(${a!=null?a:""})`:`${s}lnode(${e.indentation}, ${a}, ${JSON.stringify(e.sourceLine)}, ${n})`}o(Wn,"Wn");i(Wn,"describeTree");function Un(e,t=""){let r=e.label===void 0?"":`, ${JSON.stringify(e.label)}`,n=!M(e)&&e.subs.length>0?`[
${e.subs.map(s=>Un(s,t+"  ")).join(`, 
`)}
${t}]`:"[]";switch(e.type){case"blank":return`${t}blankNode(${e.lineNumber}${r})`;case"top":return`topNode(${n}${r})`;case"virtual":return`${t}virtualNode(${e.indentation}, ${n}${r})`;case"line":return`${t}lineNode(${e.indentation}, ${e.lineNumber}, "${e.sourceLine}", ${n}${r})`}}o(Un,"Un");i(Un,"encodeTree");function zn(e){if(z(e)||M(e))return e.lineNumber;for(let t of e.subs){let r=zn(t);if(r!==void 0)return r}}o(zn,"zn");i(zn,"firstLineOf");function Vn(e){let t,r=e.subs.length-1;for(;r>=0&&t===void 0;)t=Vn(e.subs[r]),r--;return t===void 0&&!F(e)&&!ee(e)?e.lineNumber:t}o(Vn,"Vn");i(Vn,"lastLineOf");nt("markdown",Dn);nt("java",On);var Hn={worthUp:.9,worthSibling:.88,worthDown:.8};function ge(e,t=Hn){let r=H(e,n=>n?1:void 0);return T(r,n=>{var a;if(M(n))return;let s=n.subs.reduce((l,c)=>{var u;return Math.max(l,(u=c.label)!=null?u:0)},0);n.label=Math.max((a=n.label)!=null?a:0,s*t.worthUp)},"bottomUp"),T(r,n=>{if(M(n))return;let s=n.subs.map(c=>{var u;return(u=c.label)!=null?u:0}),a=[...s];for(let c=0;c<s.length;c++)s[c]!==0&&(a=a.map((u,f)=>Math.max(u,Math.pow(t.worthSibling,Math.abs(c-f))*s[c])));let l=n.label;l!==void 0&&(a=a.map(c=>Math.max(c,t.worthDown*l))),n.subs.forEach((c,u)=>c.label=a[u])},"topDown"),qn(r)}o(ge,"ge");i(ge,"fromTreeWithFocussedLines");function qn(e){let t=Pe(e,[],(r,n)=>{var s,a;return(r.type==="line"||r.type==="blank")&&n.push(r.type==="line"?[Ae(r).trimEnd(),(s=r.label)!=null?s:0]:["",(a=r.label)!=null?a:0]),n},"topDown");return new Fe(t)}o(qn,"qn");i(qn,"fromTreeWithValuedLines");function Vt(e,t=!0,r=!0){let n=typeof e=="string"?te(e):te(e.source,e.languageId);q(n);let s=H(n,a=>t&&a!=="closer");return T(s,a=>{a.label===void 0&&(a.label=t&&a.label!==!1)},"topDown"),t&&T(s,a=>{if(a.label){let l=!1;for(let c of[...a.subs].reverse())c.label&&!l?l=!0:c.label=!1}else for(let l of a.subs)l.label=!1;a.subs.length>0&&(a.label=!1)},"topDown"),r&&T(s,a=>{a.label||(a.label=(z(a)||M(a))&&a.lineNumber==0)},"topDown"),ge(s)}o(Vt,"Vt");i(Vt,"elidableTextForSourceCode");var dm,he=(dm=class{constructor(t,r,n=U().tokenLength(t+`
`),s="strict"){if(this.text=t,this._value=r,this._cost=n,t.includes(`
`)&&s!=="none")throw new Error("LineWithValueAndCost: text contains newline");if(r<0&&s!=="none")throw new Error("LineWithValueAndCost: value is negative");if(n<0&&s!=="none")throw new Error("LineWithValueAndCost: cost is negative");if(s=="strict"&&r>1)throw new Error("Value should normally be between 0 and 1 -- set validation to `loose` to ignore this error")}get value(){return this._value}get cost(){return this._cost}adjustValue(t){return this._value*=t,this}recost(t=r=>U().tokenLength(r+`
`)){return this._cost=t(this.text),this}copy(){return new dm(this.text,this.value,this.cost,"none")}},o(dm,"t"),i(dm,"LineWithValueAndCost"),dm),pm,Fe=(pm=class{constructor(t){this.lines=[];let r=[];for(let n of t){let s=Array.isArray(n)?n[1]:1,a=Array.isArray(n)?n[0]:n;typeof a=="string"?a.split(`
`).forEach(l=>r.push(new he(l,s))):a instanceof pm?a.lines.forEach(l=>r.push(l.copy().adjustValue(s))):"source"in a&&"languageId"in a&&Vt(a).lines.forEach(l=>r.push(l.copy().adjustValue(s)))}this.lines=r}adjust(t){this.lines.forEach(r=>r.adjustValue(t))}recost(t=r=>U().tokenLength(r+`
`)){this.lines.forEach(r=>r.recost(t))}makePrompt(t,r="[...]",n=!0,s="removeLeastDesirable",a=U()){let l=this.lines.map(c=>c.copy());return Do(l,t,r,n,s,a)}},o(pm,"t"),i(pm,"ElidableText"),pm);function Do(e,t,r,n,s,a){var p,h,m,v,_,b,S,A,O,L,D,$,de;if(a.tokenLength(r+`
`)>t)throw new Error("maxTokens must be larger than the ellipsis length");s==="removeLeastBangForBuck"&&e.forEach(ue=>ue.adjustValue(1/ue.cost));let l=e.reduce((ue,Ze)=>Math.max(ue,Ze.value),0)+1,c=e.reduce((ue,Ze)=>Math.max(ue,Ze.text.length),0)+1,u=r.trim(),f=e.reduce((ue,Ze)=>ue+Ze.cost,0),d=e.length+1;for(;f>t&&d-->=-1;){let ue=e.reduce((St,br)=>br.value<St.value?br:St),Ze=e.indexOf(ue),vr=(p=e.slice(0,Ze+1).reverse().find(St=>St.text.trim()!==""))!=null?p:{text:""},vt=n?Math.min((m=(h=vr.text.match(/^\s*/))==null?void 0:h[0].length)!=null?m:0,((v=e[Ze-1])==null?void 0:v.text.trim())===u?(S=(b=(_=e[Ze-1])==null?void 0:_.text.match(/^\s*/))==null?void 0:b[0].length)!=null?S:0:c,((A=e[Ze+1])==null?void 0:A.text.trim())===u?(D=(L=(O=e[Ze+1])==null?void 0:O.text.match(/^\s*/))==null?void 0:L[0].length)!=null?D:0:c):0,wr=" ".repeat(vt)+r,Ve=new he(wr,l,a.tokenLength(wr+`
`),"loose");e.splice(Ze,1,Ve),(($=e[Ze+1])==null?void 0:$.text.trim())===u&&e.splice(Ze+1,1),((de=e[Ze-1])==null?void 0:de.text.trim())===u&&e.splice(Ze-1,1);let Me=e.reduce((St,br)=>St+br.cost,0);Me>=f&&e.every(St=>St.value===l)&&(n=!1),f=Me}if(d<0)throw new Error("Infinite loop in ElidableText.makePrompt: Defensive counter < 0 in ElidableText.makePrompt with end text");return e.map(ue=>ue.text).join(`
`)}o(Do,"Do");i(Do,"makePrompt");function J(){}o(J,"J");i(J,"Diff");J.prototype={diff:i(function(e,t){var r,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=n.callback;typeof n=="function"&&(s=n,n={}),this.options=n;var a=this;function l(O){return s?(setTimeout(function(){s(void 0,O)},0),!0):O}o(l,"l"),i(l,"done"),e=this.castInput(e),t=this.castInput(t),e=this.removeEmpty(this.tokenize(e)),t=this.removeEmpty(this.tokenize(t));var c=t.length,u=e.length,f=1,d=c+u;n.maxEditLength&&(d=Math.min(d,n.maxEditLength));var p=(r=n.timeout)!==null&&r!==void 0?r:1/0,h=Date.now()+p,m=[{oldPos:-1,lastComponent:void 0}],v=this.extractCommon(m[0],t,e,0);if(m[0].oldPos+1>=u&&v+1>=c)return l([{value:this.join(t),count:t.length}]);var _=-1/0,b=1/0;function S(){for(var O=Math.max(_,-f);O<=Math.min(b,f);O+=2){var L=void 0,D=m[O-1],$=m[O+1];D&&(m[O-1]=void 0);var de=!1;if($){var ue=$.oldPos-O;de=$&&0<=ue&&ue<c}var Ze=D&&D.oldPos+1<u;if(!de&&!Ze){m[O]=void 0;continue}if(!Ze||de&&D.oldPos+1<$.oldPos?L=a.addToPath($,!0,void 0,0):L=a.addToPath(D,void 0,!0,1),v=a.extractCommon(L,t,e,O),L.oldPos+1>=u&&v+1>=c)return l(Bo(a,L.lastComponent,t,e,a.useLongestToken));m[O]=L,L.oldPos+1>=u&&(b=Math.min(b,O-1)),v+1>=c&&(_=Math.max(_,O+1))}f++}if(o(S,"h"),i(S,"execEditLength"),s)i(o(function O(){setTimeout(function(){if(f>d||Date.now()>h)return s();S()||O()},0)},"v"),"exec")();else for(;f<=d&&Date.now()<=h;){var A=S();if(A)return A}},"diff"),addToPath:i(function(e,t,r,n){var s=e.lastComponent;return s&&s.added===t&&s.removed===r?{oldPos:e.oldPos+n,lastComponent:{count:s.count+1,added:t,removed:r,previousComponent:s.previousComponent}}:{oldPos:e.oldPos+n,lastComponent:{count:1,added:t,removed:r,previousComponent:s}}},"addToPath"),extractCommon:i(function(e,t,r,n){for(var s=t.length,a=r.length,l=e.oldPos,c=l-n,u=0;c+1<s&&l+1<a&&this.equals(t[c+1],r[l+1]);)c++,l++,u++;return u&&(e.lastComponent={count:u,previousComponent:e.lastComponent}),e.oldPos=l,c},"extractCommon"),equals:i(function(e,t){return this.options.comparator?this.options.comparator(e,t):e===t||this.options.ignoreCase&&e.toLowerCase()===t.toLowerCase()},"equals"),removeEmpty:i(function(e){for(var t=[],r=0;r<e.length;r++)e[r]&&t.push(e[r]);return t},"removeEmpty"),castInput:i(function(e){return e},"castInput"),tokenize:i(function(e){return e.split("")},"tokenize"),join:i(function(e){return e.join("")},"join")};function Bo(e,t,r,n,s){for(var a=[],l;t;)a.push(t),l=t.previousComponent,delete t.previousComponent,t=l;a.reverse();for(var c=0,u=a.length,f=0,d=0;c<u;c++){var p=a[c];if(p.removed){if(p.value=e.join(n.slice(d,d+p.count)),d+=p.count,c&&a[c-1].added){var h=a[c-1];a[c-1]=a[c],a[c]=h}}else{if(!p.added&&s){var m=r.slice(f,f+p.count);m=m.map(function(_,b){var S=n[d+b];return S.length>_.length?S:_}),p.value=e.join(m)}else p.value=e.join(r.slice(f,f+p.count));f+=p.count,p.added||(d+=p.count)}}var v=a[u-1];return u>1&&typeof v.value=="string"&&(v.added||v.removed)&&e.equals("",v.value)&&(a[u-2].value+=v.value,a.pop()),a}o(Bo,"Bo");i(Bo,"buildValues");var $a=new J,jn=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,Zn=/\S/,$n=new J;$n.equals=function(e,t){return this.options.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t||this.options.ignoreWhitespace&&!Zn.test(e)&&!Zn.test(t)};$n.tokenize=function(e){for(var t=e.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/),r=0;r<t.length-1;r++)!t[r+1]&&t[r+2]&&jn.test(t[r])&&jn.test(t[r+2])&&(t[r]+=t[r+2],t.splice(r+1,2),r--);return t};var $t=new J;$t.tokenize=function(e){this.options.stripTrailingCr&&(e=e.replace(/\r\n/g,`
`));var t=[],r=e.split(/(\n|\r\n)/);r[r.length-1]||r.pop();for(var n=0;n<r.length;n++){var s=r[n];n%2&&!this.options.newlineIsToken?t[t.length-1]+=s:(this.options.ignoreWhitespace&&(s=s.trim()),t.push(s))}return t};function Wo(e,t,r){return $t.diff(e,t,r)}o(Wo,"Wo");i(Wo,"diffLines");var Uo=new J;Uo.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};var zo=new J;zo.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};function rt(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?rt=i(function(t){return typeof t},"_typeof"):rt=i(function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},"_typeof"),rt(e)}o(rt,"rt");i(rt,"_typeof");function Ht(e){return Vo(e)||Ho(e)||qo(e)||jo()}o(Ht,"Ht");i(Ht,"_toConsumableArray");function Vo(e){if(Array.isArray(e))return qt(e)}o(Vo,"Vo");i(Vo,"_arrayWithoutHoles");function Ho(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}o(Ho,"Ho");i(Ho,"_iterableToArray");function qo(e,t){if(e){if(typeof e=="string")return qt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qt(e,t)}}o(qo,"qo");i(qo,"_unsupportedIterableToArray");function qt(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}o(qt,"qt");i(qt,"_arrayLikeToArray");function jo(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}o(jo,"jo");i(jo,"_nonIterableSpread");var Zo=Object.prototype.toString,Re=new J;Re.useLongestToken=!0;Re.tokenize=$t.tokenize;Re.castInput=function(e){var t=this.options,r=t.undefinedReplacement,n=t.stringifyReplacer,s=n===void 0?function(a,l){return typeof l>"u"?r:l}:n;return typeof e=="string"?e:JSON.stringify(jt(e,null,null,s),s,"  ")};Re.equals=function(e,t){return J.prototype.equals.call(Re,e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"))};function jt(e,t,r,n,s){t=t||[],r=r||[],n&&(e=n(s,e));var a;for(a=0;a<t.length;a+=1)if(t[a]===e)return r[a];var l;if(Zo.call(e)==="[object Array]"){for(t.push(e),l=new Array(e.length),r.push(l),a=0;a<e.length;a+=1)l[a]=jt(e[a],t,r,n,s);return t.pop(),r.pop(),l}if(e&&e.toJSON&&(e=e.toJSON()),rt(e)==="object"&&e!==null){t.push(e),l={},r.push(l);var c=[],u;for(u in e)e.hasOwnProperty(u)&&c.push(u);for(c.sort(),a=0;a<c.length;a+=1)u=c[a],l[u]=jt(e[u],t,r,n,u);t.pop(),r.pop()}else l=e;return l}o(jt,"jt");i(jt,"canonicalize");var Zt=new J;Zt.tokenize=function(e){return e.slice()};Zt.join=Zt.removeEmpty=function(e){return e};function Gn(e,t,r,n,s,a,l){l||(l={}),typeof l.context>"u"&&(l.context=4);var c=Wo(r,n,l);if(!c)return;c.push({value:"",lines:[]});function u(S){return S.map(function(A){return" "+A})}o(u,"u"),i(u,"contextLines");for(var f=[],d=0,p=0,h=[],m=1,v=1,_=i(function(S){var A=c[S],O=A.lines||A.value.replace(/\n$/,"").split(`
`);if(A.lines=O,A.added||A.removed){var L;if(!d){var D=c[S-1];d=m,p=v,D&&(h=l.context>0?u(D.lines.slice(-l.context)):[],d-=h.length,p-=h.length)}(L=h).push.apply(L,Ht(O.map(function(Ve){return(A.added?"+":"-")+Ve}))),A.added?v+=O.length:m+=O.length}else{if(d)if(O.length<=l.context*2&&S<c.length-2){var $;($=h).push.apply($,Ht(u(O)))}else{var de,ue=Math.min(O.length,l.context);(de=h).push.apply(de,Ht(u(O.slice(0,ue))));var Ze={oldStart:d,oldLines:m-d+ue,newStart:p,newLines:v-p+ue,lines:h};if(S>=c.length-2&&O.length<=l.context){var vr=/\n$/.test(r),vt=/\n$/.test(n),wr=O.length==0&&h.length>Ze.oldLines;!vr&&wr&&r.length>0&&h.splice(Ze.oldLines,0,"\\ No newline at end of file"),(!vr&&!wr||!vt)&&h.push("\\ No newline at end of file")}f.push(Ze),d=0,p=0,h=[]}m+=O.length,v+=O.length}},"_loop"),b=0;b<c.length;b++)_(b);return{oldFileName:e,newFileName:t,oldHeader:s,newHeader:a,hunks:f}}o(Gn,"Gn");i(Gn,"structuredPatch");function Go(e,t){let r=typeof e=="string"?typeof t=="string"?void 0:t.languageId:typeof t=="string"||e.languageId===t.languageId?e.languageId:void 0;e=typeof e=="string"?e:e.source,t=typeof t=="string"?t:t.source;let n=Gn("","",e,t),s=new Set,a=new Set;for(let u of n.hunks){for(let f=u.oldStart;f<u.oldStart+u.oldLines;f++)s.add(f);for(let f=u.newStart;f<u.newStart+u.newLines;f++)a.add(f)}let l=H(q(te(e,r)),()=>!1),c=H(q(te(t,r)),()=>!1);return T(l,u=>{(u.type==="line"||u.type==="blank")&&s.has(u.lineNumber)&&(u.label=!0)},"topDown"),T(c,u=>{(u.type==="line"||u.type==="blank")&&a.has(u.lineNumber)&&(u.label=!0)},"topDown"),[ge(l),ge(c)]}o(Go,"Go");i(Go,"elidableTextForDiff");var Gt=require("fs"),w8,Oe=(w8=class{},o(w8,"Oe"),i(w8,"FileSystem"),w8),R8,De=(R8=class extends Oe{getFsPath(t){if(t.scheme!=="file")throw new Error(`Unsupported scheme: ${t.scheme}`);return t.fsPath}async readFileString(t){return(await Gt.promises.readFile(this.getFsPath(t))).toString()}async stat(t){let r=await Gt.promises.stat(this.getFsPath(t));return{ctime:r.ctimeMs,mtime:r.mtimeMs,size:r.size}}},o(R8,"De"),i(R8,"LocalFileSystem"),R8),sl=new De,ot={abap:{start:'"',end:""},aspdotnet:{start:"<%--",end:"--%>"},bat:{start:"REM",end:""},bibtex:{start:"%",end:""},blade:{start:"#",end:""},BluespecSystemVerilog:{start:"//",end:""},c:{start:"//",end:""},clojure:{start:";",end:""},coffeescript:{start:"//",end:""},cpp:{start:"//",end:""},csharp:{start:"//",end:""},css:{start:"/*",end:"*/"},cuda:{start:"//",end:""},dart:{start:"//",end:""},dockerfile:{start:"#",end:""},dotenv:{start:"#",end:""},elixir:{start:"#",end:""},erb:{start:"<%#",end:"%>"},erlang:{start:"%",end:""},fsharp:{start:"//",end:""},go:{start:"//",end:""},graphql:{start:"#",end:""},groovy:{start:"//",end:""},haml:{start:"-#",end:""},handlebars:{start:"{{!",end:"}}"},haskell:{start:"--",end:""},hlsl:{start:"//",end:""},html:{start:"<!--",end:"-->"},ini:{start:";",end:""},java:{start:"//",end:""},javascript:{start:"//",end:""},javascriptreact:{start:"//",end:""},jsonc:{start:"//",end:""},jsx:{start:"//",end:""},julia:{start:"#",end:""},kotlin:{start:"//",end:""},latex:{start:"%",end:""},less:{start:"//",end:""},lua:{start:"--",end:""},makefile:{start:"#",end:""},markdown:{start:"[]: #",end:""},"objective-c":{start:"//",end:""},"objective-cpp":{start:"//",end:""},perl:{start:"#",end:""},php:{start:"//",end:""},powershell:{start:"#",end:""},pug:{start:"//",end:""},python:{start:"#",end:""},ql:{start:"//",end:""},r:{start:"#",end:""},razor:{start:"<!--",end:"-->"},ruby:{start:"#",end:""},rust:{start:"//",end:""},sass:{start:"//",end:""},scala:{start:"//",end:""},scss:{start:"//",end:""},shellscript:{start:"#",end:""},slim:{start:"/",end:""},solidity:{start:"//",end:""},sql:{start:"--",end:""},stylus:{start:"//",end:""},svelte:{start:"<!--",end:"-->"},swift:{start:"//",end:""},systemverilog:{start:"//",end:""},terraform:{start:"#",end:""},tex:{start:"%",end:""},typescript:{start:"//",end:""},typescriptreact:{start:"//",end:""},vb:{start:"'",end:""},verilog:{start:"//",end:""},"vue-html":{start:"<!--",end:"-->"},vue:{start:"//",end:""},xml:{start:"<!--",end:"-->"},xsl:{start:"<!--",end:"-->"},yaml:{start:"#",end:""}},Ko=["php","plaintext"],Kn={html:"<!DOCTYPE html>",python:"#!/usr/bin/env python3",ruby:"#!/usr/bin/env ruby",shellscript:"#!/bin/sh",yaml:"# YAML data"};function Jo({source:e}){return e.startsWith("#!")||e.startsWith("<!DOCTYPE")}o(Jo,"Jo");i(Jo,"hasLanguageMarker");function Be(e,t,r){var s;let n=(s=ot[t])!=null?s:r;if(n){let a=n.end==""?"":" "+n.end;return`${n.start} ${e}${a}`}return""}o(Be,"Be");i(Be,"comment");function be(e,t,r){if(!ot[t]&&!r||e==="")return"";let n=e.endsWith(`
`),s=(n?e.slice(0,-1):e).split(`
`).map(a=>Be(a,t,r)).join(`
`);return n?s+`
`:s}o(be,"be");i(be,"commentBlockAsSingles");function Jn(e,t){let{languageId:r}=e;return Ko.indexOf(r)===-1&&!Jo(e)?r in Kn?Kn[r]:Be(`Language: ${r}`,r,t):""}o(Jn,"Jn");i(Jn,"getLanguageMarker");function Qn(e,t){return e.relativePath?Be(`Path: ${e.relativePath}`,e.languageId,t):""}o(Qn,"Qn");i(Qn,"getPathMarker");function ye(e){return e===""||e.endsWith(`
`)?e:e+`
`}o(ye,"ye");i(ye,"newLineEnded");var Qo={tokenizerName:"cl100k"};function Xo(e){return{...Qo,...e}}o(Xo,"Xo");i(Xo,"cursorContextOptions");function st(e,t={}){let r=Xo(t),n=U(r.tokenizerName);if(r.maxLineCount!==void 0&&r.maxLineCount<0)throw new Error("maxLineCount must be non-negative if defined");if(r.maxTokenLength!==void 0&&r.maxTokenLength<0)throw new Error("maxTokenLength must be non-negative if defined");if(r.maxLineCount===0||r.maxTokenLength===0)return{context:"",lineCount:0,tokenLength:0,tokenizerName:r.tokenizerName};let s=e.source.slice(0,e.offset);return r.maxLineCount!==void 0&&(s=s.split(`
`).slice(-r.maxLineCount).join(`
`)),r.maxTokenLength!==void 0&&(s=n.takeLastLinesTokens(s,r.maxTokenLength)),{context:s,lineCount:s.split(`
`).length,tokenLength:n.tokenLength(s),tokenizerName:r.tokenizerName}}o(st,"st");i(st,"getCursorContext");function Xn(e,t){if(e.length===0||t.length===0)return{score:e.length+t.length};let r=Array.from({length:e.length}).map(()=>Array.from({length:t.length}).map(()=>0));for(let n=0;n<e.length;n++)r[n][0]=n;for(let n=0;n<t.length;n++)r[0][n]=n;for(let n=0;n<t.length;n++)for(let s=0;s<e.length;s++)r[s][n]=Math.min((s==0?n:r[s-1][n])+1,(n==0?s:r[s][n-1])+1,(s==0||n==0?Math.max(s,n):r[s-1][n-1])+(e[s]==t[n]?0:1));return{score:r[e.length-1][t.length-1]}}o(Xn,"Xn");i(Xn,"findEditDistanceScore");var We=50,Yo=5,P8,it=(P8=class{constructor(){this.used=new Map,this.unused=new Map}add(t){for(let[r,n]of t.used)this.used.set(r,n);for(let[r,n]of t.unused)this.unused.set(r,n)}markUsed(t){this.IsSnippet(t)&&this.used.set(t.id,this.convert(t))}undoMarkUsed(t){this.IsSnippet(t)&&this.used.delete(t.id)}markUnused(t){this.IsSnippet(t)&&this.unused.set(t.id,this.convert(t))}convert(t){return{score:t.score.toFixed(4),length:t.text.length}}IsSnippet(t){return t.kind=="SimilarFile"||t.kind=="RetrievalSnippet"||t.kind=="TooltipSignature"}},o(P8,"it"),i(P8,"PromptBackground"),P8),N8,at=(N8=class{constructor(){this.used=new Map,this.unused=new Map,this.usedCounts=new Map,this.unusedCounts=new Map}add(t){for(let[r,n]of t.used)this.used.set(r,(this.used.get(r)||0)+n);for(let[r,n]of t.unused)this.unused.set(r,(this.unused.get(r)||0)+n);for(let[r,n]of t.usedCounts)this.usedCounts.set(r,(this.usedCounts.get(r)||0)+n);for(let[r,n]of t.unusedCounts)this.unusedCounts.set(r,(this.unusedCounts.get(r)||0)+n)}markUsed(t){this.used.set(t.kind,(this.used.get(t.kind)||0)+t.tokens),t.kind=="BeforeCursor"?this.usedCounts.set(t.kind,(this.usedCounts.get(t.kind)||0)+t.text.split(`
`).length):this.usedCounts.set(t.kind,(this.usedCounts.get(t.kind)||0)+1)}undoMarkUsed(t){this.used.set(t.kind,(this.used.get(t.kind)||0)-t.tokens),t.kind=="BeforeCursor"?this.usedCounts.set(t.kind,(this.usedCounts.get(t.kind)||0)-t.text.split(`
`).length):this.usedCounts.set(t.kind,(this.usedCounts.get(t.kind)||0)-1)}markUnused(t){this.unused.set(t.kind,(this.unused.get(t.kind)||0)+t.tokens),t.kind=="BeforeCursor"?this.unusedCounts.set(t.kind,(this.unusedCounts.get(t.kind)||0)+t.text.split(`
`).length):this.unusedCounts.set(t.kind,(this.unusedCounts.get(t.kind)||0)+1)}},o(N8,"at"),i(N8,"PromptChoices"),N8),O8,Ue=(O8=class{constructor(t="default"){switch(t){default:this._rankedList=["LanguageMarker","PathMarker","RetrievalSnippet","SimilarFile","BeforeCursor","TooltipSignature"]}}get rankedList(){return this._rankedList}sortElements(t){return t.sort((r,n)=>{let s=this._rankedList.indexOf(r.kind),a=this._rankedList.indexOf(n.kind);if(s===-1||a===-1)throw`Invalid element kind: ${r.kind} or ${n.kind}, not found in prompt element ordering list`;return s===a?r.id-n.id:s-a})}},o(O8,"Ue"),i(O8,"PromptOrderList"),O8),D8,lt=(D8=class extends Ue{constructor(t="default"){switch(super(),t){default:this._rankedList=["TooltipSignature","BeforeCursor","SimilarFile","RetrievalSnippet","PathMarker","LanguageMarker"]}}sortElements(t){return t.sort((r,n)=>{let s=this._rankedList.indexOf(r.kind),a=this._rankedList.indexOf(n.kind);if(s===-1||a===-1)throw`Invalid element kind: ${r.kind} or ${n.kind}, not found in snippet provider priority list`;return s===a?n.id-r.id:s-a})}},o(D8,"lt"),i(D8,"PromptPriorityList"),D8);function dt(e){switch(e){case"neighboring-tabs":return"SimilarFile";case"retrieval":return"RetrievalSnippet";case"path":return"PathMarker";case"language":return"LanguageMarker";case"tooltip-signature":return"TooltipSignature";default:throw new Error(`Unknown snippet provider type ${e}`)}}o(dt,"dt");i(dt,"kindForSnippetProviderType");var L8,ut=(L8=class{constructor(t){this.ranges=new Array;let r=0,n;for(let s of t)s.text.length!==0&&(n==="BeforeCursor"&&s.kind==="BeforeCursor"?this.ranges[this.ranges.length-1].end+=s.text.length:this.ranges.push({kind:s.kind,start:r,end:r+s.text.length}),n=s.kind,r+=s.text.length)}},o(L8,"ut"),i(L8,"PromptElementRanges"),L8),k8,ct=(k8=class{constructor(t,r,n,s,a){this.tokenizer=t,this.lineEndingOption=r,this.orderingList=n,this.snippetTextProcessor=s,this.priorityList=a,this.content=[],this.basePromptBackground=new it,this.baseTallyOfChoices=new at}extMarkUnused(t){this.basePromptBackground.markUnused(t),this.baseTallyOfChoices.markUnused(t)}getContent(){return[...this.content]}convertLineEndings(t){return this.lineEndingOption==="unix"&&(t=t.replace(/\r\n/g,`
`).replace(/\r/g,`
`)),t}maxPrefixTokenLength(){return this.content.reduce((t,r)=>t+=r.tokens,0)}append(t,r,n=this.tokenizer.tokenLength(t),s=NaN){t=this.convertLineEndings(t);let a=this.content.length;return this.content.push({id:a,text:t,kind:r,tokens:n,score:s}),a}fulfillPrefix(t){let r=new it;r.add(this.basePromptBackground);let n=new at;n.add(this.baseTallyOfChoices);function s(v){r.markUsed(v),n.markUsed(v)}o(s,"o"),i(s,"markUsed");function a(v){r.undoMarkUsed(v),n.undoMarkUsed(v)}o(a,"s"),i(a,"undoMarkUsed");function l(v){r.markUnused(v),n.markUnused(v)}o(l,"a"),i(l,"markUnused"),this.priorityList.sortElements(this.content);let c,u=[],f=t;this.content.forEach(v=>{if(f>0||c===void 0){let _=v.tokens;if(f>=_)f-=_,s(v),u.push(v);else if(v.kind==="BeforeCursor"){let{summarizedElement:b,removedMaterial:S}=this.snippetTextProcessor.summarize(this.tokenizer,v,f);v=b,_=v.tokens,f-=_,v.text.length>0&&s(v),S.text.length>0&&l(S),u.push(v)}else c===void 0?c=v:l(v)}else l(v)}),this.orderingList.sortElements(u);let d=u.reduce((v,_)=>v+_.text,""),p=this.tokenizer.tokenLength(d);for(;p>t;){this.priorityList.sortElements(u);let v=u.pop();v&&(a(v),l(v),c!==void 0&&l(c),c=void 0),this.orderingList.sortElements(u),d=u.reduce((_,b)=>_+b.text,""),p=this.tokenizer.tokenLength(d)}let h=[...u];if(c!==void 0){h.push(c),this.orderingList.sortElements(h);let v=h.reduce((b,S)=>b+S.text,""),_=this.tokenizer.tokenLength(v);if(_<=t){s(c);let b=new ut(h);return{prefix:v,suffix:"",prefixLength:_,suffixLength:0,promptChoices:n,promptBackground:r,promptElementRanges:b}}else l(c)}let m=new ut(u);return{prefix:d,suffix:"",prefixLength:p,suffixLength:0,promptChoices:n,promptBackground:r,promptElementRanges:m}}fulfill(t,r,n){var h;if(r.suffixPercent===0||t.length===0)return{promptInfo:this.fulfillPrefix(r.maxPromptLength),newCachedSuffix:n};let s=r.maxPromptLength-Yo,a=Math.floor(s*(100-r.suffixPercent)/100),l=s-a,c=t.trimStart();if(s>We&&l<We)throw new Error(`Suffix budget is smaller than MAX_EDIT_DISTANCE_LENGTH: ${l} < ${We}
`);let u=this.tokenizer.takeFirstTokens(c,We),f=!1;u.tokens.length>0&&r.suffixMatchThreshold>0&&100*((h=Xn(u.tokens,n.tokens.slice(0,We)))==null?void 0:h.score)<r.suffixMatchThreshold*u.tokens.length&&(f=!0);let d;if(f)a=s-n.tokens.length,d=n;else{let m=this.maxPrefixTokenLength(),v=this.tokenizer.tokenLength(c);m<a?(a=m,l=s-a):v<l&&(a=s-v,l=v),d=this.tokenizer.takeFirstTokens(c,l)}let p=this.fulfillPrefix(a);return p.suffix=d.text,p.suffixLength=d.tokens.length,{promptInfo:p,newCachedSuffix:d}}},o(k8,"ct"),i(k8,"PromptWishlist"),k8),j=(e=>(e.NeighboringTabs="neighboring-tabs",e.Retrieval="retrieval",e.Language="language",e.Path="path",e.TooltipSignature="tooltip-signature",e))(j||{}),ie=(e=>(e.Function="function",e.Snippet="snippet",e.Variable="variable",e.Parameter="parameter",e.Method="method",e.Class="class",e.Module="module",e.Alias="alias",e.Enum="enum member",e.Interface="interface",e))(ie||{}),es={function:"function",snippet:"snippet",variable:"variable",parameter:"parameter",method:"method",class:"class",module:"module",alias:"alias","enum member":"enum member",interface:"interface"};function ts(e,t,r){let n=es[e.semantics],s=(e.relativePath?`Compare this ${n} from ${e.relativePath}:`:`Compare this ${n}:`)+`
`+e.snippet;return s.endsWith(`
`)||(s+=`
`),be(s,t,r)}o(ts,"ts");i(ts,"announceSnippet");function Yn(e){e.sort((t,r)=>r.score-t.score)}o(Yn,"Yn");i(Yn,"sortSnippetsDescending");function ns(e,t,r){if(t==0)return[];let n=e.map(a=>({...a,kind:dt(a.provider)})),s=[];return r.rankedList.forEach(a=>{let l=n.filter(({kind:c})=>c===a);Yn(l),s.push(...l)}),s.slice(0,t)}o(ns,"ns");i(ns,"selectSnippets");function er(e,t,r,n,s,a){let l=ns(e,a,n).map(c=>{let u=ts(c,t,s),f=r.tokenLength(u);return{announcedSnippet:u,provider:c.provider,score:c.score,tokens:f,relativePath:c.relativePath}});return Yn(l),l.reverse(),l}o(er,"er");i(er,"processSnippetsForWishlist");var M8,Jt=(M8=class{constructor(t){this.keys=[],this.cache={},this.size=t}put(t,r){var n;if(this.cache[t]=r,this.keys.length>this.size){this.keys.push(t);let s=(n=this.keys.shift())!=null?n:"";delete this.cache[s]}}get(t){return this.cache[t]}},o(M8,"Jt"),i(M8,"FifoCache"),M8),B8,Qt=(B8=class{constructor(t){var r;this.stopsForLanguage=(r=is.get(t.languageId))!=null?r:ss}tokenize(t){return new Set(rs(t).filter(r=>!this.stopsForLanguage.has(r)))}},o(B8,"Qt"),i(B8,"Tokenizer"),B8),tr=new Jt(20),F8,_t=(F8=class{constructor(t){this.referenceDoc=t,this.tokenizer=new Qt(t)}get referenceTokens(){return this.tokenizer.tokenize(this._getCursorContextInfo(this.referenceDoc).context)}sortScoredSnippets(t,r="descending"){return r=="ascending"?t.sort((n,s)=>n.score>s.score?1:-1):r=="descending"?t.sort((n,s)=>n.score>s.score?-1:1):t}retrieveAllSnippets(t,r="descending"){var f;let n=[];if(t.source.length===0||this.referenceTokens.size===0)return n;let s=t.source.split(`
`),a=this.id()+":"+t.source,l=(f=tr.get(a))!=null?f:[],c=l.length==0,u=c?s.map(this.tokenizer.tokenize,this.tokenizer):[];for(let[d,[p,h]]of this.getWindowsDelineations(s).entries()){if(c){let _=new Set;u.slice(p,h).forEach(b=>b.forEach(_.add,_)),l.push(_)}let m=l[d],v=this.similarityScore(m,this.referenceTokens);n.push({score:v,startLine:p,endLine:h})}return c&&tr.put(a,l),this.sortScoredSnippets(n,r)}async findMatches(t){let r=await this.findBestMatch(t);return r?[r]:[]}async findBestMatch(t){if(t.source.length===0||this.referenceTokens.size===0)return;let r=t.source.split(`
`),n=this.retrieveAllSnippets(t,"descending");return n.length===0||n[0].score===0?void 0:{snippet:r.slice(n[0].startLine,n[0].endLine).join(`
`),semantics:"snippet",provider:"neighboring-tabs",...n[0]}}},o(F8,"_t"),i(F8,"WindowedMatcher"),F8);function rs(e){return e.split(/[^a-zA-Z0-9]/).filter(t=>t.length>0)}o(rs,"rs");i(rs,"splitIntoWords");var os=new Set(["we","our","you","it","its","they","them","their","this","that","these","those","is","are","was","were","be","been","being","have","has","had","having","do","does","did","doing","can","don","t","s","will","would","should","what","which","who","when","where","why","how","a","an","the","and","or","not","no","but","because","as","until","again","further","then","once","here","there","all","any","both","each","few","more","most","other","some","such","above","below","to","during","before","after","of","at","by","about","between","into","through","from","up","down","in","out","on","off","over","under","only","own","same","so","than","too","very","just","now"]),ss=new Set(["if","then","else","for","while","with","def","function","return","TODO","import","try","catch","raise","finally","repeat","switch","case","match","assert","continue","break","const","class","enum","struct","static","new","super","this","var",...os]),is=new Map([]);function nr(e,t){let r=[],n=t.length;if(n==0)return[];if(n<e)return[[0,n]];for(let s=0;s<n-e+1;s++)r.push([s,s+e]);return r}o(nr,"nr");i(nr,"getBasicWindowDelineations");var k5,mt=(k5=class extends _t{constructor(t,r){super(t),this.windowLength=r}id(){return"fixed:"+this.windowLength}getWindowsDelineations(t){return nr(this.windowLength,t)}_getCursorContextInfo(t){return st(t,{maxLineCount:this.windowLength})}similarityScore(t,r){return as(t,r)}},o(k5,"t"),i(k5,"FixedWindowSizeJaccardMatcher"),k5.FACTORY=t=>({to:r=>new k5(r,t)}),k5);function as(e,t){let r=new Set;return e.forEach(n=>{t.has(n)&&r.add(n)}),r.size/(e.size+t.size-r.size)}o(as,"as");i(as,"computeScore");var ze=(e=>(e.None="none",e.Conservative="conservative",e.Medium="medium",e.Eager="eager",e.EagerButLittle="eagerButLittle",e.EagerButMedium="eagerButMedium",e.EagerButMuch="eagerButMuch",e.RetrievalComparable="retrievalComparable",e))(ze||{}),ls={none:{snippetLength:1,threshold:-1,numberOfSnippets:0},conservative:{snippetLength:10,threshold:.3,numberOfSnippets:1},medium:{snippetLength:20,threshold:.1,numberOfSnippets:2},eager:{snippetLength:60,threshold:0,numberOfSnippets:4},eagerButLittle:{snippetLength:10,threshold:0,numberOfSnippets:1},eagerButMedium:{snippetLength:20,threshold:0,numberOfSnippets:4},eagerButMuch:{snippetLength:60,threshold:0,numberOfSnippets:6},retrievalComparable:{snippetLength:30,threshold:0,numberOfSnippets:4}},us=1e4,cs=20;function ds(e,t){return mt.FACTORY(t.snippetLength).to(e)}o(ds,"ds");i(ds,"getMatcher");async function rr(e,t,r){let n={...ls[r]},s=ds(e,n);return n.numberOfSnippets===0?[]:(await t.filter(a=>a.source.length<us&&a.source.length>0).slice(0,cs).reduce(async(a,l)=>(await a).concat((await s.findMatches(l)).map(c=>({relativePath:l.relativePath,...c}))),Promise.resolve([]))).filter(a=>a.score&&a.snippet&&a.score>n.threshold).sort((a,l)=>a.score-l.score).slice(-n.numberOfSnippets)}o(rr,"rr");i(rr,"getNeighborSnippets");function or(e,t,r){if(!r)throw new Error("targetTokenBudget must be specified for the truncateFirstLinesFirst summarizer");let n=t.text.split(`
`);for(let v=0;v<n.length-1;v++)n[v]+=`
`;let s=[];n.forEach((v,_)=>{v===`
`&&s.length>0&&!s[s.length-1].endsWith(`

`)?s[s.length-1]+=`
`:s.push(v)});let a=s.map(v=>e.tokenLength(v)),l=1,c=0;for(;l<=a.length;l++){let v=a.at(-l);if(v){if(v+c>r){l--;break}c+=v}}let u=s.slice(-l).join(""),f=e.tokenLength(u),d=s.slice(0,-l).join(""),p=e.tokenLength(d),h={id:t.id,kind:t.kind,text:u,tokens:f,score:t.score},m={id:t.id,kind:t.kind,text:d,tokens:p,score:t.score};return{summarizedElement:h,removedMaterial:m}}o(or,"or");i(or,"truncateFirstLinesFirst");var U8,pt=(U8=class{constructor(t="default"){switch(t){case"default":default:this.kindToFunctionMap=new Map([["BeforeCursor",or]])}}isSummarizationAvailable(t){return this.kindToFunctionMap.has(t)}summarize(t,r,n){return this.kindToFunctionMap.get(r.kind)(t,r,n)}},o(U8,"pt"),i(U8,"SnippetTextProcessor"),U8),ms=/(\.|\->|::)\w+$/;function sr(e,t){let r=`Use ${e}`;return be(r,t)}o(sr,"sr");i(sr,"announceTooltipSignatureSnippet");function ir(e){let t=e.source.substring(0,e.offset);return ms.test(t)}o(ir,"ir");i(ir,"endsWithAttributesOrMethod");function ar(e,t){let r=e.lastIndexOf(`
`)+1,n=e.substring(0,r),s=e.substring(r);return t.snippet=t.snippet+s,[n,t]}o(ar,"ar");i(ar,"transferLastLineToTooltipSignature");var lr={text:"",tokens:[]},ur=1500,cr=4,dr=150,Kt=(e=>(e.ConvertToUnix="unix",e.KeepOriginal="keep",e))(Kt||{}),_r=(e=>(e.None="none",e.FifteenPercent="fifteenPercent",e))(_r||{}),mr=(e=>(e.Equal="equal",e.Levenshtein="levenshteineditdistance",e))(mr||{}),q8,ft=(q8=class{constructor(t,r){if(this.fs=t,this.maxPromptLength=ur,this.numberOfSnippets=cr,this.neighboringTabs="eager",this.lineEnding="unix",this.suffixPercent=0,this.tokenizerName="cl100k",this.suffixMatchThreshold=0,this.promptOrderListPreset="default",this.promptPriorityPreset="default",this.snippetTextProcessingPreset="default",this.defaultCommentMarker=void 0,Object.assign(this,r),this.suffixPercent<0||this.suffixPercent>100)throw new Error(`suffixPercent must be between 0 and 100, but was ${this.suffixPercent}`);if(this.suffixMatchThreshold<0||this.suffixMatchThreshold>100)throw new Error(`suffixMatchThreshold must be at between 0 and 100, but was ${this.suffixMatchThreshold}`)}},o(q8,"ft"),i(q8,"PromptOptions"),q8),ps={javascriptreact:"javascript",jsx:"javascript",typescriptreact:"typescript",jade:"pug",cshtml:"razor"};function ne(e){var t;return e=e.toLowerCase(),(t=ps[e])!=null?t:e}o(ne,"ne");i(ne,"normalizeLanguageId");async function gs(e,t,r={},n=[]){let s=new ft(e,r),a=U(s.tokenizerName),l=new pt(s.snippetTextProcessingPreset),c=new Ue(s.promptOrderListPreset),u=new lt(s.promptPriorityPreset),{source:f,offset:d}=t;if(d<0||d>f.length)throw new Error(`Offset ${d} is out of range.`);t.languageId=ne(t.languageId);let p=new ct(a,s.lineEnding,c,l,u),h=n.find(L=>L.provider==="path"),m=n.find(L=>L.provider==="language"),v=n.find(L=>L.provider==="tooltip-signature");h!==void 0&&h.snippet.length>0?(p.append(h.snippet,"PathMarker"),m&&p.extMarkUnused({text:m.snippet,kind:"LanguageMarker",tokens:a.tokenLength(m.snippet),id:NaN,score:NaN})):m&&p.append(m.snippet,"LanguageMarker"),n=n.filter(L=>L.provider!=="language"&&L.provider!=="path"&&L.provider!=="tooltip-signature");function _(){er(n,t.languageId,a,u,r.defaultCommentMarker,s.numberOfSnippets).forEach(L=>{let D=dt(L.provider);p.append(L.announcedSnippet,D,L.tokens,L.score)})}o(_,"g"),i(_,"addSnippetsNow"),_();let b=f.substring(0,d);v!==void 0&&a.tokenLength(v.snippet)<=dr?([b,v]=ar(b,v),p.append(v.snippet,"TooltipSignature")):v!==void 0&&p.extMarkUnused({text:v.snippet,kind:"TooltipSignature",tokens:a.tokenLength(v.snippet),id:NaN,score:NaN}),p.append(b,"BeforeCursor");let S=f.slice(d),{promptInfo:A,newCachedSuffix:O}=p.fulfill(S,s,lr);return lr=O,A}o(gs,"gs");i(gs,"getPrompt");var j8,re=(j8=class extends Error{constructor(t){super(t),this.name="ProviderTimeoutError"}},o(j8,"re"),i(j8,"ProviderTimeoutError"),j8),H8,Z=(H8=class{constructor(t){this.api=t}getSnippets(t,r){return new Promise((n,s)=>{r.aborted&&s({error:new re("provider aborted"),providerType:this.type}),r.addEventListener("abort",()=>{s({error:new re(`max runtime exceeded: ${Xt} ms`),providerType:this.type})},{once:!0});let a=performance.now();this.buildSnippets(t).then(l=>{let c=performance.now();n({snippets:l,providerType:this.type,runtime:c-a})}).catch(l=>{s({error:l,providerType:this.type})})})}},o(H8,"Z"),i(H8,"SnippetProvider"),H8),$8,gt=($8=class extends Z{constructor(){super(...arguments),this.type="language"}async buildSnippets(t){let{currentFile:r,options:n}=t;return r.languageId=ne(r.languageId),[{provider:this.type,semantics:"snippet",snippet:ye(Jn(r,n.defaultCommentMarker)),relativePath:r.relativePath,startLine:0,endLine:0,score:0}]}},o($8,"gt"),i($8,"LanguageSnippetProvider"),$8),V8,ht=(V8=class extends Z{constructor(){super(...arguments),this.type="neighboring-tabs"}async buildSnippets(t){let{currentFile:r,neighborFiles:n,options:s}=t;return s&&n&&n.length&&s.neighboringTabs!=="none"?await this.api.getNeighborSnippets(r,n,s.neighboringTabs):[]}},o(V8,"ht"),i(V8,"NeighborFilesProvider"),V8),G8,bt=(G8=class extends Z{constructor(){super(...arguments),this.type="path"}async buildSnippets(t){let{currentFile:r,options:n}=t;return r.languageId=ne(r.languageId),[{provider:this.type,semantics:"snippet",snippet:ye(Qn(r,n.defaultCommentMarker)),relativePath:r.relativePath,startLine:0,endLine:0,score:0}]}},o(G8,"bt"),i(G8,"PathSnippetProvider"),G8),z8,yt=(z8=class extends Z{constructor(){super(...arguments),this.type="tooltip-signature"}async buildSnippets(t){let{currentFile:r,tooltipSignature:n}=t,s=[];return r.languageId=ne(r.languageId),n&&ir(r)&&s.push({provider:this.type,semantics:"snippet",snippet:ye(sr(n,r.languageId)),relativePath:r.relativePath,startLine:0,endLine:0,score:0}),s}},o(z8,"yt"),i(z8,"TooltipSignatureSnippetProvider"),z8),Jr=require("path"),G=require("worker_threads");function ti(e){return new Promise(t=>{setTimeout(()=>t(`delay: ${e}`),e)})}o(ti,"ti");i(ti,"sleep");var Kr=["getNeighborSnippets","sleep"],K8,Sn=(K8=class{constructor(){var t;this.nextHandlerId=0,this.handlers=new Map,this.fns=new Map,this.getNeighborSnippets=rr,this.sleep=ti,!G.isMainThread&&((t=G.workerData)!=null&&t.port)&&(Gr(),process.cwd=()=>G.workerData.cwd,this.configureWorkerResponse(G.workerData.port))}initWorker(){let{port1:t,port2:r}=new G.MessageChannel;this.port=t,this.worker=new G.Worker((0,Jr.resolve)(__dirname,"..","dist","workerProxy.js"),{workerData:{port:r,cwd:process.cwd()},transferList:[r]}),this.port.on("message",n=>this.handleMessage(n)),this.port.on("error",n=>this.handleError(n))}startThreading(){if(this.worker)throw new Error("Worker thread already initialized.");this.proxyFunctions(),this.initWorker()}stopThreading(){this.worker&&(this.worker.terminate(),this.worker.removeAllListeners(),this.worker=void 0,this.unproxyFunctions(),this.handlers.clear())}proxyFunctions(){for(let t of Kr)this.fns.set(t,this[t]),this.proxy(t)}unproxyFunctions(){for(let t of Kr){let r=this.fns.get(t);if(r)this[t]=r;else throw new Error(`Unproxy function not found: ${t}`)}}configureWorkerResponse(t){this.port=t,this.port.on("message",async({id:r,fn:n,args:s})=>{let a=this[n];if(!a)throw new Error(`Function not found: ${n}`);try{let l=await a.apply(this,s);this.port.postMessage({id:r,res:l})}catch(l){if(!(l instanceof Error))throw l;typeof l.code=="string"?this.port.postMessage({id:r,err:l,code:l.code}):this.port.postMessage({id:r,err:l})}})}handleMessage({id:t,err:r,code:n,res:s}){let a=this.handlers.get(t);a&&(this.handlers.delete(t),r?(r.code=n,a.reject(r)):a.resolve(s))}handleError(t){var n;console.log(t);let r;if(t instanceof Error){r=t,r.code==="MODULE_NOT_FOUND"&&((n=r.message)!=null&&n.endsWith("workerProxy.js'"))&&(r=new Error("Failed to load workerProxy.js"),r.code="CopilotPromptLoadFailure");let s=new Error().stack;r.stack&&(s!=null&&s.match(/^Error\n/))&&(r.stack+=s.replace(/^Error/,""))}else(t==null?void 0:t.name)==="ExitStatus"&&typeof t.status=="number"?(r=new Error(`workerProxy.js exited with status ${t.status}`),r.code=`CopilotPromptWorkerExit${t.status}`):r=new Error(`Non-error thrown: ${t}`);for(let s of this.handlers.values())s.reject(r);throw r}proxy(t){this[t]=function(...r){let n=this.nextHandlerId++;return new Promise((s,a)=>{var l;this.handlers.set(n,{resolve:s,reject:a}),(l=this.port)==null||l.postMessage({id:n,fn:t,args:r})})}}},o(K8,"Sn"),i(K8,"WorkerProxy"),K8),xt=new Sn,Xt=300,ni=[gt,bt,ht,yt];function Qr(e){return e.status==="fulfilled"}o(Qr,"Qr");i(Qr,"isFulfilledResult");function ri(e){return e.status==="rejected"}o(ri,"ri");i(ri,"isRejectedResult");function Xr(e){return e.filter(Qr).flatMap(t=>t.value.snippets)}o(Xr,"Xr");i(Xr,"providersSnippets");function Yr(e){return e.filter(ri).flatMap(t=>t.reason)}o(Yr,"Yr");i(Yr,"providersErrors");function eo(e){let t={},r={};return e.forEach(n=>{Qr(n)?(t[n.value.providerType]=Math.round(n.value.runtime),r[n.value.providerType]=!1):n.reason.error instanceof re&&(r[n.reason.providerType]=!0,t[n.reason.providerType]=0)}),{runtimes:t,timeouts:r}}o(eo,"eo");i(eo,"providersPerformance");var W8,It=(W8=class{constructor(t=ni){this.startThreading=()=>xt.startThreading(),this.stopThreading=()=>xt.stopThreading(),this.providers=t.map(r=>new r(xt))}async getSnippets(t){let r=AbortSignal.timeout(Xt);return Promise.allSettled(this.providers.map(n=>n.getSnippets(t,r)))}},o(W8,"It"),i(W8,"SnippetOrchestrator"),W8),oo=require("fs"),so=require("path"),Nt=Ft(to()),io=(e=>(e.Python="python",e.JavaScript="javascript",e.TypeScript="typescript",e.TSX="tsx",e.Go="go",e.Ruby="ruby",e))(io||{}),In={python:"python",javascript:"javascript",javascriptreact:"javascript",jsx:"javascript",typescript:"typescript",typescriptreact:"tsx",go:"go",ruby:"ruby"};function $e(e){return e in In}o($e,"$e");i($e,"isSupportedLanguageId");function B(e){if(!(e in In))throw new Error(`Unrecognized language: ${e}`);return In[e]}o(B,"B");i(B,"languageIdToWasmLanguage");var En=`[
    (function body: (statement_block) @body)
    (function_declaration body: (statement_block) @body)
    (generator_function body: (statement_block) @body)
    (generator_function_declaration body: (statement_block) @body)
    (method_definition body: (statement_block) @body)
    (arrow_function body: (statement_block) @body)
  ] @function`,oi={python:[[`(function_definition body: (block
             (expression_statement (string))? @docstring) @body) @function`],['(ERROR ("def" (identifier) (parameters))) @function']],javascript:[[En]],typescript:[[En]],tsx:[[En]],go:[[`[
            (function_declaration body: (block) @body)
            (method_declaration body: (block) @body)
          ] @function`]],ruby:[[`[
            (method name: (_) parameters: (method_parameters)? @params [(_)+ "end"] @body)
            (singleton_method name: (_) parameters: (method_parameters)? @params [(_)+ "end"] @body)
          ] @function`]]},si='(call_expression function: ((identifier) @req (#eq? @req "require")))',no=`(variable_declarator value: ${si})`,ao=`
    (lexical_declaration ${no}+)
    (variable_declaration ${no}+)
`,ro=[[`(program [ ${ao} ] @import)`],["(program [ (import_statement) (import_alias) ] @import)"]],ii={python:[["(module (future_import_statement) @import)"],["(module (import_statement) @import)"],["(module (import_from_statement) @import)"]],javascript:[[`(program [ ${ao} ] @import)`],["(program [ (import_statement) ] @import)"]],typescript:ro,tsx:ro,go:[],ruby:[]},Mn=[["(program (export_statement) @export)"]],ai={python:[],javascript:Mn,typescript:Mn,tsx:Mn,go:[],ruby:[]},li={python:[["(module (global_statement) @globalVar)"],["(module (expression_statement) @globalVar)"]],javascript:[],typescript:[],tsx:[],go:[],ruby:[]},Tn=["function","function_declaration","generator_function","generator_function_declaration","method_definition","arrow_function"],ui={python:new Set(["function_definition"]),javascript:new Set(Tn),typescript:new Set(Tn),tsx:new Set(Tn),go:new Set(["function_declaration","method_declaration"]),ruby:new Set(["method","singleton_method"])},ci={python:e=>{var t;return e.type==="module"||e.type==="block"&&((t=e.parent)==null?void 0:t.type)==="class_definition"},javascript:e=>e.type==="program"||e.type==="class_body",typescript:e=>e.type==="program"||e.type==="class_body",tsx:e=>e.type==="program"||e.type==="class_body",go:e=>e.type==="source_file",ruby:e=>e.type==="program"||e.type==="class"},xn=new Map;async function di(e){await Nt.default.init();let t;try{t=await oo.promises.readFile((0,so.resolve)(__dirname,"..","dist",`tree-sitter-${e}.wasm`))}catch(r){if(typeof r.code=="string"&&r instanceof Error&&r.name==="Error"){let n=new Error(`Could not load tree-sitter-${e}.wasm`);throw n.code="CopilotPromptLoadFailure",n.cause=r,n}throw r}return Nt.default.Language.load(t)}o(di,"di");i(di,"loadWasmLanguage");async function lo(e){let t=B(e);if(!xn.has(t)){let r=await di(t);xn.set(t,r)}return xn.get(t)}o(lo,"lo");i(lo,"getLanguage");async function Te(e,t){let r=await lo(e),n=new Nt.default;n.setLanguage(r);let s=n.parse(t);return n.delete(),s}o(Te,"Te");i(Te,"parseTreeSitter");async function _i(e,t){let r=await Te(e,t),n=!r.rootNode.hasError();return r.delete(),n}o(_i,"_i");i(_i,"parsesWithoutError");function mi(e){switch(B(e)){case"python":return null;case"javascript":case"typescript":case"tsx":case"go":return"}";case"ruby":return"end"}}o(mi,"mi");i(mi,"getBlockCloseToken");function Ge(e,t){let r=[];for(let n of e){if(!n[1]){let s=t.tree.getLanguage();n[1]=s.query(n[0])}r.push(...n[1].matches(t))}return r}o(Ge,"Ge");i(Ge,"innerQuery");function uo(e,t){let r=oi[B(e)];return Ge(r,t)}o(uo,"uo");i(uo,"queryFunctions");function pi(e,t){let r=ii[B(e)];return Ge(r,t)}o(pi,"pi");i(pi,"queryImports");function fi(e,t){let r=ai[B(e)];return Ge(r,t)}o(fi,"fi");i(fi,"queryExports");function gi(e,t){let r=li[B(e)];return Ge(r,t)}o(gi,"gi");i(gi,"queryGlobalVars");var hi=[`[
    (class_definition (block (expression_statement (string))))
    (function_definition (block (expression_statement (string))))
]`];function Ln(e){return Ge([hi],e).length==1}o(Ln,"Ln");i(Ln,"queryPythonIsDocstring");function bi(e,t){let r=ci[B(e)];for(;t.parent;){if(r(t.parent))return t;t=t.parent}return t.parent?t:null}o(bi,"bi");i(bi,"getAncestorWithSiblingFunctions");function Lt(e,t){return ui[B(e)].has(t.type)}o(Lt,"Lt");i(Lt,"isFunction");function yi(e,t){switch(B(e)){case"python":case"go":case"ruby":return Lt(e,t);case"javascript":case"typescript":case"tsx":if(t.type==="function_declaration"||t.type==="generator_function_declaration"||t.type==="method_definition")return!0;if(t.type==="lexical_declaration"||t.type==="variable_declaration"){if(t.namedChildCount>1)return!1;let r=t.namedChild(0);if(r==null)return!1;let n=r.namedChild(1);return n!==null&&Lt(e,n)}if(t.type==="expression_statement"){let r=t.namedChild(0);if((r==null?void 0:r.type)==="assignment_expression"){let n=r.namedChild(1);return n!==null&&Lt(e,n)}}return!1}}o(yi,"yi");i(yi,"isFunctionDefinition");function wi(e){var r;let t=e;for(;((r=t.previousSibling)==null?void 0:r.type)==="comment";){let n=t.previousSibling;if(n.endPosition.row<t.startPosition.row-1)break;t=n}return(t==null?void 0:t.type)==="comment"?t:null}o(wi,"wi");i(wi,"getFirstPrecedingComment");async function vi(e,t){let r=await Te(e,t),n=uo(e,r.rootNode).map(s=>{let a=s.captures.find(l=>l.name==="function").node;return{startIndex:a.startIndex,endIndex:a.endIndex}});return r.delete(),n}o(vi,"vi");i(vi,"getFunctionPositions");var Y8,Pt=(Y8=class{constructor(t,r,n){this.languageId=t,this.nodeMatch=r,this.nodeTypesWithBlockOrStmtChild=n}async getNodeMatchAtPosition(t,r,n){var a;let s=await Te(this.languageId,t);try{let l=s.rootNode.descendantForIndex(r);for(;l;){let c=this.nodeMatch[l.type];if(c){if(!this.nodeTypesWithBlockOrStmtChild.has(l.type))break;let u=this.nodeTypesWithBlockOrStmtChild.get(l.type);if(((a=u==""?l.namedChildren[0]:l.childForFieldName(u))==null?void 0:a.type)==c)break}l=l.parent}return l?n(l):void 0}finally{s.delete()}}getNextBlockAtPosition(t,r,n){return this.getNodeMatchAtPosition(t,r,s=>{let a=s.children.reverse().find(l=>l.type==this.nodeMatch[s.type]);if(a){if(this.languageId=="python"&&a.parent){let l=a.parent.type==":"?a.parent.parent:a.parent,c=l==null?void 0:l.nextSibling;for(;c&&c.type=="comment";){let u=c.startPosition.row==a.endPosition.row&&c.startPosition.column>=a.endPosition.column,f=c.startPosition.row>l.endPosition.row&&c.startPosition.column>l.startPosition.column;if(u||f)a=c,c=c.nextSibling;else break}}if(!(a.endIndex>=a.tree.rootNode.endIndex-1&&(a.hasError()||a.parent.hasError())))return n(a)}})}async isBlockBodyFinished(t,r,n){let s=(t+r).trimEnd(),a=await this.getNextBlockAtPosition(s,n,l=>l.endIndex);if(a!==void 0&&a<s.length){let l=a-t.length;return l>0?l:void 0}}getNodeStart(t,r){let n=t.trimEnd();return this.getNodeMatchAtPosition(n,r,s=>s.startIndex)}},o(Y8,"Pt"),i(Y8,"BaseBlockParser"),Y8),X8,kt=(X8=class extends Pt{constructor(t,r,n,s,a){super(t,s,a),this.blockEmptyMatch=r,this.lineMatch=n}isBlockStart(t){return this.lineMatch.test(t.trimStart())}async isBlockBodyEmpty(t,r){let n=await this.getNextBlockAtPosition(t,r,s=>{s.startIndex<r&&(r=s.startIndex);let a=t.substring(r,s.endIndex).trim();return a==""||a.replace(/\s/g,"")==this.blockEmptyMatch});return n===void 0||n}async isEmptyBlockStart(t,r){return r=_o(t,r),this.isBlockStart(Si(t,r))&&this.isBlockBodyEmpty(t,r)}},o(X8,"kt"),i(X8,"RegexBasedBlockParser"),X8);function Si(e,t){let r=e.lastIndexOf(`
`,t-1),n=e.indexOf(`
`,t);return n<0&&(n=e.length),e.slice(r+1,n)}o(Si,"Si");i(Si,"getLineAtOffset");function _o(e,t){let r=t;for(;r>0&&/\s/.test(e.charAt(r-1));)r--;return r}o(_o,"_o");i(_o,"rewindToNearestNonWs");function co(e,t){let r=e.startIndex,n=e.startIndex-e.startPosition.column,s=t.substring(n,r);if(/^\s*$/.test(s))return s}o(co,"co");i(co,"indent");function Ei(e,t,r){if(t.startPosition.row<=e.startPosition.row)return!1;let n=co(e,r),s=co(t,r);return n!==void 0&&s!==void 0&&n.startsWith(s)}o(Ei,"Ei");i(Ei,"outdented");var Q8,xe=(Q8=class extends Pt{constructor(t,r,n,s,a,l,c){super(t,r,n),this.startKeywords=s,this.blockNodeType=a,this.emptyStatementType=l,this.curlyBraceLanguage=c}isBlockEmpty(t,r){var s,a;let n=t.text.trim();return this.curlyBraceLanguage&&(n.startsWith("{")&&(n=n.slice(1)),n.endsWith("}")&&(n=n.slice(0,-1)),n=n.trim()),!!(n.length==0||this.languageId=="python"&&(((s=t.parent)==null?void 0:s.type)=="class_definition"||((a=t.parent)==null?void 0:a.type)=="function_definition")&&t.children.length==1&&Ln(t.parent))}async isEmptyBlockStart(t,r){var s,a,l,c;if(r>t.length)throw new RangeError("Invalid offset");for(let u=r;u<t.length&&t.charAt(u)!=`
`;u++)if(/\S/.test(t.charAt(u)))return!1;r=_o(t,r);let n=await Te(this.languageId,t);try{let u=n.rootNode.descendantForIndex(r-1);if(u==null||this.curlyBraceLanguage&&u.type=="}")return!1;if((this.languageId=="javascript"||this.languageId=="typescript")&&u.parent&&u.parent.type=="object"&&u.parent.text.trim()=="{")return!0;if(this.languageId=="typescript"){let m=u;for(;m.parent;){if(m.type=="function_signature"||m.type=="method_signature"){let v=u.nextSibling;return v&&m.hasError()&&Ei(m,v,t)?!0:!m.children.find(_=>_.type==";")&&m.endIndex<=r}m=m.parent}}let f=null,d=null,p=null,h=u;for(;h!=null;){if(h.type==this.blockNodeType){d=h;break}if(this.nodeMatch[h.type]){p=h;break}if(h.type=="ERROR"){f=h;break}h=h.parent}if(d!=null){if(!d.parent||!this.nodeMatch[d.parent.type])return!1;if(this.languageId=="python"){let m=d.previousSibling;if(m!=null&&m.hasError()&&(m.text.startsWith('"""')||m.text.startsWith("'''")))return!0}return this.isBlockEmpty(d,r)}if(f!=null){if(((s=f.previousSibling)==null?void 0:s.type)=="module"||((a=f.previousSibling)==null?void 0:a.type)=="internal_module"||((l=f.previousSibling)==null?void 0:l.type)=="def")return!0;let m=[...f.children].reverse(),v=m.find(b=>this.startKeywords.includes(b.type)),_=m.find(b=>b.type==this.blockNodeType);if(v){switch(this.languageId){case"python":{v.type=="try"&&u.type=="identifier"&&u.text.length>4&&(_=(c=m.find(A=>A.hasError()))==null?void 0:c.children.find(A=>A.type=="block"));let b,S=0;for(let A of f.children){if(A.type==":"&&S==0){b=A;break}A.type=="("&&(S+=1),A.type==")"&&(S-=1)}if(b&&v.endIndex<=b.startIndex&&b.nextSibling){if(v.type=="def"){let A=b.nextSibling;if(A.type=='"'||A.type=="'"||A.type=="ERROR"&&(A.text=='"""'||A.text=="'''"))return!0}return!1}break}case"javascript":{let b=m.find(A=>A.type=="formal_parameters");if(v.type=="class"&&b)return!0;let S=m.find(A=>A.type=="{");if(S&&S.startIndex>v.endIndex&&S.nextSibling!=null||m.find(A=>A.type=="do")&&v.type=="while"||v.type=="=>"&&v.nextSibling&&v.nextSibling.type!="{")return!1;break}case"typescript":{let b=m.find(S=>S.type=="{");if(b&&b.startIndex>v.endIndex&&b.nextSibling!=null||m.find(S=>S.type=="do")&&v.type=="while"||v.type=="=>"&&v.nextSibling&&v.nextSibling.type!="{")return!1;break}}return _&&_.startIndex>v.endIndex?this.isBlockEmpty(_,r):!0}}if(p!=null){let m=this.nodeMatch[p.type],v=p.children.slice().reverse().find(_=>_.type==m);if(v)return this.isBlockEmpty(v,r);if(this.nodeTypesWithBlockOrStmtChild.has(p.type)){let _=this.nodeTypesWithBlockOrStmtChild.get(p.type),b=_==""?p.children[0]:p.childForFieldName(_);if(b&&b.type!=this.blockNodeType&&b.type!=this.emptyStatementType)return!1}return!0}return!1}finally{n.delete()}}},o(Q8,"xe"),i(Q8,"TreeSitterBasedBlockParser"),Q8),Mi={python:new xe("python",{class_definition:"block",elif_clause:"block",else_clause:"block",except_clause:"block",finally_clause:"block",for_statement:"block",function_definition:"block",if_statement:"block",try_statement:"block",while_statement:"block",with_statement:"block"},new Map,["def","class","if","elif","else","for","while","try","except","finally","with"],"block",null,!1),javascript:new xe("javascript",{arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",method_definition:"statement_block",try_statement:"statement_block",while_statement:"statement_block",with_statement:"statement_block",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),typescript:new xe("typescript",{ambient_declaration:"statement_block",arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",internal_module:"statement_block",method_definition:"statement_block",module:"statement_block",try_statement:"statement_block",while_statement:"statement_block",abstract_class_declaration:"class_body",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["declare","=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),tsx:new xe("typescriptreact",{ambient_declaration:"statement_block",arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",internal_module:"statement_block",method_definition:"statement_block",module:"statement_block",try_statement:"statement_block",while_statement:"statement_block",abstract_class_declaration:"class_body",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["declare","=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),go:new kt("go","{}",/\b(func|if|else|for)\b/,{communication_case:"block",default_case:"block",expression_case:"block",for_statement:"block",func_literal:"block",function_declaration:"block",if_statement:"block",labeled_statement:"block",method_declaration:"block",type_case:"block"},new Map),ruby:new kt("ruby","end",/\b(BEGIN|END|case|class|def|do|else|elsif|for|if|module|unless|until|while)\b|->/,{begin_block:"}",block:"}",end_block:"}",lambda:"block",for:"do",until:"do",while:"do",case:"end",do:"end",if:"end",method:"end",module:"end",unless:"end",do_block:"end"},new Map)};function Ct(e){return Mi[B(e)]}o(Ct,"Ct");i(Ct,"getBlockParser");async function Ti(e,t,r){return $e(e)?Ct(e).isEmptyBlockStart(t,r):!1}o(Ti,"Ti");i(Ti,"isEmptyBlockStart");async function xi(e,t,r,n){if($e(e))return Ct(e).isBlockBodyFinished(t,r,n)}o(xi,"xi");i(xi,"isBlockBodyFinished");async function Ii(e,t,r){if($e(e))return Ct(e).getNodeStart(t,r)}o(Ii,"Ii");i(Ii,"getNodeStart");function Li(){return new po.Worker((0,mo.resolve)(__dirname,"..","dist","worker.js"),{workerData:{cwd:process.cwd()}})}o(Li,"Li");i(Li,"createWorker")});var d0=k((nT,AW)=>{(function(e,t){typeof nT=="object"?AW.exports=nT=t():typeof define=="function"&&define.amd?define([],t):e.CryptoJS=t()})(nT,function(){var e=e||function(t,r){var n;if(typeof window<"u"&&window.crypto&&(n=window.crypto),typeof self<"u"&&self.crypto&&(n=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(n=globalThis.crypto),!n&&typeof window<"u"&&window.msCrypto&&(n=window.msCrypto),!n&&typeof global<"u"&&global.crypto&&(n=global.crypto),!n&&typeof require=="function")try{n=require("crypto")}catch{}var s=o(function(){if(n){if(typeof n.getRandomValues=="function")try{return n.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof n.randomBytes=="function")try{return n.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},"cryptoSecureRandomInt"),a=Object.create||function(){function S(){}return o(S,"F"),function(A){var O;return S.prototype=A,O=new S,S.prototype=null,O}}(),l={},c=l.lib={},u=c.Base=function(){return{extend:function(S){var A=a(this);return S&&A.mixIn(S),(!A.hasOwnProperty("init")||this.init===A.init)&&(A.init=function(){A.$super.init.apply(this,arguments)}),A.init.prototype=A,A.$super=this,A},create:function(){var S=this.extend();return S.init.apply(S,arguments),S},init:function(){},mixIn:function(S){for(var A in S)S.hasOwnProperty(A)&&(this[A]=S[A]);S.hasOwnProperty("toString")&&(this.toString=S.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),f=c.WordArray=u.extend({init:function(S,A){S=this.words=S||[],A!=r?this.sigBytes=A:this.sigBytes=S.length*4},toString:function(S){return(S||p).stringify(this)},concat:function(S){var A=this.words,O=S.words,L=this.sigBytes,D=S.sigBytes;if(this.clamp(),L%4)for(var $=0;$<D;$++){var de=O[$>>>2]>>>24-$%4*8&255;A[L+$>>>2]|=de<<24-(L+$)%4*8}else for(var ue=0;ue<D;ue+=4)A[L+ue>>>2]=O[ue>>>2];return this.sigBytes+=D,this},clamp:function(){var S=this.words,A=this.sigBytes;S[A>>>2]&=4294967295<<32-A%4*8,S.length=t.ceil(A/4)},clone:function(){var S=u.clone.call(this);return S.words=this.words.slice(0),S},random:function(S){for(var A=[],O=0;O<S;O+=4)A.push(s());return new f.init(A,S)}}),d=l.enc={},p=d.Hex={stringify:function(S){for(var A=S.words,O=S.sigBytes,L=[],D=0;D<O;D++){var $=A[D>>>2]>>>24-D%4*8&255;L.push(($>>>4).toString(16)),L.push(($&15).toString(16))}return L.join("")},parse:function(S){for(var A=S.length,O=[],L=0;L<A;L+=2)O[L>>>3]|=parseInt(S.substr(L,2),16)<<24-L%8*4;return new f.init(O,A/2)}},h=d.Latin1={stringify:function(S){for(var A=S.words,O=S.sigBytes,L=[],D=0;D<O;D++){var $=A[D>>>2]>>>24-D%4*8&255;L.push(String.fromCharCode($))}return L.join("")},parse:function(S){for(var A=S.length,O=[],L=0;L<A;L++)O[L>>>2]|=(S.charCodeAt(L)&255)<<24-L%4*8;return new f.init(O,A)}},m=d.Utf8={stringify:function(S){try{return decodeURIComponent(escape(h.stringify(S)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(S){return h.parse(unescape(encodeURIComponent(S)))}},v=c.BufferedBlockAlgorithm=u.extend({reset:function(){this._data=new f.init,this._nDataBytes=0},_append:function(S){typeof S=="string"&&(S=m.parse(S)),this._data.concat(S),this._nDataBytes+=S.sigBytes},_process:function(S){var A,O=this._data,L=O.words,D=O.sigBytes,$=this.blockSize,de=$*4,ue=D/de;S?ue=t.ceil(ue):ue=t.max((ue|0)-this._minBufferSize,0);var Ze=ue*$,vr=t.min(Ze*4,D);if(Ze){for(var vt=0;vt<Ze;vt+=$)this._doProcessBlock(L,vt);A=L.splice(0,Ze),O.sigBytes-=vr}return new f.init(A,vr)},clone:function(){var S=u.clone.call(this);return S._data=this._data.clone(),S},_minBufferSize:0}),_=c.Hasher=v.extend({cfg:u.extend(),init:function(S){this.cfg=this.cfg.extend(S),this.reset()},reset:function(){v.reset.call(this),this._doReset()},update:function(S){return this._append(S),this._process(),this},finalize:function(S){S&&this._append(S);var A=this._doFinalize();return A},blockSize:512/32,_createHelper:function(S){return function(A,O){return new S.init(O).finalize(A)}},_createHmacHelper:function(S){return function(A,O){return new b.HMAC.init(S,O).finalize(A)}}}),b=l.algo={};return l}(Math);return e})});var a7=k((iT,wW)=>{(function(e,t){typeof iT=="object"?wW.exports=iT=t(d0()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(iT,function(e){return function(t){var r=e,n=r.lib,s=n.Base,a=n.WordArray,l=r.x64={},c=l.Word=s.extend({init:function(f,d){this.high=f,this.low=d}}),u=l.WordArray=s.extend({init:function(f,d){f=this.words=f||[],d!=t?this.sigBytes=d:this.sigBytes=f.length*8},toX32:function(){for(var f=this.words,d=f.length,p=[],h=0;h<d;h++){var m=f[h];p.push(m.high),p.push(m.low)}return a.create(p,this.sigBytes)},clone:function(){for(var f=s.clone.call(this),d=f.words=this.words.slice(0),p=d.length,h=0;h<p;h++)d[h]=d[h].clone();return f}})}(),e})});var PW=k((sT,RW)=>{(function(e,t){typeof sT=="object"?RW.exports=sT=t(d0()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(sT,function(e){return function(){if(typeof ArrayBuffer=="function"){var t=e,r=t.lib,n=r.WordArray,s=n.init,a=n.init=function(l){if(l instanceof ArrayBuffer&&(l=new Uint8Array(l)),(l instanceof Int8Array||typeof Uint8ClampedArray<"u"&&l instanceof Uint8ClampedArray||l instanceof Int16Array||l instanceof Uint16Array||l instanceof Int32Array||l instanceof Uint32Array||l instanceof Float32Array||l instanceof Float64Array)&&(l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength)),l instanceof Uint8Array){for(var c=l.byteLength,u=[],f=0;f<c;f++)u[f>>>2]|=l[f]<<24-f%4*8;s.call(this,u,c)}else s.apply(this,arguments)};a.prototype=n}}(),e.lib.WordArray})});var OW=k((aT,NW)=>{(function(e,t){typeof aT=="object"?NW.exports=aT=t(d0()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(aT,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,s=t.enc,a=s.Utf16=s.Utf16BE={stringify:function(c){for(var u=c.words,f=c.sigBytes,d=[],p=0;p<f;p+=2){var h=u[p>>>2]>>>16-p%4*8&65535;d.push(String.fromCharCode(h))}return d.join("")},parse:function(c){for(var u=c.length,f=[],d=0;d<u;d++)f[d>>>1]|=c.charCodeAt(d)<<16-d%2*16;return n.create(f,u*2)}};s.Utf16LE={stringify:function(c){for(var u=c.words,f=c.sigBytes,d=[],p=0;p<f;p+=2){var h=l(u[p>>>2]>>>16-p%4*8&65535);d.push(String.fromCharCode(h))}return d.join("")},parse:function(c){for(var u=c.length,f=[],d=0;d<u;d++)f[d>>>1]|=l(c.charCodeAt(d)<<16-d%2*16);return n.create(f,u*2)}};function l(c){return c<<8&4278255360|c>>>8&16711935}o(l,"swapEndian")}(),e.enc.Utf16})});var M5=k((oT,DW)=>{(function(e,t){typeof oT=="object"?DW.exports=oT=t(d0()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(oT,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,s=t.enc,a=s.Base64={stringify:function(c){var u=c.words,f=c.sigBytes,d=this._map;c.clamp();for(var p=[],h=0;h<f;h+=3)for(var m=u[h>>>2]>>>24-h%4*8&255,v=u[h+1>>>2]>>>24-(h+1)%4*8&255,_=u[h+2>>>2]>>>24-(h+2)%4*8&255,b=m<<16|v<<8|_,S=0;S<4&&h+S*.75<f;S++)p.push(d.charAt(b>>>6*(3-S)&63));var A=d.charAt(64);if(A)for(;p.length%4;)p.push(A);return p.join("")},parse:function(c){var u=c.length,f=this._map,d=this._reverseMap;if(!d){d=this._reverseMap=[];for(var p=0;p<f.length;p++)d[f.charCodeAt(p)]=p}var h=f.charAt(64);if(h){var m=c.indexOf(h);m!==-1&&(u=m)}return l(c,u,d)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function l(c,u,f){for(var d=[],p=0,h=0;h<u;h++)if(h%4){var m=f[c.charCodeAt(h-1)]<<h%4*2,v=f[c.charCodeAt(h)]>>>6-h%4*2,_=m|v;d[p>>>2]|=_<<24-p%4*8,p++}return n.create(d,p)}o(l,"parseLoop")}(),e.enc.Base64})});var kW=k((lT,LW)=>{(function(e,t){typeof lT=="object"?LW.exports=lT=t(d0()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(lT,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,s=t.enc,a=s.Base64url={stringify:function(c,u){u===void 0&&(u=!0);var f=c.words,d=c.sigBytes,p=u?this._safe_map:this._map;c.clamp();for(var h=[],m=0;m<d;m+=3)for(var v=f[m>>>2]>>>24-m%4*8&255,_=f[m+1>>>2]>>>24-(m+1)%4*8&255,b=f[m+2>>>2]>>>24-(m+2)%4*8&255,S=v<<16|_<<8|b,A=0;A<4&&m+A*.75<d;A++)h.push(p.charAt(S>>>6*(3-A)&63));var O=p.charAt(64);if(O)for(;h.length%4;)h.push(O);return h.join("")},parse:function(c,u){u===void 0&&(u=!0);var f=c.length,d=u?this._safe_map:this._map,p=this._reverseMap;if(!p){p=this._reverseMap=[];for(var h=0;h<d.length;h++)p[d.charCodeAt(h)]=h}var m=d.charAt(64);if(m){var v=c.indexOf(m);v!==-1&&(f=v)}return l(c,f,p)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function l(c,u,f){for(var d=[],p=0,h=0;h<u;h++)if(h%4){var m=f[c.charCodeAt(h-1)]<<h%4*2,v=f[c.charCodeAt(h)]>>>6-h%4*2,_=m|v;d[p>>>2]|=_<<24-p%4*8,p++}return n.create(d,p)}o(l,"parseLoop")}(),e.enc.Base64url})});var B5=k((cT,MW)=>{(function(e,t){typeof cT=="object"?MW.exports=cT=t(d0()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(cT,function(e){return function(t){var r=e,n=r.lib,s=n.WordArray,a=n.Hasher,l=r.algo,c=[];(function(){for(var m=0;m<64;m++)c[m]=t.abs(t.sin(m+1))*4294967296|0})();var u=l.MD5=a.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(m,v){for(var _=0;_<16;_++){var b=v+_,S=m[b];m[b]=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360}var A=this._hash.words,O=m[v+0],L=m[v+1],D=m[v+2],$=m[v+3],de=m[v+4],ue=m[v+5],Ze=m[v+6],vr=m[v+7],vt=m[v+8],wr=m[v+9],Ve=m[v+10],Me=m[v+11],St=m[v+12],br=m[v+13],Yt=m[v+14],hr=m[v+15],Mt=A[0],yr=A[1],Ee=A[2],_e=A[3];Mt=f(Mt,yr,Ee,_e,O,7,c[0]),_e=f(_e,Mt,yr,Ee,L,12,c[1]),Ee=f(Ee,_e,Mt,yr,D,17,c[2]),yr=f(yr,Ee,_e,Mt,$,22,c[3]),Mt=f(Mt,yr,Ee,_e,de,7,c[4]),_e=f(_e,Mt,yr,Ee,ue,12,c[5]),Ee=f(Ee,_e,Mt,yr,Ze,17,c[6]),yr=f(yr,Ee,_e,Mt,vr,22,c[7]),Mt=f(Mt,yr,Ee,_e,vt,7,c[8]),_e=f(_e,Mt,yr,Ee,wr,12,c[9]),Ee=f(Ee,_e,Mt,yr,Ve,17,c[10]),yr=f(yr,Ee,_e,Mt,Me,22,c[11]),Mt=f(Mt,yr,Ee,_e,St,7,c[12]),_e=f(_e,Mt,yr,Ee,br,12,c[13]),Ee=f(Ee,_e,Mt,yr,Yt,17,c[14]),yr=f(yr,Ee,_e,Mt,hr,22,c[15]),Mt=d(Mt,yr,Ee,_e,L,5,c[16]),_e=d(_e,Mt,yr,Ee,Ze,9,c[17]),Ee=d(Ee,_e,Mt,yr,Me,14,c[18]),yr=d(yr,Ee,_e,Mt,O,20,c[19]),Mt=d(Mt,yr,Ee,_e,ue,5,c[20]),_e=d(_e,Mt,yr,Ee,Ve,9,c[21]),Ee=d(Ee,_e,Mt,yr,hr,14,c[22]),yr=d(yr,Ee,_e,Mt,de,20,c[23]),Mt=d(Mt,yr,Ee,_e,wr,5,c[24]),_e=d(_e,Mt,yr,Ee,Yt,9,c[25]),Ee=d(Ee,_e,Mt,yr,$,14,c[26]),yr=d(yr,Ee,_e,Mt,vt,20,c[27]),Mt=d(Mt,yr,Ee,_e,br,5,c[28]),_e=d(_e,Mt,yr,Ee,D,9,c[29]),Ee=d(Ee,_e,Mt,yr,vr,14,c[30]),yr=d(yr,Ee,_e,Mt,St,20,c[31]),Mt=p(Mt,yr,Ee,_e,ue,4,c[32]),_e=p(_e,Mt,yr,Ee,vt,11,c[33]),Ee=p(Ee,_e,Mt,yr,Me,16,c[34]),yr=p(yr,Ee,_e,Mt,Yt,23,c[35]),Mt=p(Mt,yr,Ee,_e,L,4,c[36]),_e=p(_e,Mt,yr,Ee,de,11,c[37]),Ee=p(Ee,_e,Mt,yr,vr,16,c[38]),yr=p(yr,Ee,_e,Mt,Ve,23,c[39]),Mt=p(Mt,yr,Ee,_e,br,4,c[40]),_e=p(_e,Mt,yr,Ee,O,11,c[41]),Ee=p(Ee,_e,Mt,yr,$,16,c[42]),yr=p(yr,Ee,_e,Mt,Ze,23,c[43]),Mt=p(Mt,yr,Ee,_e,wr,4,c[44]),_e=p(_e,Mt,yr,Ee,St,11,c[45]),Ee=p(Ee,_e,Mt,yr,hr,16,c[46]),yr=p(yr,Ee,_e,Mt,D,23,c[47]),Mt=h(Mt,yr,Ee,_e,O,6,c[48]),_e=h(_e,Mt,yr,Ee,vr,10,c[49]),Ee=h(Ee,_e,Mt,yr,Yt,15,c[50]),yr=h(yr,Ee,_e,Mt,ue,21,c[51]),Mt=h(Mt,yr,Ee,_e,St,6,c[52]),_e=h(_e,Mt,yr,Ee,$,10,c[53]),Ee=h(Ee,_e,Mt,yr,Ve,15,c[54]),yr=h(yr,Ee,_e,Mt,L,21,c[55]),Mt=h(Mt,yr,Ee,_e,vt,6,c[56]),_e=h(_e,Mt,yr,Ee,hr,10,c[57]),Ee=h(Ee,_e,Mt,yr,Ze,15,c[58]),yr=h(yr,Ee,_e,Mt,br,21,c[59]),Mt=h(Mt,yr,Ee,_e,de,6,c[60]),_e=h(_e,Mt,yr,Ee,Me,10,c[61]),Ee=h(Ee,_e,Mt,yr,D,15,c[62]),yr=h(yr,Ee,_e,Mt,wr,21,c[63]),A[0]=A[0]+Mt|0,A[1]=A[1]+yr|0,A[2]=A[2]+Ee|0,A[3]=A[3]+_e|0},_doFinalize:function(){var m=this._data,v=m.words,_=this._nDataBytes*8,b=m.sigBytes*8;v[b>>>5]|=128<<24-b%32;var S=t.floor(_/4294967296),A=_;v[(b+64>>>9<<4)+15]=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360,v[(b+64>>>9<<4)+14]=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360,m.sigBytes=(v.length+1)*4,this._process();for(var O=this._hash,L=O.words,D=0;D<4;D++){var $=L[D];L[D]=($<<8|$>>>24)&16711935|($<<24|$>>>8)&4278255360}return O},clone:function(){var m=a.clone.call(this);return m._hash=this._hash.clone(),m}});function f(m,v,_,b,S,A,O){var L=m+(v&_|~v&b)+S+O;return(L<<A|L>>>32-A)+v}o(f,"FF");function d(m,v,_,b,S,A,O){var L=m+(v&b|_&~b)+S+O;return(L<<A|L>>>32-A)+v}o(d,"GG");function p(m,v,_,b,S,A,O){var L=m+(v^_^b)+S+O;return(L<<A|L>>>32-A)+v}o(p,"HH");function h(m,v,_,b,S,A,O){var L=m+(_^(v|~b))+S+O;return(L<<A|L>>>32-A)+v}o(h,"II"),r.MD5=a._createHelper(u),r.HmacMD5=a._createHmacHelper(u)}(Math),e.MD5})});var SD=k((uT,BW)=>{(function(e,t){typeof uT=="object"?BW.exports=uT=t(d0()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(uT,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,s=r.Hasher,a=t.algo,l=[],c=a.SHA1=s.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(u,f){for(var d=this._hash.words,p=d[0],h=d[1],m=d[2],v=d[3],_=d[4],b=0;b<80;b++){if(b<16)l[b]=u[f+b]|0;else{var S=l[b-3]^l[b-8]^l[b-14]^l[b-16];l[b]=S<<1|S>>>31}var A=(p<<5|p>>>27)+_+l[b];b<20?A+=(h&m|~h&v)+1518500249:b<40?A+=(h^m^v)+1859775393:b<60?A+=(h&m|h&v|m&v)-1894007588:A+=(h^m^v)-899497514,_=v,v=m,m=h<<30|h>>>2,h=p,p=A}d[0]=d[0]+p|0,d[1]=d[1]+h|0,d[2]=d[2]+m|0,d[3]=d[3]+v|0,d[4]=d[4]+_|0},_doFinalize:function(){var u=this._data,f=u.words,d=this._nDataBytes*8,p=u.sigBytes*8;return f[p>>>5]|=128<<24-p%32,f[(p+64>>>9<<4)+14]=Math.floor(d/4294967296),f[(p+64>>>9<<4)+15]=d,u.sigBytes=f.length*4,this._process(),this._hash},clone:function(){var u=s.clone.call(this);return u._hash=this._hash.clone(),u}});t.SHA1=s._createHelper(c),t.HmacSHA1=s._createHmacHelper(c)}(),e.SHA1})});var dT=k((fT,FW)=>{(function(e,t){typeof fT=="object"?FW.exports=fT=t(d0()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(fT,function(e){return function(t){var r=e,n=r.lib,s=n.WordArray,a=n.Hasher,l=r.algo,c=[],u=[];(function(){function p(_){for(var b=t.sqrt(_),S=2;S<=b;S++)if(!(_%S))return!1;return!0}o(p,"isPrime");function h(_){return(_-(_|0))*4294967296|0}o(h,"getFractionalBits");for(var m=2,v=0;v<64;)p(m)&&(v<8&&(c[v]=h(t.pow(m,1/2))),u[v]=h(t.pow(m,1/3)),v++),m++})();var f=[],d=l.SHA256=a.extend({_doReset:function(){this._hash=new s.init(c.slice(0))},_doProcessBlock:function(p,h){for(var m=this._hash.words,v=m[0],_=m[1],b=m[2],S=m[3],A=m[4],O=m[5],L=m[6],D=m[7],$=0;$<64;$++){if($<16)f[$]=p[h+$]|0;else{var de=f[$-15],ue=(de<<25|de>>>7)^(de<<14|de>>>18)^de>>>3,Ze=f[$-2],vr=(Ze<<15|Ze>>>17)^(Ze<<13|Ze>>>19)^Ze>>>10;f[$]=ue+f[$-7]+vr+f[$-16]}var vt=A&O^~A&L,wr=v&_^v&b^_&b,Ve=(v<<30|v>>>2)^(v<<19|v>>>13)^(v<<10|v>>>22),Me=(A<<26|A>>>6)^(A<<21|A>>>11)^(A<<7|A>>>25),St=D+Me+vt+u[$]+f[$],br=Ve+wr;D=L,L=O,O=A,A=S+St|0,S=b,b=_,_=v,v=St+br|0}m[0]=m[0]+v|0,m[1]=m[1]+_|0,m[2]=m[2]+b|0,m[3]=m[3]+S|0,m[4]=m[4]+A|0,m[5]=m[5]+O|0,m[6]=m[6]+L|0,m[7]=m[7]+D|0},_doFinalize:function(){var p=this._data,h=p.words,m=this._nDataBytes*8,v=p.sigBytes*8;return h[v>>>5]|=128<<24-v%32,h[(v+64>>>9<<4)+14]=t.floor(m/4294967296),h[(v+64>>>9<<4)+15]=m,p.sigBytes=h.length*4,this._process(),this._hash},clone:function(){var p=a.clone.call(this);return p._hash=this._hash.clone(),p}});r.SHA256=a._createHelper(d),r.HmacSHA256=a._createHmacHelper(d)}(Math),e.SHA256})});var qW=k((pT,UW)=>{(function(e,t,r){typeof pT=="object"?UW.exports=pT=t(d0(),dT()):typeof define=="function"&&define.amd?define(["./core","./sha256"],t):t(e.CryptoJS)})(pT,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,s=t.algo,a=s.SHA256,l=s.SHA224=a.extend({_doReset:function(){this._hash=new n.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var c=a._doFinalize.call(this);return c.sigBytes-=4,c}});t.SHA224=a._createHelper(l),t.HmacSHA224=a._createHmacHelper(l)}(),e.SHA224})});var ID=k((hT,jW)=>{(function(e,t,r){typeof hT=="object"?jW.exports=hT=t(d0(),a7()):typeof define=="function"&&define.amd?define(["./core","./x64-core"],t):t(e.CryptoJS)})(hT,function(e){return function(){var t=e,r=t.lib,n=r.Hasher,s=t.x64,a=s.Word,l=s.WordArray,c=t.algo;function u(){return a.create.apply(a,arguments)}o(u,"X64Word_create");var f=[u(1116352408,3609767458),u(1899447441,602891725),u(3049323471,3964484399),u(3921009573,2173295548),u(961987163,4081628472),u(1508970993,3053834265),u(2453635748,2937671579),u(2870763221,3664609560),u(3624381080,2734883394),u(310598401,1164996542),u(607225278,1323610764),u(1426881987,3590304994),u(1925078388,4068182383),u(2162078206,991336113),u(2614888103,633803317),u(3248222580,3479774868),u(3835390401,2666613458),u(4022224774,944711139),u(264347078,2341262773),u(604807628,2007800933),u(770255983,1495990901),u(1249150122,1856431235),u(1555081692,3175218132),u(1996064986,2198950837),u(2554220882,3999719339),u(2821834349,766784016),u(2952996808,2566594879),u(3210313671,3203337956),u(3336571891,1034457026),u(3584528711,2466948901),u(113926993,3758326383),u(338241895,168717936),u(666307205,1188179964),u(773529912,1546045734),u(1294757372,1522805485),u(1396182291,2643833823),u(1695183700,2343527390),u(1986661051,1014477480),u(2177026350,1206759142),u(2456956037,344077627),u(2730485921,1290863460),u(2820302411,3158454273),u(3259730800,3505952657),u(3345764771,106217008),u(3516065817,3606008344),u(3600352804,1432725776),u(4094571909,1467031594),u(275423344,851169720),u(430227734,3100823752),u(506948616,1363258195),u(659060556,3750685593),u(883997877,3785050280),u(958139571,3318307427),u(1322822218,3812723403),u(1537002063,2003034995),u(1747873779,3602036899),u(1955562222,1575990012),u(2024104815,1125592928),u(2227730452,2716904306),u(2361852424,442776044),u(2428436474,593698344),u(2756734187,3733110249),u(3204031479,2999351573),u(3329325298,3815920427),u(3391569614,3928383900),u(3515267271,566280711),u(3940187606,3454069534),u(4118630271,4000239992),u(116418474,1914138554),u(174292421,2731055270),u(289380356,3203993006),u(460393269,320620315),u(685471733,587496836),u(852142971,1086792851),u(1017036298,365543100),u(1126000580,2618297676),u(1288033470,3409855158),u(1501505948,4234509866),u(1607167915,987167468),u(1816402316,1246189591)],d=[];(function(){for(var h=0;h<80;h++)d[h]=u()})();var p=c.SHA512=n.extend({_doReset:function(){this._hash=new l.init([new a.init(1779033703,4089235720),new a.init(3144134277,2227873595),new a.init(1013904242,4271175723),new a.init(2773480762,1595750129),new a.init(1359893119,2917565137),new a.init(2600822924,725511199),new a.init(528734635,4215389547),new a.init(1541459225,327033209)])},_doProcessBlock:function(h,m){for(var v=this._hash.words,_=v[0],b=v[1],S=v[2],A=v[3],O=v[4],L=v[5],D=v[6],$=v[7],de=_.high,ue=_.low,Ze=b.high,vr=b.low,vt=S.high,wr=S.low,Ve=A.high,Me=A.low,St=O.high,br=O.low,Yt=L.high,hr=L.low,Mt=D.high,yr=D.low,Ee=$.high,_e=$.low,Er=de,Vr=ue,zr=Ze,jr=vr,Ri=vt,je=wr,en=Ve,Ke=Me,un=St,tn=br,fn=Yt,Wi=hr,Os=Mt,Hi=yr,le=Ee,Xi=_e,js=0;js<80;js++){var Na,_c,dl=d[js];if(js<16)_c=dl.high=h[m+js*2]|0,Na=dl.low=h[m+js*2+1]|0;else{var Xf=d[js-15],pl=Xf.high,xc=Xf.low,Qf=(pl>>>1|xc<<31)^(pl>>>8|xc<<24)^pl>>>7,Y0=(xc>>>1|pl<<31)^(xc>>>8|pl<<24)^(xc>>>7|pl<<25),s0=d[js-2],Du=s0.high,ae=s0.low,se=(Du>>>19|ae<<13)^(Du<<3|ae>>>29)^Du>>>6,Hs=(ae>>>19|Du<<13)^(ae<<3|Du>>>29)^(ae>>>6|Du<<26),Z0=d[js-7],up=Z0.high,cu=Z0.low,rf=d[js-16],Wg=rf.high,Zs=rf.low;Na=Y0+cu,_c=Qf+up+(Na>>>0<Y0>>>0?1:0),Na=Na+Hs,_c=_c+se+(Na>>>0<Hs>>>0?1:0),Na=Na+Zs,_c=_c+Wg+(Na>>>0<Zs>>>0?1:0),dl.high=_c,dl.low=Na}var Bh=un&fn^~un&Os,fp=tn&Wi^~tn&Hi,Yg=Er&zr^Er&Ri^zr&Ri,nf=Vr&jr^Vr&je^jr&je,H3=(Er>>>28|Vr<<4)^(Er<<30|Vr>>>2)^(Er<<25|Vr>>>7),dp=(Vr>>>28|Er<<4)^(Vr<<30|Er>>>2)^(Vr<<25|Er>>>7),Ey=(un>>>14|tn<<18)^(un>>>18|tn<<14)^(un<<23|tn>>>9),jd=(tn>>>14|un<<18)^(tn>>>18|un<<14)^(tn<<23|un>>>9),zl=f[js],ha=zl.high,Fh=zl.low,hl=Xi+jd,qc=le+Ey+(hl>>>0<Xi>>>0?1:0),hl=hl+fp,qc=qc+Bh+(hl>>>0<fp>>>0?1:0),hl=hl+Fh,qc=qc+ha+(hl>>>0<Fh>>>0?1:0),hl=hl+Na,qc=qc+_c+(hl>>>0<Na>>>0?1:0),pp=dp+nf,Hd=H3+Yg+(pp>>>0<dp>>>0?1:0);le=Os,Xi=Hi,Os=fn,Hi=Wi,fn=un,Wi=tn,tn=Ke+hl|0,un=en+qc+(tn>>>0<Ke>>>0?1:0)|0,en=Ri,Ke=je,Ri=zr,je=jr,zr=Er,jr=Vr,Vr=hl+pp|0,Er=qc+Hd+(Vr>>>0<hl>>>0?1:0)|0}ue=_.low=ue+Vr,_.high=de+Er+(ue>>>0<Vr>>>0?1:0),vr=b.low=vr+jr,b.high=Ze+zr+(vr>>>0<jr>>>0?1:0),wr=S.low=wr+je,S.high=vt+Ri+(wr>>>0<je>>>0?1:0),Me=A.low=Me+Ke,A.high=Ve+en+(Me>>>0<Ke>>>0?1:0),br=O.low=br+tn,O.high=St+un+(br>>>0<tn>>>0?1:0),hr=L.low=hr+Wi,L.high=Yt+fn+(hr>>>0<Wi>>>0?1:0),yr=D.low=yr+Hi,D.high=Mt+Os+(yr>>>0<Hi>>>0?1:0),_e=$.low=_e+Xi,$.high=Ee+le+(_e>>>0<Xi>>>0?1:0)},_doFinalize:function(){var h=this._data,m=h.words,v=this._nDataBytes*8,_=h.sigBytes*8;m[_>>>5]|=128<<24-_%32,m[(_+128>>>10<<5)+30]=Math.floor(v/4294967296),m[(_+128>>>10<<5)+31]=v,h.sigBytes=m.length*4,this._process();var b=this._hash.toX32();return b},clone:function(){var h=n.clone.call(this);return h._hash=this._hash.clone(),h},blockSize:1024/32});t.SHA512=n._createHelper(p),t.HmacSHA512=n._createHmacHelper(p)}(),e.SHA512})});var $W=k((mT,HW)=>{(function(e,t,r){typeof mT=="object"?HW.exports=mT=t(d0(),a7(),ID()):typeof define=="function"&&define.amd?define(["./core","./x64-core","./sha512"],t):t(e.CryptoJS)})(mT,function(e){return function(){var t=e,r=t.x64,n=r.Word,s=r.WordArray,a=t.algo,l=a.SHA512,c=a.SHA384=l.extend({_doReset:function(){this._hash=new s.init([new n.init(3418070365,3238371032),new n.init(1654270250,914150663),new n.init(2438529370,812702999),new n.init(355462360,4144912697),new n.init(1731405415,4290775857),new n.init(2394180231,1750603025),new n.init(3675008525,1694076839),new n.init(1203062813,3204075428)])},_doFinalize:function(){var u=l._doFinalize.call(this);return u.sigBytes-=16,u}});t.SHA384=l._createHelper(c),t.HmacSHA384=l._createHmacHelper(c)}(),e.SHA384})});var GW=k((gT,VW)=>{(function(e,t,r){typeof gT=="object"?VW.exports=gT=t(d0(),a7()):typeof define=="function"&&define.amd?define(["./core","./x64-core"],t):t(e.CryptoJS)})(gT,function(e){return function(t){var r=e,n=r.lib,s=n.WordArray,a=n.Hasher,l=r.x64,c=l.Word,u=r.algo,f=[],d=[],p=[];(function(){for(var v=1,_=0,b=0;b<24;b++){f[v+5*_]=(b+1)*(b+2)/2%64;var S=_%5,A=(2*v+3*_)%5;v=S,_=A}for(var v=0;v<5;v++)for(var _=0;_<5;_++)d[v+5*_]=_+(2*v+3*_)%5*5;for(var O=1,L=0;L<24;L++){for(var D=0,$=0,de=0;de<7;de++){if(O&1){var ue=(1<<de)-1;ue<32?$^=1<<ue:D^=1<<ue-32}O&128?O=O<<1^113:O<<=1}p[L]=c.create(D,$)}})();var h=[];(function(){for(var v=0;v<25;v++)h[v]=c.create()})();var m=u.SHA3=a.extend({cfg:a.cfg.extend({outputLength:512}),_doReset:function(){for(var v=this._state=[],_=0;_<25;_++)v[_]=new c.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(v,_){for(var b=this._state,S=this.blockSize/2,A=0;A<S;A++){var O=v[_+2*A],L=v[_+2*A+1];O=(O<<8|O>>>24)&16711935|(O<<24|O>>>8)&4278255360,L=(L<<8|L>>>24)&16711935|(L<<24|L>>>8)&4278255360;var D=b[A];D.high^=L,D.low^=O}for(var $=0;$<24;$++){for(var de=0;de<5;de++){for(var ue=0,Ze=0,vr=0;vr<5;vr++){var D=b[de+5*vr];ue^=D.high,Ze^=D.low}var vt=h[de];vt.high=ue,vt.low=Ze}for(var de=0;de<5;de++)for(var wr=h[(de+4)%5],Ve=h[(de+1)%5],Me=Ve.high,St=Ve.low,ue=wr.high^(Me<<1|St>>>31),Ze=wr.low^(St<<1|Me>>>31),vr=0;vr<5;vr++){var D=b[de+5*vr];D.high^=ue,D.low^=Ze}for(var br=1;br<25;br++){var ue,Ze,D=b[br],Yt=D.high,hr=D.low,Mt=f[br];Mt<32?(ue=Yt<<Mt|hr>>>32-Mt,Ze=hr<<Mt|Yt>>>32-Mt):(ue=hr<<Mt-32|Yt>>>64-Mt,Ze=Yt<<Mt-32|hr>>>64-Mt);var yr=h[d[br]];yr.high=ue,yr.low=Ze}var Ee=h[0],_e=b[0];Ee.high=_e.high,Ee.low=_e.low;for(var de=0;de<5;de++)for(var vr=0;vr<5;vr++){var br=de+5*vr,D=b[br],Er=h[br],Vr=h[(de+1)%5+5*vr],zr=h[(de+2)%5+5*vr];D.high=Er.high^~Vr.high&zr.high,D.low=Er.low^~Vr.low&zr.low}var D=b[0],jr=p[$];D.high^=jr.high,D.low^=jr.low}},_doFinalize:function(){var v=this._data,_=v.words,b=this._nDataBytes*8,S=v.sigBytes*8,A=this.blockSize*32;_[S>>>5]|=1<<24-S%32,_[(t.ceil((S+1)/A)*A>>>5)-1]|=128,v.sigBytes=_.length*4,this._process();for(var O=this._state,L=this.cfg.outputLength/8,D=L/8,$=[],de=0;de<D;de++){var ue=O[de],Ze=ue.high,vr=ue.low;Ze=(Ze<<8|Ze>>>24)&16711935|(Ze<<24|Ze>>>8)&4278255360,vr=(vr<<8|vr>>>24)&16711935|(vr<<24|vr>>>8)&4278255360,$.push(vr),$.push(Ze)}return new s.init($,L)},clone:function(){for(var v=a.clone.call(this),_=v._state=this._state.slice(0),b=0;b<25;b++)_[b]=_[b].clone();return v}});r.SHA3=a._createHelper(m),r.HmacSHA3=a._createHmacHelper(m)}(Math),e.SHA3})});var KW=k((vT,zW)=>{(function(e,t){typeof vT=="object"?zW.exports=vT=t(d0()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(vT,function(e){return function(t){var r=e,n=r.lib,s=n.WordArray,a=n.Hasher,l=r.algo,c=s.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),u=s.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),f=s.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),d=s.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),p=s.create([0,1518500249,1859775393,2400959708,2840853838]),h=s.create([1352829926,1548603684,1836072691,2053994217,0]),m=l.RIPEMD160=a.extend({_doReset:function(){this._hash=s.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(L,D){for(var $=0;$<16;$++){var de=D+$,ue=L[de];L[de]=(ue<<8|ue>>>24)&16711935|(ue<<24|ue>>>8)&4278255360}var Ze=this._hash.words,vr=p.words,vt=h.words,wr=c.words,Ve=u.words,Me=f.words,St=d.words,br,Yt,hr,Mt,yr,Ee,_e,Er,Vr,zr;Ee=br=Ze[0],_e=Yt=Ze[1],Er=hr=Ze[2],Vr=Mt=Ze[3],zr=yr=Ze[4];for(var jr,$=0;$<80;$+=1)jr=br+L[D+wr[$]]|0,$<16?jr+=v(Yt,hr,Mt)+vr[0]:$<32?jr+=_(Yt,hr,Mt)+vr[1]:$<48?jr+=b(Yt,hr,Mt)+vr[2]:$<64?jr+=S(Yt,hr,Mt)+vr[3]:jr+=A(Yt,hr,Mt)+vr[4],jr=jr|0,jr=O(jr,Me[$]),jr=jr+yr|0,br=yr,yr=Mt,Mt=O(hr,10),hr=Yt,Yt=jr,jr=Ee+L[D+Ve[$]]|0,$<16?jr+=A(_e,Er,Vr)+vt[0]:$<32?jr+=S(_e,Er,Vr)+vt[1]:$<48?jr+=b(_e,Er,Vr)+vt[2]:$<64?jr+=_(_e,Er,Vr)+vt[3]:jr+=v(_e,Er,Vr)+vt[4],jr=jr|0,jr=O(jr,St[$]),jr=jr+zr|0,Ee=zr,zr=Vr,Vr=O(Er,10),Er=_e,_e=jr;jr=Ze[1]+hr+Vr|0,Ze[1]=Ze[2]+Mt+zr|0,Ze[2]=Ze[3]+yr+Ee|0,Ze[3]=Ze[4]+br+_e|0,Ze[4]=Ze[0]+Yt+Er|0,Ze[0]=jr},_doFinalize:function(){var L=this._data,D=L.words,$=this._nDataBytes*8,de=L.sigBytes*8;D[de>>>5]|=128<<24-de%32,D[(de+64>>>9<<4)+14]=($<<8|$>>>24)&16711935|($<<24|$>>>8)&4278255360,L.sigBytes=(D.length+1)*4,this._process();for(var ue=this._hash,Ze=ue.words,vr=0;vr<5;vr++){var vt=Ze[vr];Ze[vr]=(vt<<8|vt>>>24)&16711935|(vt<<24|vt>>>8)&4278255360}return ue},clone:function(){var L=a.clone.call(this);return L._hash=this._hash.clone(),L}});function v(L,D,$){return L^D^$}o(v,"f1");function _(L,D,$){return L&D|~L&$}o(_,"f2");function b(L,D,$){return(L|~D)^$}o(b,"f3");function S(L,D,$){return L&$|D&~$}o(S,"f4");function A(L,D,$){return L^(D|~$)}o(A,"f5");function O(L,D){return L<<D|L>>>32-D}o(O,"rotl"),r.RIPEMD160=a._createHelper(m),r.HmacRIPEMD160=a._createHmacHelper(m)}(Math),e.RIPEMD160})});var _T=k((yT,WW)=>{(function(e,t){typeof yT=="object"?WW.exports=yT=t(d0()):typeof define=="function"&&define.amd?define(["./core"],t):t(e.CryptoJS)})(yT,function(e){(function(){var t=e,r=t.lib,n=r.Base,s=t.enc,a=s.Utf8,l=t.algo,c=l.HMAC=n.extend({init:function(u,f){u=this._hasher=new u.init,typeof f=="string"&&(f=a.parse(f));var d=u.blockSize,p=d*4;f.sigBytes>p&&(f=u.finalize(f)),f.clamp();for(var h=this._oKey=f.clone(),m=this._iKey=f.clone(),v=h.words,_=m.words,b=0;b<d;b++)v[b]^=1549556828,_[b]^=909522486;h.sigBytes=m.sigBytes=p,this.reset()},reset:function(){var u=this._hasher;u.reset(),u.update(this._iKey)},update:function(u){return this._hasher.update(u),this},finalize:function(u){var f=this._hasher,d=f.finalize(u);f.reset();var p=f.finalize(this._oKey.clone().concat(d));return p}})})()})});var XW=k((xT,YW)=>{(function(e,t,r){typeof xT=="object"?YW.exports=xT=t(d0(),dT(),_T()):typeof define=="function"&&define.amd?define(["./core","./sha256","./hmac"],t):t(e.CryptoJS)})(xT,function(e){return function(){var t=e,r=t.lib,n=r.Base,s=r.WordArray,a=t.algo,l=a.SHA256,c=a.HMAC,u=a.PBKDF2=n.extend({cfg:n.extend({keySize:128/32,hasher:l,iterations:25e4}),init:function(f){this.cfg=this.cfg.extend(f)},compute:function(f,d){for(var p=this.cfg,h=c.create(p.hasher,f),m=s.create(),v=s.create([1]),_=m.words,b=v.words,S=p.keySize,A=p.iterations;_.length<S;){var O=h.update(d).finalize(v);h.reset();for(var L=O.words,D=L.length,$=O,de=1;de<A;de++){$=h.finalize($),h.reset();for(var ue=$.words,Ze=0;Ze<D;Ze++)L[Ze]^=ue[Ze]}m.concat(O),b[0]++}return m.sigBytes=S*4,m}});t.PBKDF2=function(f,d,p){return u.create(p).compute(f,d)}}(),e.PBKDF2})});var Qp=k((bT,QW)=>{(function(e,t,r){typeof bT=="object"?QW.exports=bT=t(d0(),SD(),_T()):typeof define=="function"&&define.amd?define(["./core","./sha1","./hmac"],t):t(e.CryptoJS)})(bT,function(e){return function(){var t=e,r=t.lib,n=r.Base,s=r.WordArray,a=t.algo,l=a.MD5,c=a.EvpKDF=n.extend({cfg:n.extend({keySize:128/32,hasher:l,iterations:1}),init:function(u){this.cfg=this.cfg.extend(u)},compute:function(u,f){for(var d,p=this.cfg,h=p.hasher.create(),m=s.create(),v=m.words,_=p.keySize,b=p.iterations;v.length<_;){d&&h.update(d),d=h.update(u).finalize(f),h.reset();for(var S=1;S<b;S++)d=h.finalize(d),h.reset();m.concat(d)}return m.sigBytes=_*4,m}});t.EvpKDF=function(u,f,d){return c.create(d).compute(u,f)}}(),e.EvpKDF})});var _l=k((ET,JW)=>{(function(e,t,r){typeof ET=="object"?JW.exports=ET=t(d0(),Qp()):typeof define=="function"&&define.amd?define(["./core","./evpkdf"],t):t(e.CryptoJS)})(ET,function(e){e.lib.Cipher||function(t){var r=e,n=r.lib,s=n.Base,a=n.WordArray,l=n.BufferedBlockAlgorithm,c=r.enc,u=c.Utf8,f=c.Base64,d=r.algo,p=d.EvpKDF,h=n.Cipher=l.extend({cfg:s.extend(),createEncryptor:function(vt,wr){return this.create(this._ENC_XFORM_MODE,vt,wr)},createDecryptor:function(vt,wr){return this.create(this._DEC_XFORM_MODE,vt,wr)},init:function(vt,wr,Ve){this.cfg=this.cfg.extend(Ve),this._xformMode=vt,this._key=wr,this.reset()},reset:function(){l.reset.call(this),this._doReset()},process:function(vt){return this._append(vt),this._process()},finalize:function(vt){vt&&this._append(vt);var wr=this._doFinalize();return wr},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function vt(wr){return typeof wr=="string"?vr:de}return o(vt,"selectCipherStrategy"),function(wr){return{encrypt:function(Ve,Me,St){return vt(Me).encrypt(wr,Ve,Me,St)},decrypt:function(Ve,Me,St){return vt(Me).decrypt(wr,Ve,Me,St)}}}}()}),m=n.StreamCipher=h.extend({_doFinalize:function(){var vt=this._process(!0);return vt},blockSize:1}),v=r.mode={},_=n.BlockCipherMode=s.extend({createEncryptor:function(vt,wr){return this.Encryptor.create(vt,wr)},createDecryptor:function(vt,wr){return this.Decryptor.create(vt,wr)},init:function(vt,wr){this._cipher=vt,this._iv=wr}}),b=v.CBC=function(){var vt=_.extend();vt.Encryptor=vt.extend({processBlock:function(Ve,Me){var St=this._cipher,br=St.blockSize;wr.call(this,Ve,Me,br),St.encryptBlock(Ve,Me),this._prevBlock=Ve.slice(Me,Me+br)}}),vt.Decryptor=vt.extend({processBlock:function(Ve,Me){var St=this._cipher,br=St.blockSize,Yt=Ve.slice(Me,Me+br);St.decryptBlock(Ve,Me),wr.call(this,Ve,Me,br),this._prevBlock=Yt}});function wr(Ve,Me,St){var br,Yt=this._iv;Yt?(br=Yt,this._iv=t):br=this._prevBlock;for(var hr=0;hr<St;hr++)Ve[Me+hr]^=br[hr]}return o(wr,"xorBlock"),vt}(),S=r.pad={},A=S.Pkcs7={pad:function(vt,wr){for(var Ve=wr*4,Me=Ve-vt.sigBytes%Ve,St=Me<<24|Me<<16|Me<<8|Me,br=[],Yt=0;Yt<Me;Yt+=4)br.push(St);var hr=a.create(br,Me);vt.concat(hr)},unpad:function(vt){var wr=vt.words[vt.sigBytes-1>>>2]&255;vt.sigBytes-=wr}},O=n.BlockCipher=h.extend({cfg:h.cfg.extend({mode:b,padding:A}),reset:function(){var vt;h.reset.call(this);var wr=this.cfg,Ve=wr.iv,Me=wr.mode;this._xformMode==this._ENC_XFORM_MODE?vt=Me.createEncryptor:(vt=Me.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==vt?this._mode.init(this,Ve&&Ve.words):(this._mode=vt.call(Me,this,Ve&&Ve.words),this._mode.__creator=vt)},_doProcessBlock:function(vt,wr){this._mode.processBlock(vt,wr)},_doFinalize:function(){var vt,wr=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(wr.pad(this._data,this.blockSize),vt=this._process(!0)):(vt=this._process(!0),wr.unpad(vt)),vt},blockSize:128/32}),L=n.CipherParams=s.extend({init:function(vt){this.mixIn(vt)},toString:function(vt){return(vt||this.formatter).stringify(this)}}),D=r.format={},$=D.OpenSSL={stringify:function(vt){var wr,Ve=vt.ciphertext,Me=vt.salt;return Me?wr=a.create([1398893684,1701076831]).concat(Me).concat(Ve):wr=Ve,wr.toString(f)},parse:function(vt){var wr,Ve=f.parse(vt),Me=Ve.words;return Me[0]==1398893684&&Me[1]==1701076831&&(wr=a.create(Me.slice(2,4)),Me.splice(0,4),Ve.sigBytes-=16),L.create({ciphertext:Ve,salt:wr})}},de=n.SerializableCipher=s.extend({cfg:s.extend({format:$}),encrypt:function(vt,wr,Ve,Me){Me=this.cfg.extend(Me);var St=vt.createEncryptor(Ve,Me),br=St.finalize(wr),Yt=St.cfg;return L.create({ciphertext:br,key:Ve,iv:Yt.iv,algorithm:vt,mode:Yt.mode,padding:Yt.padding,blockSize:vt.blockSize,formatter:Me.format})},decrypt:function(vt,wr,Ve,Me){Me=this.cfg.extend(Me),wr=this._parse(wr,Me.format);var St=vt.createDecryptor(Ve,Me).finalize(wr.ciphertext);return St},_parse:function(vt,wr){return typeof vt=="string"?wr.parse(vt,this):vt}}),ue=r.kdf={},Ze=ue.OpenSSL={execute:function(vt,wr,Ve,Me,St){if(Me||(Me=a.random(64/8)),St)var br=p.create({keySize:wr+Ve,hasher:St}).compute(vt,Me);else var br=p.create({keySize:wr+Ve}).compute(vt,Me);var Yt=a.create(br.words.slice(wr),Ve*4);return br.sigBytes=wr*4,L.create({key:br,iv:Yt,salt:Me})}},vr=n.PasswordBasedCipher=de.extend({cfg:de.cfg.extend({kdf:Ze}),encrypt:function(vt,wr,Ve,Me){Me=this.cfg.extend(Me);var St=Me.kdf.execute(Ve,vt.keySize,vt.ivSize,Me.salt,Me.hasher);Me.iv=St.iv;var br=de.encrypt.call(this,vt,wr,St.key,Me);return br.mixIn(St),br},decrypt:function(vt,wr,Ve,Me){Me=this.cfg.extend(Me),wr=this._parse(wr,Me.format);var St=Me.kdf.execute(Ve,vt.keySize,vt.ivSize,wr.salt,Me.hasher);Me.iv=St.iv;var br=de.decrypt.call(this,vt,wr,St.key,Me);return br}})}()})});var eY=k((TT,ZW)=>{(function(e,t,r){typeof TT=="object"?ZW.exports=TT=t(d0(),_l()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(TT,function(e){return e.mode.CFB=function(){var t=e.lib.BlockCipherMode.extend();t.Encryptor=t.extend({processBlock:function(n,s){var a=this._cipher,l=a.blockSize;r.call(this,n,s,l,a),this._prevBlock=n.slice(s,s+l)}}),t.Decryptor=t.extend({processBlock:function(n,s){var a=this._cipher,l=a.blockSize,c=n.slice(s,s+l);r.call(this,n,s,l,a),this._prevBlock=c}});function r(n,s,a,l){var c,u=this._iv;u?(c=u.slice(0),this._iv=void 0):c=this._prevBlock,l.encryptBlock(c,0);for(var f=0;f<a;f++)n[s+f]^=c[f]}return o(r,"generateKeystreamAndEncrypt"),t}(),e.mode.CFB})});var rY=k((CT,tY)=>{(function(e,t,r){typeof CT=="object"?tY.exports=CT=t(d0(),_l()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(CT,function(e){return e.mode.CTR=function(){var t=e.lib.BlockCipherMode.extend(),r=t.Encryptor=t.extend({processBlock:function(n,s){var a=this._cipher,l=a.blockSize,c=this._iv,u=this._counter;c&&(u=this._counter=c.slice(0),this._iv=void 0);var f=u.slice(0);a.encryptBlock(f,0),u[l-1]=u[l-1]+1|0;for(var d=0;d<l;d++)n[s+d]^=f[d]}});return t.Decryptor=r,t}(),e.mode.CTR})});var iY=k((ST,nY)=>{(function(e,t,r){typeof ST=="object"?nY.exports=ST=t(d0(),_l()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(ST,function(e){return e.mode.CTRGladman=function(){var t=e.lib.BlockCipherMode.extend();function r(a){if((a>>24&255)===255){var l=a>>16&255,c=a>>8&255,u=a&255;l===255?(l=0,c===255?(c=0,u===255?u=0:++u):++c):++l,a=0,a+=l<<16,a+=c<<8,a+=u}else a+=1<<24;return a}o(r,"incWord");function n(a){return(a[0]=r(a[0]))===0&&(a[1]=r(a[1])),a}o(n,"incCounter");var s=t.Encryptor=t.extend({processBlock:function(a,l){var c=this._cipher,u=c.blockSize,f=this._iv,d=this._counter;f&&(d=this._counter=f.slice(0),this._iv=void 0),n(d);var p=d.slice(0);c.encryptBlock(p,0);for(var h=0;h<u;h++)a[l+h]^=p[h]}});return t.Decryptor=s,t}(),e.mode.CTRGladman})});var aY=k((IT,sY)=>{(function(e,t,r){typeof IT=="object"?sY.exports=IT=t(d0(),_l()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(IT,function(e){return e.mode.OFB=function(){var t=e.lib.BlockCipherMode.extend(),r=t.Encryptor=t.extend({processBlock:function(n,s){var a=this._cipher,l=a.blockSize,c=this._iv,u=this._keystream;c&&(u=this._keystream=c.slice(0),this._iv=void 0),a.encryptBlock(u,0);for(var f=0;f<l;f++)n[s+f]^=u[f]}});return t.Decryptor=r,t}(),e.mode.OFB})});var lY=k((AT,oY)=>{(function(e,t,r){typeof AT=="object"?oY.exports=AT=t(d0(),_l()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(AT,function(e){return e.mode.ECB=function(){var t=e.lib.BlockCipherMode.extend();return t.Encryptor=t.extend({processBlock:function(r,n){this._cipher.encryptBlock(r,n)}}),t.Decryptor=t.extend({processBlock:function(r,n){this._cipher.decryptBlock(r,n)}}),t}(),e.mode.ECB})});var uY=k((wT,cY)=>{(function(e,t,r){typeof wT=="object"?cY.exports=wT=t(d0(),_l()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(wT,function(e){return e.pad.AnsiX923={pad:function(t,r){var n=t.sigBytes,s=r*4,a=s-n%s,l=n+a-1;t.clamp(),t.words[l>>>2]|=a<<24-l%4*8,t.sigBytes+=a},unpad:function(t){var r=t.words[t.sigBytes-1>>>2]&255;t.sigBytes-=r}},e.pad.Ansix923})});var dY=k((RT,fY)=>{(function(e,t,r){typeof RT=="object"?fY.exports=RT=t(d0(),_l()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(RT,function(e){return e.pad.Iso10126={pad:function(t,r){var n=r*4,s=n-t.sigBytes%n;t.concat(e.lib.WordArray.random(s-1)).concat(e.lib.WordArray.create([s<<24],1))},unpad:function(t){var r=t.words[t.sigBytes-1>>>2]&255;t.sigBytes-=r}},e.pad.Iso10126})});var hY=k((PT,pY)=>{(function(e,t,r){typeof PT=="object"?pY.exports=PT=t(d0(),_l()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(PT,function(e){return e.pad.Iso97971={pad:function(t,r){t.concat(e.lib.WordArray.create([2147483648],1)),e.pad.ZeroPadding.pad(t,r)},unpad:function(t){e.pad.ZeroPadding.unpad(t),t.sigBytes--}},e.pad.Iso97971})});var gY=k((NT,mY)=>{(function(e,t,r){typeof NT=="object"?mY.exports=NT=t(d0(),_l()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(NT,function(e){return e.pad.ZeroPadding={pad:function(t,r){var n=r*4;t.clamp(),t.sigBytes+=n-(t.sigBytes%n||n)},unpad:function(t){for(var r=t.words,n=t.sigBytes-1,n=t.sigBytes-1;n>=0;n--)if(r[n>>>2]>>>24-n%4*8&255){t.sigBytes=n+1;break}}},e.pad.ZeroPadding})});var yY=k((OT,vY)=>{(function(e,t,r){typeof OT=="object"?vY.exports=OT=t(d0(),_l()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(OT,function(e){return e.pad.NoPadding={pad:function(){},unpad:function(){}},e.pad.NoPadding})});var xY=k((DT,_Y)=>{(function(e,t,r){typeof DT=="object"?_Y.exports=DT=t(d0(),_l()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],t):t(e.CryptoJS)})(DT,function(e){return function(t){var r=e,n=r.lib,s=n.CipherParams,a=r.enc,l=a.Hex,c=r.format,u=c.Hex={stringify:function(f){return f.ciphertext.toString(l)},parse:function(f){var d=l.parse(f);return s.create({ciphertext:d})}}}(),e.format.Hex})});var EY=k((LT,bY)=>{(function(e,t,r){typeof LT=="object"?bY.exports=LT=t(d0(),M5(),B5(),Qp(),_l()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(LT,function(e){return function(){var t=e,r=t.lib,n=r.BlockCipher,s=t.algo,a=[],l=[],c=[],u=[],f=[],d=[],p=[],h=[],m=[],v=[];(function(){for(var S=[],A=0;A<256;A++)A<128?S[A]=A<<1:S[A]=A<<1^283;for(var O=0,L=0,A=0;A<256;A++){var D=L^L<<1^L<<2^L<<3^L<<4;D=D>>>8^D&255^99,a[O]=D,l[D]=O;var $=S[O],de=S[$],ue=S[de],Ze=S[D]*257^D*16843008;c[O]=Ze<<24|Ze>>>8,u[O]=Ze<<16|Ze>>>16,f[O]=Ze<<8|Ze>>>24,d[O]=Ze;var Ze=ue*16843009^de*65537^$*257^O*16843008;p[D]=Ze<<24|Ze>>>8,h[D]=Ze<<16|Ze>>>16,m[D]=Ze<<8|Ze>>>24,v[D]=Ze,O?(O=$^S[S[S[ue^$]]],L^=S[S[L]]):O=L=1}})();var _=[0,1,2,4,8,16,32,64,128,27,54],b=s.AES=n.extend({_doReset:function(){var S;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var A=this._keyPriorReset=this._key,O=A.words,L=A.sigBytes/4,D=this._nRounds=L+6,$=(D+1)*4,de=this._keySchedule=[],ue=0;ue<$;ue++)ue<L?de[ue]=O[ue]:(S=de[ue-1],ue%L?L>6&&ue%L==4&&(S=a[S>>>24]<<24|a[S>>>16&255]<<16|a[S>>>8&255]<<8|a[S&255]):(S=S<<8|S>>>24,S=a[S>>>24]<<24|a[S>>>16&255]<<16|a[S>>>8&255]<<8|a[S&255],S^=_[ue/L|0]<<24),de[ue]=de[ue-L]^S);for(var Ze=this._invKeySchedule=[],vr=0;vr<$;vr++){var ue=$-vr;if(vr%4)var S=de[ue];else var S=de[ue-4];vr<4||ue<=4?Ze[vr]=S:Ze[vr]=p[a[S>>>24]]^h[a[S>>>16&255]]^m[a[S>>>8&255]]^v[a[S&255]]}}},encryptBlock:function(S,A){this._doCryptBlock(S,A,this._keySchedule,c,u,f,d,a)},decryptBlock:function(S,A){var O=S[A+1];S[A+1]=S[A+3],S[A+3]=O,this._doCryptBlock(S,A,this._invKeySchedule,p,h,m,v,l);var O=S[A+1];S[A+1]=S[A+3],S[A+3]=O},_doCryptBlock:function(S,A,O,L,D,$,de,ue){for(var Ze=this._nRounds,vr=S[A]^O[0],vt=S[A+1]^O[1],wr=S[A+2]^O[2],Ve=S[A+3]^O[3],Me=4,St=1;St<Ze;St++){var br=L[vr>>>24]^D[vt>>>16&255]^$[wr>>>8&255]^de[Ve&255]^O[Me++],Yt=L[vt>>>24]^D[wr>>>16&255]^$[Ve>>>8&255]^de[vr&255]^O[Me++],hr=L[wr>>>24]^D[Ve>>>16&255]^$[vr>>>8&255]^de[vt&255]^O[Me++],Mt=L[Ve>>>24]^D[vr>>>16&255]^$[vt>>>8&255]^de[wr&255]^O[Me++];vr=br,vt=Yt,wr=hr,Ve=Mt}var br=(ue[vr>>>24]<<24|ue[vt>>>16&255]<<16|ue[wr>>>8&255]<<8|ue[Ve&255])^O[Me++],Yt=(ue[vt>>>24]<<24|ue[wr>>>16&255]<<16|ue[Ve>>>8&255]<<8|ue[vr&255])^O[Me++],hr=(ue[wr>>>24]<<24|ue[Ve>>>16&255]<<16|ue[vr>>>8&255]<<8|ue[vt&255])^O[Me++],Mt=(ue[Ve>>>24]<<24|ue[vr>>>16&255]<<16|ue[vt>>>8&255]<<8|ue[wr&255])^O[Me++];S[A]=br,S[A+1]=Yt,S[A+2]=hr,S[A+3]=Mt},keySize:256/32});t.AES=n._createHelper(b)}(),e.AES})});var CY=k((kT,TY)=>{(function(e,t,r){typeof kT=="object"?TY.exports=kT=t(d0(),M5(),B5(),Qp(),_l()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(kT,function(e){return function(){var t=e,r=t.lib,n=r.WordArray,s=r.BlockCipher,a=t.algo,l=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],c=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],u=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],f=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],d=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],p=a.DES=s.extend({_doReset:function(){for(var _=this._key,b=_.words,S=[],A=0;A<56;A++){var O=l[A]-1;S[A]=b[O>>>5]>>>31-O%32&1}for(var L=this._subKeys=[],D=0;D<16;D++){for(var $=L[D]=[],de=u[D],A=0;A<24;A++)$[A/6|0]|=S[(c[A]-1+de)%28]<<31-A%6,$[4+(A/6|0)]|=S[28+(c[A+24]-1+de)%28]<<31-A%6;$[0]=$[0]<<1|$[0]>>>31;for(var A=1;A<7;A++)$[A]=$[A]>>>(A-1)*4+3;$[7]=$[7]<<5|$[7]>>>27}for(var ue=this._invSubKeys=[],A=0;A<16;A++)ue[A]=L[15-A]},encryptBlock:function(_,b){this._doCryptBlock(_,b,this._subKeys)},decryptBlock:function(_,b){this._doCryptBlock(_,b,this._invSubKeys)},_doCryptBlock:function(_,b,S){this._lBlock=_[b],this._rBlock=_[b+1],h.call(this,4,252645135),h.call(this,16,65535),m.call(this,2,858993459),m.call(this,8,16711935),h.call(this,1,1431655765);for(var A=0;A<16;A++){for(var O=S[A],L=this._lBlock,D=this._rBlock,$=0,de=0;de<8;de++)$|=f[de][((D^O[de])&d[de])>>>0];this._lBlock=D,this._rBlock=L^$}var ue=this._lBlock;this._lBlock=this._rBlock,this._rBlock=ue,h.call(this,1,1431655765),m.call(this,8,16711935),m.call(this,2,858993459),h.call(this,16,65535),h.call(this,4,252645135),_[b]=this._lBlock,_[b+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function h(_,b){var S=(this._lBlock>>>_^this._rBlock)&b;this._rBlock^=S,this._lBlock^=S<<_}o(h,"exchangeLR");function m(_,b){var S=(this._rBlock>>>_^this._lBlock)&b;this._lBlock^=S,this._rBlock^=S<<_}o(m,"exchangeRL"),t.DES=s._createHelper(p);var v=a.TripleDES=s.extend({_doReset:function(){var _=this._key,b=_.words;if(b.length!==2&&b.length!==4&&b.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var S=b.slice(0,2),A=b.length<4?b.slice(0,2):b.slice(2,4),O=b.length<6?b.slice(0,2):b.slice(4,6);this._des1=p.createEncryptor(n.create(S)),this._des2=p.createEncryptor(n.create(A)),this._des3=p.createEncryptor(n.create(O))},encryptBlock:function(_,b){this._des1.encryptBlock(_,b),this._des2.decryptBlock(_,b),this._des3.encryptBlock(_,b)},decryptBlock:function(_,b){this._des3.decryptBlock(_,b),this._des2.encryptBlock(_,b),this._des1.decryptBlock(_,b)},keySize:192/32,ivSize:64/32,blockSize:64/32});t.TripleDES=s._createHelper(v)}(),e.TripleDES})});var IY=k((MT,SY)=>{(function(e,t,r){typeof MT=="object"?SY.exports=MT=t(d0(),M5(),B5(),Qp(),_l()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(MT,function(e){return function(){var t=e,r=t.lib,n=r.StreamCipher,s=t.algo,a=s.RC4=n.extend({_doReset:function(){for(var u=this._key,f=u.words,d=u.sigBytes,p=this._S=[],h=0;h<256;h++)p[h]=h;for(var h=0,m=0;h<256;h++){var v=h%d,_=f[v>>>2]>>>24-v%4*8&255;m=(m+p[h]+_)%256;var b=p[h];p[h]=p[m],p[m]=b}this._i=this._j=0},_doProcessBlock:function(u,f){u[f]^=l.call(this)},keySize:256/32,ivSize:0});function l(){for(var u=this._S,f=this._i,d=this._j,p=0,h=0;h<4;h++){f=(f+1)%256,d=(d+u[f])%256;var m=u[f];u[f]=u[d],u[d]=m,p|=u[(u[f]+u[d])%256]<<24-h*8}return this._i=f,this._j=d,p}o(l,"generateKeystreamWord"),t.RC4=n._createHelper(a);var c=s.RC4Drop=a.extend({cfg:a.cfg.extend({drop:192}),_doReset:function(){a._doReset.call(this);for(var u=this.cfg.drop;u>0;u--)l.call(this)}});t.RC4Drop=n._createHelper(c)}(),e.RC4})});var wY=k((BT,AY)=>{(function(e,t,r){typeof BT=="object"?AY.exports=BT=t(d0(),M5(),B5(),Qp(),_l()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(BT,function(e){return function(){var t=e,r=t.lib,n=r.StreamCipher,s=t.algo,a=[],l=[],c=[],u=s.Rabbit=n.extend({_doReset:function(){for(var d=this._key.words,p=this.cfg.iv,h=0;h<4;h++)d[h]=(d[h]<<8|d[h]>>>24)&16711935|(d[h]<<24|d[h]>>>8)&4278255360;var m=this._X=[d[0],d[3]<<16|d[2]>>>16,d[1],d[0]<<16|d[3]>>>16,d[2],d[1]<<16|d[0]>>>16,d[3],d[2]<<16|d[1]>>>16],v=this._C=[d[2]<<16|d[2]>>>16,d[0]&4294901760|d[1]&65535,d[3]<<16|d[3]>>>16,d[1]&4294901760|d[2]&65535,d[0]<<16|d[0]>>>16,d[2]&4294901760|d[3]&65535,d[1]<<16|d[1]>>>16,d[3]&4294901760|d[0]&65535];this._b=0;for(var h=0;h<4;h++)f.call(this);for(var h=0;h<8;h++)v[h]^=m[h+4&7];if(p){var _=p.words,b=_[0],S=_[1],A=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360,O=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360,L=A>>>16|O&4294901760,D=O<<16|A&65535;v[0]^=A,v[1]^=L,v[2]^=O,v[3]^=D,v[4]^=A,v[5]^=L,v[6]^=O,v[7]^=D;for(var h=0;h<4;h++)f.call(this)}},_doProcessBlock:function(d,p){var h=this._X;f.call(this),a[0]=h[0]^h[5]>>>16^h[3]<<16,a[1]=h[2]^h[7]>>>16^h[5]<<16,a[2]=h[4]^h[1]>>>16^h[7]<<16,a[3]=h[6]^h[3]>>>16^h[1]<<16;for(var m=0;m<4;m++)a[m]=(a[m]<<8|a[m]>>>24)&16711935|(a[m]<<24|a[m]>>>8)&4278255360,d[p+m]^=a[m]},blockSize:128/32,ivSize:64/32});function f(){for(var d=this._X,p=this._C,h=0;h<8;h++)l[h]=p[h];p[0]=p[0]+1295307597+this._b|0,p[1]=p[1]+3545052371+(p[0]>>>0<l[0]>>>0?1:0)|0,p[2]=p[2]+886263092+(p[1]>>>0<l[1]>>>0?1:0)|0,p[3]=p[3]+1295307597+(p[2]>>>0<l[2]>>>0?1:0)|0,p[4]=p[4]+3545052371+(p[3]>>>0<l[3]>>>0?1:0)|0,p[5]=p[5]+886263092+(p[4]>>>0<l[4]>>>0?1:0)|0,p[6]=p[6]+1295307597+(p[5]>>>0<l[5]>>>0?1:0)|0,p[7]=p[7]+3545052371+(p[6]>>>0<l[6]>>>0?1:0)|0,this._b=p[7]>>>0<l[7]>>>0?1:0;for(var h=0;h<8;h++){var m=d[h]+p[h],v=m&65535,_=m>>>16,b=((v*v>>>17)+v*_>>>15)+_*_,S=((m&4294901760)*m|0)+((m&65535)*m|0);c[h]=b^S}d[0]=c[0]+(c[7]<<16|c[7]>>>16)+(c[6]<<16|c[6]>>>16)|0,d[1]=c[1]+(c[0]<<8|c[0]>>>24)+c[7]|0,d[2]=c[2]+(c[1]<<16|c[1]>>>16)+(c[0]<<16|c[0]>>>16)|0,d[3]=c[3]+(c[2]<<8|c[2]>>>24)+c[1]|0,d[4]=c[4]+(c[3]<<16|c[3]>>>16)+(c[2]<<16|c[2]>>>16)|0,d[5]=c[5]+(c[4]<<8|c[4]>>>24)+c[3]|0,d[6]=c[6]+(c[5]<<16|c[5]>>>16)+(c[4]<<16|c[4]>>>16)|0,d[7]=c[7]+(c[6]<<8|c[6]>>>24)+c[5]|0}o(f,"nextState"),t.Rabbit=n._createHelper(u)}(),e.Rabbit})});var PY=k((FT,RY)=>{(function(e,t,r){typeof FT=="object"?RY.exports=FT=t(d0(),M5(),B5(),Qp(),_l()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(FT,function(e){return function(){var t=e,r=t.lib,n=r.StreamCipher,s=t.algo,a=[],l=[],c=[],u=s.RabbitLegacy=n.extend({_doReset:function(){var d=this._key.words,p=this.cfg.iv,h=this._X=[d[0],d[3]<<16|d[2]>>>16,d[1],d[0]<<16|d[3]>>>16,d[2],d[1]<<16|d[0]>>>16,d[3],d[2]<<16|d[1]>>>16],m=this._C=[d[2]<<16|d[2]>>>16,d[0]&4294901760|d[1]&65535,d[3]<<16|d[3]>>>16,d[1]&4294901760|d[2]&65535,d[0]<<16|d[0]>>>16,d[2]&4294901760|d[3]&65535,d[1]<<16|d[1]>>>16,d[3]&4294901760|d[0]&65535];this._b=0;for(var v=0;v<4;v++)f.call(this);for(var v=0;v<8;v++)m[v]^=h[v+4&7];if(p){var _=p.words,b=_[0],S=_[1],A=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360,O=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360,L=A>>>16|O&4294901760,D=O<<16|A&65535;m[0]^=A,m[1]^=L,m[2]^=O,m[3]^=D,m[4]^=A,m[5]^=L,m[6]^=O,m[7]^=D;for(var v=0;v<4;v++)f.call(this)}},_doProcessBlock:function(d,p){var h=this._X;f.call(this),a[0]=h[0]^h[5]>>>16^h[3]<<16,a[1]=h[2]^h[7]>>>16^h[5]<<16,a[2]=h[4]^h[1]>>>16^h[7]<<16,a[3]=h[6]^h[3]>>>16^h[1]<<16;for(var m=0;m<4;m++)a[m]=(a[m]<<8|a[m]>>>24)&16711935|(a[m]<<24|a[m]>>>8)&4278255360,d[p+m]^=a[m]},blockSize:128/32,ivSize:64/32});function f(){for(var d=this._X,p=this._C,h=0;h<8;h++)l[h]=p[h];p[0]=p[0]+1295307597+this._b|0,p[1]=p[1]+3545052371+(p[0]>>>0<l[0]>>>0?1:0)|0,p[2]=p[2]+886263092+(p[1]>>>0<l[1]>>>0?1:0)|0,p[3]=p[3]+1295307597+(p[2]>>>0<l[2]>>>0?1:0)|0,p[4]=p[4]+3545052371+(p[3]>>>0<l[3]>>>0?1:0)|0,p[5]=p[5]+886263092+(p[4]>>>0<l[4]>>>0?1:0)|0,p[6]=p[6]+1295307597+(p[5]>>>0<l[5]>>>0?1:0)|0,p[7]=p[7]+3545052371+(p[6]>>>0<l[6]>>>0?1:0)|0,this._b=p[7]>>>0<l[7]>>>0?1:0;for(var h=0;h<8;h++){var m=d[h]+p[h],v=m&65535,_=m>>>16,b=((v*v>>>17)+v*_>>>15)+_*_,S=((m&4294901760)*m|0)+((m&65535)*m|0);c[h]=b^S}d[0]=c[0]+(c[7]<<16|c[7]>>>16)+(c[6]<<16|c[6]>>>16)|0,d[1]=c[1]+(c[0]<<8|c[0]>>>24)+c[7]|0,d[2]=c[2]+(c[1]<<16|c[1]>>>16)+(c[0]<<16|c[0]>>>16)|0,d[3]=c[3]+(c[2]<<8|c[2]>>>24)+c[1]|0,d[4]=c[4]+(c[3]<<16|c[3]>>>16)+(c[2]<<16|c[2]>>>16)|0,d[5]=c[5]+(c[4]<<8|c[4]>>>24)+c[3]|0,d[6]=c[6]+(c[5]<<16|c[5]>>>16)+(c[4]<<16|c[4]>>>16)|0,d[7]=c[7]+(c[6]<<8|c[6]>>>24)+c[5]|0}o(f,"nextState"),t.RabbitLegacy=n._createHelper(u)}(),e.RabbitLegacy})});var OY=k((UT,NY)=>{(function(e,t,r){typeof UT=="object"?NY.exports=UT=t(d0(),M5(),B5(),Qp(),_l()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],t):t(e.CryptoJS)})(UT,function(e){return function(){var t=e,r=t.lib,n=r.BlockCipher,s=t.algo;let a=16,l=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],c=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var u={pbox:[],sbox:[]};function f(v,_){let b=_>>24&255,S=_>>16&255,A=_>>8&255,O=_&255,L=v.sbox[0][b]+v.sbox[1][S];return L=L^v.sbox[2][A],L=L+v.sbox[3][O],L}o(f,"F");function d(v,_,b){let S=_,A=b,O;for(let L=0;L<a;++L)S=S^v.pbox[L],A=f(v,S)^A,O=S,S=A,A=O;return O=S,S=A,A=O,A=A^v.pbox[a],S=S^v.pbox[a+1],{left:S,right:A}}o(d,"BlowFish_Encrypt");function p(v,_,b){let S=_,A=b,O;for(let L=a+1;L>1;--L)S=S^v.pbox[L],A=f(v,S)^A,O=S,S=A,A=O;return O=S,S=A,A=O,A=A^v.pbox[1],S=S^v.pbox[0],{left:S,right:A}}o(p,"BlowFish_Decrypt");function h(v,_,b){for(let D=0;D<4;D++){v.sbox[D]=[];for(let $=0;$<256;$++)v.sbox[D][$]=c[D][$]}let S=0;for(let D=0;D<a+2;D++)v.pbox[D]=l[D]^_[S],S++,S>=b&&(S=0);let A=0,O=0,L=0;for(let D=0;D<a+2;D+=2)L=d(v,A,O),A=L.left,O=L.right,v.pbox[D]=A,v.pbox[D+1]=O;for(let D=0;D<4;D++)for(let $=0;$<256;$+=2)L=d(v,A,O),A=L.left,O=L.right,v.sbox[D][$]=A,v.sbox[D][$+1]=O;return!0}o(h,"BlowFishInit");var m=s.Blowfish=n.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var v=this._keyPriorReset=this._key,_=v.words,b=v.sigBytes/4;h(u,_,b)}},encryptBlock:function(v,_){var b=d(u,v[_],v[_+1]);v[_]=b.left,v[_+1]=b.right},decryptBlock:function(v,_){var b=p(u,v[_],v[_+1]);v[_]=b.left,v[_+1]=b.right},blockSize:64/32,keySize:128/32,ivSize:64/32});t.Blowfish=n._createHelper(m)}(),e.Blowfish})});var jT=k((qT,DY)=>{(function(e,t,r){typeof qT=="object"?DY.exports=qT=t(d0(),a7(),PW(),OW(),M5(),kW(),B5(),SD(),dT(),qW(),ID(),$W(),GW(),KW(),_T(),XW(),Qp(),_l(),eY(),rY(),iY(),aY(),lY(),uY(),dY(),hY(),gY(),yY(),xY(),EY(),CY(),IY(),wY(),PY(),OY()):typeof define=="function"&&define.amd?define(["./core","./x64-core","./lib-typedarrays","./enc-utf16","./enc-base64","./enc-base64url","./md5","./sha1","./sha256","./sha224","./sha512","./sha384","./sha3","./ripemd160","./hmac","./pbkdf2","./evpkdf","./cipher-core","./mode-cfb","./mode-ctr","./mode-ctr-gladman","./mode-ofb","./mode-ecb","./pad-ansix923","./pad-iso10126","./pad-iso97971","./pad-zeropadding","./pad-nopadding","./format-hex","./aes","./tripledes","./rc4","./rabbit","./rabbit-legacy","./blowfish"],t):e.CryptoJS=t(e.CryptoJS)})(qT,function(e){return e})});var BY=k((U$e,MY)=>{var J8=1e3,Z8=J8*60,ev=Z8*60,gm=ev*24,lge=gm*7,cge=gm*365.25;MY.exports=function(e,t){t=t||{};var r=typeof e;if(r==="string"&&e.length>0)return uge(e);if(r==="number"&&isFinite(e))return t.long?dge(e):fge(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function uge(e){if(e=String(e),!(e.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*cge;case"weeks":case"week":case"w":return r*lge;case"days":case"day":case"d":return r*gm;case"hours":case"hour":case"hrs":case"hr":case"h":return r*ev;case"minutes":case"minute":case"mins":case"min":case"m":return r*Z8;case"seconds":case"second":case"secs":case"sec":case"s":return r*J8;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}o(uge,"parse");function fge(e){var t=Math.abs(e);return t>=gm?Math.round(e/gm)+"d":t>=ev?Math.round(e/ev)+"h":t>=Z8?Math.round(e/Z8)+"m":t>=J8?Math.round(e/J8)+"s":e+"ms"}o(fge,"fmtShort");function dge(e){var t=Math.abs(e);return t>=gm?$T(e,t,gm,"day"):t>=ev?$T(e,t,ev,"hour"):t>=Z8?$T(e,t,Z8,"minute"):t>=J8?$T(e,t,J8,"second"):e+" ms"}o(dge,"fmtLong");function $T(e,t,r,n){var s=t>=r*1.5;return Math.round(e/r)+" "+n+(s?"s":"")}o($T,"plural")});var wD=k((j$e,FY)=>{function pge(e){r.debug=r,r.default=r,r.coerce=u,r.disable=a,r.enable=s,r.enabled=l,r.humanize=BY(),r.destroy=f,Object.keys(e).forEach(d=>{r[d]=e[d]}),r.names=[],r.skips=[],r.formatters={};function t(d){let p=0;for(let h=0;h<d.length;h++)p=(p<<5)-p+d.charCodeAt(h),p|=0;return r.colors[Math.abs(p)%r.colors.length]}o(t,"selectColor"),r.selectColor=t;function r(d){let p,h=null,m,v;function _(...b){if(!_.enabled)return;let S=_,A=Number(new Date),O=A-(p||A);S.diff=O,S.prev=p,S.curr=A,p=A,b[0]=r.coerce(b[0]),typeof b[0]!="string"&&b.unshift("%O");let L=0;b[0]=b[0].replace(/%([a-zA-Z%])/g,($,de)=>{if($==="%%")return"%";L++;let ue=r.formatters[de];if(typeof ue=="function"){let Ze=b[L];$=ue.call(S,Ze),b.splice(L,1),L--}return $}),r.formatArgs.call(S,b),(S.log||r.log).apply(S,b)}return o(_,"debug"),_.namespace=d,_.useColors=r.useColors(),_.color=r.selectColor(d),_.extend=n,_.destroy=r.destroy,Object.defineProperty(_,"enabled",{enumerable:!0,configurable:!1,get:()=>h!==null?h:(m!==r.namespaces&&(m=r.namespaces,v=r.enabled(d)),v),set:b=>{h=b}}),typeof r.init=="function"&&r.init(_),_}o(r,"createDebug");function n(d,p){let h=r(this.namespace+(typeof p>"u"?":":p)+d);return h.log=this.log,h}o(n,"extend");function s(d){r.save(d),r.namespaces=d,r.names=[],r.skips=[];let p,h=(typeof d=="string"?d:"").split(/[\s,]+/),m=h.length;for(p=0;p<m;p++)h[p]&&(d=h[p].replace(/\*/g,".*?"),d[0]==="-"?r.skips.push(new RegExp("^"+d.slice(1)+"$")):r.names.push(new RegExp("^"+d+"$")))}o(s,"enable");function a(){let d=[...r.names.map(c),...r.skips.map(c).map(p=>"-"+p)].join(",");return r.enable(""),d}o(a,"disable");function l(d){if(d[d.length-1]==="*")return!0;let p,h;for(p=0,h=r.skips.length;p<h;p++)if(r.skips[p].test(d))return!1;for(p=0,h=r.names.length;p<h;p++)if(r.names[p].test(d))return!0;return!1}o(l,"enabled");function c(d){return d.toString().substring(2,d.toString().length-2).replace(/\.\*\?$/,"*")}o(c,"toNamespace");function u(d){return d instanceof Error?d.stack||d.message:d}o(u,"coerce");function f(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return o(f,"destroy"),r.enable(r.load()),r}o(pge,"setup");FY.exports=pge});var UY=k((ju,VT)=>{ju.formatArgs=mge;ju.save=gge;ju.load=vge;ju.useColors=hge;ju.storage=yge();ju.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();ju.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function hge(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}o(hge,"useColors");function mge(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+VT.exports.humanize(this.diff),!this.useColors)return;let t="color: "+this.color;e.splice(1,0,t,"color: inherit");let r=0,n=0;e[0].replace(/%[a-zA-Z%]/g,s=>{s!=="%%"&&(r++,s==="%c"&&(n=r))}),e.splice(n,0,t)}o(mge,"formatArgs");ju.log=console.debug||console.log||(()=>{});function gge(e){try{e?ju.storage.setItem("debug",e):ju.storage.removeItem("debug")}catch{}}o(gge,"save");function vge(){let e;try{e=ju.storage.getItem("debug")}catch{}return!e&&typeof process<"u"&&"env"in process&&(e=process.env.DEBUG),e}o(vge,"load");function yge(){try{return localStorage}catch{}}o(yge,"localstorage");VT.exports=wD()(ju);var{formatters:_ge}=VT.exports;_ge.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}});var jY=k((V$e,qY)=>{"use strict";qY.exports=(e,t=process.argv)=>{let r=e.startsWith("-")?"":e.length===1?"-":"--",n=t.indexOf(r+e),s=t.indexOf("--");return n!==-1&&(s===-1||n<s)}});var VY=k((G$e,$Y)=>{"use strict";var xge=require("os"),HY=require("tty"),vf=jY(),{env:Ll}=process,F5;vf("no-color")||vf("no-colors")||vf("color=false")||vf("color=never")?F5=0:(vf("color")||vf("colors")||vf("color=true")||vf("color=always"))&&(F5=1);"FORCE_COLOR"in Ll&&(Ll.FORCE_COLOR==="true"?F5=1:Ll.FORCE_COLOR==="false"?F5=0:F5=Ll.FORCE_COLOR.length===0?1:Math.min(parseInt(Ll.FORCE_COLOR,10),3));function RD(e){return e===0?!1:{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}o(RD,"translateLevel");function PD(e,t){if(F5===0)return 0;if(vf("color=16m")||vf("color=full")||vf("color=truecolor"))return 3;if(vf("color=256"))return 2;if(e&&!t&&F5===void 0)return 0;let r=F5||0;if(Ll.TERM==="dumb")return r;if(process.platform==="win32"){let n=xge.release().split(".");return Number(n[0])>=10&&Number(n[2])>=10586?Number(n[2])>=14931?3:2:1}if("CI"in Ll)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(n=>n in Ll)||Ll.CI_NAME==="codeship"?1:r;if("TEAMCITY_VERSION"in Ll)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(Ll.TEAMCITY_VERSION)?1:0;if(Ll.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in Ll){let n=parseInt((Ll.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(Ll.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(Ll.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(Ll.TERM)||"COLORTERM"in Ll?1:r}o(PD,"supportsColor");function bge(e){let t=PD(e,e&&e.isTTY);return RD(t)}o(bge,"getSupportLevel");$Y.exports={supportsColor:bge,stdout:RD(PD(!0,HY.isatty(1))),stderr:RD(PD(!0,HY.isatty(2)))}});var zY=k((ac,zT)=>{var Ege=require("tty"),GT=require("util");ac.init=Rge;ac.log=Ige;ac.formatArgs=Cge;ac.save=Age;ac.load=wge;ac.useColors=Tge;ac.destroy=GT.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");ac.colors=[6,2,3,4,5,1];try{let e=VY();e&&(e.stderr||e).level>=2&&(ac.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}ac.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{let r=t.substring(6).toLowerCase().replace(/_([a-z])/g,(s,a)=>a.toUpperCase()),n=process.env[t];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),e[r]=n,e},{});function Tge(){return"colors"in ac.inspectOpts?!!ac.inspectOpts.colors:Ege.isatty(process.stderr.fd)}o(Tge,"useColors");function Cge(e){let{namespace:t,useColors:r}=this;if(r){let n=this.color,s="\x1B[3"+(n<8?n:"8;5;"+n),a=`  ${s};1m${t} \x1B[0m`;e[0]=a+e[0].split(`
`).join(`
`+a),e.push(s+"m+"+zT.exports.humanize(this.diff)+"\x1B[0m")}else e[0]=Sge()+t+" "+e[0]}o(Cge,"formatArgs");function Sge(){return ac.inspectOpts.hideDate?"":new Date().toISOString()+" "}o(Sge,"getDate");function Ige(...e){return process.stderr.write(GT.format(...e)+`
`)}o(Ige,"log");function Age(e){e?process.env.DEBUG=e:delete process.env.DEBUG}o(Age,"save");function wge(){return process.env.DEBUG}o(wge,"load");function Rge(e){e.inspectOpts={};let t=Object.keys(ac.inspectOpts);for(let r=0;r<t.length;r++)e.inspectOpts[t[r]]=ac.inspectOpts[t[r]]}o(Rge,"init");zT.exports=wD()(ac);var{formatters:GY}=zT.exports;GY.o=function(e){return this.inspectOpts.colors=this.useColors,GT.inspect(e,this.inspectOpts).split(`
`).map(t=>t.trim()).join(" ")};GY.O=function(e){return this.inspectOpts.colors=this.useColors,GT.inspect(e,this.inspectOpts)}});var bd=k((W$e,ND)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?ND.exports=UY():ND.exports=zY()});var UD=k((Y$e,XY)=>{var o7=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,Pge=typeof AbortController=="function",c7,KT=Pge?AbortController:(c7=class{constructor(){this.signal=new KY}abort(){this.signal.dispatchEvent("abort")}},o(c7,"AbortController"),c7),Nge=typeof AbortSignal=="function",Oge=typeof KT.AbortSignal=="function",u7,KY=Nge?AbortSignal:Oge?KT.AbortController:(u7=class{constructor(){this.aborted=!1,this._listeners=[]}dispatchEvent(t){if(t==="abort"){this.aborted=!0;let r={type:t,target:this};this.onabort(r),this._listeners.forEach(n=>n(r),this)}}onabort(){}addEventListener(t,r){t==="abort"&&this._listeners.push(r)}removeEventListener(t,r){t==="abort"&&(this._listeners=this._listeners.filter(n=>n!==r))}},o(u7,"AbortSignal"),u7),kD=new Set,OD=o((e,t)=>{let r=`LRU_CACHE_OPTION_${e}`;WT(r)&&MD(r,`${e} option`,`options.${t}`,rv)},"deprecatedOption"),DD=o((e,t)=>{let r=`LRU_CACHE_METHOD_${e}`;if(WT(r)){let{prototype:n}=rv,{get:s}=Object.getOwnPropertyDescriptor(n,e);MD(r,`${e} method`,`cache.${t}()`,s)}},"deprecatedMethod"),Dge=o((e,t)=>{let r=`LRU_CACHE_PROPERTY_${e}`;if(WT(r)){let{prototype:n}=rv,{get:s}=Object.getOwnPropertyDescriptor(n,e);MD(r,`${e} property`,`cache.${t}`,s)}},"deprecatedProperty"),WY=o((...e)=>{typeof process=="object"&&process&&typeof process.emitWarning=="function"?process.emitWarning(...e):console.error(...e)},"emitWarning"),WT=o(e=>!kD.has(e),"shouldWarn"),MD=o((e,t,r,n)=>{kD.add(e);let s=`The ${t} is deprecated. Please use ${r} instead.`;WY(s,"DeprecationWarning",e,n)},"warn"),vm=o(e=>e&&e===Math.floor(e)&&e>0&&isFinite(e),"isPosInt"),YY=o(e=>vm(e)?e<=Math.pow(2,8)?Uint8Array:e<=Math.pow(2,16)?Uint16Array:e<=Math.pow(2,32)?Uint32Array:e<=Number.MAX_SAFE_INTEGER?tv:null:null,"getUintArray"),BD=class BD extends Array{constructor(t){super(t),this.fill(0)}};o(BD,"ZeroArray");var tv=BD,FD=class FD{constructor(t){if(t===0)return[];let r=YY(t);this.heap=new r(t),this.length=0}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}};o(FD,"Stack");var LD=FD,l7=class l7{constructor(t={}){let{max:r=0,ttl:n,ttlResolution:s=1,ttlAutopurge:a,updateAgeOnGet:l,updateAgeOnHas:c,allowStale:u,dispose:f,disposeAfter:d,noDisposeOnSet:p,noUpdateTTL:h,maxSize:m=0,sizeCalculation:v,fetchMethod:_,fetchContext:b,noDeleteOnFetchRejection:S,noDeleteOnStaleGet:A}=t,{length:O,maxAge:L,stale:D}=t instanceof l7?{}:t;if(r!==0&&!vm(r))throw new TypeError("max option must be a nonnegative integer");let $=r?YY(r):Array;if(!$)throw new Error("invalid max value: "+r);if(this.max=r,this.maxSize=m,this.sizeCalculation=v||O,this.sizeCalculation){if(!this.maxSize)throw new TypeError("cannot set sizeCalculation without setting maxSize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(this.fetchMethod=_||null,this.fetchMethod&&typeof this.fetchMethod!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.fetchContext=b,!this.fetchMethod&&b!==void 0)throw new TypeError("cannot set fetchContext without fetchMethod");if(this.keyMap=new Map,this.keyList=new Array(r).fill(null),this.valList=new Array(r).fill(null),this.next=new $(r),this.prev=new $(r),this.head=0,this.tail=0,this.free=new LD(r),this.initialFill=1,this.size=0,typeof f=="function"&&(this.dispose=f),typeof d=="function"?(this.disposeAfter=d,this.disposed=[]):(this.disposeAfter=null,this.disposed=null),this.noDisposeOnSet=!!p,this.noUpdateTTL=!!h,this.noDeleteOnFetchRejection=!!S,this.maxSize!==0){if(!vm(this.maxSize))throw new TypeError("maxSize must be a positive integer if specified");this.initializeSizeTracking()}if(this.allowStale=!!u||!!D,this.noDeleteOnStaleGet=!!A,this.updateAgeOnGet=!!l,this.updateAgeOnHas=!!c,this.ttlResolution=vm(s)||s===0?s:1,this.ttlAutopurge=!!a,this.ttl=n||L||0,this.ttl){if(!vm(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.initializeTTLTracking()}if(this.max===0&&this.ttl===0&&this.maxSize===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.max&&!this.maxSize){let de="LRU_CACHE_UNBOUNDED";WT(de)&&(kD.add(de),WY("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",de,l7))}D&&OD("stale","allowStale"),L&&OD("maxAge","ttl"),O&&OD("length","sizeCalculation")}getRemainingTTL(t){return this.has(t,{updateAgeOnHas:!1})?1/0:0}initializeTTLTracking(){this.ttls=new tv(this.max),this.starts=new tv(this.max),this.setItemTTL=(n,s,a=o7.now())=>{if(this.starts[n]=s!==0?a:0,this.ttls[n]=s,s!==0&&this.ttlAutopurge){let l=setTimeout(()=>{this.isStale(n)&&this.delete(this.keyList[n])},s+1);l.unref&&l.unref()}},this.updateItemAge=n=>{this.starts[n]=this.ttls[n]!==0?o7.now():0};let t=0,r=o(()=>{let n=o7.now();if(this.ttlResolution>0){t=n;let s=setTimeout(()=>t=0,this.ttlResolution);s.unref&&s.unref()}return n},"getNow");this.getRemainingTTL=n=>{let s=this.keyMap.get(n);return s===void 0?0:this.ttls[s]===0||this.starts[s]===0?1/0:this.starts[s]+this.ttls[s]-(t||r())},this.isStale=n=>this.ttls[n]!==0&&this.starts[n]!==0&&(t||r())-this.starts[n]>this.ttls[n]}updateItemAge(t){}setItemTTL(t,r,n){}isStale(t){return!1}initializeSizeTracking(){this.calculatedSize=0,this.sizes=new tv(this.max),this.removeItemSize=t=>{this.calculatedSize-=this.sizes[t],this.sizes[t]=0},this.requireSize=(t,r,n,s)=>{if(!vm(n))if(s){if(typeof s!="function")throw new TypeError("sizeCalculation must be a function");if(n=s(r,t),!vm(n))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer)");return n},this.addItemSize=(t,r)=>{this.sizes[t]=r;let n=this.maxSize-this.sizes[t];for(;this.calculatedSize>n;)this.evict(!0);this.calculatedSize+=this.sizes[t]}}removeItemSize(t){}addItemSize(t,r){}requireSize(t,r,n,s){if(n||s)throw new TypeError("cannot set size without setting maxSize on cache")}*indexes({allowStale:t=this.allowStale}={}){if(this.size)for(let r=this.tail;!(!this.isValidIndex(r)||((t||!this.isStale(r))&&(yield r),r===this.head));)r=this.prev[r]}*rindexes({allowStale:t=this.allowStale}={}){if(this.size)for(let r=this.head;!(!this.isValidIndex(r)||((t||!this.isStale(r))&&(yield r),r===this.tail));)r=this.next[r]}isValidIndex(t){return this.keyMap.get(this.keyList[t])===t}*entries(){for(let t of this.indexes())yield[this.keyList[t],this.valList[t]]}*rentries(){for(let t of this.rindexes())yield[this.keyList[t],this.valList[t]]}*keys(){for(let t of this.indexes())yield this.keyList[t]}*rkeys(){for(let t of this.rindexes())yield this.keyList[t]}*values(){for(let t of this.indexes())yield this.valList[t]}*rvalues(){for(let t of this.rindexes())yield this.valList[t]}[Symbol.iterator](){return this.entries()}find(t,r={}){for(let n of this.indexes())if(t(this.valList[n],this.keyList[n],this))return this.get(this.keyList[n],r)}forEach(t,r=this){for(let n of this.indexes())t.call(r,this.valList[n],this.keyList[n],this)}rforEach(t,r=this){for(let n of this.rindexes())t.call(r,this.valList[n],this.keyList[n],this)}get prune(){return DD("prune","purgeStale"),this.purgeStale}purgeStale(){let t=!1;for(let r of this.rindexes({allowStale:!0}))this.isStale(r)&&(this.delete(this.keyList[r]),t=!0);return t}dump(){let t=[];for(let r of this.indexes({allowStale:!0})){let n=this.keyList[r],s=this.valList[r],l={value:this.isBackgroundFetch(s)?s.__staleWhileFetching:s};if(this.ttls){l.ttl=this.ttls[r];let c=o7.now()-this.starts[r];l.start=Math.floor(Date.now()-c)}this.sizes&&(l.size=this.sizes[r]),t.unshift([n,l])}return t}load(t){this.clear();for(let[r,n]of t){if(n.start){let s=Date.now()-n.start;n.start=o7.now()-s}this.set(r,n.value,n)}}dispose(t,r,n){}set(t,r,{ttl:n=this.ttl,start:s,noDisposeOnSet:a=this.noDisposeOnSet,size:l=0,sizeCalculation:c=this.sizeCalculation,noUpdateTTL:u=this.noUpdateTTL}={}){if(l=this.requireSize(t,r,l,c),this.maxSize&&l>this.maxSize)return this;let f=this.size===0?void 0:this.keyMap.get(t);if(f===void 0)f=this.newIndex(),this.keyList[f]=t,this.valList[f]=r,this.keyMap.set(t,f),this.next[this.tail]=f,this.prev[f]=this.tail,this.tail=f,this.size++,this.addItemSize(f,l),u=!1;else{let d=this.valList[f];r!==d&&(this.isBackgroundFetch(d)?d.__abortController.abort():a||(this.dispose(d,t,"set"),this.disposeAfter&&this.disposed.push([d,t,"set"])),this.removeItemSize(f),this.valList[f]=r,this.addItemSize(f,l)),this.moveToTail(f)}if(n!==0&&this.ttl===0&&!this.ttls&&this.initializeTTLTracking(),u||this.setItemTTL(f,n,s),this.disposeAfter)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return this}newIndex(){return this.size===0?this.tail:this.size===this.max&&this.max!==0?this.evict(!1):this.free.length!==0?this.free.pop():this.initialFill++}pop(){if(this.size){let t=this.valList[this.head];return this.evict(!0),t}}evict(t){let r=this.head,n=this.keyList[r],s=this.valList[r];return this.isBackgroundFetch(s)?s.__abortController.abort():(this.dispose(s,n,"evict"),this.disposeAfter&&this.disposed.push([s,n,"evict"])),this.removeItemSize(r),t&&(this.keyList[r]=null,this.valList[r]=null,this.free.push(r)),this.head=this.next[r],this.keyMap.delete(n),this.size--,r}has(t,{updateAgeOnHas:r=this.updateAgeOnHas}={}){let n=this.keyMap.get(t);return n!==void 0&&!this.isStale(n)?(r&&this.updateItemAge(n),!0):!1}peek(t,{allowStale:r=this.allowStale}={}){let n=this.keyMap.get(t);if(n!==void 0&&(r||!this.isStale(n))){let s=this.valList[n];return this.isBackgroundFetch(s)?s.__staleWhileFetching:s}}backgroundFetch(t,r,n,s){let a=r===void 0?void 0:this.valList[r];if(this.isBackgroundFetch(a))return a;let l=new KT,c={signal:l.signal,options:n,context:s},u=o(h=>(l.signal.aborted||this.set(t,h,c.options),h),"cb"),f=o(h=>{if(this.valList[r]===p&&(!n.noDeleteOnFetchRejection||p.__staleWhileFetching===void 0?this.delete(t):this.valList[r]=p.__staleWhileFetching),p.__returned===p)throw h},"eb"),d=o(h=>h(this.fetchMethod(t,a,c)),"pcall"),p=new Promise(d).then(u,f);return p.__abortController=l,p.__staleWhileFetching=a,p.__returned=null,r===void 0?(this.set(t,p,c.options),r=this.keyMap.get(t)):this.valList[r]=p,p}isBackgroundFetch(t){return t&&typeof t=="object"&&typeof t.then=="function"&&Object.prototype.hasOwnProperty.call(t,"__staleWhileFetching")&&Object.prototype.hasOwnProperty.call(t,"__returned")&&(t.__returned===t||t.__returned===null)}async fetch(t,{allowStale:r=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:s=this.noDeleteOnStaleGet,ttl:a=this.ttl,noDisposeOnSet:l=this.noDisposeOnSet,size:c=0,sizeCalculation:u=this.sizeCalculation,noUpdateTTL:f=this.noUpdateTTL,noDeleteOnFetchRejection:d=this.noDeleteOnFetchRejection,fetchContext:p=this.fetchContext,forceRefresh:h=!1}={}){if(!this.fetchMethod)return this.get(t,{allowStale:r,updateAgeOnGet:n,noDeleteOnStaleGet:s});let m={allowStale:r,updateAgeOnGet:n,noDeleteOnStaleGet:s,ttl:a,noDisposeOnSet:l,size:c,sizeCalculation:u,noUpdateTTL:f,noDeleteOnFetchRejection:d},v=this.keyMap.get(t);if(v===void 0){let _=this.backgroundFetch(t,v,m,p);return _.__returned=_}else{let _=this.valList[v];if(this.isBackgroundFetch(_))return r&&_.__staleWhileFetching!==void 0?_.__staleWhileFetching:_.__returned=_;if(!h&&!this.isStale(v))return this.moveToTail(v),n&&this.updateItemAge(v),_;let b=this.backgroundFetch(t,v,m,p);return r&&b.__staleWhileFetching!==void 0?b.__staleWhileFetching:b.__returned=b}}get(t,{allowStale:r=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:s=this.noDeleteOnStaleGet}={}){let a=this.keyMap.get(t);if(a!==void 0){let l=this.valList[a],c=this.isBackgroundFetch(l);return this.isStale(a)?c?r?l.__staleWhileFetching:void 0:(s||this.delete(t),r?l:void 0):c?void 0:(this.moveToTail(a),n&&this.updateItemAge(a),l)}}connect(t,r){this.prev[r]=t,this.next[t]=r}moveToTail(t){t!==this.tail&&(t===this.head?this.head=this.next[t]:this.connect(this.prev[t],this.next[t]),this.connect(this.tail,t),this.tail=t)}get del(){return DD("del","delete"),this.delete}delete(t){let r=!1;if(this.size!==0){let n=this.keyMap.get(t);if(n!==void 0)if(r=!0,this.size===1)this.clear();else{this.removeItemSize(n);let s=this.valList[n];this.isBackgroundFetch(s)?s.__abortController.abort():(this.dispose(s,t,"delete"),this.disposeAfter&&this.disposed.push([s,t,"delete"])),this.keyMap.delete(t),this.keyList[n]=null,this.valList[n]=null,n===this.tail?this.tail=this.prev[n]:n===this.head?this.head=this.next[n]:(this.next[this.prev[n]]=this.next[n],this.prev[this.next[n]]=this.prev[n]),this.size--,this.free.push(n)}}if(this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return r}clear(){for(let t of this.rindexes({allowStale:!0})){let r=this.valList[t];if(this.isBackgroundFetch(r))r.__abortController.abort();else{let n=this.keyList[t];this.dispose(r,n,"delete"),this.disposeAfter&&this.disposed.push([r,n,"delete"])}}if(this.keyMap.clear(),this.valList.fill(null),this.keyList.fill(null),this.ttls&&(this.ttls.fill(0),this.starts.fill(0)),this.sizes&&this.sizes.fill(0),this.head=0,this.tail=0,this.initialFill=1,this.free.length=0,this.calculatedSize=0,this.size=0,this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift())}get reset(){return DD("reset","clear"),this.clear}get length(){return Dge("length","size"),this.size}static get AbortController(){return KT}static get AbortSignal(){return KY}};o(l7,"LRUCache");var rv=l7;XY.exports=rv});var GD=k((Q$e,QY)=>{"use strict";var HD=class HD extends Error{constructor(t,r,n){super(t),this.type=r,this._name=n}get name(){return this._name}get[Symbol.toStringTag](){return this._name}};o(HD,"FetchBaseError");var f7=HD,$D=class $D extends f7{constructor(t,r,n){super(t,r,"FetchError"),n&&(this.code=n.code,this.errno=n.errno,this.erroredSysCall=n.syscall)}};o($D,"FetchError");var qD=$D,VD=class VD extends f7{constructor(t,r="aborted"){super(t,r,"AbortError")}};o(VD,"AbortError");var jD=VD;QY.exports={FetchBaseError:f7,FetchError:qD,AbortError:jD}});var Jp=k((Z$e,ZY)=>{"use strict";var{constants:{MAX_LENGTH:Lge}}=require("buffer"),{pipeline:YT,PassThrough:kge}=require("stream"),{promisify:Mge}=require("util"),{createGunzip:Bge,createInflate:Fge,createBrotliDecompress:Uge,constants:{Z_SYNC_FLUSH:JY}}=require("zlib"),qge=bd()("helix-fetch:utils"),jge=Mge(YT),Hge=o((e,t)=>e===204||e===304||+t["content-length"]==0?!1:/^\s*(?:(x-)?deflate|(x-)?gzip|br)\s*$/.test(t["content-encoding"]),"canDecode"),$ge=o((e,t,r,n)=>{if(!Hge(e,t))return r;let s=o(a=>{a&&(qge(`encountered error while decoding stream: ${a}`),n(a))},"cb");switch(t["content-encoding"].trim()){case"gzip":case"x-gzip":return YT(r,Bge({flush:JY,finishFlush:JY}),s);case"deflate":case"x-deflate":return YT(r,Fge(),s);case"br":return YT(r,Uge(),s);default:return r}},"decodeStream"),Vge=o(e=>{if(!e||typeof e!="object"||Object.prototype.toString.call(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t},"isPlainObject"),XT=o((e,t)=>{if(Buffer.isBuffer(e))return e.length;switch(typeof e){case"string":return e.length*2;case"boolean":return 4;case"number":return 8;case"symbol":return Symbol.keyFor(e)?Symbol.keyFor(e).length*2:(e.toString().length-8)*2;case"object":return Array.isArray(e)?Gge(e,t):zge(e,t);default:return 0}},"calcSize"),Gge=o((e,t)=>(t.add(e),e.map(r=>t.has(r)?0:XT(r,t)).reduce((r,n)=>r+n,0)),"calcArraySize"),zge=o((e,t)=>{if(e==null)return 0;t.add(e);let r=0,n=[];for(let s in e)n.push(s);return n.push(...Object.getOwnPropertySymbols(e)),n.forEach(s=>{if(r+=XT(s,t),typeof e[s]=="object"&&e[s]!==null){if(t.has(e[s]))return;t.add(e[s])}r+=XT(e[s],t)}),r},"calcObjectSize"),Kge=o(e=>XT(e,new WeakSet),"sizeof"),Wge=o(async e=>{let t=new kge,r=0,n=[];return t.on("data",s=>{if(r+s.length>Lge)throw new Error("Buffer.constants.MAX_SIZE exceeded");n.push(s),r+=s.length}),await jge(e,t),Buffer.concat(n,r)},"streamToBuffer");ZY.exports={decodeStream:$ge,isPlainObject:Vge,sizeof:Kge,streamToBuffer:Wge}});var JT=k((tVe,nX)=>{"use strict";var{PassThrough:eX,Readable:Zp}=require("stream"),{types:{isAnyArrayBuffer:rX}}=require("util"),{FetchError:Yge,FetchBaseError:Xge}=GD(),{streamToBuffer:Qge}=Jp(),Jge=Buffer.alloc(0),yf=Symbol("Body internals"),Zge=o(e=>e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength),"toArrayBuffer"),tX=o(async e=>{if(e[yf].disturbed)throw new TypeError("Already read");if(e[yf].error)throw new TypeError(`Stream had error: ${e[yf].error.message}`);e[yf].disturbed=!0;let{stream:t}=e[yf];return t===null?Jge:Qge(t)},"consume"),zD=class zD{constructor(t){let r;t==null?r=null:t instanceof URLSearchParams?r=Zp.from(t.toString()):t instanceof Zp?r=t:Buffer.isBuffer(t)?r=Zp.from(t):rX(t)?r=Zp.from(Buffer.from(t)):typeof t=="string"||t instanceof String?r=Zp.from(t):r=Zp.from(String(t)),this[yf]={stream:r,disturbed:!1,error:null},t instanceof Zp&&r.on("error",n=>{let s=n instanceof Xge?n:new Yge(`Invalid response body while trying to fetch ${this.url}: ${n.message}`,"system",n);this[yf].error=s})}get body(){return this[yf].stream}get bodyUsed(){return this[yf].disturbed}async buffer(){return tX(this)}async arrayBuffer(){return Zge(await this.buffer())}async text(){return(await tX(this)).toString()}async json(){return JSON.parse(await this.text())}};o(zD,"Body");var QT=zD;Object.defineProperties(QT.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0}});var e4e=o(e=>{if(e[yf].disturbed)throw new TypeError("Cannot clone: already read");let{stream:t}=e[yf],r=t;if(t instanceof Zp){r=new eX;let n=new eX;t.pipe(r),t.pipe(n),e[yf].stream=n}return r},"cloneStream"),t4e=o(e=>e===null?null:typeof e=="string"?"text/plain; charset=utf-8":e instanceof URLSearchParams?"application/x-www-form-urlencoded; charset=utf-8":Buffer.isBuffer(e)||rX(e)||e instanceof Zp?null:"text/plain; charset=utf-8","guessContentType");nX.exports={Body:QT,cloneStream:e4e,guessContentType:t4e}});var nv=k((nVe,oX)=>{"use strict";var{validateHeaderName:iX,validateHeaderValue:sX}=require("http"),{isPlainObject:r4e}=Jp(),eh=Symbol("Headers internals"),d7=o(e=>{let t=typeof e!="string"?String(e):e;if(typeof iX=="function")iX(t);else if(!/^[\^`\-\w!#$%&'*+.|~]+$/.test(t)){let r=new TypeError(`Header name must be a valid HTTP token [${t}]`);throw Object.defineProperty(r,"code",{value:"ERR_INVALID_HTTP_TOKEN"}),r}return t.toLowerCase()},"normalizeName"),aX=o((e,t)=>{let r=typeof e!="string"?String(e):e;if(typeof sX=="function")sX(t,r);else if(/[^\t\u0020-\u007E\u0080-\u00FF]/.test(r)){let n=new TypeError(`Invalid character in header content ["${t}"]`);throw Object.defineProperty(n,"code",{value:"ERR_INVALID_CHAR"}),n}return r},"normalizeValue"),eC=class eC{constructor(t={}){if(this[eh]={map:new Map},t instanceof eC)t.forEach((r,n)=>{this.append(n,r)});else if(Array.isArray(t))t.forEach(([r,n])=>{this.append(r,n)});else if(r4e(t))for(let[r,n]of Object.entries(t))this.append(r,n)}set(t,r){this[eh].map.set(d7(t),aX(r,t))}has(t){return this[eh].map.has(d7(t))}get(t){let r=this[eh].map.get(d7(t));return r===void 0?null:r}append(t,r){let n=d7(t),s=aX(r,t),a=this[eh].map.get(n);this[eh].map.set(n,a?`${a}, ${s}`:s)}delete(t){this[eh].map.delete(d7(t))}forEach(t,r){for(let n of this.keys())t.call(r,this.get(n),n)}keys(){return Array.from(this[eh].map.keys()).sort()}*values(){for(let t of this.keys())yield this.get(t)}*entries(){for(let t of this.keys())yield[t,this.get(t)]}[Symbol.iterator](){return this.entries()}get[Symbol.toStringTag](){return this.constructor.name}plain(){return Object.fromEntries(this[eh].map)}};o(eC,"Headers");var ZT=eC;Object.defineProperties(ZT.prototype,["append","delete","entries","forEach","get","has","keys","set","values"].reduce((e,t)=>(e[t]={enumerable:!0},e),{}));oX.exports={Headers:ZT}});var XD=k((sVe,lX)=>{"use strict";var{EventEmitter:n4e}=require("events"),Ed=Symbol("AbortSignal internals"),KD=class KD{constructor(){this[Ed]={eventEmitter:new n4e,onabort:null,aborted:!1}}get aborted(){return this[Ed].aborted}get onabort(){return this[Ed].onabort}set onabort(t){this[Ed].onabort=t}get[Symbol.toStringTag](){return this.constructor.name}removeEventListener(t,r){this[Ed].eventEmitter.removeListener(t,r)}addEventListener(t,r){this[Ed].eventEmitter.on(t,r)}dispatchEvent(t){let r={type:t,target:this},n=`on${t}`;typeof this[Ed][n]=="function"&&this[n](r),this[Ed].eventEmitter.emit(t,r)}fire(){this[Ed].aborted=!0,this.dispatchEvent("abort")}};o(KD,"AbortSignal");var iv=KD;Object.defineProperties(iv.prototype,{addEventListener:{enumerable:!0},removeEventListener:{enumerable:!0},dispatchEvent:{enumerable:!0},aborted:{enumerable:!0},onabort:{enumerable:!0}});var WD=class WD extends iv{constructor(t){if(!Number.isInteger(t))throw new TypeError(`Expected an integer, got ${typeof t}`);super(),this[Ed].timerId=setTimeout(()=>{this.fire()},t)}clear(){clearTimeout(this[Ed].timerId)}};o(WD,"TimeoutSignal");var rC=WD;Object.defineProperties(rC.prototype,{clear:{enumerable:!0}});var tC=Symbol("AbortController internals"),YD=class YD{constructor(){this[tC]={signal:new iv}}get signal(){return this[tC].signal}get[Symbol.toStringTag](){return this.constructor.name}abort(){this[tC].signal.aborted||this[tC].signal.fire()}};o(YD,"AbortController");var nC=YD;Object.defineProperties(nC.prototype,{signal:{enumerable:!0},abort:{enumerable:!0}});lX.exports={AbortController:nC,AbortSignal:iv,TimeoutSignal:rC}});var p7=k((oVe,fX)=>{"use strict";var{randomBytes:i4e}=require("crypto"),{Readable:s4e}=require("stream"),JD=o(e=>typeof e=="object"&&["arrayBuffer","stream","text","slice","constructor"].map(t=>typeof e[t]).filter(t=>t!=="function").length===0&&typeof e.type=="string"&&typeof e.size=="number"&&/^(Blob|File)$/.test(e[Symbol.toStringTag]),"isBlob"),a4e=o(e=>e!=null&&typeof e=="object"&&["append","delete","get","getAll","has","set","keys","values","entries","constructor"].map(t=>typeof e[t]).filter(t=>t!=="function").length===0&&e[Symbol.toStringTag]==="FormData","isFormData"),cX=o(e=>`--${e}--\r
\r
`,"getFooter"),uX=o((e,t,r)=>{let n="";return n+=`--${e}\r
`,n+=`Content-Disposition: form-data; name="${t}"`,JD(r)&&(n+=`; filename="${r.name}"\r
`,n+=`Content-Type: ${r.type||"application/octet-stream"}`),`${n}\r
\r
`},"getHeader");async function*o4e(e,t){for(let[r,n]of e)yield uX(t,r,n),JD(n)?yield*n.stream():yield n,yield`\r
`;yield cX(t)}o(o4e,"formDataIterator");var l4e=o((e,t)=>{let r=0;for(let[n,s]of e)r+=Buffer.byteLength(uX(t,n,s)),r+=JD(s)?s.size:Buffer.byteLength(String(s)),r+=Buffer.byteLength(`\r
`);return r+=Buffer.byteLength(cX(t)),r},"getFormDataLength"),ZD=class ZD{constructor(t){this.fd=t,this.boundary=i4e(8).toString("hex")}length(){return typeof this._length>"u"&&(this._length=l4e(this.fd,this.boundary)),this._length}contentType(){return`multipart/form-data; boundary=${this.boundary}`}stream(){return s4e.from(o4e(this.fd,this.boundary))}};o(ZD,"FormDataSerializer");var QD=ZD;fX.exports={isFormData:a4e,FormDataSerializer:QD}});var pX=k((cVe,dX)=>{"use strict";var{AbortSignal:c4e}=XD(),{Body:u4e,cloneStream:f4e,guessContentType:d4e}=JT(),{Headers:p4e}=nv(),{isPlainObject:h4e}=Jp(),{isFormData:m4e,FormDataSerializer:g4e}=p7(),v4e=20,U5=Symbol("Request internals"),h7=class h7 extends u4e{constructor(t,r={}){let n=t instanceof h7?t:null,s=n?new URL(n.url):new URL(t),a=r.method||n&&n.method||"GET";if(a=a.toUpperCase(),(r.body!=null||n&&n.body!==null)&&["GET","HEAD"].includes(a))throw new TypeError("Request with GET/HEAD method cannot have body");let l=r.body||(n&&n.body?f4e(n):null),c=new p4e(r.headers||n&&n.headers||{});if(m4e(l)&&!c.has("content-type")){let p=new g4e(l);l=p.stream(),c.set("content-type",p.contentType()),!c.has("transfer-encoding")&&!c.has("content-length")&&c.set("content-length",p.length())}if(!c.has("content-type"))if(h4e(l))l=JSON.stringify(l),c.set("content-type","application/json");else{let p=d4e(l);p&&c.set("content-type",p)}super(l);let u=n?n.signal:null;if("signal"in r&&(u=r.signal),u&&!(u instanceof c4e))throw new TypeError("signal needs to be an instance of AbortSignal");let f=r.redirect||n&&n.redirect||"follow";if(!["follow","error","manual"].includes(f))throw new TypeError(`'${f}' is not a valid redirect option`);let d=r.cache||n&&n.cache||"default";if(!["default","no-store","reload","no-cache","force-cache","only-if-cached"].includes(d))throw new TypeError(`'${d}' is not a valid cache option`);this[U5]={init:{...r},method:a,redirect:f,cache:d,headers:c,parsedURL:s,signal:u},r.follow===void 0?!n||n.follow===void 0?this.follow=v4e:this.follow=n.follow:this.follow=r.follow,this.counter=r.counter||n&&n.counter||0,r.compress===void 0?!n||n.compress===void 0?this.compress=!0:this.compress=n.compress:this.compress=r.compress,r.decode===void 0?!n||n.decode===void 0?this.decode=!0:this.decode=n.decode:this.decode=r.decode}get method(){return this[U5].method}get url(){return this[U5].parsedURL.toString()}get headers(){return this[U5].headers}get redirect(){return this[U5].redirect}get cache(){return this[U5].cache}get signal(){return this[U5].signal}clone(){return new h7(this)}get init(){return this[U5].init}get[Symbol.toStringTag](){return this.constructor.name}};o(h7,"Request");var iC=h7;Object.defineProperties(iC.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},cache:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0}});dX.exports={Request:iC}});var eL=k((fVe,hX)=>{"use strict";var{Body:y4e,cloneStream:_4e,guessContentType:x4e}=JT(),{Headers:b4e}=nv(),{isPlainObject:E4e}=Jp(),{isFormData:T4e,FormDataSerializer:C4e}=p7(),Td=Symbol("Response internals"),m7=class m7 extends y4e{constructor(t=null,r={}){let n=new b4e(r.headers),s=t;if(T4e(s)&&!n.has("content-type")){let a=new C4e(s);s=a.stream(),n.set("content-type",a.contentType()),!n.has("transfer-encoding")&&!n.has("content-length")&&n.set("content-length",a.length())}if(s!==null&&!n.has("content-type"))if(E4e(s))s=JSON.stringify(s),n.set("content-type","application/json");else{let a=x4e(s);a&&n.set("content-type",a)}super(s),this[Td]={url:r.url,status:r.status||200,statusText:r.statusText||"",headers:n,httpVersion:r.httpVersion,decoded:r.decoded,counter:r.counter}}get url(){return this[Td].url||""}get status(){return this[Td].status}get statusText(){return this[Td].statusText}get ok(){return this[Td].status>=200&&this[Td].status<300}get redirected(){return this[Td].counter>0}get headers(){return this[Td].headers}get httpVersion(){return this[Td].httpVersion}get decoded(){return this[Td].decoded}static redirect(t,r=302){if(![301,302,303,307,308].includes(r))throw new RangeError("Invalid status code");return new m7(null,{headers:{location:new URL(t).toString()},status:r})}clone(){if(this.bodyUsed)throw new TypeError("Cannot clone: already read");return new m7(_4e(this),{...this[Td]})}get[Symbol.toStringTag](){return this.constructor.name}};o(m7,"Response");var sC=m7;Object.defineProperties(sC.prototype,{url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});hX.exports={Response:sC}});var gX=k((pVe,mX)=>{"use strict";var S4e=new Set([200,203,204,206,300,301,308,404,405,410,414,501]),I4e=new Set([200,203,204,300,301,302,303,307,308,404,405,410,414,501]),A4e=new Set([500,502,503,504]),w4e={date:!0,connection:!0,"keep-alive":!0,"proxy-authenticate":!0,"proxy-authorization":!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0},R4e={"content-length":!0,"content-encoding":!0,"transfer-encoding":!0,"content-range":!0};function ym(e){let t=parseInt(e,10);return isFinite(t)?t:0}o(ym,"toNumberOrZero");function P4e(e){return e?A4e.has(e.status):!0}o(P4e,"isErrorResponse");function tL(e){let t={};if(!e)return t;let r=e.trim().split(/,/);for(let n of r){let[s,a]=n.split(/=/,2);t[s.trim()]=a===void 0?!0:a.trim().replace(/^"|"$/g,"")}return t}o(tL,"parseCacheControl");function N4e(e){let t=[];for(let r in e){let n=e[r];t.push(n===!0?r:r+"="+n)}if(t.length)return t.join(", ")}o(N4e,"formatCacheControl");var g7;mX.exports=(g7=class{constructor(t,r,{shared:n,cacheHeuristic:s,immutableMinTimeToLive:a,ignoreCargoCult:l,_fromObject:c}={}){if(c){this._fromObject(c);return}if(!r||!r.headers)throw Error("Response headers missing");this._assertRequestHasHeaders(t),this._responseTime=this.now(),this._isShared=n!==!1,this._cacheHeuristic=s!==void 0?s:.1,this._immutableMinTtl=a!==void 0?a:24*3600*1e3,this._status="status"in r?r.status:200,this._resHeaders=r.headers,this._rescc=tL(r.headers["cache-control"]),this._method="method"in t?t.method:"GET",this._url=t.url,this._host=t.headers.host,this._noAuthorization=!t.headers.authorization,this._reqHeaders=r.headers.vary?t.headers:null,this._reqcc=tL(t.headers["cache-control"]),l&&"pre-check"in this._rescc&&"post-check"in this._rescc&&(delete this._rescc["pre-check"],delete this._rescc["post-check"],delete this._rescc["no-cache"],delete this._rescc["no-store"],delete this._rescc["must-revalidate"],this._resHeaders=Object.assign({},this._resHeaders,{"cache-control":N4e(this._rescc)}),delete this._resHeaders.expires,delete this._resHeaders.pragma),r.headers["cache-control"]==null&&/no-cache/.test(r.headers.pragma)&&(this._rescc["no-cache"]=!0)}now(){return Date.now()}storable(){return!!(!this._reqcc["no-store"]&&(this._method==="GET"||this._method==="HEAD"||this._method==="POST"&&this._hasExplicitExpiration())&&I4e.has(this._status)&&!this._rescc["no-store"]&&(!this._isShared||!this._rescc.private)&&(!this._isShared||this._noAuthorization||this._allowsStoringAuthenticated())&&(this._resHeaders.expires||this._rescc["max-age"]||this._isShared&&this._rescc["s-maxage"]||this._rescc.public||S4e.has(this._status)))}_hasExplicitExpiration(){return this._isShared&&this._rescc["s-maxage"]||this._rescc["max-age"]||this._resHeaders.expires}_assertRequestHasHeaders(t){if(!t||!t.headers)throw Error("Request headers missing")}satisfiesWithoutRevalidation(t){this._assertRequestHasHeaders(t);let r=tL(t.headers["cache-control"]);return r["no-cache"]||/no-cache/.test(t.headers.pragma)||r["max-age"]&&this.age()>r["max-age"]||r["min-fresh"]&&this.timeToLive()<1e3*r["min-fresh"]||this.stale()&&!(r["max-stale"]&&!this._rescc["must-revalidate"]&&(r["max-stale"]===!0||r["max-stale"]>this.age()-this.maxAge()))?!1:this._requestMatches(t,!1)}_requestMatches(t,r){return(!this._url||this._url===t.url)&&this._host===t.headers.host&&(!t.method||this._method===t.method||r&&t.method==="HEAD")&&this._varyMatches(t)}_allowsStoringAuthenticated(){return this._rescc["must-revalidate"]||this._rescc.public||this._rescc["s-maxage"]}_varyMatches(t){if(!this._resHeaders.vary)return!0;if(this._resHeaders.vary==="*")return!1;let r=this._resHeaders.vary.trim().toLowerCase().split(/\s*,\s*/);for(let n of r)if(t.headers[n]!==this._reqHeaders[n])return!1;return!0}_copyWithoutHopByHopHeaders(t){let r={};for(let n in t)w4e[n]||(r[n]=t[n]);if(t.connection){let n=t.connection.trim().split(/\s*,\s*/);for(let s of n)delete r[s]}if(r.warning){let n=r.warning.split(/,/).filter(s=>!/^\s*1[0-9][0-9]/.test(s));n.length?r.warning=n.join(",").trim():delete r.warning}return r}responseHeaders(){let t=this._copyWithoutHopByHopHeaders(this._resHeaders),r=this.age();return r>3600*24&&!this._hasExplicitExpiration()&&this.maxAge()>3600*24&&(t.warning=(t.warning?`${t.warning}, `:"")+'113 - "rfc7234 5.5.4"'),t.age=`${Math.round(r)}`,t.date=new Date(this.now()).toUTCString(),t}date(){let t=Date.parse(this._resHeaders.date);return isFinite(t)?t:this._responseTime}age(){let t=this._ageValue(),r=(this.now()-this._responseTime)/1e3;return t+r}_ageValue(){return ym(this._resHeaders.age)}maxAge(){if(!this.storable()||this._rescc["no-cache"]||this._isShared&&this._resHeaders["set-cookie"]&&!this._rescc.public&&!this._rescc.immutable||this._resHeaders.vary==="*")return 0;if(this._isShared){if(this._rescc["proxy-revalidate"])return 0;if(this._rescc["s-maxage"])return ym(this._rescc["s-maxage"])}if(this._rescc["max-age"])return ym(this._rescc["max-age"]);let t=this._rescc.immutable?this._immutableMinTtl:0,r=this.date();if(this._resHeaders.expires){let n=Date.parse(this._resHeaders.expires);return Number.isNaN(n)||n<r?0:Math.max(t,(n-r)/1e3)}if(this._resHeaders["last-modified"]){let n=Date.parse(this._resHeaders["last-modified"]);if(isFinite(n)&&r>n)return Math.max(t,(r-n)/1e3*this._cacheHeuristic)}return t}timeToLive(){let t=this.maxAge()-this.age(),r=t+ym(this._rescc["stale-if-error"]),n=t+ym(this._rescc["stale-while-revalidate"]);return Math.max(0,t,r,n)*1e3}stale(){return this.maxAge()<=this.age()}_useStaleIfError(){return this.maxAge()+ym(this._rescc["stale-if-error"])>this.age()}useStaleWhileRevalidate(){return this.maxAge()+ym(this._rescc["stale-while-revalidate"])>this.age()}static fromObject(t){return new this(void 0,void 0,{_fromObject:t})}_fromObject(t){if(this._responseTime)throw Error("Reinitialized");if(!t||t.v!==1)throw Error("Invalid serialization");this._responseTime=t.t,this._isShared=t.sh,this._cacheHeuristic=t.ch,this._immutableMinTtl=t.imm!==void 0?t.imm:24*3600*1e3,this._status=t.st,this._resHeaders=t.resh,this._rescc=t.rescc,this._method=t.m,this._url=t.u,this._host=t.h,this._noAuthorization=t.a,this._reqHeaders=t.reqh,this._reqcc=t.reqcc}toObject(){return{v:1,t:this._responseTime,sh:this._isShared,ch:this._cacheHeuristic,imm:this._immutableMinTtl,st:this._status,resh:this._resHeaders,rescc:this._rescc,m:this._method,u:this._url,h:this._host,a:this._noAuthorization,reqh:this._reqHeaders,reqcc:this._reqcc}}revalidationHeaders(t){this._assertRequestHasHeaders(t);let r=this._copyWithoutHopByHopHeaders(t.headers);if(delete r["if-range"],!this._requestMatches(t,!0)||!this.storable())return delete r["if-none-match"],delete r["if-modified-since"],r;if(this._resHeaders.etag&&(r["if-none-match"]=r["if-none-match"]?`${r["if-none-match"]}, ${this._resHeaders.etag}`:this._resHeaders.etag),r["accept-ranges"]||r["if-match"]||r["if-unmodified-since"]||this._method&&this._method!="GET"){if(delete r["if-modified-since"],r["if-none-match"]){let s=r["if-none-match"].split(/,/).filter(a=>!/^\s*W\//.test(a));s.length?r["if-none-match"]=s.join(",").trim():delete r["if-none-match"]}}else this._resHeaders["last-modified"]&&!r["if-modified-since"]&&(r["if-modified-since"]=this._resHeaders["last-modified"]);return r}revalidatedPolicy(t,r){if(this._assertRequestHasHeaders(t),this._useStaleIfError()&&P4e(r))return{modified:!1,matches:!1,policy:this};if(!r||!r.headers)throw Error("Response headers missing");let n=!1;if(r.status!==void 0&&r.status!=304?n=!1:r.headers.etag&&!/^\s*W\//.test(r.headers.etag)?n=this._resHeaders.etag&&this._resHeaders.etag.replace(/^\s*W\//,"")===r.headers.etag:this._resHeaders.etag&&r.headers.etag?n=this._resHeaders.etag.replace(/^\s*W\//,"")===r.headers.etag.replace(/^\s*W\//,""):this._resHeaders["last-modified"]?n=this._resHeaders["last-modified"]===r.headers["last-modified"]:!this._resHeaders.etag&&!this._resHeaders["last-modified"]&&!r.headers.etag&&!r.headers["last-modified"]&&(n=!0),!n)return{policy:new this.constructor(t,r),modified:r.status!=304,matches:!1};let s={};for(let l in this._resHeaders)s[l]=l in r.headers&&!R4e[l]?r.headers[l]:this._resHeaders[l];let a=Object.assign({},r,{status:this._status,method:this._method,headers:s});return{policy:new this.constructor(t,a,{shared:this._isShared,cacheHeuristic:this._cacheHeuristic,immutableMinTimeToLive:this._immutableMinTtl}),modified:!1,matches:!0}}},o(g7,"CachePolicy"),g7)});var xX=k((mVe,_X)=>{"use strict";var O4e=gX(),{Headers:D4e}=nv(),vX=o(e=>({url:e.url,method:e.method,headers:e.headers.plain()}),"convertRequest"),yX=o(e=>({status:e.status,headers:e.headers.plain()}),"convertResponse"),nL=class nL{constructor(t,r,n){this.policy=new O4e(vX(t),yX(r),n)}storable(){return this.policy.storable()}satisfiesWithoutRevalidation(t){return this.policy.satisfiesWithoutRevalidation(vX(t))}responseHeaders(t){return new D4e(this.policy.responseHeaders(yX(t)))}timeToLive(){return this.policy.timeToLive()}};o(nL,"CachePolicyWrapper");var rL=nL;_X.exports=rL});var TX=k((vVe,EX)=>{"use strict";var{Readable:L4e}=require("stream"),{Headers:bX}=nv(),{Response:k4e}=eL(),q5=Symbol("CacheableResponse internals"),M4e=o(e=>e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength),"toArrayBuffer"),aC=class aC extends k4e{constructor(t,r){super(t,r);let n=new bX(r.headers);this[q5]={headers:n,bufferedBody:t}}get headers(){return this[q5].headers}set headers(t){if(t instanceof bX)this[q5].headers=t;else throw new TypeError("instance of Headers expected")}get body(){return L4e.from(this[q5].bufferedBody)}get bodyUsed(){return!1}async buffer(){return this[q5].bufferedBody}async arrayBuffer(){return M4e(this[q5].bufferedBody)}async text(){return this[q5].bufferedBody.toString()}async json(){return JSON.parse(await this.text())}clone(){let{url:t,status:r,statusText:n,headers:s,httpVersion:a,decoded:l,counter:c}=this;return new aC(this[q5].bufferedBody,{url:t,status:r,statusText:n,headers:s,httpVersion:a,decoded:l,counter:c})}get[Symbol.toStringTag](){return this.constructor.name}};o(aC,"CacheableResponse");var iL=aC,B4e=o(async e=>{let t=await e.buffer(),{url:r,status:n,statusText:s,headers:a,httpVersion:l,decoded:c,counter:u}=e;return new iL(t,{url:r,status:n,statusText:s,headers:a,httpVersion:l,decoded:c,counter:u})},"cacheableResponse");EX.exports={cacheableResponse:B4e}});var oC=k((_Ve,CX)=>{"use strict";var aL=class aL extends Error{get name(){return this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}};o(aL,"RequestAbortedError");var sL=aL;CX.exports={RequestAbortedError:sL}});var RX=k((bVe,wX)=>{"use strict";var IX=require("http"),AX=require("https"),{Readable:F4e}=require("stream"),th=bd()("helix-fetch:h1"),{RequestAbortedError:SX}=oC(),{decodeStream:U4e}=Jp(),q4e=o((e,t)=>{let{h1:r,options:{h1:n,rejectUnauthorized:s}}=e;return t==="https:"?r.httpsAgent?r.httpsAgent:n||typeof s=="boolean"?(r.httpsAgent=new AX.Agent(typeof s=="boolean"?{...n||{},rejectUnauthorized:s}:n),r.httpsAgent):void 0:r.httpAgent?r.httpAgent:n?(r.httpAgent=new IX.Agent(n),r.httpAgent):void 0},"getAgent"),j4e=o(e=>{e.h1={}},"setupContext"),H4e=o(async({h1:e})=>{e.httpAgent&&(th("resetContext: destroying httpAgent"),e.httpAgent.destroy(),delete e.httpAgent),e.httpsAgent&&(th("resetContext: destroying httpsAgent"),e.httpsAgent.destroy(),delete e.httpsAgent)},"resetContext"),$4e=o((e,t,r)=>{let{statusCode:n,statusMessage:s,httpVersion:a,httpVersionMajor:l,httpVersionMinor:c,headers:u}=e,f=t?U4e(n,u,e,r):e;return{statusCode:n,statusText:s,httpVersion:a,httpVersionMajor:l,httpVersionMinor:c,headers:u,readable:f,decoded:!!(t&&f!==e)}},"createResponse"),V4e=o(async(e,t,r)=>{let{request:n}=t.protocol==="https:"?AX:IX,s=q4e(e,t.protocol),a={...r,agent:s},{socket:l,body:c}=a;return l&&(delete a.socket,l.assigned||(l.assigned=!0,s?a.agent=new Proxy(s,{get:(u,f)=>f==="createConnection"&&!l.inUse?(d,p)=>{th(`agent reusing socket #${l.id} (${l.servername})`),l.inUse=!0,p(null,l)}:u[f]}):a.createConnection=(u,f)=>{th(`reusing socket #${l.id} (${l.servername})`),l.inUse=!0,f(null,l)})),new Promise((u,f)=>{th(`${a.method} ${t.href}`);let d,{signal:p}=a,h=o(()=>{p.removeEventListener("abort",h),l&&!l.inUse&&(th(`discarding redundant socket used for ALPN: #${l.id} ${l.servername}`),l.destroy()),f(new SX),d&&d.abort()},"onAbortSignal");if(p){if(p.aborted){f(new SX);return}p.addEventListener("abort",h)}d=n(t,a),d.once("response",m=>{p&&p.removeEventListener("abort",h),l&&!l.inUse&&(th(`discarding redundant socket used for ALPN: #${l.id} ${l.servername}`),l.destroy()),u($4e(m,a.decode,f))}),d.once("error",m=>{p&&p.removeEventListener("abort",h),l&&!l.inUse&&(th(`discarding redundant socket used for ALPN: #${l.id} ${l.servername}`),l.destroy()),d.aborted||(th(`${a.method} ${t.href} failed with: ${m.message}`),d.abort(),f(m))}),c instanceof F4e?c.pipe(d):(c&&d.write(c),d.end())})},"h1Request");wX.exports={request:V4e,setupContext:j4e,resetContext:H4e}});var DX=k((TVe,OX)=>{"use strict";var{connect:G4e,constants:z4e}=require("http2"),{Readable:K4e}=require("stream"),oa=bd()("helix-fetch:h2"),{RequestAbortedError:PX}=oC(),{decodeStream:W4e}=Jp(),{NGHTTP2_CANCEL:v7}=z4e,Y4e=5*60*1e3,X4e=5e3,Q4e=o(e=>{e.h2={sessionCache:{}}},"setupContext"),J4e=o(async({h2:e})=>Promise.all(Object.values(e.sessionCache).map(t=>new Promise(r=>{t.on("close",r),oa(`resetContext: destroying session (socket #${t.socket&&t.socket.id}, ${t.socket&&t.socket.servername})`),t.destroy()}))),"resetContext"),NX=o((e,t,r,n=()=>{})=>{let s={...e},a=s[":status"];delete s[":status"];let l=r?W4e(a,e,t,n):t;return{statusCode:a,statusText:"",httpVersion:"2.0",httpVersionMajor:2,httpVersionMinor:0,headers:s,readable:l,decoded:!!(r&&l!==t)}},"createResponse"),Z4e=o((e,t,r,n,s,a)=>{let{options:{h2:{pushPromiseHandler:l,pushHandler:c,pushedStreamIdleTimeout:u=X4e}}}=e,f=s[":path"],d=`${t}${f}`;oa(`received PUSH_PROMISE: ${d}, stream #${n.id}, headers: ${JSON.stringify(s)}, flags: ${a}`),l&&l(d,s,o(()=>{n.close(v7)},"rejectPush")),n.on("push",(p,h)=>{oa(`received push headers for ${t}${f}, stream #${n.id}, headers: ${JSON.stringify(p)}, flags: ${h}`),n.setTimeout(u,()=>{oa(`closing pushed stream #${n.id} after ${u} ms of inactivity`),n.close(v7)}),c&&c(d,s,NX(p,n,r))}),n.on("aborted",()=>{oa(`pushed stream #${n.id} aborted`)}),n.on("error",p=>{oa(`pushed stream #${n.id} encountered error: ${p}`)}),n.on("frameError",(p,h,m)=>{oa(`pushed stream #${n.id} encountered frameError: type: ${p}, code: ${h}, id: ${m}`)})},"handlePush"),e8e=o(async(e,t,r)=>{let{origin:n,pathname:s,search:a,hash:l}=t,c=`${s}${a}${l}`,{options:{h2:u={}},h2:{sessionCache:f}}=e,{idleSessionTimeout:d=Y4e,pushPromiseHandler:p,pushHandler:h}=u,m={...r},{method:v,headers:_,socket:b,body:S,decode:A}=m;return b&&delete m.socket,_.host&&(_[":authority"]=_.host,delete _.host),new Promise((O,L)=>{let D=f[n];if(!D||D.closed||D.destroyed){let vr=!(e.options.rejectUnauthorized===!1||u.rejectUnauthorized===!1),vt={...u,rejectUnauthorized:vr};b&&!b.inUse&&(vt.createConnection=()=>(oa(`reusing socket #${b.id} (${b.servername})`),b.inUse=!0,b)),D=G4e(n,{...vt,settings:{enablePush:!!(p||h)}}),D.setMaxListeners(1e3),D.setTimeout(d,()=>{oa(`closing session ${n} after ${d} ms of inactivity`),D.close()}),D.once("connect",()=>{oa(`session ${n} established`),oa(`caching session ${n}`),f[n]=D}),D.on("localSettings",Ve=>{oa(`session ${n} localSettings: ${JSON.stringify(Ve)}`)}),D.on("remoteSettings",Ve=>{oa(`session ${n} remoteSettings: ${JSON.stringify(Ve)}`)}),D.once("close",()=>{oa(`session ${n} closed`),f[n]===D&&(oa(`discarding cached session ${n}`),delete f[n])}),D.once("error",Ve=>{oa(`session ${n} encountered error: ${Ve}`),f[n]===D&&(oa(`discarding cached session ${n}`),delete f[n])}),D.on("frameError",(Ve,Me,St)=>{oa(`session ${n} encountered frameError: type: ${Ve}, code: ${Me}, id: ${St}`)}),D.once("goaway",(Ve,Me,St)=>{oa(`session ${n} received GOAWAY frame: errorCode: ${Ve}, lastStreamID: ${Me}, opaqueData: ${St?St.toString():void 0}`)}),D.on("stream",(Ve,Me,St)=>{Z4e(e,n,A,Ve,Me,St)})}else b&&b.id!==D.socket.id&&!b.inUse&&(oa(`discarding redundant socket used for ALPN: #${b.id} ${b.servername}`),b.destroy());oa(`${v} ${t.host}${c}`);let $,{signal:de}=m,ue=o(()=>{de.removeEventListener("abort",ue),L(new PX),$&&$.close(v7)},"onAbortSignal");if(de){if(de.aborted){L(new PX);return}de.addEventListener("abort",ue)}let Ze=o(vr=>{oa(`session ${n} encountered error during ${m.method} ${t.href}: ${vr}`),L(vr)},"onSessionError");D.once("error",Ze),$=D.request({":method":v,":path":c,..._}),$.once("response",vr=>{D.off("error",Ze),de&&de.removeEventListener("abort",ue),O(NX(vr,$,m.decode,L))}),$.once("error",vr=>{D.off("error",Ze),de&&de.removeEventListener("abort",ue),$.rstCode!==v7&&(oa(`${m.method} ${t.href} failed with: ${vr.message}`),$.close(v7),L(vr))}),$.once("frameError",(vr,vt,wr)=>{D.off("error",Ze),oa(`encountered frameError during ${m.method} ${t.href}: type: ${vr}, code: ${vt}, id: ${wr}`)}),$.on("push",(vr,vt)=>{oa(`received 'push' event: headers: ${JSON.stringify(vr)}, flags: ${vt}`)}),S instanceof K4e?S.pipe($):(S&&$.write(S),$.end())})},"request");OX.exports={request:e8e,setupContext:Q4e,resetContext:J4e}});var kX=k((SVe,LX)=>{"use strict";var{EventEmitter:t8e}=require("events"),r8e=o(()=>{let e={},t=new t8e;return t.setMaxListeners(0),{acquire:r=>new Promise(n=>{if(!e[r]){e[r]=!0,n();return}let s=o(a=>{e[r]||(e[r]=!0,t.removeListener(r,s),n(a))},"tryAcquire");t.on(r,s)}),release:(r,n)=>{Reflect.deleteProperty(e,r),setImmediate(()=>t.emit(r,n))}}},"lock");LX.exports=r8e});var MX=k((AVe,n8e)=>{n8e.exports={name:"@adobe/helix-fetch",version:"3.1.1",description:"Light-weight Fetch implementation transparently supporting both HTTP/1(.1) and HTTP/2",main:"src/index.js",scripts:{test:"nyc mocha",lint:"./node_modules/.bin/eslint .","semantic-release":"semantic-release"},mocha:{timeout:"5000",recursive:"true",reporter:"mocha-multi-reporters","reporter-options":"configFile=.mocha-multi.json"},engines:{node:">=12.0"},types:"src/index.d.ts",exports:{import:"./src/index.mjs",require:"./src/index.js"},repository:{type:"git",url:"https://github.com/adobe/helix-fetch"},author:"",license:"Apache-2.0",bugs:{url:"https://github.com/adobe/helix-fetch/issues"},homepage:"https://github.com/adobe/helix-fetch#readme",keywords:["fetch","whatwg","Fetch API","http","https","http2","h2","promise","async","request","RFC 7234","7234","caching","cache"],dependencies:{debug:"4.3.4","http-cache-semantics":"^4.1.1","lru-cache":"7.13.1"},devDependencies:{"@adobe/eslint-config-helix":"1.3.2","@semantic-release/changelog":"6.0.1","@semantic-release/git":"10.0.1",chai:"4.3.6","chai-as-promised":"7.1.1","chai-bytes":"0.1.2","chai-iterator":"3.0.2",eslint:"8.21.0","eslint-plugin-header":"3.1.1","eslint-plugin-import":"2.26.0","formdata-node":"4.3.3","lint-staged":"13.0.3",mocha:"10.0.0","mocha-multi-reporters":"1.5.1",nock:"13.2.9",nyc:"15.1.0","parse-cache-control":"1.0.1",pem:"1.14.6",proxy:"^1.0.2","semantic-release":"19.0.3",sinon:"14.0.0","stream-buffers":"3.0.2",tunnel:"^0.0.6"},"lint-staged":{"*.js":"eslint"},config:{commitizen:{path:"node_modules/cz-conventional-changelog"},ghooks:{"pre-commit":"npx lint-staged"}}}});var jX=k((wVe,qX)=>{"use strict";var{Readable:i8e}=require("stream"),s8e=require("tls"),{types:{isAnyArrayBuffer:a8e}}=require("util"),o8e=UD(),oL=bd()("helix-fetch:core"),{RequestAbortedError:lC}=oC(),lL=RX(),cC=DX(),l8e=kX(),{isPlainObject:c8e}=Jp(),{isFormData:u8e,FormDataSerializer:f8e}=p7(),{version:d8e}=MX(),cL="h2",uL="h2c",fL="http/1.0",_m="http/1.1",p8e=100,h8e=60*60*1e3,m8e=[cL,_m,fL],g8e=`helix-fetch/${d8e}`,v8e={method:"GET",compress:!0,decode:!0},BX=0,FX=l8e(),UX=o((e,t)=>new Promise((r,n)=>{let{signal:s}=t,a,l=o(()=>{s.removeEventListener("abort",l);let f=new lC;n(f),a&&a.destroy(f)},"onAbortSignal");if(s){if(s.aborted){n(new lC);return}s.addEventListener("abort",l)}let c=+e.port||443,u=o(f=>{s&&s.removeEventListener("abort",l),f instanceof lC||(oL(`connecting to ${e.hostname}:${c} failed with: ${f.message}`),n(f))},"onError");a=s8e.connect(c,e.hostname,t),a.once("secureConnect",()=>{s&&s.removeEventListener("abort",l),a.off("error",u),BX+=1,a.id=BX,a.secureConnecting=!1,oL(`established TLS connection: #${a.id} (${a.servername})`),r(a)}),a.once("error",u)}),"connectTLS"),y8e=o(async(e,t)=>{let r=await FX.acquire(e.origin);try{return r||(r=await UX(e,t)),r}finally{FX.release(e.origin,r)}},"connect"),_8e=o(async(e,t,r)=>{let n=`${t.protocol}//${t.host}`,s=e.alpnCache.get(n);if(s)return{protocol:s};switch(t.protocol){case"http:":return s=_m,e.alpnCache.set(n,s),{protocol:s};case"http2:":return s=uL,e.alpnCache.set(n,s),{protocol:s};case"https:":break;default:throw new TypeError(`unsupported protocol: ${t.protocol}`)}let{options:{rejectUnauthorized:a,h1:l={},h2:c={}}}=e,u=!(a===!1||l.rejectUnauthorized===!1||c.rejectUnauthorized===!1),f={servername:t.hostname,ALPNProtocols:e.alpnProtocols,signal:r,rejectUnauthorized:u};e.options.ca&&(f.ca=e.options.ca);let d=await y8e(t,f);return s=d.alpnProtocol,s||(s=_m),e.alpnCache.set(n,s),{protocol:s,socket:d}},"determineProtocol"),x8e=o(e=>{let t={};return Object.keys(e).forEach(r=>{t[r.toLowerCase()]=e[r]}),t},"sanitizeHeaders"),b8e=o(async(e,t,r,n)=>{let s=t.protocol==="https:",a;t.port?a=t.port:s?a=443:a=80;let l={...r,host:t.host,hostname:t.hostname,port:a},c=await e(l);if(s){let f={...l,ALPNProtocols:n};f.socket=c,f.servername=l.host;let d=await UX(t,f);return{protocol:d.alpnProtocol||_m,socket:d}}return{protocol:c.alpnProtocol||_m,socket:c}},"getProtocolAndSocketFromFactory"),E8e=o(async(e,t,r)=>{let n=new URL(t),s={...v8e,...r||{}};typeof s.method=="string"&&(s.method=s.method.toUpperCase()),s.headers=x8e(s.headers||{}),s.headers.host===void 0&&(s.headers.host=n.host),e.userAgent&&s.headers["user-agent"]===void 0&&(s.headers["user-agent"]=e.userAgent);let a;if(s.body instanceof URLSearchParams)a="application/x-www-form-urlencoded; charset=utf-8",s.body=s.body.toString();else if(u8e(s.body)){let f=new f8e(s.body);a=f.contentType(),s.body=f.stream(),s.headers["transfer-encoding"]===void 0&&s.headers["content-length"]===void 0&&(s.headers["content-length"]=String(f.length()))}else typeof s.body=="string"||s.body instanceof String?a="text/plain; charset=utf-8":c8e(s.body)?(s.body=JSON.stringify(s.body),a="application/json"):a8e(s.body)&&(s.body=Buffer.from(s.body));s.headers["content-type"]===void 0&&a!==void 0&&(s.headers["content-type"]=a),s.body!=null&&(s.body instanceof i8e||(!(typeof s.body=="string"||s.body instanceof String)&&!Buffer.isBuffer(s.body)&&(s.body=String(s.body)),s.headers["transfer-encoding"]===void 0&&s.headers["content-length"]===void 0&&(s.headers["content-length"]=String(Buffer.isBuffer(s.body)?s.body.length:Buffer.byteLength(s.body,"utf-8"))))),s.headers.accept===void 0&&(s.headers.accept="*/*"),s.body==null&&["POST","PUT"].includes(s.method)&&(s.headers["content-length"]="0"),s.compress&&s.headers["accept-encoding"]===void 0&&(s.headers["accept-encoding"]="gzip,deflate,br");let{signal:l}=s,{protocol:c,socket:u=null}=e.socketFactory?await b8e(e.socketFactory,n,s,e.alpnProtocols):await _8e(e,n,l);switch(oL(`${n.host} -> ${c}`),c){case cL:try{return await cC.request(e,n,u?{...s,socket:u}:s)}catch(f){let{code:d,message:p}=f;throw d==="ERR_HTTP2_ERROR"&&p==="Protocol error"&&e.alpnCache.delete(`${n.protocol}//${n.host}`),f}case uL:return cC.request(e,new URL(`http://${n.host}${n.pathname}${n.hash}${n.search}`),u?{...s,socket:u}:s);case fL:case _m:return lL.request(e,n,u?{...s,socket:u}:s);default:throw new TypeError(`unsupported protocol: ${c}`)}},"request"),T8e=o(async e=>(e.alpnCache.clear(),Promise.all([lL.resetContext(e),cC.resetContext(e)])),"resetContext"),C8e=o(e=>{let{options:{alpnProtocols:t=m8e,alpnCacheTTL:r=h8e,alpnCacheSize:n=p8e,userAgent:s=g8e,socketFactory:a}}=e;e.alpnProtocols=t,e.alpnCache=new o8e({max:n,ttl:r}),e.userAgent=s,e.socketFactory=a,lL.setupContext(e),cC.setupContext(e)},"setupContext");qX.exports={request:E8e,setupContext:C8e,resetContext:T8e,RequestAbortedError:lC,ALPN_HTTP2:cL,ALPN_HTTP2C:uL,ALPN_HTTP1_1:_m,ALPN_HTTP1_0:fL}});var $X=k((PVe,HX)=>{"use strict";var S8e=bd()("helix-fetch:core"),{request:I8e,setupContext:A8e,resetContext:w8e,RequestAbortedError:R8e,ALPN_HTTP2:P8e,ALPN_HTTP2C:N8e,ALPN_HTTP1_1:O8e,ALPN_HTTP1_0:D8e}=jX(),uC=class uC{constructor(t){this.options={...t||{}},A8e(this)}api(){return{request:async(t,r)=>this.request(t,r),context:(t={})=>new uC(t).api(),setCA:t=>this.setCA(t),reset:async()=>this.reset(),RequestAbortedError:R8e,ALPN_HTTP2:P8e,ALPN_HTTP2C:N8e,ALPN_HTTP1_1:O8e,ALPN_HTTP1_0:D8e}}async request(t,r){return I8e(this,t,r)}setCA(t){this.options.ca=t}async reset(){return S8e("resetting context"),w8e(this)}};o(uC,"RequestContext");var dL=uC;HX.exports=new dL().api()});var WX=k((OVe,KX)=>{"use strict";var{EventEmitter:L8e}=require("events"),{Readable:y7}=require("stream"),pL=bd()("helix-fetch"),k8e=UD(),{Body:M8e}=JT(),{Headers:vL}=nv(),{Request:xm}=pX(),{Response:mL}=eL(),{FetchBaseError:B8e,FetchError:_7,AbortError:fC}=GD(),{AbortController:F8e,AbortSignal:U8e,TimeoutSignal:q8e}=XD(),j8e=xX(),{cacheableResponse:H8e}=TX(),{sizeof:$8e}=Jp(),{isFormData:V8e}=p7(),{context:G8e,RequestAbortedError:z8e}=$X(),VX=["GET","HEAD"],K8e=500,W8e=100*1024*1024,hL="push",GX=o(async(e,t,r)=>{let{request:n}=e.context,s=t instanceof xm&&typeof r>"u"?t:new xm(t,r),{method:a,body:l,signal:c,compress:u,decode:f,follow:d,redirect:p,init:{body:h}}=s,m;if(c&&c.aborted){let D=new fC("The operation was aborted.");throw s.init.body instanceof y7&&s.init.body.destroy(D),D}try{m=await n(s.url,{...r,method:a,headers:s.headers.plain(),body:h&&!(h instanceof y7)&&!V8e(h)?h:l,compress:u,decode:f,follow:d,redirect:p,signal:c})}catch(D){throw h instanceof y7&&h.destroy(D),D instanceof TypeError?D:D instanceof z8e?new fC("The operation was aborted."):new _7(D.message,"system",D)}let v=o(()=>{c.removeEventListener("abort",v);let D=new fC("The operation was aborted.");s.init.body instanceof y7&&s.init.body.destroy(D),m.readable.emit("error",D)},"abortHandler");c&&c.addEventListener("abort",v);let{statusCode:_,statusText:b,httpVersion:S,headers:A,readable:O,decoded:L}=m;if([301,302,303,307,308].includes(_)){let{location:D}=A,$=D==null?null:new URL(D,s.url);switch(s.redirect){case"manual":break;case"error":throw c&&c.removeEventListener("abort",v),new _7(`uri requested responds with a redirect, redirect mode is set to 'error': ${s.url}`,"no-redirect");case"follow":{if($===null)break;if(s.counter>=s.follow)throw c&&c.removeEventListener("abort",v),new _7(`maximum redirect reached at: ${s.url}`,"max-redirect");let de={headers:new vL(s.headers),follow:s.follow,compress:s.compress,decode:s.decode,counter:s.counter+1,method:s.method,body:s.body,signal:s.signal};if(_!==303&&s.body&&s.init.body instanceof y7)throw c&&c.removeEventListener("abort",v),new _7("Cannot follow redirect with body being a readable stream","unsupported-redirect");return(_===303||(_===301||_===302)&&s.method==="POST")&&(de.method="GET",de.body=void 0,de.headers.delete("content-length")),c&&c.removeEventListener("abort",v),GX(e,new xm($,de))}default:}}return c&&(O.once("end",()=>{c.removeEventListener("abort",v)}),O.once("error",()=>{c.removeEventListener("abort",v)})),new mL(O,{url:s.url,status:_,statusText:b,headers:A,httpVersion:S,decoded:L,counter:s.counter})},"fetch"),zX=o(async(e,t,r)=>{if(e.options.maxCacheSize===0||!VX.includes(t.method))return r;let n=new j8e(t,r,{shared:!1});if(n.storable()){let s=await H8e(r);return e.cache.set(t.url,{policy:n,response:s},n.timeToLive()),s}else return r},"cacheResponse"),Y8e=o(async(e,t,r)=>{let n=new xm(t,r);if(e.options.maxCacheSize!==0&&VX.includes(n.method)&&!["no-store","reload"].includes(n.cache)){let{policy:l,response:c}=e.cache.get(n.url)||{};if(l&&l.satisfiesWithoutRevalidation(n)){c.headers=new vL(l.responseHeaders(c));let u=c.clone();return u.fromCache=!0,u}}let a=await GX(e,n);return n.cache!=="no-store"?zX(e,n,a):a},"cachingFetch"),X8e=o((e,t={})=>{let r=new URL(e);if(typeof t!="object"||Array.isArray(t))throw new TypeError("qs: object expected");return Object.entries(t).forEach(([n,s])=>{Array.isArray(s)?s.forEach(a=>r.searchParams.append(n,a)):r.searchParams.append(n,s)}),r.href},"createUrl"),Q8e=o(e=>new q8e(e),"timeoutSignal"),rh=class rh{constructor(t){this.options={...t};let{maxCacheSize:r}=this.options,n=typeof r=="number"&&r>=0?r:W8e,s=K8e;n===0&&(n=1,s=1);let a=o(({response:c},u)=>$8e(c),"sizeCalculation");this.cache=new k8e({max:s,maxSize:n,sizeCalculation:a}),this.eventEmitter=new L8e,this.options.h2=this.options.h2||{},typeof this.options.h2.enablePush>"u"&&(this.options.h2.enablePush=!0);let{enablePush:l}=this.options.h2;l&&(this.options.h2.pushPromiseHandler=(c,u,f)=>{let d={...u};Object.keys(d).filter(p=>p.startsWith(":")).forEach(p=>delete d[p]),this.pushPromiseHandler(c,d,f)},this.options.h2.pushHandler=(c,u,f)=>{let d={...u};Object.keys(d).filter(S=>S.startsWith(":")).forEach(S=>delete d[S]);let{statusCode:p,statusText:h,httpVersion:m,headers:v,readable:_,decoded:b}=f;this.pushHandler(c,d,new mL(_,{url:c,status:p,statusText:h,headers:v,httpVersion:m,decoded:b}))}),this.context=G8e(this.options)}api(){return{fetch:async(t,r)=>this.fetch(t,r),Body:M8e,Headers:vL,Request:xm,Response:mL,AbortController:F8e,AbortSignal:U8e,FetchBaseError:B8e,FetchError:_7,AbortError:fC,context:(t={})=>new rh(t).api(),setCA:t=>this.setCA(t),noCache:(t={})=>new rh({...t,maxCacheSize:0}).api(),h1:(t={})=>new rh({...t,alpnProtocols:[this.context.ALPN_HTTP1_1]}).api(),keepAlive:(t={})=>new rh({...t,alpnProtocols:[this.context.ALPN_HTTP1_1],h1:{keepAlive:!0}}).api(),h1NoCache:(t={})=>new rh({...t,maxCacheSize:0,alpnProtocols:[this.context.ALPN_HTTP1_1]}).api(),keepAliveNoCache:(t={})=>new rh({...t,maxCacheSize:0,alpnProtocols:[this.context.ALPN_HTTP1_1],h1:{keepAlive:!0}}).api(),reset:async()=>this.context.reset(),onPush:t=>this.onPush(t),offPush:t=>this.offPush(t),createUrl:X8e,timeoutSignal:Q8e,clearCache:()=>this.clearCache(),cacheStats:()=>this.cacheStats(),ALPN_HTTP2:this.context.ALPN_HTTP2,ALPN_HTTP2C:this.context.ALPN_HTTP2C,ALPN_HTTP1_1:this.context.ALPN_HTTP1_1,ALPN_HTTP1_0:this.context.ALPN_HTTP1_0}}async fetch(t,r){return Y8e(this,t,r)}setCA(t){this.options.ca=t,this.context.setCA(t)}onPush(t){return this.eventEmitter.on(hL,t)}offPush(t){return this.eventEmitter.off(hL,t)}clearCache(){this.cache.clear()}cacheStats(){return{size:this.cache.calculatedSize,count:this.cache.size}}pushPromiseHandler(t,r,n){pL(`received server push promise: ${t}, headers: ${JSON.stringify(r)}`);let s=new xm(t,{headers:r}),{policy:a}=this.cache.get(t)||{};a&&a.satisfiesWithoutRevalidation(s)&&(pL(`already cached, reject push promise: ${t}, headers: ${JSON.stringify(r)}`),n())}async pushHandler(t,r,n){pL(`caching resource pushed by server: ${t}, reqHeaders: ${JSON.stringify(r)}, status: ${n.status}, respHeaders: ${JSON.stringify(n.headers)}`);let s=await zX(this,new xm(t,{headers:r}),n);this.eventEmitter.emit(hL,t,s)}};o(rh,"FetchContext");var gL=rh;KX.exports=new gL().api()});var XX=k((LVe,YX)=>{"use strict";YX.exports=WX()});var BL=k(($Ge,sve)=>{sve.exports={name:"copilot",displayName:"GitHub Copilot",description:"Your AI pair programmer",version:"1.165.0",build:"730",buildType:"prod",publisher:"GitHub",preview:!1,homepage:"https://github.com/features/copilot",license:"https://docs.github.com/en/site-policy/github-terms/github-terms-for-additional-products-and-features",bugs:{url:"https://github.com/community/community/discussions/categories/copilot"},qna:"https://github.com/github-community/community/discussions/categories/copilot",icon:"assets/Copilot-App-Icon.png",pricing:"Trial",extensionPack:["GitHub.copilot-chat"],engines:{vscode:"^1.75.0",node:">=16.14.0",npm:">=8.0.0"},categories:["Programming Languages","Machine Learning","Education","Snippets"],keywords:["ai","openai","codex","pilot","snippets","documentation","autocomplete","intellisense","refactor","javascript","python","typescript","php","go","golang","ruby","c++","c#","java","kotlin","co-pilot"],badges:[{url:"https://img.shields.io/badge/GitHub%20Copilot-Subscription%20Required-orange",href:"https://github.com/github-copilot/signup",description:"Sign up for GitHub Copilot"},{url:"https://img.shields.io/github/stars/github/copilot-docs?style=social",href:"https://github.com/github/copilot-docs",description:"Star Copilot on GitHub"},{url:"https://img.shields.io/youtube/channel/views/UC7c3Kb6jYCRj4JOHHZTxKsQ?style=social",href:"https://www.youtube.com/@GitHub/search?query=copilot",description:"Check out GitHub on Youtube"},{url:"https://img.shields.io/twitter/follow/github?style=social",href:"https://twitter.com/github",description:"Follow GitHub on Twitter"}],activationEvents:["onStartupFinished"],main:"./dist/extension",enabledApiProposals:["inlineCompletionsAdditions"],contributes:{walkthroughs:[{id:"copilotWelcome",title:"GitHub Copilot",description:"Your AI pair programmer to write code faster and with less work",when:"!isWeb",steps:[{id:"copilot.signin",title:"Sign in with GitHub",description:`To get started with Copilot, sign in with your GitHub account.
Double-check to use the right GitHub account. You can also sign in later using the account menu.
 
[Sign In](command:github.copilot.signIn)`,when:"!github.copilot.activated",completionEvents:["onContext:github.copilot.activated"],media:{image:"assets/walkthrough/sign-in.svg",altText:"Sign in to GitHub via Copilot's notification or VS Code's account menu"}},{id:"copilot.firstsuggest",title:"AI-powered suggestions",description:`Copilot suggests lines of code **as you type** and multiple lines for **function signatures**.
  
**Prompts in comments** make suggestions specific to your desired outcome, logic and steps.`,media:{svg:"assets/walkthrough/ai-powered-suggestions.svg",altText:"Different types of suggestions visualized"}},{id:"copilot.chat",title:"Chat with Copilot",description:"Ask Copilot general programming questions in the chat view. Copilot can also fix problems, scaffold tests, or refactor your code. Type ``/`` to view all available chat commands.\n[Chat with Copilot](command:workbench.panel.chat.view.copilot.focus)",when:"!github.copilot.interactiveSession.disabled",media:{svg:"assets/walkthrough/copilot-chat.svg",altText:"Copilot Chat view in the sidebar"}},{id:"copilot.realfiles.openrecent",title:"Code as context",description:`The **more specific context** you provide Copilot, the **better** suggestions get! Context is not just current code and comments, but other open files.
  
[Try Copilot in Your Code](command:workbench.action.openRecent)`,when:"workspaceFolderCount == 0",media:{svg:"assets/walkthrough/code-as-context.svg",altText:"An editor with code being suggested by Copilot in gray text"}},{id:"copilot.realfiles.quickopen",title:"Code as context",description:`The **more context** you give Copilot, the **better** suggestions get! Context is not just the current code, but other open files.
  
[Try Copilot in Your Code](command:workbench.action.quickOpen)`,when:"workspaceFolderCount != 0",media:{svg:"assets/walkthrough/code-as-context.svg",altText:"An editor with code being suggested by Copilot in gray text"}},{id:"copilot.iterate",title:"You are in control",description:`Just as you would review a colleague's code, you should always assess, analyze, and validate AI-generated code.
  
If the first suggestion doesn't work, Copilot can generate more options. You can edit the Copilot settings and keyboard shortcuts to personalize your experience.
  
[Edit keyboard shortcuts](command:workbench.action.openGlobalKeybindings?%5B%22copilot%22%5D)
  
[Personalize settings](command:workbench.action.openSettings?%5B%22copilot%22%5D)`,media:{image:"assets/walkthrough/you-are-in-control.svg",altText:"An editor with a toolbar widget overlay showing arrows for navigating multiple suggestions from Copilot"}},{id:"copilot.creativity",title:"Powered by your creativity",description:`Pair up with AI to outline your idea in a comment, then generate the implementation, and then test suites. Or, work backwards from example output!
Copilot will keep surprising you as you challenge it.
  
[Prompts, tips, and use cases](https://github.blog/2023-06-20-how-to-write-better-prompts-for-github-copilot/)`,media:{svg:"assets/walkthrough/powered-by-your-creativity.svg",altText:"Metrics showing how much Copilot increases productivity for developers. The metrics read: 74% focus on more satisfying work. 88% feel more productive. 96% are faster with more repetitive tasks."}}]}],commands:[{command:"github.copilot.acceptCursorPanelSolution",title:"Accept panel suggestion at the cursor",category:"GitHub Copilot"},{command:"github.copilot.signIn",title:"Sign In",category:"GitHub Copilot",enablement:"!github.copilot.activated"},{command:"github.copilot.previousPanelSolution",title:"Navigate to the previous panel suggestion",category:"GitHub Copilot"},{command:"github.copilot.nextPanelSolution",title:"Navigate to the next panel suggestion",category:"GitHub Copilot"},{command:"github.copilot.generate",title:"Open Completions Panel",category:"GitHub Copilot"},{command:"github.copilot.toggleCopilot",title:"Enable/Disable Copilot completions",category:"GitHub Copilot"},{command:"github.copilot.sendFeedback",title:"Send Feedback",category:"GitHub Copilot"},{command:"github.copilot.collectDiagnostics",title:"Collect Diagnostics",category:"GitHub Copilot"},{command:"github.copilot.openLogs",title:"Open Logs",category:"GitHub Copilot"}],keybindings:[{command:"github.copilot.generate",key:"ctrl+enter",mac:"ctrl+enter",when:"editorTextFocus && github.copilot.activated && !inInteractiveInput && !interactiveEditorFocused"},{command:"github.copilot.acceptCursorPanelSolution",key:"ctrl+/",mac:"ctrl+/",when:"github.copilot.activated && github.copilot.panelVisible"},{command:"github.copilot.previousPanelSolution",key:"alt+[",mac:"alt+[",when:"github.copilot.activated && github.copilot.panelVisible"},{command:"github.copilot.nextPanelSolution",key:"alt+]",mac:"alt+]",when:"github.copilot.activated && github.copilot.panelVisible"},{command:"editor.action.inlineSuggest.trigger",key:"alt+\\",when:"editorTextFocus && !editorHasSelection && config.github.copilot.inlineSuggest.enable && !inlineSuggestionsVisible"}],menus:{"editor/inlineCompletions/actions":[{command:"github.copilot.generate",when:"github.copilot.activated"}],commandPalette:[{command:"github.copilot.generate",when:"github.copilot.activated"},{command:"github.copilot.toggleCopilot",when:"github.copilot.activated"},{command:"github.copilot.sendFeedback",when:"github.copilot.activated"},{command:"github.copilot.collectDiagnostics"}]},configuration:[{title:"Copilot",properties:{"github.copilot.advanced":{type:"object",title:"Advanced Settings",properties:{secret_key:{type:"string",default:"",description:"Secret API key"},length:{type:"integer",default:500,description:"Length of code to generate in tokens"},temperature:{type:"string",default:"",description:"Override sampling temperature (range 0.0 - 1.0)"},top_p:{type:"number",default:1,description:"Top probability mass to consider"},stops:{type:"object",default:{"*":[`


`],python:[`
def `,`
class `,`
if `,`

#`]},description:"Configure per-language stop sequences"},indentationMode:{type:"object",default:{python:!1,javascript:!1,javascriptreact:!1,jsx:!1,typescript:!1,typescriptreact:!1,go:!1,ruby:!1,"*":!0},markdownDescription:"Enable or disable indentation block termination for specified [languages](https://code.visualstudio.com/docs/languages/identifiers). Set to 'clientandserver' to run both parser-based and indent-based termination."},inlineSuggestCount:{type:"integer",default:3,description:"Number of inline suggestions to fetch"},listCount:{type:"integer",default:10,description:"Number of solutions to list in Open GitHub Copilot"},authProvider:{type:"string",enum:["github","github-enterprise"],enumDescriptions:["GitHub.com","GitHub Enterprise"],default:"github",description:"The GitHub identity to use for Copilot"},"debug.showScores":{type:"boolean",default:!1,description:"Show scores in sorted solutions"},"debug.overrideEngine":{type:"string",default:"",description:"Override engine name"},"debug.overrideProxyUrl":{type:"string",default:"",description:"Override GitHub authentication proxy full URL"},"debug.testOverrideProxyUrl":{type:"string",default:"",description:"Override GitHub authentication proxy URL when running tests"},"debug.overrideCapiUrl":{type:"string",default:"",description:"Override GitHub Copilot API full URL"},"debug.testOverrideCapiUrl":{type:"string",default:"",description:"Override GitHub Copilot API URL when running tests"},"debug.filterLogCategories":{type:"array",default:[],description:"Show only log categories listed in this setting. If an array is empty, show all loggers"}}},"github.copilot.enable":{type:"object",default:{"*":!0,plaintext:!1,markdown:!1,scminput:!1},additionalProperties:"boolean",markdownDescription:"Enable or disable Copilot completions for specified [languages](https://code.visualstudio.com/docs/languages/identifiers)"},"github.copilot.inlineSuggest.enable":{type:"boolean",default:!0,deprecationMessage:"Deprecated: Please use github.copilot.editor.enableAutoCompletions instead.",description:"Show inline suggestions"},"github.copilot.editor.enableAutoCompletions":{type:"boolean",scope:"language-overridable",default:!0,description:"Automatically show inline completions"}}}],configurationDefaults:{"editor.tokenColorCustomizations":{"[*Light*]":{textMateRules:[{scope:"ref.matchtext",settings:{foreground:"#000"}}]},"[*Dark*]":{textMateRules:[{scope:"ref.matchtext",settings:{foreground:"#fff"}}]}}},languages:[{id:"code-referencing"}],grammars:[{language:"code-referencing",scopeName:"text.ref",path:"./syntaxes/ref.tmGrammar.json"}],icons:{"copilot-logo":{description:"GitHub Copilot icon",default:{fontPath:"assets/copilot.woff",fontCharacter:"\\0041"}},"copilot-warning":{description:"GitHub Copilot icon",default:{fontPath:"assets/copilot.woff",fontCharacter:"\\0042"}},"copilot-notconnected":{description:"GitHub Copilot icon",default:{fontPath:"assets/copilot.woff",fontCharacter:"\\0043"}},"copilot-chat":{description:"GitHub Copilot chat icon",default:{fontPath:"assets/copilot.woff",fontCharacter:"\\F101"}}},iconFonts:[{id:"copilot-font",src:[{path:"assets/copilot.woff",format:"woff"}]}]},scripts:{build:"run-s build:prompt build:root","build:prompt":"npm -C prompt run build","build:root":"tsx .esbuild.ts",clean:"./script/build/clean.sh","forbid-sources-content:extension":"node script/forbid-sources-content.js --extension",generate_languages:"ts-node script/generateLanguages.ts && prettier --write lib/src/language/generatedLanguages.ts",get_token:"ts-node script/getToken.ts",lint:"npm-run-all lint:*","lint:deps":"depcruise -c .dependency-cruiser.js .","lint:eslint":"eslint . --cache","lint:prettier":"prettier --check .","lint:types":"tsc --noEmit","lint:types-webview":"tsc --noEmit -p extension/src/copilotPanel/webview",prebuild:"./script/build/clean-deprecated-modules.sh && npm install",pretest:"npm run build","pretest:extension":"npm run build","pretest:lsp-client":"npm run build",prewatch:"npm run build",start:"npm run watch",test:'npm-run-all "test:* --ignore-scripts" lint',"test:agent":'mocha "agent/src/**/*.test.ts"',"test:extension":"tsx extension/test/runTest.ts","test:lib":'mocha "lib/src/**/*.test.ts"',"test:lib-e2e":'mocha "lib/e2e/src/**/*.test.ts"',"test:lsp-client":"npm -C lsp-client run test","test:prompt":"npm -C prompt run test","vscode-dts":"vscode-dts dev && mv vscode.proposed.*.ts extension/src","vscode:prepublish":'run-s "build --ignore-scripts" forbid-sources-content:extension',"vscode:uninstall":"node dist/extensionUninstalled.js",vsix:"vsce package",watch:"run-p watch:*","watch:prompt":"npm -C prompt run watch","watch:root":"tsx .esbuild.ts --watch","watch:types":"tsc --noEmit --watch --preserveWatchOutput"},workspaces:["prompt"],devDependencies:{"@datadog/datadog-ci":"^2.23.1","@github/prettier-config":"0.0.6","@types/crypto-js":"^4.1.1","@types/git-url-parse":"^9.0.1","@types/js-yaml":"^4.0.6","@types/kerberos":"^1.1.2","@types/mocha":"^10.0.6","@types/node":"^16.18.24","@types/sinon":"^10.0.13","@types/tunnel":"^0.0.3","@types/uuid":"^9.0.7","@types/vscode":"^1.75.0","@types/yargs":"^17.0.24","@typescript-eslint/eslint-plugin":"^6.18.0","@typescript-eslint/parser":"^6.18.0","@vscode/test-electron":"^2.3.8","@vscode/vsce":"^2.21.0",boxen:"^7.1.1",chalk:"^4.1.2","dependency-cruiser":"^13.0.2",electron:"^28.1.4",esbuild:"^0.19.9","esbuild-plugin-copy":"^2.1.1","esbuild-plugin-summary":"^0.0.2",eslint:"^8.56.0","eslint-plugin-no-only-tests":"^3.1.0",fantasticon:"^2.0.0",glob:"^10.3.4","js-yaml":"^4.1.0",mocha:"^10.3.0","mocha-junit-reporter":"^2.2.1","mocha-multi-reporters":"^1.5.1","npm-run-all":"^4.1.5",pkg:"^5.8.1",prettier:"3.0.1","prettier-plugin-organize-imports":"^3.2.3",proxy:"^2.1.1",sinon:"^16.0.0","ts-dedent":"^2.2.0","ts-mocha":"^10.0.0","ts-node":"^10.9.1",tsx:"^4.6.2","typed-emitter":"^2.1.0",typescript:"^5.1.6","vscode-dts":"^0.3.3","vscode-languageserver-protocol":"^3.17",zlib:"^1.0.5"},dependencies:{"@adobe/helix-fetch":"github:devm33/helix-fetch#1088e599270f36632703f138d88c2100cbe468db","@github/copilot-promptlib":"file:prompt","@github/memoize":"1.1.4","@microsoft/1ds-post-js":"^4.0.5","@microsoft/applicationinsights-web-basic":"^3.0.7","@roamhq/mac-ca":"^1.0.7","@sinclair/typebox":"^0.31.28","@types/vscode-webview":"^1.57.4","@vscode/webview-ui-toolkit":"^1.3.1",applicationinsights:"^2.7.3","crypto-js":"^4.2.0",diff:"^5.2.0",dldr:"^0.0.10","git-url-parse":"^13.1.0",ignore:"^5.2.4",kerberos:"^2.0.1",minimatch:"^9.0.3",open:"^8.4.2",semver:"^7.5.4",shiki:"^1.1.2","source-map-support":"^0.5.21",uuid:"^9.0.1","vscode-languageserver":"^8.1.0","vscode-languageserver-textdocument":"~1.0.11","vscode-uri":"^3.0.7","windows-ca-certs":"^0.0.3",yargs:"^17.7.2"},overrides:{bindings:"github:devm33/node-bindings#6b57e6883b34dbb6942467a7e49afce99d9d6832"}}});var mQ=k((IC,hQ)=>{(function(e,t){typeof IC=="object"&&typeof hQ<"u"?t(IC):typeof define=="function"&&define.amd?define(["exports"],t):(e=typeof globalThis<"u"?globalThis:e||self,t((e.Microsoft=e.Microsoft||{},e.Microsoft.ApplicationInsights=e.Microsoft.ApplicationInsights||{})))})(IC,function(e){"use strict";var t=void 0,r=null,n="",s="function",a="number",l="object",c="prototype",u="__proto__",f="string",d="undefined",p="constructor",h="Symbol",m="_polyfill",v="indexOf",_="length",b="value",S="name",A="slice",O=Object,L=O[c],D=String,$=D[c],de=Math,ue=Array,Ze=ue[c];function vr(E,w){var N=w;try{N=E()}catch{}return N}o(vr,"safeGet");function vt(E){return function(w){return typeof w===E}}o(vt,"_createIs");function wr(E){var w="[object "+E+"]";return function(N){return!!(N&&Ve(N)===w)}}o(wr,"_createObjIs");function Ve(E){return L.toString.call(E)}o(Ve,"objToString");function Me(E){return typeof E===d||E===d}o(Me,"isUndefined");function St(E){return E===r||Me(E)}o(St,"isNullOrUndefined");function br(E){return!!E||E!==t}o(br,"isDefined");var Yt=vt(f),hr=vt(s);function Mt(E){return!E&&St(E)?!1:!!E&&typeof E===l}o(Mt,"isObject");var yr=ue.isArray,Ee=vt(a),_e=wr("Error"),Er=O.getOwnPropertyDescriptor;function Vr(E,w){return E&&L.hasOwnProperty.call(E,w)}o(Vr,"objHasOwnProperty");var zr=O.hasOwn||jr;function jr(E,w){return Vr(E,w)||!!Er(E,w)}o(jr,"polyObjHasOwn");function Ri(E,w,N){if(E&&Mt(E)){for(var K in E)if(zr(E,K)&&w.call(N||E,K,E[K])===-1)break}}o(Ri,"objForEachKey");function je(E,w,N,K){var ce={};return Ri(E,function(At,pr){ce[At]=w?pr:At,ce[pr]=N?pr:At}),K(ce)}o(je,"_createKeyValueMap");function en(E){throw new Error(E)}o(en,"throwError");function Ke(E){throw new TypeError(E)}o(Ke,"throwTypeError");var un=O.freeze,tn=o(function(E){return E},"_doNothing"),fn=o(function(E){return E[u]||r},"_getProto"),Wi=O.assign;function Os(E){return(!Mt(E)||E===r)&&Ke("objKeys called on non-object"),O.keys(E)}o(Os,"objKeys");function Hi(E){return un&&Ri(E,function(w,N){(yr(N)||Mt(N))&&un(N)}),le(E)}o(Hi,"objDeepFreeze");var le=un||tn,Xi=O.getPrototypeOf||fn;function js(E){return je(E,1,0,Hi)}o(js,"createEnum");function Na(E){var w={};return Ri(E,function(N,K){w[N]=K[1],w[K[0]]=K[1]}),Hi(w)}o(Na,"createSimpleMap");function _c(E){return Na(E)}o(_c,"createTypeMap");var dl=D,Xf="__tsUtils$gblCfg",pl;function xc(){var E;return typeof globalThis!==d&&(E=globalThis),!E&&typeof self!==d&&(E=self),!E&&typeof window!==d&&(E=window),!E&&typeof global!==d&&(E=global),E}o(xc,"_getGlobalValue");function Qf(){if(!pl){var E=xc()||{};pl=E[Xf]=E[Xf]||{}}return pl}o(Qf,"_getGlobalConfig");function Y0(E,w){var N=n;if(_e(E))N="{ stack: '"+E.stack+"', message: '"+E.message+"', name: '"+E.name+"'";else try{N=JSON.stringify(E,r,w?Ee(w)?w:4:t)}catch(K){N=" - "+Y0(K,w)}return Ve(E)+": "+N}o(Y0,"dumpObj");var s0=Ze[A],Du=o(function(E,w){Ke("'"+dl(E)+"' not defined for "+Y0(w))},"_throwMissingFunction"),ae=o(function(E){return function(w){return w[E].apply(w,s0.call(arguments,1))}},"_unwrapInstFunction"),se=o(function(E,w){var N=w&&w[E];return function(K){var ce=K&&K[E]||N;if(ce)return ce.apply(K,s0.call(arguments,1));Du(E,K)}},"_unwrapFunction"),Hs=o(function(E,w,N){var K=w&&w[E];return function(ce){var At=ce&&ce[E]||K;if(At||N){var pr=arguments;return(At||N).apply(ce,At?s0.call(pr,1):pr)}Du(E,ce)}},"_unwrapFunctionWithPoly"),Z0=de.max,up=se(A,$),cu=se("substring",$),rf=Hs("substr",$,Wg);function Wg(E,w,N){return St(E)&&Ke("'polyStrSubstr called with invalid "+Y0(E)),N<0?n:(w=w||0,w<0&&(w=Z0(w+E[_],0)),Me(N)?up(E,w):up(E,w,w+N))}o(Wg,"polyStrSubstr");function Zs(E,w){return cu(E,0,w)}o(Zs,"strLeft");var Bh="_urid",fp;function Yg(){if(!fp){var E=Qf();fp=E.gblSym=E.gblSym||{k:{},s:{}}}return fp}o(Yg,"_globalSymbolRegistry");function nf(E){var w={description:dl(E),toString:function(){return h+"("+E+")"}};return w[m]=!0,w}o(nf,"polyNewSymbol");function H3(E){var w=Yg();if(!zr(w.k,E)){var N=nf(E),K=Os(w.s).length;N[Bh]=function(){return K+"_"+N.toString()},w.k[E]=N,w.s[N[Bh]()]=dl(E)}return w.k[E]}o(H3,"polySymbolFor");var dp={e:"enumerable",c:"configurable",v:b,w:"writable",g:"get",s:"set"};function Ey(E){var w={};if(w[dp.c]=!0,w[dp.e]=!0,E.l){w.get=function(){return E.l.v};var N=Er(E.l,"v");N&&N.set&&(w.set=function(K){E.l.v=K})}return Ri(E,function(K,ce){w[dp[K]]=Me(ce)?w[dp[K]]:ce}),w}o(Ey,"_createProp");var jd=O.defineProperty;function zl(E,w,N){return jd(E,w,Ey(N))}o(zl,"objDefine");var ha,Fh=o(function(){ha=Qf(),Fh=r},"_fetchLazyTestHooks");function hl(E){var w={};return Fh&&Fh(),w.b=ha.lzy,jd(w,"v",{configurable:!0,get:function(){var N=E();return ha.lzy||(jd(w,"v",{value:N}),w.b&&delete w.b),ha.lzy&&w.b!==ha.lzy&&(w.b=ha.lzy),N}}),w}o(hl,"getLazy");function qc(E,w){return hl(function(){return vr(E,w)})}o(qc,"safeGetLazy");var pp="window",Hd,hp,Uh,Xg,$3=o(function(E){return qc(function(){return Jf(E)||t},t)},"lazySafeGetInst"),$d=o(function(E){return(!Hd||E===!1||ha&&ha.lzy&&!Hd.b)&&(Hd=qc(xc,r)),Hd.v},"getGlobal"),Jf=o(function(E,w){var N=!Hd||w===!1?$d(w):Hd.v;return N&&N[E]?N[E]:E===pp&&hp?hp.v:r},"getInst"),Zf=o(function(){return(!Uh||ha&&ha.lzy&&!Uh.b)&&(Uh=$3("document")),Uh.v},"getDocument"),Cl=o(function(){return!!ma()},"hasWindow"),ma=o(function(){return(!hp||ha&&ha.lzy&&!hp.b)&&(hp=$3(pp)),hp.v},"getWindow"),Ty=o(function(){return!!mp()},"hasNavigator"),mp=o(function(){return(!Xg||ha&&ha.lzy&&!Xg.b)&&(Xg=$3("navigator")),Xg.v},"getNavigator"),Kl,V3,gp;function vp(E){return qc(function(){return Kl.v?Kl.v[E]:t},t)}o(vp,"_getSymbolValue");function G3(){var E=!Kl||ha&&ha.lzy&&!Kl.b;return E&&(Kl=$3(h)),(!V3||E)&&(V3=vp("for")),(!gp||E)&&(gp=vp("keyFor")),Kl.v}o(G3,"getSymbol");function Vd(E,w){return(!Kl||ha.lzy&&!Kl.b)&&G3(),Kl.v?Kl.v(E):w?r:nf(E)}o(Vd,"newSymbol");function z3(E){return(!V3||ha.lzy&&!Kl.b)&&G3(),(V3.v||H3)(E)}o(z3,"symbolFor");var sf=ae("apply");function Wl(E,w,N){if(E)for(var K=E[_]>>>0,ce=0;ce<K&&!(ce in E&&w.call(N||E,E[ce],ce,E)===-1);ce++);}o(Wl,"arrForEach");var Oa=se(v,Ze),K3=se("map",Ze),Gd=se(A,Ze),aN=ae("call"),zd=se("reduce",Ze),oN=O.create,Kd=oN||lN;function lN(E){if(!E)return{};var w=typeof E;if(w!==l&&w!==s)throw new TypeError("Prototype must be an Object or function: "+Y0(E));function N(){}return o(N,"tempFunc"),N[c]=E,new N}o(lN,"polyObjCreate");var ml;function W3(E,w){var N=O.setPrototypeOf||function(K,ce){!ml&&(ml=hl(function(){var At;return At={},At[u]=[],At instanceof Array})),ml.v?K[u]=ce:Ri(ce,function(At,pr){return K[At]=pr})};return N(E,w)}o(W3,"objSetPrototypeOf");var ab=o(function(E,w,N){ob(w,E),w=W3(w,N);function K(){this.constructor=w,ob(this,E)}return o(K,"__"),w[c]=N===r?Kd(N):(K[c]=N[c],new K),w},"_createCustomError"),Cy=o(function(E,w){try{w&&(E[S]=w)}catch{}},"_safeSetName"),ob=o(function(E,w){try{zl(E,S,{v:w,c:!0,e:!1})}catch{}},"_safeDefineName");function Qg(E,w,N){var K=N||Error,ce=K[c][S],At=Error.captureStackTrace;return ab(E,function(){var pr=this;try{Cy(K,E);var Tr=sf(K,pr,Gd(arguments))||pr;if(Tr!==pr){var Mr=Xi(pr);Mr!==Xi(Tr)&&W3(Tr,Mr)}return At&&At(Tr,pr[p]),w&&w(Tr,arguments),Tr}finally{Cy(K,ce)}},K)}o(Qg,"createCustomError");function Jg(){return(Date.now||Y3)()}o(Jg,"utcNow");function Y3(){return new Date().getTime()}o(Y3,"polyUtcNow");function Sy(E){return o(function(N){return St(N)&&Ke("strTrim called ["+Y0(N)+"]"),N&&N.replace&&(N=N.replace(E,n)),N},"_doTrim")}o(Sy,"_createTrimFn");var Iy=Sy(/^\s+|(?=\s)\s+$/g),Wd=Hs("trim",$,Iy),qh,Ay,Yd;function Lu(E){if(!E||typeof E!==l)return!1;Yd||(Yd=Cl()?ma():!0);var w=!1;if(E!==Yd){Ay||(qh=Function[c].toString,Ay=aN(qh,O));try{var N=Xi(E);w=!N,w||(Vr(N,p)&&(N=N[p]),w=N&&typeof N===s&&qh.call(N)===Ay)}catch{}}return w}o(Lu,"isPlainObject");var Ss;function uu(){return(!Ss||!Ss.b&&ha&&ha.lzy)&&(Ss=$3("performance")),Ss.v}o(uu,"getPerformance");var X3=Hs("endsWith",$,Xd);function Xd(E,w,N){Yt(E)||Ke("'"+Y0(E)+"' is not a string");var K=Yt(w)?w:dl(w),ce=K[_],At=E[_],pr=!Me(N)&&N<At?N:At;return cu(E,pr-ce,pr)===K}o(Xd,"polyStrEndsWith");var yp=se(v,$),Zg="ref",wy="un"+Zg,e4="hasRef",lb="enabled";function Ry(E,w,N){var K,ce=!0,At=E?w(r):r,pr,Tr=o(function(){return ce=!1,At&&At[wy]&&At[wy](),pr},"_unref"),Mr=o(function(){return ce=!0,At&&At[Zg]&&At[Zg](),pr},"_ref"),rn=o(function(){return At&&At[e4]?At[e4]():ce},"_hasRef"),Di=o(function(){return At=w(At),ce||Tr(),pr},"_refresh"),Ps=o(function(){At&&N(At),At=r},"_cancel"),As=o(function(Ns){!Ns&&At&&Ps(),Ns&&!At&&Di()},"_setEnabled");return pr=(K={cancel:Ps,refresh:Di},K[e4]=rn,K[Zg]=Mr,K[wy]=Tr,K[lb]=!1,K),jd(pr,lb,{get:function(){return!!At},set:As}),{h:pr,dn:function(){At=r}}}o(Ry,"_createTimerHandler");function cb(E,w,N,K){var ce=yr(N),At=ce?N.length:0,pr=(At>0?N[0]:ce?t:N)||setTimeout,Tr=(At>1?N[1]:t)||clearTimeout,Mr=K[0];K[0]=function(){rn.dn(),sf(Mr,E,Gd(arguments))};var rn=Ry(w,function(Di){if(Di){if(Di.refresh)return Di.refresh(),Di;sf(Tr,E,[Di])}return sf(pr,E,K)},function(Di){sf(Tr,E,[Di])});return rn.h}o(cb,"_createTimeoutWith");function cN(E,w){return cb(this,!0,t,Gd(arguments))}o(cN,"scheduleTimeout");var t4=js,ub=_c,r4="toLowerCase",ed="blkVal",Sl="length",n4="rdOnly",Py="notify",Yl="warnToConsole",_p="throwInternal",Q3="setDf",J3="watch",Ka="logger",uN="apply",Qd="push",fN="splice",i4="hdlr",fb="cancel",Ny="name",dN="unload",Oy="version",pN="loggingLevelConsole",Dy="messageId",jh="message",db="diagLog",Ly="userAgent",hN="split",Z3="replace",mN="logInternalMessage",Hh="traceId",e2="spanId",$h="traceFlags",t2;function pb(E,w){t2||(t2=Qg("AggregationError",function(K,ce){ce[Sl]>1&&(K.errors=ce[1])}));var N=E||"One or more errors occurred.";throw Wl(w,function(K,ce){N+=`
`.concat(ce," > ").concat(Y0(K))}),new t2(N,w||[])}o(pb,"throwAggregationError");var gN="function",hb="object",xp="undefined",s4="prototype",r2=Object,a4=r2[s4];($d()||{}).Symbol,($d()||{}).Reflect;var td="hasOwnProperty",o4=o(function(E){for(var w,N=1,K=arguments.length;N<K;N++){w=arguments[N];for(var ce in w)a4[td].call(w,ce)&&(E[ce]=w[ce])}return E},"__objAssignFnImpl"),bp=Wi||o4,n2=o(function(E,w){return n2=r2.setPrototypeOf||{__proto__:[]}instanceof Array&&function(N,K){N.__proto__=K}||function(N,K){for(var ce in K)K[td](ce)&&(N[ce]=K[ce])},n2(E,w)},"extendStaticsFn");function Vh(E,w){typeof w!==gN&&w!==null&&Ke("Class extends value "+String(w)+" is not a constructor or null"),n2(E,w);function N(){this.constructor=E}o(N,"__"),E[s4]=w===null?Kd(w):(N[s4]=w[s4],new N)}o(Vh,"__extendsFn");var l4,Gh="constructor",fu="prototype",i2="function",s2="_dynInstFuncs",c4="_isDynProxy",rd="_dynClass",mb="_dynCls$",a2="_dynInstChk",Jd=a2,u4="_dfOpts",f4="_unknown_",zh="__proto__",o2="_dyn"+zh,ky="__dynProto$Gbl",l2="_dynInstProto",c2="useBaseInst",u2="setInstFuncs",nd=Object,Zd=nd.getPrototypeOf,d4=nd.getOwnPropertyNames,f2=$d(),My=f2[ky]||(f2[ky]={o:(l4={},l4[u2]=!0,l4[c2]=!0,l4),n:1e3});function p4(E){return E&&(E===nd[fu]||E===Array[fu])}o(p4,"_isObjectOrArrayPrototype");function By(E){return p4(E)||E===Function[fu]}o(By,"_isObjectArrayOrFunctionPrototype");function Ep(E){var w;if(E){if(Zd)return Zd(E);var N=E[zh]||E[fu]||(E[Gh]?E[Gh][fu]:null);w=E[o2]||N,Vr(E,o2)||(delete E[l2],w=E[o2]=E[l2]||E[o2],E[l2]=N)}return w}o(Ep,"_getObjProto");function h4(E,w){var N=[];if(d4)N=d4(E);else for(var K in E)typeof K=="string"&&Vr(E,K)&&N.push(K);if(N&&N.length>0)for(var ce=0;ce<N.length;ce++)w(N[ce])}o(h4,"_forEachProp");function Fy(E,w,N){return w!==Gh&&typeof E[w]===i2&&(N||Vr(E,w))}o(Fy,"_isDynamicCandidate");function m4(E){Ke("DynamicProto: "+E)}o(m4,"_throwTypeError");function Uy(E){var w={};return h4(E,function(N){!w[N]&&Fy(E,N,!1)&&(w[N]=E[N])}),w}o(Uy,"_getInstanceFuncs");function Il(E,w){for(var N=E.length-1;N>=0;N--)if(E[N]===w)return!0;return!1}o(Il,"_hasVisited");function vN(E,w,N,K){function ce(Mr,rn,Di){var Ps=rn[Di];if(Ps[c4]&&K){var As=Mr[s2]||{};As[Jd]!==!1&&(Ps=(As[rn[rd]]||{})[Di]||Ps)}return function(){return Ps.apply(Mr,arguments)}}o(ce,"_instFuncProxy");var At={};h4(N,function(Mr){At[Mr]=ce(w,N,Mr)});for(var pr=Ep(E),Tr=[];pr&&!By(pr)&&!Il(Tr,pr);)h4(pr,function(Mr){!At[Mr]&&Fy(pr,Mr,!Zd)&&(At[Mr]=ce(w,pr,Mr))}),Tr.push(pr),pr=Ep(pr);return At}o(vN,"_getBaseFuncs");function gb(E,w,N,K){var ce=null;if(E&&Vr(N,rd)){var At=E[s2]||{};if(ce=(At[N[rd]]||{})[w],ce||m4("Missing ["+w+"] "+i2),!ce[a2]&&At[Jd]!==!1){for(var pr=!Vr(E,w),Tr=Ep(E),Mr=[];pr&&Tr&&!By(Tr)&&!Il(Mr,Tr);){var rn=Tr[w];if(rn){pr=rn===K;break}Mr.push(Tr),Tr=Ep(Tr)}try{pr&&(E[w]=ce),ce[a2]=1}catch{At[Jd]=!1}}}return ce}o(gb,"_getInstFunc");function vb(E,w,N){var K=w[E];return K===N&&(K=Ep(w)[E]),typeof K!==i2&&m4("["+E+"] is not a "+i2),K}o(vb,"_getProtoFunc");function d2(E,w,N,K,ce){function At(Mr,rn){var Di=o(function(){var Ps=gb(this,rn,Mr,Di)||vb(rn,Mr,Di);return Ps.apply(this,arguments)},"dynProtoProxy");return Di[c4]=1,Di}if(o(At,"_createDynamicPrototype"),!p4(E)){var pr=N[s2]=N[s2]||{},Tr=pr[w]=pr[w]||{};pr[Jd]!==!1&&(pr[Jd]=!!ce),h4(N,function(Mr){Fy(N,Mr,!1)&&N[Mr]!==K[Mr]&&(Tr[Mr]=N[Mr],delete N[Mr],(!Vr(E,Mr)||E[Mr]&&!E[Mr][c4])&&(E[Mr]=At(E,Mr)))})}}o(d2,"_populatePrototype");function qy(E,w){if(Zd){for(var N=[],K=Ep(w);K&&!By(K)&&!Il(N,K);){if(K===E)return!0;N.push(K),K=Ep(K)}return!1}return!0}o(qy,"_checkPrototype");function jy(E,w){return Vr(E,fu)?E.name||w||f4:((E||{})[Gh]||{}).name||w||f4}o(jy,"_getObjName");function g4(E,w,N,K){Vr(E,fu)||m4("theClass is an invalid class definition.");var ce=E[fu];qy(ce,w)||m4("["+jy(E)+"] not in hierarchy of ["+jy(w)+"]");var At=null;Vr(ce,rd)?At=ce[rd]:(At=mb+jy(E,"_")+"$"+My.n,My.n++,ce[rd]=At);var pr=g4[u4],Tr=!!pr[c2];Tr&&K&&K[c2]!==void 0&&(Tr=!!K[c2]);var Mr=Uy(w),rn=vN(ce,w,Mr,Tr);N(w,rn);var Di=!!Zd&&!!pr[u2];Di&&K&&(Di=!!K[u2]),d2(ce,At,w,Mr,Di!==!1)}o(g4,"dynamicProto"),g4[u4]=My.o;var yN=void 0,Da="",Hy="Not dynamic - ",p2=/-([a-z])/g,yb=/([^\w\d_$])/g,$y=/^(\d+[\w\d_$])/;function Vy(E){return!St(E)}o(Vy,"isNotNullOrUndefined");function v4(E){var w=E;return w&&Yt(w)&&(w=w[Z3](p2,function(N,K){return K.toUpperCase()}),w=w[Z3](yb,"_"),w=w[Z3]($y,function(N,K){return"_"+K})),w}o(v4,"normalizeJsName");function h2(E,w){return E&&w?yp(E,w)!==-1:!1}o(h2,"strContains");function g0(E){return E&&E.toISOString()||""}o(g0,"toISOString");function id(E){return _e(E)?E[Ny]:Da}o(id,"getExceptionName");function y4(E){return function(){function w(){var N=this;E&&Ri(E,function(K,ce){N[K]=ce})}return o(w,"class_1"),w}()}o(y4,"createClassFromInterface");var _4="console",Kh="JSON",Wh="crypto",sd="msCrypto",La="msie",x4="trident/",M0=null,Tp=null,b4=null;function m2(){return typeof console!==xp?console:Jf(_4)}o(m2,"getConsole");function Yh(){return!!(typeof JSON===hb&&JSON||Jf(Kh)!==null)}o(Yh,"hasJSON");function ad(){return Yh()?JSON||Jf(Kh):null}o(ad,"getJSON");function af(){return Jf(Wh)}o(af,"getCrypto");function g2(){return Jf(sd)}o(g2,"getMsCrypto");function _b(){var E=mp();if(E&&(E[Ly]!==Tp||M0===null)){Tp=E[Ly];var w=(Tp||Da)[r4]();M0=h2(w,La)||h2(w,x4)}return M0}o(_b,"isIE");function Cp(E){return(b4===null||E===!1)&&(b4=Ty()&&!!mp().sendBeacon),b4}o(Cp,"isBeaconsSupported");function Sp(E,w){if(E)for(var N=0;N<E[Sl];N++){var K=E[N];if(K[Ny]&&K[Ny]===w)return K}return{}}o(Sp,"_getNamedValue");function Xl(E){var w=Zf();return w&&E?Sp(w.querySelectorAll("meta"),E).content:null}o(Xl,"findMetaTag");function xb(E){var w,N=uu();if(N){var K=N.getEntriesByType("navigation")||[];w=Sp((K[Sl]>0?K[0]:{}).serverTiming,E).description}return w}o(xb,"findNamedServerTiming");var Xh=4294967296,ku=4294967295,v2=123456789,Ip=987654321,Gy=!1,du=v2,e1=Ip;function bb(E){E<0&&(E>>>=0),du=v2+E&ku,e1=Ip-E&ku,Gy=!0}o(bb,"_mwcSeed");function Eb(){try{var E=Jg()&2147483647;bb((Math.random()*Xh^E)+E)}catch{}}o(Eb,"_autoSeedMwc");function Ap(E){return E>0?Math.floor(jc()/ku*(E+1))>>>0:0}o(Ap,"randomValue");function jc(E){var w=0,N=af()||g2();return N&&N.getRandomValues&&(w=N.getRandomValues(new Uint32Array(1))[0]&ku),w===0&&_b()&&(Gy||Eb(),w=E4()&ku),w===0&&(w=Math.floor(Xh*Math.random()|0)),E||(w>>>=0),w}o(jc,"random32");function E4(E){e1=36969*(e1&65535)+(e1>>16)&ku,du=18e3*(du&65535)+(du>>16)&ku;var w=(e1<<16)+(du&65535)>>>0&ku|0;return E||(w>>>=0),w}o(E4,"mwcRandom32");function Qh(E){E===void 0&&(E=22);for(var w="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",N=jc()>>>0,K=0,ce=Da;ce[Sl]<E;)K++,ce+=w.charAt(N&63),N>>>=6,K===5&&(N=(jc()<<2&4294967295|N&3)>>>0,K=0);return ce}o(Qh,"newId");var Jh="3.0.7",od="."+Qh(6),zy=0;function y2(E,w){return w===void 0&&(w=!1),v4(E+zy+++(w?"."+Jh:Da)+od)}o(y2,"createUniqueNamespace");function Hc(E){return E&&Mt(E)&&(E.isVal||E.fb||zr(E,"v")||zr(E,"mrg")||zr(E,"ref")||E.set)}o(Hc,"_isConfigDefaults");function Zh(E,w,N){var K,ce=N.dfVal||br;if(w&&N.fb){var At=N.fb;yr(At)||(At=[At]);for(var pr=0;pr<At[Sl];pr++){var Tr=At[pr],Mr=w[Tr];if(ce(Mr)?K=Mr:E&&(Mr=E.cfg[Tr],ce(Mr)&&(K=Mr),E.set(E.cfg,dl(Tr),Mr)),ce(K))break}}return!ce(K)&&ce(N.v)&&(K=N.v),K}o(Zh,"_getDefault");function _2(E,w,N){var K=N;if(N&&Hc(N)&&(K=Zh(E,w,N)),K){Hc(K)&&(K=_2(E,w,K));var ce;yr(K)?(ce=[],ce[Sl]=K[Sl]):Lu(K)&&(ce={}),ce&&(Ri(K,function(At,pr){pr&&Hc(pr)&&(pr=_2(E,w,pr)),ce[At]=pr}),K=ce)}return K}o(_2,"_resolveDefaultValue");function e5(E,w,N,K){var ce,At,pr,Tr=K,Mr,rn,Di,Ps;Hc(Tr)?(ce=Tr.isVal,At=Tr.set,Di=Tr[n4],Ps=Tr[ed],Mr=Tr.mrg,rn=Tr.ref,!rn&&Me(rn)&&(rn=!!Mr),pr=Zh(E,w,Tr)):pr=K,Ps&&E[ed](w,N);var As,Ns=!0,Yi=w[N];(Yi||!St(Yi))&&(As=Yi,Ns=!1,ce&&As!==pr&&!ce(As)&&(As=pr,Ns=!0),At&&(As=At(As,pr,w),Ns=As===pr)),Ns?pr?As=_2(E,w,pr):As=pr:(Lu(As)||yr(pr))&&Mr&&pr&&(Lu(pr)||yr(pr))&&Ri(pr,function($s,ws){e5(E,As,$s,ws)}),E.set(w,N,As),rn&&E.ref(w,N),Di&&E[n4](w,N)}o(e5,"_applyDefaultValue");var of=z3("[[ai_dynCfg_1]]"),wp=z3("[[ai_blkDynCfg_1]]"),_N=z3("[[ai_frcDynCfg_1]]");function lf(E){if(E){var w;if(yr(E)?(w=[],w[Sl]=E[Sl]):Lu(E)&&(w={}),w)return Ri(E,function(N,K){w[N]=lf(K)}),w}return E}o(lf,"_cfgDeepCopy");function Ky(E){if(E){var w=E[of]||E;if(w.cfg&&(w.cfg===E||w.cfg[of]===w))return w}return null}o(Ky,"getDynamicConfigHandler");function Wy(E){if(E&&(Lu(E)||yr(E)))try{E[wp]=!0}catch{}return E}o(Wy,"blockDynamicConversion");function t1(E,w,N){var K=!1;return N&&!E[w.blkVal]&&(K=N[_N],!K&&!N[wp]&&(K=Lu(N)||yr(N))),K}o(t1,"_canMakeDynamic");function Mu(E){Ke("InvalidAccess:"+E)}o(Mu,"throwInvalidAccess");var Yy=["push","pop","shift","unshift","splice"],t5=o(function(E,w,N,K){E&&E[_p](3,108,"".concat(N," [").concat(w,"] failed - ")+Y0(K))},"_throwDynamicError");function Tb(E,w,N){yr(w)&&Wl(Yy,function(K){var ce=w[K];w[K]=function(){for(var At=[],pr=0;pr<arguments.length;pr++)At[pr]=arguments[pr];var Tr=ce[uN](this,At);return b2(E,w,N,"Patching"),Tr}})}o(Tb,"_patchArray");function x2(E,w){var N=Er(E,w);return N&&N.get}o(x2,"_getOwnPropGetter");function Xy(E,w,N,K){var ce={n:N,h:[],trk:function(rn){rn&&rn.fn&&(Oa(ce.h,rn)===-1&&ce.h[Qd](rn),E.trk(rn,ce))},clr:function(rn){var Di=Oa(ce.h,rn);Di!==-1&&ce.h[fN](Di,1)}},At=!0,pr=!1;function Tr(){At&&(pr=pr||t1(Tr,E,K),K&&!K[of]&&pr&&(K=b2(E,K,N,"Converting")),At=!1);var rn=E.act;return rn&&ce.trk(rn),K}o(Tr,"_getProperty"),Tr[E.prop]={chng:function(){E.add(ce)}};function Mr(rn){if(K!==rn){Tr[E.ro]&&!E.upd&&Mu("["+N+"] is read-only:"+Y0(w)),At&&(pr=pr||t1(Tr,E,K),At=!1);var Di=pr&&Tr[E.rf];if(pr)if(Di){Ri(K,function(As){K[As]=rn?rn[As]:yN});try{Ri(rn,function(As,Ns){T4(E,K,As,Ns)}),rn=K}catch(As){t5((E.hdlr||{})[Ka],N,"Assigning",As),pr=!1}}else K&&K[of]&&Ri(K,function(As){var Ns=x2(K,As);if(Ns){var Yi=Ns[E.prop];Yi&&Yi.chng()}});if(rn!==K){var Ps=rn&&t1(Tr,E,rn);!Di&&Ps&&(rn=b2(E,rn,N,"Converting")),K=rn,pr=Ps}E.add(ce)}}o(Mr,"_setProperty"),zl(w,ce.n,{g:Tr,s:Mr})}o(Xy,"_createDynamicProperty");function T4(E,w,N,K){if(w){var ce=x2(w,N),At=ce&&!!ce[E.prop];At?w[N]=K:Xy(E,w,N,K)}return w}o(T4,"_setDynamicProperty");function r5(E,w,N,K){if(w){var ce=x2(w,N),At=ce&&!!ce[E.prop],pr=K&&K[0],Tr=K&&K[1],Mr=K&&K[2];if(!At){if(Mr)try{Wy(w)}catch(rn){t5((E.hdlr||{})[Ka],N,"Blocking",rn)}try{T4(E,w,N,w[N]),ce=x2(w,N)}catch(rn){t5((E.hdlr||{})[Ka],N,"State",rn)}}pr&&(ce[E.rf]=pr),Tr&&(ce[E.ro]=Tr),Mr&&(ce[E.blkVal]=!0)}return w}o(r5,"_setDynamicPropertyState");function b2(E,w,N,K){try{Ri(w,function(ce,At){T4(E,w,ce,At)}),w[of]||(jd(w,of,{get:function(){return E[i4]}}),Tb(E,w,N))}catch(ce){t5((E.hdlr||{})[Ka],N,K,ce)}return w}o(b2,"_makeDynamicObject");var E2="[[ai_",n5="]]";function Cb(E){var w,N=Vd(E2+"get"+E.uid+n5),K=Vd(E2+"ro"+E.uid+n5),ce=Vd(E2+"rf"+E.uid+n5),At=Vd(E2+"blkVal"+E.uid+n5),pr=Vd(E2+"dtl"+E.uid+n5),Tr=null,Mr=null,rn;function Di(Yi,$s){var ws=rn.act;try{rn.act=Yi,Yi&&Yi[pr]&&(Wl(Yi[pr],function(r0){r0.clr(Yi)}),Yi[pr]=[]),$s({cfg:E.cfg,set:E.set.bind(E),setDf:E[Q3].bind(E),ref:E.ref.bind(E),rdOnly:E[n4].bind(E)})}catch(r0){var w0=E[Ka];throw w0&&w0[_p](1,107,Y0(r0)),r0}finally{rn.act=ws||null}}o(Di,"_useHandler");function Ps(){if(Tr){var Yi=Tr;Tr=null,Mr&&Mr[fb](),Mr=null;var $s=[];if(Wl(Yi,function(ws){if(ws&&(ws[pr]&&(Wl(ws[pr],function(w0){w0.clr(ws)}),ws[pr]=null),ws.fn))try{Di(ws,ws.fn)}catch(w0){$s[Qd](w0)}}),Tr)try{Ps()}catch(ws){$s[Qd](ws)}$s[Sl]>0&&pb("Watcher error(s): ",$s)}}o(Ps,"_notifyWatchers");function As(Yi){if(Yi&&Yi.h[Sl]>0){Tr||(Tr=[]),Mr||(Mr=cN(function(){Mr=null,Ps()},0));for(var $s=0;$s<Yi.h[Sl];$s++){var ws=Yi.h[$s];ws&&Oa(Tr,ws)===-1&&Tr[Qd](ws)}}}o(As,"_addWatcher");function Ns(Yi,$s){if(Yi){var ws=Yi[pr]=Yi[pr]||[];Oa(ws,$s)===-1&&ws[Qd]($s)}}return o(Ns,"_trackHandler"),rn=(w={prop:N,ro:K,rf:ce},w[ed]=At,w[i4]=E,w.add=As,w[Py]=Ps,w.use=Di,w.trk=Ns,w),rn}o(Cb,"_createState");function C4(E,w){var N={fn:w,rm:function(){N.fn=null,E=null,w=null}};return E.use(N,w),N}o(C4,"_createAndUseHandler");function xN(E,w,N){var K,ce=Ky(w);if(ce)return ce;var At=y2("dyncfg",!0),pr=w&&N!==!1?w:lf(w),Tr;function Mr(){Tr[Py]()}o(Mr,"_notifyWatchers");function rn(w0,r0,b0){try{w0=T4(Tr,w0,r0,b0)}catch(vl){t5(E,r0,"Setting value",vl)}return w0[r0]}o(rn,"_setValue");function Di(w0){return C4(Tr,w0)}o(Di,"_watch");function Ps(w0,r0){Tr.use(null,function(b0){var vl=Tr.upd;try{Me(r0)||(Tr.upd=r0),w0(b0)}finally{Tr.upd=vl}})}o(Ps,"_block");function As(w0,r0){var b0;return r5(Tr,w0,r0,(b0={},b0[0]=!0,b0))[r0]}o(As,"_ref");function Ns(w0,r0){var b0;return r5(Tr,w0,r0,(b0={},b0[1]=!0,b0))[r0]}o(Ns,"_rdOnly");function Yi(w0,r0){var b0;return r5(Tr,w0,r0,(b0={},b0[2]=!0,b0))[r0]}o(Yi,"_blkPropValue");function $s(w0,r0){return r0&&Ri(r0,function(b0,vl){e5(ws,w0,b0,vl)}),w0}o($s,"_applyDefaults");var ws=(K={uid:null,cfg:pr},K[Ka]=E,K[Py]=Mr,K.set=rn,K[Q3]=$s,K[J3]=Di,K.ref=As,K[n4]=Ns,K[ed]=Yi,K._block=Ps,K);return zl(ws,"uid",{c:!1,e:!1,w:!1,v:At}),Tr=Cb(ws),b2(Tr,pr,"config","Creating"),ws}o(xN,"_createDynamicHandler");function S4(E,w){E?(E[Yl](w),E[_p](2,108,w)):Mu(w)}o(S4,"_logInvalidAccess");function Qy(E,w,N,K){var ce=xN(N,E||{},K);return w&&ce[Q3](ce.cfg,w),ce}o(Qy,"createDynamicConfig");function Sb(E,w,N){var K=E[of]||E;return K.cfg&&(K.cfg===E||K.cfg[of]===K)?K[J3](w):(S4(N,Hy+Y0(E)),Qy(E,null,N)[J3](w))}o(Sb,"onConfigChange");var I4=null;function Jy(){var E=Jf("Microsoft");return E&&(I4=E.ApplicationInsights),I4}o(Jy,"_getExtensionNamespace");function Ib(E){var w=I4;return!w&&E.disableDbgExt!==!0&&(w=I4||Jy()),w?w.ChromeDbgExt:null}o(Ib,"getDebugExt");var i5,Ab="warnToConsole",bN="AI (Internal): ",EN="AI: ",wb="AITR_",Zy={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},TN=(i5={},i5[0]=null,i5[1]="errorToConsole",i5[2]=Ab,i5[3]="debugToConsole",i5);function A4(E){return E?'"'+E[Z3](/\"/g,Da)+'"':Da}o(A4,"_sanitizeDiagnosticText");function r1(E,w){var N=m2();if(N){var K="log";N[E]&&(K=E),hr(N[K])&&N[K](w)}}o(r1,"_logToConsole");var Rb=function(){function E(w,N,K,ce){K===void 0&&(K=!1);var At=this;At[Dy]=w,At[jh]=(K?EN:bN)+w;var pr=Da;Yh()&&(pr=ad().stringify(ce));var Tr=(N?" message:"+A4(N):Da)+(ce?" props:"+A4(pr):Da);At[jh]+=Tr}return o(E,"_InternalLogMessage"),E.dataType="MessageData",E}();function cf(E,w){return(E||{})[Ka]||new f0(w)}o(cf,"safeGetLogger");var f0=function(){function E(w){this.identifier="DiagnosticLogger",this.queue=[];var N=0,K={},ce,At,pr,Tr,Mr;g4(E,this,function(rn){Mr=Ps(w||{}),rn.consoleLoggingLevel=function(){return ce},rn[_p]=function(Yi,$s,ws,w0,r0){r0===void 0&&(r0=!1);var b0=new Rb($s,ws,r0,w0);if(Tr)throw Y0(b0);var vl=TN[Yi]||Ab;if(Me(b0[jh]))Ns("throw"+(Yi===1?"Critical":"Warning"),b0);else{if(r0){var W4=+b0[Dy];!K[W4]&&ce>=Yi&&(rn[vl](b0[jh]),K[W4]=!0)}else ce>=Yi&&rn[vl](b0[jh]);Di(Yi,b0)}},rn.debugToConsole=function(Yi){r1("debug",Yi),Ns("warning",Yi)},rn[Yl]=function(Yi){r1("warn",Yi),Ns("warning",Yi)},rn.errorToConsole=function(Yi){r1("error",Yi),Ns("error",Yi)},rn.resetInternalMessageCount=function(){N=0,K={}},rn[mN]=Di,rn[dN]=function(Yi){Mr&&Mr.rm(),Mr=null};function Di(Yi,$s){if(!As()){var ws=!0,w0=wb+$s[Dy];if(K[w0]?ws=!1:K[w0]=!0,ws&&(Yi<=At&&(rn.queue[Qd]($s),N++,Ns(Yi===1?"error":"warn",$s)),N===pr)){var r0="Internal events throttle limit per PageView reached for this app.",b0=new Rb(23,r0,!1);rn.queue[Qd](b0),Yi===1?rn.errorToConsole(r0):rn[Yl](r0)}}}o(Di,"_logInternalMessage");function Ps(Yi){return Sb(Qy(Yi,Zy,rn).cfg,function($s){var ws=$s.cfg;ce=ws[pN],At=ws.loggingLevelTelemetry,pr=ws.maxMessageLimit,Tr=ws.enableDebug})}o(Ps,"_setDefaultsFromConfig");function As(){return N>=pr}o(As,"_areInternalMessagesThrottled");function Ns(Yi,$s){var ws=Ib(w||{});ws&&ws[db]&&ws[db](Yi,$s)}o(Ns,"_debugExtMsg")})}return o(E,"DiagnosticLogger"),E.__ieDyn=1,E}();function Rp(E){return E||new f0}o(Rp,"_getLogger");function A0(E,w,N,K,ce,At){At===void 0&&(At=!1),Rp(E)[_p](w,N,K,ce,At)}o(A0,"_throwInternal");function w4(){for(var E=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],w=Da,N,K=0;K<4;K++)N=jc(),w+=E[N&15]+E[N>>4&15]+E[N>>8&15]+E[N>>12&15]+E[N>>16&15]+E[N>>20&15]+E[N>>24&15]+E[N>>28&15];var ce=E[8+(jc()&3)|0];return rf(w,0,8)+rf(w,9,4)+"4"+rf(w,13,3)+ce+rf(w,16,3)+rf(w,19,12)}o(w4,"generateW3CId");var e9=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})(-[^\s]{1,64})?$/i,n1="00",i1="ff",$c="00000000000000000000000000000000",Pp="0000000000000000",T2=1;function Vc(E,w,N){return E&&E[Sl]===w&&E!==N?!!E.match(/^[\da-f]*$/i):!1}o(Vc,"_isValid");function C2(E,w,N){return Vc(E,w)?E:N}o(C2,"_formatValue");function s1(E){(isNaN(E)||E<0||E>255)&&(E=1);for(var w=E.toString(16);w[Sl]<2;)w="0"+w;return w}o(s1,"_formatFlags");function R4(E,w,N,K){var ce;return ce={},ce[Oy]=Vc(K,2,i1)?K:n1,ce[Hh]=I2(E)?E:w4(),ce[e2]=t9(w)?w:Zs(w4(),16),ce.traceFlags=N>=0&&N<=255?N:1,ce}o(R4,"createTraceParent");function S2(E,w){var N;if(!E||(yr(E)&&(E=E[0]||""),!E||!Yt(E)||E[Sl]>8192))return null;if(E.indexOf(",")!==-1){var K=E[hN](",");E=K[w>0&&K[Sl]>w?w:0]}var ce=e9.exec(Wd(E));return!ce||ce[1]===i1||ce[2]===$c||ce[3]===Pp?null:(N={version:(ce[1]||Da)[r4](),traceId:(ce[2]||Da)[r4](),spanId:(ce[3]||Da)[r4]()},N[$h]=parseInt(ce[4],16),N)}o(S2,"parseTraceParent");function I2(E){return Vc(E,32,$c)}o(I2,"isValidTraceId");function t9(E){return Vc(E,16,Pp)}o(t9,"isValidSpanId");function Pb(E){return!(!E||!Vc(E[Oy],2,i1)||!Vc(E[Hh],32,$c)||!Vc(E[e2],16,Pp)||!Vc(s1(E[$h]),2))}o(Pb,"isValidTraceParent");function CN(E){return Pb(E)?(E[$h]&T2)===T2:!1}o(CN,"isSampledFlag");function SN(E){if(E){var w=s1(E[$h]);Vc(w,2)||(w="01");var N=E[Oy]||n1;return N!=="00"&&N!=="ff"&&(N=n1),"".concat(N.toLowerCase(),"-").concat(C2(E.traceId,32,$c).toLowerCase(),"-").concat(C2(E.spanId,16,Pp).toLowerCase(),"-").concat(w.toLowerCase())}return""}o(SN,"formatTraceParent");function r9(E){var w="traceparent",N=S2(Xl(w),E);return N||(N=S2(xb(w),E)),N}o(r9,"findW3cTraceParent");var n9="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",Al="sampleRate",P4="ProcessLegacy",bc="http.method",ld="https://dc.services.visualstudio.com",N4="/v2/track",uf="not_specified",s5="iKey",O4=ub({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]}),a5="split",Ds="length",Np="toLowerCase",Op="ingestionendpoint",o5="toString",i9="removeItem",pu="name",a1="message",l5="count",A2="preTriggerDate",w2="disabled",D4="interval",L4="daysOfMonth",R2="date",s9="getUTCDate",cd="stringify",c5="pathname",a9="correlationHeaderExcludePatterns",k4="extensionConfig",u5="exceptions",Ec="parsedStack",wl="properties",ud="measurements",f5="sizeInBytes",Bu="typeName",P2="severityLevel",d5="problemGroup",M4="isManual",Nb="CreateFromInterface",Dp="assembly",o1="fileName",ff="hasFullStack",N2="level",Lp="method",p5="line",l1="duration",h5="receivedResponse";function o9(E,w,N){var K=w[Ds],ce=Ob(E,w);if(ce[Ds]!==K){for(var At=0,pr=ce;N[pr]!==void 0;)At++,pr=cu(ce,0,147)+f1(At);ce=pr}return ce}o(o9,"dataSanitizeKeyAndAddUniqueness");function Ob(E,w){var N;return w&&(w=Wd(dl(w)),w[Ds]>150&&(N=cu(w,0,150),A0(E,2,57,"name is too long.  It has been truncated to 150 characters.",{name:w},!0))),N||w}o(Ob,"dataSanitizeKey");function gl(E,w,N){N===void 0&&(N=1024);var K;return w&&(N=N||1024,w=Wd(dl(w)),w[Ds]>N&&(K=cu(w,0,N),A0(E,2,61,"string value is too long. It has been truncated to "+N+" characters.",{value:w},!0))),K||w}o(gl,"dataSanitizeString");function B4(E,w){return f9(E,w,2048,66)}o(B4,"dataSanitizeUrl");function l9(E,w){var N;return w&&w[Ds]>32768&&(N=cu(w,0,32768),A0(E,2,56,"message is too long, it has been truncated to 32768 characters.",{message:w},!0)),N||w}o(l9,"dataSanitizeMessage");function c9(E,w){var N;if(w){var K=""+w;K[Ds]>32768&&(N=cu(K,0,32768),A0(E,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:w},!0))}return N||w}o(c9,"dataSanitizeException");function c1(E,w){if(w){var N={};Ri(w,function(K,ce){if(Mt(ce)&&Yh())try{ce=ad()[cd](ce)}catch(At){A0(E,2,49,"custom property is not valid",{exception:At},!0)}ce=gl(E,ce,8192),K=o9(E,K,N),N[K]=ce}),w=N}return w}o(c1,"dataSanitizeProperties");function u1(E,w){if(w){var N={};Ri(w,function(K,ce){K=o9(E,K,N),N[K]=ce}),w=N}return w}o(u1,"dataSanitizeMeasurements");function u9(E,w){return w&&f9(E,w,128,69)[o5]()}o(u9,"dataSanitizeId");function f9(E,w,N,K){var ce;return w&&(w=Wd(dl(w)),w[Ds]>N&&(ce=cu(w,0,N),A0(E,2,K,"input is too long, it has been truncated to "+N+" characters.",{data:w},!0))),ce||w}o(f9,"dataSanitizeInput");function f1(E){var w="00"+E;return rf(w,w[Ds]-3)}o(f1,"dsPadNumber");var d9=Zf()||{},O2=0,Db=[null,null,null,null,null];function kp(E){var w=O2,N=Db,K=N[w];return d9.createElement?N[w]||(K=N[w]=d9.createElement("a")):K={host:kb(E,!0)},K.href=E,w++,w>=N[Ds]&&(w=0),O2=w,K}o(kp,"urlParseUrl");function p9(E){var w,N=kp(E);return N&&(w=N.href),w}o(p9,"urlGetAbsoluteUrl");function d1(E){var w,N=kp(E);return N&&(w=N[c5]),w}o(d1,"urlGetPathName");function Lb(E,w){return E?E.toUpperCase()+" "+w:w}o(Lb,"urlGetCompleteUrl");function kb(E,w){var N=F4(E,w)||"";if(N){var K=N.match(/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(K!=null&&K[Ds]>3&&Yt(K[2])&&K[2][Ds]>0)return K[2]+(K[3]||"")}return N}o(kb,"urlParseHost");function F4(E,w){var N=null;if(E){var K=E.match(/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(K!=null&&K[Ds]>2&&Yt(K[2])&&K[2][Ds]>0&&(N=K[2]||"",w&&K[Ds]>2)){var ce=(K[1]||"")[Np](),At=K[3]||"";(ce==="http"&&At===":80"||ce==="https"&&At===":443")&&(At=""),N+=At}}return N}o(F4,"urlParseFullHost");var IN=[ld+N4,"https://breeze.aimon.applicationinsights.io"+N4,"https://dc-int.services.visualstudio.com"+N4],h9="cid-v1:";function m9(E){return Oa(IN,E[Np]())!==-1}o(m9,"isInternalApplicationInsightsEndpoint");function Mb(E){h9=E}o(Mb,"correlationIdSetPrefix");function AN(){return h9}o(AN,"correlationIdGetPrefix");function D2(E,w,N){if(!w||E&&E.disableCorrelationHeaders)return!1;if(E&&E[a9]){for(var K=0;K<E.correlationHeaderExcludePatterns[Ds];K++)if(E[a9][K].test(w))return!1}var ce=kp(w).host[Np]();if(ce&&(yp(ce,":443")!==-1||yp(ce,":80")!==-1)&&(ce=(F4(w,!0)||"")[Np]()),(!E||!E.enableCorsCorrelation)&&ce&&ce!==N)return!1;var At=E&&E.correlationHeaderDomains;if(At){var pr;if(Wl(At,function(rn){var Di=new RegExp(rn.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));pr=pr||Di.test(ce)}),!pr)return!1}var Tr=E&&E.correlationHeaderExcludedDomains;if(!Tr||Tr[Ds]===0)return!0;for(var K=0;K<Tr[Ds];K++){var Mr=new RegExp(Tr[K].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));if(Mr.test(ce))return!1}return ce&&ce[Ds]>0}o(D2,"correlationIdCanIncludeCorrelationHeader");function wN(E){if(E){var w=L2(E,O4[1]);if(w&&w!==h9)return w}}o(wN,"correlationIdGetCorrelationContext");function L2(E,w){if(E)for(var N=E[a5](","),K=0;K<N[Ds];++K){var ce=N[K][a5]("=");if(ce[Ds]===2&&ce[0]===w)return ce[1]}}o(L2,"correlationIdGetCorrelationContextValue");function RN(E,w,N,K){var ce,At=K,pr=K;if(w&&w[Ds]>0){var Tr=kp(w);if(ce=Tr.host,!At)if(Tr[c5]!=null){var Mr=Tr.pathname[Ds]===0?"/":Tr[c5];Mr.charAt(0)!=="/"&&(Mr="/"+Mr),pr=Tr[c5],At=gl(E,N?N+" "+Mr:Mr)}else At=gl(E,w)}else ce=K,At=K;return{target:ce,name:At,data:pr}}o(RN,"AjaxHelperParseDependencyPath");function U4(){var E=uu();if(E&&E.now&&E.timing){var w=E.now()+E.timing.navigationStart;if(w>0)return w}return Jg()}o(U4,"dateTimeUtilsNow");function g9(E,w){var N=null;return E!==0&&w!==0&&!St(E)&&!St(w)&&(N=w-E),N}o(g9,"dateTimeUtilsDuration");function q4(E,w){var N=E||{};return{getName:function(){return N[pu]},setName:function(K){w&&w.setName(K),N[pu]=K},getTraceId:function(){return N.traceID},setTraceId:function(K){w&&w.setTraceId(K),I2(K)&&(N.traceID=K)},getSpanId:function(){return N.parentID},setSpanId:function(K){w&&w.setSpanId(K),t9(K)&&(N.parentID=K)},getTraceFlags:function(){return N.traceFlags},setTraceFlags:function(K){w&&w.setTraceFlags(K),N.traceFlags=K}}}o(q4,"createDistributedTraceContextFromTrace");var fd=t4({LocalStorage:0,SessionStorage:1}),k2=t4({AI:0,AI_AND_W3C:1,W3C:2}),p1=void 0,h1=void 0,Bb="";function v9(){return j4()?Ql(fd.LocalStorage):null}o(v9,"_getLocalStorageObject");function Ql(E){try{if(St($d()))return null;var w=new Date()[o5](),N=Jf(E===fd.LocalStorage?"localStorage":"sessionStorage"),K=Bb+w;N.setItem(K,w);var ce=N.getItem(K)!==w;if(N[i9](K),!ce)return N}catch{}return null}o(Ql,"_getVerifiedStorageObject");function m1(){return g5()?Ql(fd.SessionStorage):null}o(m1,"_getSessionStorageObject");function m5(){p1=!1,h1=!1}o(m5,"utlDisableStorage");function Fb(E){Bb=E||""}o(Fb,"utlSetStoragePrefix");function PN(){p1=j4(!0),h1=g5(!0)}o(PN,"utlEnableStorage");function j4(E){return(E||p1===void 0)&&(p1=!!Ql(fd.LocalStorage)),p1}o(j4,"utlCanUseLocalStorage");function Ub(E,w){var N=v9();if(N!==null)try{return N.getItem(w)}catch(K){p1=!1,A0(E,2,1,"Browser failed read of local storage. "+id(K),{exception:Y0(K)})}return null}o(Ub,"utlGetLocalStorage");function H4(E,w,N){var K=v9();if(K!==null)try{return K.setItem(w,N),!0}catch(ce){p1=!1,A0(E,2,3,"Browser failed write to local storage. "+id(ce),{exception:Y0(ce)})}return!1}o(H4,"utlSetLocalStorage");function df(E,w){var N=v9();if(N!==null)try{return N[i9](w),!0}catch(K){p1=!1,A0(E,2,5,"Browser failed removal of local storage item. "+id(K),{exception:Y0(K)})}return!1}o(df,"utlRemoveStorage");function g5(E){return(E||h1===void 0)&&(h1=!!Ql(fd.SessionStorage)),h1}o(g5,"utlCanUseSessionStorage");function $4(){var E=[];return g5()&&Ri(Jf("sessionStorage"),function(w){E.push(w)}),E}o($4,"utlGetSessionStorageKeys");function V4(E,w){var N=m1();if(N!==null)try{return N.getItem(w)}catch(K){h1=!1,A0(E,2,2,"Browser failed read of session storage. "+id(K),{exception:Y0(K)})}return null}o(V4,"utlGetSessionStorage");function NN(E,w,N){var K=m1();if(K!==null)try{return K.setItem(w,N),!0}catch(ce){h1=!1,A0(E,2,4,"Browser failed write to session storage. "+id(ce),{exception:Y0(ce)})}return!1}o(NN,"utlSetSessionStorage");function ON(E,w){var N=m1();if(N!==null)try{return N[i9](w),!0}catch(K){h1=!1,A0(E,2,6,"Browser failed removal of session storage item. "+id(K),{exception:Y0(K)})}return!1}o(ON,"utlRemoveSessionStorage");var qb="appInsightsThrottle",DN=function(){function E(w,N){var K=this,ce,At,pr,Tr,Mr,rn,Di,Ps=!1,As=!1;Yi(),K._getDbgPlgTargets=function(){return[Di]},K.getConfig=function(){return pr},K.canThrottle=function(gn){var Qi=Y4(gn),Fs=$s(gn);return r0(Fs,ce,Qi)},K.isTriggered=function(gn){return nE(gn)},K.isReady=function(){return Ps},K.flush=function(gn){try{var Qi=A9(gn);if(Qi&&Qi[Ds]>0){var Fs=Qi.slice(0);return Di[gn]=[],Wl(Fs,function(K0){Ns(K0.msgID,K0[a1],K0.severity,!1)}),!0}}catch{}return!1},K.flushAll=function(){try{if(Di){var gn=!0;return Ri(Di,function(Qi){var Fs=K.flush(parseInt(Qi));gn=gn&&Fs}),gn}}catch{}return!1},K.onReadyState=function(gn,Qi){return Qi===void 0&&(Qi=!0),Ps=St(gn)?!0:gn,Ps&&Qi?K.flushAll():null},K.sendMessage=function(gn,Qi,Fs){return Ns(gn,Qi,Fs,!0)};function Ns(gn,Qi,Fs,K0){if(Ps){var $o=_1(gn);if(!$o)return;var Ta=$s(gn),Ya=Y4(gn),E5=r0(Ta,ce,Ya),Fp=!1,T5=0,iE=nE(gn);try{E5&&!iE?(T5=Math.min(Ta.limit.maxSendNumber,Ya[l5]+1),Ya[l5]=0,Fp=!0,Mr[gn]=!0,Ya[A2]=new Date):(Mr[gn]=E5,Ya[l5]+=1);var sE=b0(gn);tE(At,sE,Ya);for(var w9=0;w9<T5;w9++)GN(gn,At,Qi,Fs)}catch{}return{isThrottled:Fp,throttleNum:T5}}else if(K0){var aE=A9(gn);aE.push({msgID:gn,message:Qi,severity:Fs})}return null}o(Ns,"_flushMessage");function Yi(){At=cf(w),Mr={},Tr={},Di={},pr={},ws(109),rn=Vy(N)?N:"",w.addUnloadHook(Sb(w.config,function(gn){var Qi=gn.cfg;ce=j4();var Fs=Qi.throttleMgrCfg||{};Ri(Fs,function(K0,$o){ws(parseInt(K0),$o)})}))}o(Yi,"_initConfig");function $s(gn){return pr[gn]||pr[109]}o($s,"_getCfgByKey");function ws(gn,Qi){var Fs,K0;try{var $o=Qi||{},Ta={};Ta[w2]=!!$o[w2];var Ya=$o[D4]||{};As=(Ya==null?void 0:Ya.daysOfMonth)&&(Ya==null?void 0:Ya.daysOfMonth[Ds])>0,Ta[D4]=w0(Ya);var E5={samplingRate:((Fs=$o.limit)===null||Fs===void 0?void 0:Fs.samplingRate)||100,maxSendNumber:((K0=$o.limit)===null||K0===void 0?void 0:K0.maxSendNumber)||1};Ta.limit=E5,pr[gn]=Ta}catch{}}o(ws,"_setCfgByKey");function w0(gn){gn=gn||{};var Qi=gn==null?void 0:gn.monthInterval,Fs=gn==null?void 0:gn.dayInterval;return St(Qi)&&St(Fs)&&(gn.monthInterval=3,As||(gn[L4]=[28],As=!0)),gn={monthInterval:gn==null?void 0:gn.monthInterval,dayInterval:gn==null?void 0:gn.dayInterval,daysOfMonth:gn==null?void 0:gn.daysOfMonth},gn}o(w0,"_getIntervalConfig");function r0(gn,Qi,Fs){if(gn&&!gn[w2]&&Qi&&Vy(Fs)){var K0=H2(),$o=Fs[R2],Ta=gn[D4],Ya=1;if(Ta!=null&&Ta.monthInterval){var E5=(K0.getUTCFullYear()-$o.getUTCFullYear())*12+K0.getUTCMonth()-$o.getUTCMonth();Ya=rE(Ta.monthInterval,0,E5)}var Fp=1;if(As)Fp=Oa(Ta[L4],K0[s9]());else if(Ta!=null&&Ta.dayInterval){var T5=Math.floor((K0.getTime()-$o.getTime())/864e5);Fp=rE(Ta.dayInterval,0,T5)}return Ya>=0&&Fp>=0}return!1}o(r0,"_canThrottle");function b0(gn,Qi){var Fs=Vy(Qi)?Qi:"";return gn?qb+Fs+"-"+gn:null}o(b0,"_getLocalStorageName");function vl(gn){try{if(gn){var Qi=new Date;return gn.getUTCFullYear()===Qi.getUTCFullYear()&&gn.getUTCMonth()===Qi.getUTCMonth()&&gn[s9]()===Qi[s9]()}}catch{}return!1}o(vl,"_isTriggeredOnCurDate");function W4(gn,Qi,Fs){try{var K0={date:H2(),count:0};if(gn){var $o=JSON.parse(gn),Ta={date:H2($o[R2])||K0[R2],count:$o[l5]||K0[l5],preTriggerDate:$o.preTriggerDate?H2($o[A2]):void 0};return Ta}else return tE(Qi,Fs,K0),K0}catch{}return null}o(W4,"_getLocalStorageObj");function H2(gn){try{if(gn){var Qi=new Date(gn);if(!isNaN(Qi.getDate()))return Qi}else return new Date}catch{}return null}o(H2,"_getThrottleDate");function tE(gn,Qi,Fs){try{return H4(gn,Qi,Wd(JSON[cd](Fs)))}catch{}return!1}o(tE,"_resetLocalStorage");function rE(gn,Qi,Fs){return gn<=0?1:Fs>=Qi&&(Fs-Qi)%gn==0?Math.floor((Fs-Qi)/gn)+1:-1}o(rE,"_checkInterval");function GN(gn,Qi,Fs,K0){A0(Qi,K0||1,gn,Fs)}o(GN,"_sendMessage");function _1(gn){try{var Qi=$s(gn);return Ap(1e6)<=Qi.limit.samplingRate}catch{}return!1}o(_1,"_canSampledIn");function Y4(gn){try{var Qi=Tr[gn];if(!Qi){var Fs=b0(gn,rn);Qi=W4(Ub(At,Fs),At,Fs),Tr[gn]=Qi}return Tr[gn]}catch{}return null}o(Y4,"_getLocalStorageObjByKey");function nE(gn){var Qi=Mr[gn];if(St(Qi)){Qi=!1;var Fs=Y4(gn);Fs&&(Qi=vl(Fs[A2])),Mr[gn]=Qi}return Mr[gn]}o(nE,"_isTrigger");function A9(gn){return Di=Di||{},St(Di[gn])&&(Di[gn]=[]),Di[gn]}o(A9,"_getQueueByKey")}return o(E,"ThrottleMgr"),E}(),v5=";",jb="=";function Hb(E){if(!E)return{};var w=E[a5](v5),N=zd(w,function(ce,At){var pr=At[a5](jb);if(pr[Ds]===2){var Tr=pr[0][Np](),Mr=pr[1];ce[Tr]=Mr}return ce},{});if(Os(N)[Ds]>0){if(N.endpointsuffix){var K=N.location?N.location+".":"";N[Op]=N[Op]||"https://"+K+"dc."+N.endpointsuffix}N[Op]=N[Op]||ld,X3(N[Op],"/")&&(N[Op]=N[Op].slice(0,-1))}return N}o(Hb,"parseConnectionString");var LN={parse:Hb},kN=function(){function E(w,N,K){var ce=this,At=this;At.ver=1,At.sampleRate=100,At.tags={},At[pu]=gl(w,K)||uf,At.data=N,At.time=g0(new Date),At.aiDataContract={time:1,iKey:1,name:1,sampleRate:function(){return ce.sampleRate===100?4:1},tags:1,data:1}}return o(E,"Envelope"),E}(),MN=function(){function E(w,N,K,ce){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var At=this;At.ver=2,At[pu]=gl(w,N)||uf,At[wl]=c1(w,K),At[ud]=u1(w,ce)}return o(E,"Event"),E.envelopeType="Microsoft.ApplicationInsights.{0}.Event",E.dataType="EventData",E}(),BN="<no_method>",Mp="error",Rl="stack",M2="stackDetails",G4="errorSrc",y5="message",y9="description";function Zi(E,w){var N=E;return N&&!Yt(N)&&(JSON&&JSON[cd]?(N=JSON[cd](E),w&&(!N||N==="{}")&&(hr(E[o5])?N=E[o5]():N=""+E)):N=""+E+" - (Missing JSON.stringify)"),N||""}o(Zi,"_stringify");function z4(E,w){var N=E;return E&&(N&&!Yt(N)&&(N=E[y5]||E[y9]||N),N&&!Yt(N)&&(N=Zi(N,!0)),E.filename&&(N=N+" @"+(E.filename||"")+":"+(E.lineno||"?")+":"+(E.colno||"?"))),w&&w!=="String"&&w!=="Object"&&w!=="Error"&&yp(N||"",w)===-1&&(N=w+": "+N),N||""}o(z4,"_formatMessage");function _9(E){try{if(Mt(E))return"hasFullStack"in E&&"typeName"in E}catch{}return!1}o(_9,"_isExceptionDetailsInternal");function Bp(E){try{if(Mt(E))return"ver"in E&&"exceptions"in E&&"properties"in E}catch{}return!1}o(Bp,"_isExceptionInternal");function x9(E){return E&&E.src&&Yt(E.src)&&E.obj&&yr(E.obj)}o(x9,"_isStackDetails");function g1(E){var w=E||"";Yt(w)||(Yt(w[Rl])?w=w[Rl]:w=""+w);var N=w[a5](`
`);return{src:w,obj:N}}o(g1,"_convertStackObj");function b9(E){for(var w=[],N=E[a5](`
`),K=0;K<N[Ds];K++){var ce=N[K];N[K+1]&&(ce+="@"+N[K+1],K++),w.push(ce)}return{src:E,obj:w}}o(b9,"_getOperaStack");function K4(E){var w=null;if(E)try{if(E[Rl])w=g1(E[Rl]);else if(E[Mp]&&E[Mp][Rl])w=g1(E[Mp][Rl]);else if(E.exception&&E.exception[Rl])w=g1(E.exception[Rl]);else if(x9(E))w=E;else if(x9(E[M2]))w=E[M2];else if(ma()&&ma().opera&&E[y5])w=b9(E[a1]);else if(E.reason&&E.reason[Rl])w=g1(E.reason[Rl]);else if(Yt(E))w=g1(E);else{var N=E[y5]||E[y9]||"";Yt(E[G4])&&(N&&(N+=`
`),N+=" from "+E[G4]),N&&(w=g1(N))}}catch(K){w=g1(K)}return w||{src:"",obj:null}}o(K4,"_getStackFromErrorObj");function $b(E){var w="";return E&&(E.obj?Wl(E.obj,function(N){w+=N+`
`}):w=E.src||""),w}o($b,"_formatStackTrace");function E9(E){var w,N=E.obj;if(N&&N[Ds]>0){w=[];var K=0,ce=0;Wl(N,function(Yi){var $s=Yi[o5]();if(hu.regex.test($s)){var ws=new hu($s,K++);ce+=ws[f5],w.push(ws)}});var At=32*1024;if(ce>At)for(var pr=0,Tr=w[Ds]-1,Mr=0,rn=pr,Di=Tr;pr<Tr;){var Ps=w[pr][f5],As=w[Tr][f5];if(Mr+=Ps+As,Mr>At){var Ns=Di-rn+1;w.splice(rn,Ns);break}rn=pr,Di=Tr,pr++,Tr--}}return w}o(E9,"_parseStack");function B2(E){var w="";if(E&&(w=E.typeName||E[pu]||"",!w))try{var N=/function (.{1,200})\(/,K=N.exec(E.constructor[o5]());w=K&&K[Ds]>1?K[1]:""}catch{}return w}o(B2,"_getErrorType");function _5(E){if(E)try{if(!Yt(E)){var w=B2(E),N=Zi(E,!1);return(!N||N==="{}")&&(E[Mp]&&(E=E[Mp],w=B2(E)),N=Zi(E,!0)),yp(N,w)!==0&&w!=="String"?w+":"+N:N}}catch{}return""+(E||"")}o(_5,"_formatErrorCode");var T9=function(){function E(w,N,K,ce,At,pr){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var Tr=this;Tr.ver=2,Bp(N)?(Tr[u5]=N[u5]||[],Tr[wl]=N[wl],Tr[ud]=N[ud],N[P2]&&(Tr[P2]=N[P2]),N.id&&(Tr.id=N.id),N[d5]&&(Tr[d5]=N[d5]),St(N[M4])||(Tr[M4]=N[M4])):(K||(K={}),Tr[u5]=[new C9(w,N,K)],Tr[wl]=c1(w,K),Tr[ud]=u1(w,ce),At&&(Tr[P2]=At),pr&&(Tr.id=pr))}return o(E,"Exception"),E.CreateAutoException=function(w,N,K,ce,At,pr,Tr,Mr){var rn,Di=B2(At||pr||w);return rn={},rn[a1]=z4(w,Di),rn.url=N,rn.lineNumber=K,rn.columnNumber=ce,rn.error=_5(At||pr||w),rn.evt=_5(pr||w),rn[Bu]=Di,rn.stackDetails=K4(Tr||At||pr),rn.errorSrc=Mr,rn},E.CreateFromInterface=function(w,N,K,ce){var At=N[u5]&&K3(N[u5],function(Tr){return C9[Nb](w,Tr)}),pr=new E(w,bp(bp({},N),{exceptions:At}),K,ce);return pr},E.prototype.toInterface=function(){var w,N=this,K=N.exceptions,ce=N.properties,At=N.measurements,pr=N.severityLevel,Tr=N.problemGroup,Mr=N.id,rn=N.isManual,Di=K instanceof Array&&K3(K,function(Ps){return Ps.toInterface()})||void 0;return w={ver:"4.0"},w[u5]=Di,w.severityLevel=pr,w.properties=ce,w.measurements=At,w.problemGroup=Tr,w.id=Mr,w.isManual=rn,w},E.CreateSimpleException=function(w,N,K,ce,At,pr){var Tr;return{exceptions:[(Tr={},Tr[ff]=!0,Tr.message=w,Tr.stack=At,Tr.typeName=N,Tr)]}},E.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",E.dataType="ExceptionData",E.formatError=_5,E}(),C9=function(){function E(w,N,K){this.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2};var ce=this;if(_9(N))ce[Bu]=N[Bu],ce[a1]=N[a1],ce[Rl]=N[Rl],ce[Ec]=N[Ec]||[],ce[ff]=N[ff];else{var At=N,pr=At&&At.evt;_e(At)||(At=At[Mp]||pr||At),ce[Bu]=gl(w,B2(At))||uf,ce[a1]=l9(w,z4(N||At,ce[Bu]))||uf;var Tr=N[M2]||K4(N);ce[Ec]=E9(Tr),yr(ce[Ec])&&K3(ce[Ec],function(Mr){Mr[Dp]=gl(w,Mr[Dp]),Mr[o1]=gl(w,Mr[o1])}),ce[Rl]=c9(w,$b(Tr)),ce.hasFullStack=yr(ce.parsedStack)&&ce.parsedStack[Ds]>0,K&&(K[Bu]=K[Bu]||ce[Bu])}}return o(E,"_ExceptionDetails"),E.prototype.toInterface=function(){var w,N=this,K=N[Ec]instanceof Array&&K3(N[Ec],function(At){return At.toInterface()}),ce=(w={id:N.id,outerId:N.outerId,typeName:N[Bu],message:N[a1],hasFullStack:N[ff],stack:N[Rl]},w[Ec]=K||void 0,w);return ce},E.CreateFromInterface=function(w,N){var K=N[Ec]instanceof Array&&K3(N[Ec],function(At){return hu[Nb](At)})||N[Ec],ce=new E(w,bp(bp({},N),{parsedStack:K}));return ce},E}(),hu=function(){function E(w,N){this.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0};var K=this;if(K[f5]=0,typeof w=="string"){var ce=w;K[N2]=N,K[Lp]=BN,K[Dp]=Wd(ce),K[o1]="",K[p5]=0;var At=ce.match(E.regex);At&&At[Ds]>=5&&(K[Lp]=Wd(At[2])||K[Lp],K[o1]=Wd(At[4]),K[p5]=parseInt(At[5])||0)}else K[N2]=w[N2],K[Lp]=w[Lp],K[Dp]=w[Dp],K[o1]=w[o1],K[p5]=w[p5],K[f5]=0;K.sizeInBytes+=K.method[Ds],K.sizeInBytes+=K.fileName[Ds],K.sizeInBytes+=K.assembly[Ds],K[f5]+=E.baseSize,K.sizeInBytes+=K.level.toString()[Ds],K.sizeInBytes+=K.line.toString()[Ds]}return o(E,"_StackFrame"),E.CreateFromInterface=function(w){return new E(w,null)},E.prototype.toInterface=function(){var w=this;return{level:w[N2],method:w[Lp],assembly:w[Dp],fileName:w[o1],line:w[p5]}},E.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,E.baseSize=58,E}(),Vb=function(){function E(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}return o(E,"DataPoint"),E}(),Gb=function(){function E(w,N,K,ce,At,pr,Tr,Mr,rn){this.aiDataContract={ver:1,metrics:1,properties:0};var Di=this;Di.ver=2;var Ps=new Vb;Ps[l5]=ce>0?ce:void 0,Ps.max=isNaN(pr)||pr===null?void 0:pr,Ps.min=isNaN(At)||At===null?void 0:At,Ps[pu]=gl(w,N)||uf,Ps.value=K,Ps.stdDev=isNaN(Tr)||Tr===null?void 0:Tr,Di.metrics=[Ps],Di[wl]=c1(w,Mr),Di[ud]=u1(w,rn)}return o(E,"Metric"),E.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",E.dataType="MetricData",E}(),F2="";function S9(E,w){return w===void 0&&(w=!1),E==null?w:E.toString()[Np]()==="true"}o(S9,"stringToBoolOrDefault");function x5(E){(isNaN(E)||E<0)&&(E=0),E=Math.round(E);var w=F2+E%1e3,N=F2+Math.floor(E/1e3)%60,K=F2+Math.floor(E/(1e3*60))%60,ce=F2+Math.floor(E/(1e3*60*60))%24,At=Math.floor(E/(1e3*60*60*24));return w=w[Ds]===1?"00"+w:w[Ds]===2?"0"+w:w,N=N[Ds]<2?"0"+N:N,K=K[Ds]<2?"0"+K:K,ce=ce[Ds]<2?"0"+ce:ce,(At>0?At+".":F2)+ce+":"+K+":"+N+"."+w}o(x5,"msToTimeSpan");function zb(E,w){var N=null;return Wl(E,function(K){if(K.identifier===w)return N=K,-1}),N}o(zb,"getExtensionByName");function FN(E,w,N,K,ce){return!ce&&Yt(E)&&(E==="Script error."||E==="Script error")}o(FN,"isCrossOriginError");var Kb=function(){function E(w,N,K,ce,At,pr,Tr){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var Mr=this;Mr.ver=2,Mr.id=u9(w,Tr),Mr.url=B4(w,K),Mr[pu]=gl(w,N)||uf,isNaN(ce)||(Mr[l1]=x5(ce)),Mr[wl]=c1(w,At),Mr[ud]=u1(w,pr)}return o(E,"PageView"),E.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",E.dataType="PageviewData",E}(),UN=function(){function E(w,N,K,ce,At,pr,Tr,Mr,rn,Di,Ps,As){rn===void 0&&(rn="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var Ns=this;Ns.ver=2,Ns.id=N,Ns[l1]=x5(At),Ns.success=pr,Ns.resultCode=Tr+"",Ns.type=gl(w,rn);var Yi=RN(w,K,Mr,ce);Ns.data=B4(w,ce)||Yi.data,Ns.target=gl(w,Yi.target),Di&&(Ns.target="".concat(Ns.target," | ").concat(Di)),Ns[pu]=gl(w,Yi[pu]),Ns[wl]=c1(w,Ps),Ns[ud]=u1(w,As)}return o(E,"RemoteDependencyData"),E.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",E.dataType="RemoteDependencyData",E}(),Wb=function(){function E(w,N,K,ce,At){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var pr=this;pr.ver=2,N=N||uf,pr[a1]=l9(w,N),pr[wl]=c1(w,ce),pr[ud]=u1(w,At),K&&(pr[P2]=K)}return o(E,"Trace"),E.envelopeType="Microsoft.ApplicationInsights.{0}.Message",E.dataType="MessageData",E}(),Yb=function(){function E(w,N,K,ce,At,pr,Tr){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var Mr=this;Mr.ver=2,Mr.url=B4(w,K),Mr[pu]=gl(w,N)||uf,Mr[wl]=c1(w,At),Mr[ud]=u1(w,pr),Tr&&(Mr.domProcessing=Tr.domProcessing,Mr[l1]=Tr[l1],Mr.networkConnect=Tr.networkConnect,Mr.perfTotal=Tr.perfTotal,Mr[h5]=Tr[h5],Mr.sentRequest=Tr.sentRequest)}return o(E,"PageViewPerformance"),E.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",E.dataType="PageviewPerformanceData",E}(),Xb=function(){function E(w,N){this.aiDataContract={baseType:1,baseData:1},this.baseType=w,this.baseData=N}return o(E,"Data"),E}(),Qb=t4({Verbose:0,Information:1,Warning:2,Error:3,Critical:4}),qN=function(){function E(){}return o(E,"ConfigurationManager"),E.getConfig=function(w,N,K,ce){ce===void 0&&(ce=!1);var At;return K&&w[k4]&&w[k4][K]&&!St(w[k4][K][N])?At=w[k4][K][N]:At=w[N],St(At)?ce:At},E}();function dd(E){var w="ai."+E+".";return function(N){return w+N}}o(dd,"_aiNameFunc");var U2=dd("application"),Wa=dd("device"),v1=dd("location"),b5=dd("operation"),y1=dd("session"),pf=dd("user"),Fu=dd("cloud"),q2=dd("internal"),j2=function(E){Vh(w,E);function w(){return E.call(this)||this}return o(w,"ContextTagKeys"),w}(y4({applicationVersion:U2("ver"),applicationBuild:U2("build"),applicationTypeId:U2("typeId"),applicationId:U2("applicationId"),applicationLayer:U2("layer"),deviceId:Wa("id"),deviceIp:Wa("ip"),deviceLanguage:Wa("language"),deviceLocale:Wa("locale"),deviceModel:Wa("model"),deviceFriendlyName:Wa("friendlyName"),deviceNetwork:Wa("network"),deviceNetworkName:Wa("networkName"),deviceOEMName:Wa("oemName"),deviceOS:Wa("os"),deviceOSVersion:Wa("osVersion"),deviceRoleInstance:Wa("roleInstance"),deviceRoleName:Wa("roleName"),deviceScreenResolution:Wa("screenResolution"),deviceType:Wa("type"),deviceMachineName:Wa("machineName"),deviceVMName:Wa("vmName"),deviceBrowser:Wa("browser"),deviceBrowserVersion:Wa("browserVersion"),locationIp:v1("ip"),locationCountry:v1("country"),locationProvince:v1("province"),locationCity:v1("city"),operationId:b5("id"),operationName:b5("name"),operationParentId:b5("parentId"),operationRootId:b5("rootId"),operationSyntheticSource:b5("syntheticSource"),operationCorrelationVector:b5("correlationVector"),sessionId:y1("id"),sessionIsFirst:y1("isFirst"),sessionIsNew:y1("isNew"),userAccountAcquisitionDate:pf("accountAcquisitionDate"),userAccountId:pf("accountId"),userAgent:pf("userAgent"),userId:pf("id"),userStoreRegion:pf("storeRegion"),userAuthUserId:pf("authUserId"),userAnonymousUserAcquisitionDate:pf("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:pf("authUserAcquisitionDate"),cloudName:Fu("name"),cloudRole:Fu("role"),cloudRoleVer:Fu("roleVer"),cloudRoleInstance:Fu("roleInstance"),cloudEnvironment:Fu("environment"),cloudLocation:Fu("location"),cloudDeploymentUnit:Fu("deploymentUnit"),internalNodeName:q2("nodeName"),internalSdkVersion:q2("sdkVersion"),internalAgentVersion:q2("agentVersion"),internalSnippet:q2("snippet"),internalSdkSrc:q2("sdkSrc")}));function Jb(E,w,N,K,ce,At){var pr;N=gl(K,N)||uf,(St(E)||St(w)||St(N))&&en("Input doesn't contain all required fields");var Tr="";E[s5]&&(Tr=E[s5],delete E[s5]);var Mr=(pr={},pr[pu]=N,pr.time=g0(new Date),pr.iKey=Tr,pr.ext=At||{},pr.tags=[],pr.data={},pr.baseType=w,pr.baseData=E,pr);return St(ce)||Ri(ce,function(rn,Di){Mr.data[rn]=Di}),Mr}o(Jb,"createTelemetryItem");var I9=function(){function E(){}return o(E,"TelemetryItemCreator"),E.create=Jb,E}(),Zb={UserExt:"user",DeviceExt:"device",TraceExt:"trace",WebExt:"web",AppExt:"app",OSExt:"os",SessionExt:"ses",SDKExt:"sdk"},jN=new j2;function HN(E){var w=null;if(hr(Event))w=new Event(E);else{var N=Zf();N&&N.createEvent&&(w=N.createEvent("Event"),w.initEvent(E,!0,!0))}return w}o(HN,"createDomEvent");var $N="AppInsightsPropertiesPlugin",eE="AppInsightsChannelPlugin",VN="ApplicationInsightsAnalytics";e.AnalyticsPluginIdentifier=VN,e.BreezeChannelIdentifier=eE,e.ConfigurationManager=qN,e.ConnectionStringParser=LN,e.ContextTagKeys=j2,e.CtxTagKeys=jN,e.DEFAULT_BREEZE_ENDPOINT=ld,e.DEFAULT_BREEZE_PATH=N4,e.Data=Xb,e.DisabledPropertyName=n9,e.DistributedTracingModes=k2,e.Envelope=kN,e.Event=MN,e.Exception=T9,e.Extensions=Zb,e.HttpMethod=bc,e.Metric=Gb,e.PageView=Kb,e.PageViewPerformance=Yb,e.ProcessLegacy=P4,e.PropertiesPluginIdentifier=$N,e.RemoteDependencyData=UN,e.RequestHeaders=O4,e.SampleRate=Al,e.SeverityLevel=Qb,e.TelemetryItemCreator=I9,e.ThrottleMgr=DN,e.Trace=Wb,e.correlationIdCanIncludeCorrelationHeader=D2,e.correlationIdGetCorrelationContext=wN,e.correlationIdGetCorrelationContextValue=L2,e.correlationIdGetPrefix=AN,e.correlationIdSetPrefix=Mb,e.createDistributedTraceContextFromTrace=q4,e.createDomEvent=HN,e.createTelemetryItem=Jb,e.createTraceParent=R4,e.dataSanitizeException=c9,e.dataSanitizeId=u9,e.dataSanitizeInput=f9,e.dataSanitizeKey=Ob,e.dataSanitizeKeyAndAddUniqueness=o9,e.dataSanitizeMeasurements=u1,e.dataSanitizeMessage=l9,e.dataSanitizeProperties=c1,e.dataSanitizeString=gl,e.dataSanitizeUrl=B4,e.dateTimeUtilsDuration=g9,e.dateTimeUtilsNow=U4,e.dsPadNumber=f1,e.findW3cTraceParent=r9,e.formatTraceParent=SN,e.getExtensionByName=zb,e.isBeaconApiSupported=Cp,e.isCrossOriginError=FN,e.isInternalApplicationInsightsEndpoint=m9,e.isSampledFlag=CN,e.isValidSpanId=t9,e.isValidTraceId=I2,e.isValidTraceParent=Pb,e.msToTimeSpan=x5,e.parseConnectionString=Hb,e.parseTraceParent=S2,e.strNotSpecified=uf,e.stringToBoolOrDefault=S9,e.urlGetAbsoluteUrl=p9,e.urlGetCompleteUrl=Lb,e.urlGetPathName=d1,e.urlParseFullHost=F4,e.urlParseHost=kb,e.urlParseUrl=kp,e.utlCanUseLocalStorage=j4,e.utlCanUseSessionStorage=g5,e.utlDisableStorage=m5,e.utlEnableStorage=PN,e.utlGetLocalStorage=Ub,e.utlGetSessionStorage=V4,e.utlGetSessionStorageKeys=$4,e.utlRemoveSessionStorage=ON,e.utlRemoveStorage=df,e.utlSetLocalStorage=H4,e.utlSetSessionStorage=NN,e.utlSetStoragePrefix=Fb})});var vQ=k((AC,gQ)=>{(function(e,t){typeof AC=="object"&&typeof gQ<"u"?t(AC):typeof define=="function"&&define.amd?define(["exports"],t):(e=typeof globalThis<"u"?globalThis:e||self,t((e.Microsoft=e.Microsoft||{},e.Microsoft.ApplicationInsights=e.Microsoft.ApplicationInsights||{})))})(AC,function(e){"use strict";var t=void 0,r=null,n="",s="boolean",a="function",l="number",c="object",u="prototype",f="__proto__",d="string",p="undefined",h="constructor",m="Symbol",v="_polyfill",_="indexOf",b="length",S="done",A="value",O="name",L="slice",D=Object,$=D[u],de=String,ue=de[u],Ze=Math,vr=Array,vt=vr[u];function wr(g,y){var x=y;try{x=g()}catch{}return x}o(wr,"safeGet");var Ve=[d,l,s,p,"symbol","bigint"];function Me(g){return function(y){return typeof y===g}}o(Me,"_createIs");function St(g){var y="[object "+g+"]";return function(x){return!!(x&&br(x)===y)}}o(St,"_createObjIs");function br(g){return $.toString.call(g)}o(br,"objToString");function Yt(g){return typeof g===p||g===p}o(Yt,"isUndefined");function hr(g){return g===r||Yt(g)}o(hr,"isNullOrUndefined");function Mt(g){return g===r||!yr(g)}o(Mt,"isStrictNullOrUndefined");function yr(g){return!!g||g!==t}o(yr,"isDefined");var Ee=o(function(g){return g!==c&&Ve.indexOf(g)!==-1},"isPrimitiveType"),_e=Me(d),Er=Me(a);function Vr(g){return!g&&hr(g)?!1:!!g&&typeof g===c}o(Vr,"isObject");var zr=vr.isArray,jr=St("Date"),Ri=Me(l),je=Me(s),en=St("Error");function Ke(g){return!!g&&Er(g.then)}o(Ke,"isPromiseLike");function un(g){return!(!g||wr(function(){return!(g&&0+g)},!g))}o(un,"isTruthy");var tn=D.getOwnPropertyDescriptor;function fn(g,y){return g&&$.hasOwnProperty.call(g,y)}o(fn,"objHasOwnProperty");var Wi=D.hasOwn||Os;function Os(g,y){return fn(g,y)||!!tn(g,y)}o(Os,"polyObjHasOwn");function Hi(g,y,x){if(g&&Vr(g)){for(var I in g)if(Wi(g,I)&&y.call(x||g,I,g[I])===-1)break}}o(Hi,"objForEachKey");function le(g,y,x,I){var R={};return Hi(g,function(V,W){R[V]=y?W:V,R[W]=x?W:V}),I(R)}o(le,"_createKeyValueMap");function Xi(g){throw new Error(g)}o(Xi,"throwError");function js(g){throw new TypeError(g)}o(js,"throwTypeError");var Na=D.freeze,_c=o(function(g){return g},"_doNothing"),dl=o(function(g){return g[f]||r},"_getProto"),Xf=D.assign;function pl(g){return(!Vr(g)||g===r)&&js("objKeys called on non-object"),D.keys(g)}o(pl,"objKeys");function xc(g){return Na&&Hi(g,function(y,x){(zr(x)||Vr(x))&&Na(x)}),Qf(g)}o(xc,"objDeepFreeze");var Qf=Na||_c,Y0=D.getPrototypeOf||dl;function s0(g){return le(g,1,0,xc)}o(s0,"createEnum");function Du(g){return le(g,0,0,xc)}o(Du,"createEnumKeyMap");function ae(g){var y={};return Hi(g,function(x,I){y[x]=I[1],y[I[0]]=I[1]}),xc(y)}o(ae,"createSimpleMap");function se(g){return ae(g)}o(se,"createTypeMap");var Hs=Du({asyncIterator:0,hasInstance:1,isConcatSpreadable:2,iterator:3,match:4,matchAll:5,replace:6,search:7,species:8,split:9,toPrimitive:10,toStringTag:11,unscopables:12}),Z0=de,up="__tsUtils$gblCfg",cu;function rf(){var g;return typeof globalThis!==p&&(g=globalThis),!g&&typeof self!==p&&(g=self),!g&&typeof window!==p&&(g=window),!g&&typeof global!==p&&(g=global),g}o(rf,"_getGlobalValue");function Wg(){if(!cu){var g=rf()||{};cu=g[up]=g[up]||{}}return cu}o(Wg,"_getGlobalConfig");function Zs(g,y){var x=n;if(en(g))x="{ stack: '"+g.stack+"', message: '"+g.message+"', name: '"+g.name+"'";else try{x=JSON.stringify(g,r,y?Ri(y)?y:4:t)}catch(I){x=" - "+Zs(I,y)}return br(g)+": "+x}o(Zs,"dumpObj");var Bh=vt[L],fp=o(function(g,y){js("'"+Z0(g)+"' not defined for "+Zs(y))},"_throwMissingFunction"),Yg=o(function(g){return function(y){return y[g].apply(y,Bh.call(arguments,1))}},"_unwrapInstFunction"),nf=o(function(g,y){var x=y&&y[g];return function(I){var R=I&&I[g]||x;if(R)return R.apply(I,Bh.call(arguments,1));fp(g,I)}},"_unwrapFunction"),H3=o(function(g,y,x){var I=y&&y[g];return function(R){var V=R&&R[g]||I;if(V||x){var W=arguments;return(V||x).apply(R,V?Bh.call(W,1):W)}fp(g,R)}},"_unwrapFunctionWithPoly");function dp(g){return function(y){return y[g]}}o(dp,"_unwrapProp");var Ey=Ze.max,jd=nf(L,ue),zl=nf("substring",ue),ha=H3("substr",ue,Fh);function Fh(g,y,x){return hr(g)&&js("'polyStrSubstr called with invalid "+Zs(g)),x<0?n:(y=y||0,y<0&&(y=Ey(y+g[b],0)),Yt(x)?jd(g,y):jd(g,y,y+x))}o(Fh,"polyStrSubstr");function hl(g,y){return zl(g,0,y)}o(hl,"strLeft");var qc="_urid",pp;function Hd(){if(!pp){var g=Wg();pp=g.gblSym=g.gblSym||{k:{},s:{}}}return pp}o(Hd,"_globalSymbolRegistry");var hp={};function Uh(g){var y={description:Z0(g),toString:function(){return m+"("+g+")"}};return y[v]=!0,y}o(Uh,"polyNewSymbol");function Xg(g){var y=Hd();if(!Wi(y.k,g)){var x=Uh(g),I=pl(y.s).length;x[qc]=function(){return I+"_"+x.toString()},y.k[g]=x,y.s[x[qc]()]=Z0(g)}return y.k[g]}o(Xg,"polySymbolFor");function $3(g){var y,x=Hs[g];return x&&(y=hp[x]=hp[x]||Uh(m+"."+x)),y}o($3,"polyGetKnownSymbol");var $d={e:"enumerable",c:"configurable",v:A,w:"writable",g:"get",s:"set"};function Jf(g){var y={};if(y[$d.c]=!0,y[$d.e]=!0,g.l){y.get=function(){return g.l.v};var x=tn(g.l,"v");x&&x.set&&(y.set=function(I){g.l.v=I})}return Hi(g,function(I,R){y[$d[I]]=Yt(R)?y[$d[I]]:R}),y}o(Jf,"_createProp");var Zf=D.defineProperty;function Cl(g,y,x){return Zf(g,y,Jf(x))}o(Cl,"objDefine");var ma,Ty=o(function(){ma=Wg(),Ty=r},"_fetchLazyTestHooks");function mp(g){var y={};return Ty&&Ty(),y.b=ma.lzy,Zf(y,"v",{configurable:!0,get:function(){var x=g();return ma.lzy||(Zf(y,"v",{value:x}),y.b&&delete y.b),ma.lzy&&y.b!==ma.lzy&&(y.b=ma.lzy),x}}),y}o(mp,"getLazy");function Kl(g,y){return mp(function(){return wr(g,y)})}o(Kl,"safeGetLazy");var V3="window",gp,vp,G3,Vd,z3,sf=o(function(g){return Kl(function(){return Oa(g)||t},t)},"lazySafeGetInst"),Wl=o(function(g){return(!gp||g===!1||ma&&ma.lzy&&!gp.b)&&(gp=Kl(rf,r)),gp.v},"getGlobal"),Oa=o(function(g,y){var x=!gp||y===!1?Wl(y):gp.v;return x&&x[g]?x[g]:g===V3&&vp?vp.v:r},"getInst"),K3=o(function(){return!!Gd()},"hasDocument"),Gd=o(function(){return(!G3||ma&&ma.lzy&&!G3.b)&&(G3=sf("document")),G3.v},"getDocument"),aN=o(function(){return!!zd()},"hasWindow"),zd=o(function(){return(!vp||ma&&ma.lzy&&!vp.b)&&(vp=sf(V3)),vp.v},"getWindow"),oN=o(function(){return!!Kd()},"hasNavigator"),Kd=o(function(){return(!Vd||ma&&ma.lzy&&!Vd.b)&&(Vd=sf("navigator")),Vd.v},"getNavigator"),lN=o(function(){return!z3&&(z3=Kl(function(){return!!(process&&(process.versions||{}).node)},!1)),z3.v},"isNode"),ml,W3,ab;function Cy(g){return Kl(function(){return ml.v?ml.v[g]:t},t)}o(Cy,"_getSymbolValue");function ob(){return!!Qg()}o(ob,"hasSymbol");function Qg(){var g=!ml||ma&&ma.lzy&&!ml.b;return g&&(ml=sf(m)),(!W3||g)&&(W3=Cy("for")),(!ab||g)&&(ab=Cy("keyFor")),ml.v}o(Qg,"getSymbol");function Jg(g,y){var x=Hs[g];return(!ml||ma.lzy&&!ml.b)&&Qg(),ml.v?ml.v[x||g]:y?t:$3(g)}o(Jg,"getKnownSymbol");function Y3(g,y){return(!ml||ma.lzy&&!ml.b)&&Qg(),ml.v?ml.v(g):y?r:Uh(g)}o(Y3,"newSymbol");function Sy(g){return(!W3||ma.lzy&&!ml.b)&&Qg(),(W3.v||Xg)(g)}o(Sy,"symbolFor");function Iy(g){return!!g&&Er(g.next)}o(Iy,"isIterator");function Wd(g){return!Mt(g)&&Er(g[Jg(3)])}o(Wd,"isIterable");var qh;function Ay(g,y,x){if(g&&(Iy(g)||(!qh&&(qh=mp(function(){return Jg(3)})),g=g[qh.v]?g[qh.v]():null),Iy(g))){var I=void 0,R=void 0;try{for(var V=0;!(R=g.next())[S]&&y.call(x||g,R[A],V,g)!==-1;)V++}catch(W){I={e:W},g.throw&&(R=null,g.throw(I))}finally{try{R&&!R[S]&&g.return&&g.return(R)}finally{if(I)throw I.e}}}}o(Ay,"iterForOf");var Yd=Yg("apply");function Lu(g,y){return!Yt(y)&&g&&(zr(y)?Yd(g.push,g,y):Iy(y)||Wd(y)?Ay(y,function(x){g.push(x)}):g.push(y)),g}o(Lu,"arrAppend");function Ss(g,y,x){if(g)for(var I=g[b]>>>0,R=0;R<I&&!(R in g&&y.call(x||g,g[R],R,g)===-1);R++);}o(Ss,"arrForEach");var uu=nf(_,vt),X3=nf("map",vt),Xd=nf(L,vt),yp=Yg("call"),Zg=nf("reduce",vt),wy=D.create,e4=wy||lb;function lb(g){if(!g)return{};var y=typeof g;if(y!==c&&y!==a)throw new TypeError("Prototype must be an Object or function: "+Zs(g));function x(){}return o(x,"tempFunc"),x[u]=g,new x}o(lb,"polyObjCreate");var Ry;function cb(g,y){var x=D.setPrototypeOf||function(I,R){!Ry&&(Ry=mp(function(){var V;return V={},V[f]=[],V instanceof Array})),Ry.v?I[f]=R:Hi(R,function(V,W){return I[V]=W})};return x(g,y)}o(cb,"objSetPrototypeOf");var cN=o(function(g,y,x){ub(y,g),y=cb(y,x);function I(){this.constructor=y,ub(this,g)}return o(I,"__"),y[u]=x===r?e4(x):(I[u]=x[u],new I),y},"_createCustomError"),t4=o(function(g,y){try{y&&(g[O]=y)}catch{}},"_safeSetName"),ub=o(function(g,y){try{Cl(g,O,{v:y,c:!0,e:!1})}catch{}},"_safeDefineName");function r4(g,y,x){var I=x||Error,R=I[u][O],V=Error.captureStackTrace;return cN(g,function(){var W=this;try{t4(I,g);var oe=Yd(I,W,Xd(arguments))||W;if(oe!==W){var ve=Y0(W);ve!==Y0(oe)&&cb(oe,ve)}return V&&V(oe,W[h]),y&&y(oe,arguments),oe}finally{t4(I,R)}},I)}o(r4,"createCustomError");function ed(){return(Date.now||Sl)()}o(ed,"utcNow");function Sl(){return new Date().getTime()}o(Sl,"polyUtcNow");function n4(g){return o(function(x){return hr(x)&&js("strTrim called ["+Zs(x)+"]"),x&&x.replace&&(x=x.replace(g,n)),x},"_doTrim")}o(n4,"_createTrimFn");var Py=n4(/^\s+|(?=\s)\s+$/g),Yl=H3("trim",ue,Py),_p,Q3,J3;function Ka(g){if(!g||typeof g!==c)return!1;J3||(J3=aN()?zd():!0);var y=!1;if(g!==J3){Q3||(_p=Function[u].toString,Q3=yp(_p,D));try{var x=Y0(g);y=!x,y||(fn(x,h)&&(x=x[h]),y=x&&typeof x===a&&_p.call(x)===Q3)}catch{}}return y}o(Ka,"isPlainObject");var uN=o(function(g){return g.value&&jh(g),!0},"_defaultDeepCopyHandler"),Qd=[Oy,jh,Dy,pN];function fN(g,y,x,I){var R;return Ss(g,function(V){if(V.k===y)return R=V,-1}),R||(R={k:y,v:y},g.push(R),I(R)),R.v}o(fN,"_getSetVisited");function i4(g,y,x,I){var R=x.handler,V=x.path?I?x.path.concat(I):x.path:[],W={handler:x.handler,src:x.src,path:V},oe=typeof y,ve=!1,we=!1;y&&oe===c?ve=Ka(y):we=y===r||Ee(oe);var Tt={type:oe,isPrim:we,isPlain:ve,value:y,result:y,path:V,origin:x.src,copy:function(Rr,kr){return i4(g,Rr,kr?W:x,kr)},copyTo:function(Rr,kr){return fb(g,Rr,kr,W)}};return Tt.isPrim?R&&yp(R,x,Tt)?Tt.result:y:fN(g,y,V,function(Rr){Cl(Tt,"result",{g:function(){return Rr.v},s:function(gr){Rr.v=gr}});for(var kr=0,Ar=R;!yp(Ar||(kr<Qd.length?Qd[kr++]:uN),x,Tt);)Ar=r})}o(i4,"_deepCopy");function fb(g,y,x,I){if(!hr(x))for(var R in x)y[R]=i4(g,x[R],I,R);return y}o(fb,"_copyProps");function Ny(g,y,x){var I={handler:x,src:y,path:[]};return fb([],g,y,I)}o(Ny,"objCopyProps");function dN(g,y){var x={handler:y,src:g};return i4([],g,x)}o(dN,"objDeepCopy");function Oy(g){var y=g.value;if(zr(y)){var x=g.result=[];return x.length=y.length,g.copyTo(x,y),!0}return!1}o(Oy,"arrayDeepCopyHandler");function pN(g){var y=g.value;return jr(y)?(g.result=new Date(y.getTime()),!0):!1}o(pN,"dateDeepCopyHandler");function Dy(g){return g.type===a}o(Dy,"functionDeepCopyHandler");function jh(g){var y=g.value;if(y&&g.isPlain){var x=g.result={};return g.copyTo(x,y),!0}return!1}o(jh,"plainObjDeepCopyHandler");function db(g,y){return Ss(y,function(x){Ny(g,x)}),g}o(db,"_doExtend");function Ly(g,y,x,I,R,V,W){return db(dN(g)||{},Xd(arguments))}o(Ly,"deepExtend");var hN=dp(b),Z3=H3("endsWith",ue,mN);function mN(g,y,x){_e(g)||js("'"+Zs(g)+"' is not a string");var I=_e(y)?y:Z0(y),R=I[b],V=g[b],W=!Yt(x)&&x<V?x:V;return zl(g,W-R,W)===I}o(mN,"polyStrEndsWith");var Hh=nf(_,ue),e2="ref",$h="un"+e2,t2="hasRef",pb="enabled";function gN(g,y,x){var I,R=!0,V=g?y(r):r,W,oe=o(function(){return R=!1,V&&V[$h]&&V[$h](),W},"_unref"),ve=o(function(){return R=!0,V&&V[e2]&&V[e2](),W},"_ref"),we=o(function(){return V&&V[t2]?V[t2]():R},"_hasRef"),Tt=o(function(){return V=y(V),R||oe(),W},"_refresh"),Rr=o(function(){V&&x(V),V=r},"_cancel"),kr=o(function(Ar){!Ar&&V&&Rr(),Ar&&!V&&Tt()},"_setEnabled");return W=(I={cancel:Rr,refresh:Tt},I[t2]=we,I[e2]=ve,I[$h]=oe,I[pb]=!1,I),Zf(W,pb,{get:function(){return!!V},set:kr}),{h:W,dn:function(){V=r}}}o(gN,"_createTimerHandler");function hb(g,y,x,I){var R=zr(x),V=R?x.length:0,W=(V>0?x[0]:R?t:x)||setTimeout,oe=(V>1?x[1]:t)||clearTimeout,ve=I[0];I[0]=function(){we.dn(),Yd(ve,g,Xd(arguments))};var we=gN(y,function(Tt){if(Tt){if(Tt.refresh)return Tt.refresh(),Tt;Yd(oe,g,[Tt])}return Yd(W,g,I)},function(Tt){Yd(oe,g,[Tt])});return we.h}o(hb,"_createTimeoutWith");function xp(g,y){return hb(this,!0,t,Xd(arguments))}o(xp,"scheduleTimeout");function s4(g,y){return hb(this,!1,t,Xd(arguments))}o(s4,"createTimeout");var r2,a4="constructor",td="prototype",o4="function",bp="_dynInstFuncs",n2="_isDynProxy",Vh="_dynClass",l4="_dynCls$",Gh="_dynInstChk",fu=Gh,i2="_dfOpts",s2="_unknown_",c4="__proto__",rd="_dyn"+c4,mb="__dynProto$Gbl",a2="_dynInstProto",Jd="useBaseInst",u4="setInstFuncs",f4=Object,zh=f4.getPrototypeOf,o2=f4.getOwnPropertyNames,ky=Wl(),l2=ky[mb]||(ky[mb]={o:(r2={},r2[u4]=!0,r2[Jd]=!0,r2),n:1e3});function c2(g){return g&&(g===f4[td]||g===Array[td])}o(c2,"_isObjectOrArrayPrototype");function u2(g){return c2(g)||g===Function[td]}o(u2,"_isObjectArrayOrFunctionPrototype");function nd(g){var y;if(g){if(zh)return zh(g);var x=g[c4]||g[td]||(g[a4]?g[a4][td]:null);y=g[rd]||x,fn(g,rd)||(delete g[a2],y=g[rd]=g[a2]||g[rd],g[a2]=x)}return y}o(nd,"_getObjProto");function Zd(g,y){var x=[];if(o2)x=o2(g);else for(var I in g)typeof I=="string"&&fn(g,I)&&x.push(I);if(x&&x.length>0)for(var R=0;R<x.length;R++)y(x[R])}o(Zd,"_forEachProp");function d4(g,y,x){return y!==a4&&typeof g[y]===o4&&(x||fn(g,y))}o(d4,"_isDynamicCandidate");function f2(g){js("DynamicProto: "+g)}o(f2,"_throwTypeError");function My(g){var y={};return Zd(g,function(x){!y[x]&&d4(g,x,!1)&&(y[x]=g[x])}),y}o(My,"_getInstanceFuncs");function p4(g,y){for(var x=g.length-1;x>=0;x--)if(g[x]===y)return!0;return!1}o(p4,"_hasVisited");function By(g,y,x,I){function R(ve,we,Tt){var Rr=we[Tt];if(Rr[n2]&&I){var kr=ve[bp]||{};kr[fu]!==!1&&(Rr=(kr[we[Vh]]||{})[Tt]||Rr)}return function(){return Rr.apply(ve,arguments)}}o(R,"_instFuncProxy");var V={};Zd(x,function(ve){V[ve]=R(y,x,ve)});for(var W=nd(g),oe=[];W&&!u2(W)&&!p4(oe,W);)Zd(W,function(ve){!V[ve]&&d4(W,ve,!zh)&&(V[ve]=R(y,W,ve))}),oe.push(W),W=nd(W);return V}o(By,"_getBaseFuncs");function Ep(g,y,x,I){var R=null;if(g&&fn(x,Vh)){var V=g[bp]||{};if(R=(V[x[Vh]]||{})[y],R||f2("Missing ["+y+"] "+o4),!R[Gh]&&V[fu]!==!1){for(var W=!fn(g,y),oe=nd(g),ve=[];W&&oe&&!u2(oe)&&!p4(ve,oe);){var we=oe[y];if(we){W=we===I;break}ve.push(oe),oe=nd(oe)}try{W&&(g[y]=R),R[Gh]=1}catch{V[fu]=!1}}}return R}o(Ep,"_getInstFunc");function h4(g,y,x){var I=y[g];return I===x&&(I=nd(y)[g]),typeof I!==o4&&f2("["+g+"] is not a "+o4),I}o(h4,"_getProtoFunc");function Fy(g,y,x,I,R){function V(ve,we){var Tt=o(function(){var Rr=Ep(this,we,ve,Tt)||h4(we,ve,Tt);return Rr.apply(this,arguments)},"dynProtoProxy");return Tt[n2]=1,Tt}if(o(V,"_createDynamicPrototype"),!c2(g)){var W=x[bp]=x[bp]||{},oe=W[y]=W[y]||{};W[fu]!==!1&&(W[fu]=!!R),Zd(x,function(ve){d4(x,ve,!1)&&x[ve]!==I[ve]&&(oe[ve]=x[ve],delete x[ve],(!fn(g,ve)||g[ve]&&!g[ve][n2])&&(g[ve]=V(g,ve)))})}}o(Fy,"_populatePrototype");function m4(g,y){if(zh){for(var x=[],I=nd(y);I&&!u2(I)&&!p4(x,I);){if(I===g)return!0;x.push(I),I=nd(I)}return!1}return!0}o(m4,"_checkPrototype");function Uy(g,y){return fn(g,td)?g.name||y||s2:((g||{})[a4]||{}).name||y||s2}o(Uy,"_getObjName");function Il(g,y,x,I){fn(g,td)||f2("theClass is an invalid class definition.");var R=g[td];m4(R,y)||f2("["+Uy(g)+"] not in hierarchy of ["+Uy(y)+"]");var V=null;fn(R,Vh)?V=R[Vh]:(V=l4+Uy(g,"_")+"$"+l2.n,l2.n++,R[Vh]=V);var W=Il[i2],oe=!!W[Jd];oe&&I&&I[Jd]!==void 0&&(oe=!!I[Jd]);var ve=My(y),we=By(R,y,ve,oe);x(y,we);var Tt=!!zh&&!!W[u4];Tt&&I&&(Tt=!!I[u4]),Fy(R,V,y,ve,Tt!==!1)}o(Il,"dynamicProto"),Il[i2]=l2.o;var vN="function",gb="object",vb="undefined",d2="prototype",qy=Object,jy=qy[d2];(Wl()||{}).Symbol,(Wl()||{}).Reflect;var g4="hasOwnProperty",yN=o(function(g){for(var y,x=1,I=arguments.length;x<I;x++){y=arguments[x];for(var R in y)jy[g4].call(y,R)&&(g[R]=y[R])}return g},"__objAssignFnImpl"),Da=Xf||yN,Hy=o(function(g,y){return Hy=qy.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,I){x.__proto__=I}||function(x,I){for(var R in I)I[g4](R)&&(x[R]=I[R])},Hy(g,y)},"extendStaticsFn");function p2(g,y){typeof y!==vN&&y!==null&&js("Class extends value "+String(y)+" is not a constructor or null"),Hy(g,y);function x(){this.constructor=g}o(x,"__"),g[d2]=y===null?e4(y):(x[d2]=y[d2],new x)}o(p2,"__extendsFn");function yb(g,y){for(var x=0,I=y.length,R=g.length;x<I;x++,R++)g[R]=y[x];return g}o(yb,"__spreadArrayFn");var $y=s0,Vy=se,v4="toLowerCase",h2="blkVal",g0="length",id="rdOnly",y4="notify",_4="warnToConsole",Kh="throwInternal",Wh="setDf",sd="watch",La="logger",x4="apply",M0="push",Tp="splice",b4="hdlr",m2="cancel",Yh="initialize",ad="identifier",af="isInitialized",g2="getPlugin",_b="pollInternalLogs",Cp="name",Sp="time",Xl="processNext",xb="getProcessTelContext",Xh="getNotifyMgr",ku="addNotificationListener",v2="removeNotificationListener",Ip="enabled",Gy="stopPollingInternalLogs",du="unload",e1="onComplete",bb="version",Eb="loggingLevelConsole",Ap="createNew",jc="teardown",E4="messageId",Qh="message",Jh="isAsync",od="diagLog",zy="_doTeardown",y2="update",Hc="getNext",Zh="setNextPlugin",_2="userAgent",e5="split",of="nodeType",wp="replace",_N="logInternalMessage",lf="type",Ky="handler",Wy="isChildEvt",t1="getCtx",Mu="setCtx",Yy="complete",t5="traceId",Tb="spanId",x2="traceFlags",Xy;function T4(g,y){Xy||(Xy=r4("AggregationError",function(I,R){R[g0]>1&&(I.errors=R[1])}));var x=g||"One or more errors occurred.";throw Ss(y,function(I,R){x+=`
`.concat(R," > ").concat(Zs(I))}),new Xy(x,y||[])}o(T4,"throwAggregationError");function r5(g,y){return b2(g,function(x){y&&y({value:x,rejected:!1})},function(x){y&&y({rejected:!0,reason:x})})}o(r5,"doAwaitResponse");function b2(g,y,x,I){var R=g;return Ke(g)?(y||x)&&(R=g.then(y,x)):y&&y(g),I&&(R=E2(R,I)),R}o(b2,"doAwait");function E2(g,y){var x=g;return y&&(Ke(g)?g.finally?x=g.finally(y):x=g.then(function(I){return y(),I},function(I){throw y(),I}):y()),x}o(E2,"doFinally");var n5=["pending","resolving","resolved","rejected"],Cb="dispatchEvent",C4;function xN(g,y,x,I){var R=Gd();!C4&&(C4=Kl(function(){var ve;return R&&R.createEvent&&(ve=R.createEvent("Event")),!!ve&&ve.initEvent},null));var V=C4.v?R.createEvent("Event"):I?new Event(y):{};if(x&&x(V),C4.v&&V.initEvent(y,!1,!0),V&&g[Cb])g[Cb](V);else{var W=g["on"+y];if(W)W(V);else{var oe=Oa("console");oe&&(oe.error||oe.log)(y,Zs(V))}}}o(xN,"emitEvent");var S4="Promise",Qy="unhandledRejection",Sb=Qy.toLowerCase(),I4=10,Jy;function Ib(g){return Er(g)?g.toString():Zs(g)}o(Ib,"dumpFnObj");function i5(g,y,x){var I=Xd(arguments,3),R=0,V=!1,W,oe=[],ve=!1,we=null,Tt;!Jy&&(Jy=sf(S4+"RejectionEvent"));var Rr=o(function(pn,$i){try{ve=!0,we&&we.cancel(),we=null;var Ls=g(function(O0,Ca){oe.push(function(){try{var aa=R===2?pn:$i,Nl=Yt(aa)?W:Er(aa)?aa(W):aa;Ke(Nl)?Nl.then(O0,Ca):aa?O0(Nl):R===3?Ca(Nl):O0(Nl)}catch(tl){Ca(tl)}}),V&&dn()},I);return Ls}finally{}},"_then"),kr=o(function(pn){return Rr(void 0,pn)},"_catch"),Ar=o(function(pn){var $i=pn,Ls=pn;return Er(pn)&&($i=o(function(O0){return pn&&pn(),O0},"thenFinally"),Ls=o(function(O0){throw pn&&pn(),O0},"catchFinally")),Rr($i,Ls)},"_finally"),gr=o(function(){return n5[R]},"_strState"),dn=o(function(){if(oe.length>0){var pn=oe.slice();oe=[],ve=!0,y(pn),we&&we.cancel(),we=null}},"_processQueue"),Ur=o(function(pn,$i){return function(Ls){if(R===$i){if(pn===2&&Ke(Ls)){R=1,Ls.then(Ur(2,1),Ur(3,1));return}R=pn,V=!0,W=Ls,dn(),!ve&&pn===3&&!we&&(we=xp(vn,I4))}}},"_createSettleIfFn"),vn=o(function(){if(!ve)if(lN())process.emit(Qy,W,Tt);else{var pn=zd()||Wl();xN(pn,Sb,function($i){return Cl($i,"promise",{g:function(){return Tt}}),$i.reason=W,$i},!!Jy.v)}},"_notifyUnhandledRejection");Tt={then:Rr,catch:kr,finally:Ar},Zf(Tt,"state",{get:gr}),ob()&&(Tt[Jg(11)]="IPromise");var Zr=o(function(){return"IPromise "+gr()+(V?" - "+Ib(W):"")},"_toString");return Tt.toString=Zr,o(function(){Er(x)||js(S4+": executor is not a function - "+Ib(x));var $i=Ur(3,0);try{x.call(Tt,Ur(2,0),$i)}catch(Ls){$i(Ls)}},"_initialize")(),Tt}o(i5,"_createPromise");function Ab(g){return function(y){var x=Xd(arguments,1);return g(function(I,R){try{var V=[],W=1;Ss(y,function(oe,ve){oe&&(W++,b2(oe,function(we){V[ve]=we,--W===0&&I(V)},R))}),W--,W===0&&I(V)}catch(oe){R(oe)}},x)}}o(Ab,"_createAllPromise");var bN=o(function(g){Ss(g,function(y){try{y()}catch{}})},"_processPendingItems");function EN(g){var y=Ri(g)?g:0;return function(x){xp(function(){bN(x)},y)}}o(EN,"timeoutItemProcessor");function wb(g,y){return i5(wb,EN(y),g,y)}o(wb,"createAsyncPromise");var Zy;function TN(g,y){!Zy&&(Zy=sf(S4));var x=Zy.v;if(!x)return wb(g);Er(g)||js(S4+": executor is not a function - "+Zs(g));var I=0;function R(){return n5[I]}o(R,"_strState");var V=new x(function(W,oe){function ve(Tt){I=2,W(Tt)}o(ve,"_resolve");function we(Tt){I=3,oe(Tt)}o(we,"_reject"),g(ve,we)});return Zf(V,"state",{get:R}),V}o(TN,"createNativePromise");var A4;function r1(g,y){return!A4&&(A4=mp(function(){return TN})),A4.v.call(this,g,y)}o(r1,"createPromise");var Rb=Ab(r1),cf=void 0,f0="",Rp="channels",A0="core",w4="createPerfMgr",e9="disabled",n1="extensionConfig",i1="extensions",$c="processTelemetry",Pp="priority",T2="eventsSent",Vc="eventsDiscarded",C2="eventsSendRequest",s1="perfEvent",R4="getPerfMgr",S2="domain",I2="path",t9="Not dynamic - ",Pb=/-([a-z])/g,CN=/([^\w\d_$])/g,SN=/^(\d+[\w\d_$])/;function r9(g){return!hr(g)}o(r9,"isNotNullOrUndefined");function n9(g){var y=g;return y&&_e(y)&&(y=y[wp](Pb,function(x,I){return I.toUpperCase()}),y=y[wp](CN,"_"),y=y[wp](SN,function(x,I){return"_"+I})),y}o(n9,"normalizeJsName");function Al(g,y){return g&&y?Hh(g,y)!==-1:!1}o(Al,"strContains");function P4(g){return g&&g.toISOString()||""}o(P4,"toISOString");function bc(g){return en(g)?g[Cp]:f0}o(bc,"getExceptionName");function ld(g,y,x,I,R){var V=x;return g&&(V=g[y],V!==x&&(!R||R(V))&&(!I||I(x))&&(V=x,g[y]=V)),V}o(ld,"setValue");function N4(g,y,x){var I;return g?(I=g[y],!I&&hr(I)&&(I=Yt(x)?{}:x,g[y]=I)):I=Yt(x)?{}:x,I}o(N4,"getSetValue");function uf(g,y){var x=null,I=null;return Er(g)?x=g:I=g,function(){var R=arguments;if(x&&(I=x()),I)return I[y][x4](I,R)}}o(uf,"_createProxyFunction");function s5(g,y,x,I,R){g&&y&&x&&(R!==!1||Yt(g[y]))&&(g[y]=uf(x,I))}o(s5,"proxyFunctionAs");function O4(g,y,x,I){return g&&y&&Vr(g)&&zr(x)&&Ss(x,function(R){_e(R)&&s5(g,R,y,R,I)}),g}o(O4,"proxyFunctions");function a5(g){return function(){function y(){var x=this;g&&Hi(g,function(I,R){x[I]=R})}return o(y,"class_1"),y}()}o(a5,"createClassFromInterface");function Ds(g){return g&&Xf&&(g=qy(Xf({},g))),g}o(Ds,"optimizeObject");function Np(g,y,x,I,R,V){var W=arguments,oe=W[0]||{},ve=W[g0],we=!1,Tt=1;for(ve>0&&je(oe)&&(we=oe,oe=W[Tt]||{},Tt++),Vr(oe)||(oe={});Tt<ve;Tt++){var Rr=W[Tt],kr=zr(Rr),Ar=Vr(Rr);for(var gr in Rr){var dn=kr&&gr in Rr||Ar&&Wi(Rr,gr);if(dn){var Ur=Rr[gr],vn=void 0;if(we&&Ur&&((vn=zr(Ur))||Ka(Ur))){var Zr=oe[gr];vn?zr(Zr)||(Zr=[]):Ka(Zr)||(Zr={}),Ur=Np(we,Zr,Ur)}Ur!==void 0&&(oe[gr]=Ur)}}}return oe}o(Np,"objExtend");var Op="documentMode",o5="location",i9="console",pu="JSON",a1="crypto",l5="msCrypto",A2="msie",w2="trident/",D4="XMLHttpRequest",L4=null,R2=null,s9=!1,cd=null,c5=null;function a9(g,y){var x=!1;if(g){try{if(x=y in g,!x){var I=g[d2];I&&(x=y in I)}}catch{}if(!x)try{var R=new g;x=!Yt(R[y])}catch{}}return x}o(a9,"_hasProperty");function k4(g){if(g&&s9){var y=Oa("__mockLocation");if(y)return y}return typeof location===gb&&location?location:Oa(o5)}o(k4,"getLocation");function u5(){return typeof console!==vb?console:Oa(i9)}o(u5,"getConsole");function Ec(){return!!(typeof JSON===gb&&JSON||Oa(pu)!==null)}o(Ec,"hasJSON");function wl(){return Ec()?JSON||Oa(pu):null}o(wl,"getJSON");function ud(){return Oa(a1)}o(ud,"getCrypto");function f5(){return Oa(l5)}o(f5,"getMsCrypto");function Bu(){var g=Kd();if(g&&(g[_2]!==R2||L4===null)){R2=g[_2];var y=(R2||f0)[v4]();L4=Al(y,A2)||Al(y,w2)}return L4}o(Bu,"isIE");function P2(g){if(g===void 0&&(g=null),!g){var y=Kd()||{};g=y?(y.userAgent||f0)[v4]():f0}var x=(g||f0)[v4]();if(Al(x,A2)){var I=Gd()||{};return Math.max(parseInt(x[e5](A2)[1]),I[Op]||0)}else if(Al(x,w2)){var R=parseInt(x[e5](w2)[1]);if(R)return R+4}return null}o(P2,"getIEVersion");function d5(g){return(c5===null||g===!1)&&(c5=oN()&&!!Kd().sendBeacon),c5}o(d5,"isBeaconsSupported");function M4(g){var y=!1;try{y=!!Oa("fetch");var x=Oa("Request");y&&g&&x&&(y=a9(x,"keepalive"))}catch{}return y}o(M4,"isFetchSupported");function Nb(){return cd===null&&(cd=typeof XDomainRequest!==vb,cd&&Dp()&&(cd=cd&&!a9(Oa(D4),"withCredentials"))),cd}o(Nb,"useXDomainRequest");function Dp(){var g=!1;try{var y=Oa(D4);g=!!y}catch{}return g}o(Dp,"isXhrSupported");var o1=4294967296,ff=4294967295,N2=123456789,Lp=987654321,p5=!1,l1=N2,h5=Lp;function o9(g){g<0&&(g>>>=0),l1=N2+g&ff,h5=Lp-g&ff,p5=!0}o(o9,"_mwcSeed");function Ob(){try{var g=ed()&2147483647;o9((Math.random()*o1^g)+g)}catch{}}o(Ob,"_autoSeedMwc");function gl(g){var y=0,x=ud()||f5();return x&&x.getRandomValues&&(y=x.getRandomValues(new Uint32Array(1))[0]&ff),y===0&&Bu()&&(p5||Ob(),y=B4()&ff),y===0&&(y=Math.floor(o1*Math.random()|0)),g||(y>>>=0),y}o(gl,"random32");function B4(g){h5=36969*(h5&65535)+(h5>>16)&ff,l1=18e3*(l1&65535)+(l1>>16)&ff;var y=(h5<<16)+(l1&65535)>>>0&ff|0;return g||(y>>>=0),y}o(B4,"mwcRandom32");function l9(g){g===void 0&&(g=22);for(var y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",x=gl()>>>0,I=0,R=f0;R[g0]<g;)I++,R+=y.charAt(x&63),x>>>=6,I===5&&(x=(gl()<<2&4294967295|x&3)>>>0,I=0);return R}o(l9,"newId");var c9="3.0.7",c1="."+l9(6),u1=0;function u9(g){return g[of]===1||g[of]===9||!+g[of]}o(u9,"_canAcceptData");function f9(g,y){var x=y[g.id];if(!x){x={};try{u9(y)&&Cl(y,g.id,{e:!1,v:x})}catch{}}return x}o(f9,"_getCache");function f1(g,y){return y===void 0&&(y=!1),n9(g+u1+++(y?"."+c9:f0)+c1)}o(f1,"createUniqueNamespace");function d9(g){var y={id:f1("_aiData-"+(g||f0)+"."+c9),accept:function(x){return u9(x)},get:function(x,I,R,V){var W=x[y.id];return W?W[n9(I)]:(V&&(W=f9(y,x),W[n9(I)]=R),R)},kill:function(x,I){if(x&&x[I])try{delete x[I]}catch{}}};return y}o(d9,"createElmNodeData");function O2(g){return g&&Vr(g)&&(g.isVal||g.fb||Wi(g,"v")||Wi(g,"mrg")||Wi(g,"ref")||g.set)}o(O2,"_isConfigDefaults");function Db(g,y,x){var I,R=x.dfVal||yr;if(y&&x.fb){var V=x.fb;zr(V)||(V=[V]);for(var W=0;W<V[g0];W++){var oe=V[W],ve=y[oe];if(R(ve)?I=ve:g&&(ve=g.cfg[oe],R(ve)&&(I=ve),g.set(g.cfg,Z0(oe),ve)),R(I))break}}return!R(I)&&R(x.v)&&(I=x.v),I}o(Db,"_getDefault");function kp(g,y,x){var I=x;if(x&&O2(x)&&(I=Db(g,y,x)),I){O2(I)&&(I=kp(g,y,I));var R;zr(I)?(R=[],R[g0]=I[g0]):Ka(I)&&(R={}),R&&(Hi(I,function(V,W){W&&O2(W)&&(W=kp(g,y,W)),R[V]=W}),I=R)}return I}o(kp,"_resolveDefaultValue");function p9(g,y,x,I){var R,V,W,oe=I,ve,we,Tt,Rr;O2(oe)?(R=oe.isVal,V=oe.set,Tt=oe[id],Rr=oe[h2],ve=oe.mrg,we=oe.ref,!we&&Yt(we)&&(we=!!ve),W=Db(g,y,oe)):W=I,Rr&&g[h2](y,x);var kr,Ar=!0,gr=y[x];(gr||!hr(gr))&&(kr=gr,Ar=!1,R&&kr!==W&&!R(kr)&&(kr=W,Ar=!0),V&&(kr=V(kr,W,y),Ar=kr===W)),Ar?W?kr=kp(g,y,W):kr=W:(Ka(kr)||zr(W))&&ve&&W&&(Ka(W)||zr(W))&&Hi(W,function(dn,Ur){p9(g,kr,dn,Ur)}),g.set(y,x,kr),we&&g.ref(y,x),Tt&&g[id](y,x)}o(p9,"_applyDefaultValue");var d1=Sy("[[ai_dynCfg_1]]"),Lb=Sy("[[ai_blkDynCfg_1]]"),kb=Sy("[[ai_frcDynCfg_1]]");function F4(g){if(g){var y;if(zr(g)?(y=[],y[g0]=g[g0]):Ka(g)&&(y={}),y)return Hi(g,function(x,I){y[x]=F4(I)}),y}return g}o(F4,"_cfgDeepCopy");function IN(g){if(g){var y=g[d1]||g;if(y.cfg&&(y.cfg===g||y.cfg[d1]===y))return y}return null}o(IN,"getDynamicConfigHandler");function h9(g){if(g&&(Ka(g)||zr(g)))try{g[Lb]=!0}catch{}return g}o(h9,"blockDynamicConversion");function m9(g,y,x){var I=!1;return x&&!g[y.blkVal]&&(I=x[kb],!I&&!x[Lb]&&(I=Ka(x)||zr(x))),I}o(m9,"_canMakeDynamic");function Mb(g){js("InvalidAccess:"+g)}o(Mb,"throwInvalidAccess");var AN=["push","pop","shift","unshift","splice"],D2=o(function(g,y,x,I){g&&g[Kh](3,108,"".concat(x," [").concat(y,"] failed - ")+Zs(I))},"_throwDynamicError");function wN(g,y,x){zr(y)&&Ss(AN,function(I){var R=y[I];y[I]=function(){for(var V=[],W=0;W<arguments.length;W++)V[W]=arguments[W];var oe=R[x4](this,V);return q4(g,y,x,"Patching"),oe}})}o(wN,"_patchArray");function L2(g,y){var x=tn(g,y);return x&&x.get}o(L2,"_getOwnPropGetter");function RN(g,y,x,I){var R={n:x,h:[],trk:function(we){we&&we.fn&&(uu(R.h,we)===-1&&R.h[M0](we),g.trk(we,R))},clr:function(we){var Tt=uu(R.h,we);Tt!==-1&&R.h[Tp](Tt,1)}},V=!0,W=!1;function oe(){V&&(W=W||m9(oe,g,I),I&&!I[d1]&&W&&(I=q4(g,I,x,"Converting")),V=!1);var we=g.act;return we&&R.trk(we),I}o(oe,"_getProperty"),oe[g.prop]={chng:function(){g.add(R)}};function ve(we){if(I!==we){oe[g.ro]&&!g.upd&&Mb("["+x+"] is read-only:"+Zs(y)),V&&(W=W||m9(oe,g,I),V=!1);var Tt=W&&oe[g.rf];if(W)if(Tt){Hi(I,function(kr){I[kr]=we?we[kr]:cf});try{Hi(we,function(kr,Ar){U4(g,I,kr,Ar)}),we=I}catch(kr){D2((g.hdlr||{})[La],x,"Assigning",kr),W=!1}}else I&&I[d1]&&Hi(I,function(kr){var Ar=L2(I,kr);if(Ar){var gr=Ar[g.prop];gr&&gr.chng()}});if(we!==I){var Rr=we&&m9(oe,g,we);!Tt&&Rr&&(we=q4(g,we,x,"Converting")),I=we,W=Rr}g.add(R)}}o(ve,"_setProperty"),Cl(y,R.n,{g:oe,s:ve})}o(RN,"_createDynamicProperty");function U4(g,y,x,I){if(y){var R=L2(y,x),V=R&&!!R[g.prop];V?y[x]=I:RN(g,y,x,I)}return y}o(U4,"_setDynamicProperty");function g9(g,y,x,I){if(y){var R=L2(y,x),V=R&&!!R[g.prop],W=I&&I[0],oe=I&&I[1],ve=I&&I[2];if(!V){if(ve)try{h9(y)}catch(we){D2((g.hdlr||{})[La],x,"Blocking",we)}try{U4(g,y,x,y[x]),R=L2(y,x)}catch(we){D2((g.hdlr||{})[La],x,"State",we)}}W&&(R[g.rf]=W),oe&&(R[g.ro]=oe),ve&&(R[g.blkVal]=!0)}return y}o(g9,"_setDynamicPropertyState");function q4(g,y,x,I){try{Hi(y,function(R,V){U4(g,y,R,V)}),y[d1]||(Zf(y,d1,{get:function(){return g[b4]}}),wN(g,y,x))}catch(R){D2((g.hdlr||{})[La],x,I,R)}return y}o(q4,"_makeDynamicObject");var fd="[[ai_",k2="]]";function p1(g){var y,x=Y3(fd+"get"+g.uid+k2),I=Y3(fd+"ro"+g.uid+k2),R=Y3(fd+"rf"+g.uid+k2),V=Y3(fd+"blkVal"+g.uid+k2),W=Y3(fd+"dtl"+g.uid+k2),oe=null,ve=null,we;function Tt(gr,dn){var Ur=we.act;try{we.act=gr,gr&&gr[W]&&(Ss(gr[W],function(Zr){Zr.clr(gr)}),gr[W]=[]),dn({cfg:g.cfg,set:g.set.bind(g),setDf:g[Wh].bind(g),ref:g.ref.bind(g),rdOnly:g[id].bind(g)})}catch(Zr){var vn=g[La];throw vn&&vn[Kh](1,107,Zs(Zr)),Zr}finally{we.act=Ur||null}}o(Tt,"_useHandler");function Rr(){if(oe){var gr=oe;oe=null,ve&&ve[m2](),ve=null;var dn=[];if(Ss(gr,function(Ur){if(Ur&&(Ur[W]&&(Ss(Ur[W],function(vn){vn.clr(Ur)}),Ur[W]=null),Ur.fn))try{Tt(Ur,Ur.fn)}catch(vn){dn[M0](vn)}}),oe)try{Rr()}catch(Ur){dn[M0](Ur)}dn[g0]>0&&T4("Watcher error(s): ",dn)}}o(Rr,"_notifyWatchers");function kr(gr){if(gr&&gr.h[g0]>0){oe||(oe=[]),ve||(ve=xp(function(){ve=null,Rr()},0));for(var dn=0;dn<gr.h[g0];dn++){var Ur=gr.h[dn];Ur&&uu(oe,Ur)===-1&&oe[M0](Ur)}}}o(kr,"_addWatcher");function Ar(gr,dn){if(gr){var Ur=gr[W]=gr[W]||[];uu(Ur,dn)===-1&&Ur[M0](dn)}}return o(Ar,"_trackHandler"),we=(y={prop:x,ro:I,rf:R},y[h2]=V,y[b4]=g,y.add=kr,y[y4]=Rr,y.use=Tt,y.trk=Ar,y),we}o(p1,"_createState");function h1(g,y){var x={fn:y,rm:function(){x.fn=null,g=null,y=null}};return g.use(x,y),x}o(h1,"_createAndUseHandler");function Bb(g,y,x){var I,R=IN(y);if(R)return R;var V=f1("dyncfg",!0),W=y&&x!==!1?y:F4(y),oe;function ve(){oe[y4]()}o(ve,"_notifyWatchers");function we(vn,Zr,pn){try{vn=U4(oe,vn,Zr,pn)}catch($i){D2(g,Zr,"Setting value",$i)}return vn[Zr]}o(we,"_setValue");function Tt(vn){return h1(oe,vn)}o(Tt,"_watch");function Rr(vn,Zr){oe.use(null,function(pn){var $i=oe.upd;try{Yt(Zr)||(oe.upd=Zr),vn(pn)}finally{oe.upd=$i}})}o(Rr,"_block");function kr(vn,Zr){var pn;return g9(oe,vn,Zr,(pn={},pn[0]=!0,pn))[Zr]}o(kr,"_ref");function Ar(vn,Zr){var pn;return g9(oe,vn,Zr,(pn={},pn[1]=!0,pn))[Zr]}o(Ar,"_rdOnly");function gr(vn,Zr){var pn;return g9(oe,vn,Zr,(pn={},pn[2]=!0,pn))[Zr]}o(gr,"_blkPropValue");function dn(vn,Zr){return Zr&&Hi(Zr,function(pn,$i){p9(Ur,vn,pn,$i)}),vn}o(dn,"_applyDefaults");var Ur=(I={uid:null,cfg:W},I[La]=g,I[y4]=ve,I.set=we,I[Wh]=dn,I[sd]=Tt,I.ref=kr,I[id]=Ar,I[h2]=gr,I._block=Rr,I);return Cl(Ur,"uid",{c:!1,e:!1,w:!1,v:V}),oe=p1(Ur),q4(oe,W,"config","Creating"),Ur}o(Bb,"_createDynamicHandler");function v9(g,y){g?(g[_4](y),g[Kh](2,108,y)):Mb(y)}o(v9,"_logInvalidAccess");function Ql(g,y,x,I){var R=Bb(x,g||{},I);return y&&R[Wh](R.cfg,y),R}o(Ql,"createDynamicConfig");function m1(g,y,x){var I=g[d1]||g;return I.cfg&&(I.cfg===g||I.cfg[d1]===I)?I[sd](y):(v9(x,t9+Zs(g)),Ql(g,null,x)[sd](y))}o(m1,"onConfigChange");function m5(g,y){if(g&&g[du])return g[du](y)}o(m5,"runTargetUnload");function Fb(g,y,x){var I;return x||(I=r1(function(R){x=R})),g&&hN(g)>0?r5(m5(g[0],y),function(){Fb(Xd(g,1),y,x)}):x(),I}o(Fb,"doUnloadAll");var PN=500;function j4(g,y,x){return!g&&hr(g)?y:je(g)?g:Z0(g)[v4]()==="true"}o(j4,"_stringToBoolOrDefault");function Ub(g){return{mrg:!0,v:g}}o(Ub,"cfgDfMerge");function H4(g,y,x){return{fb:x,isVal:g,v:y}}o(H4,"cfgDfValidate");function df(g,y){return{fb:y,set:j4,v:!!g}}o(df,"cfgDfBoolean");var g5=[T2,Vc,C2,s1],$4=null,V4;function NN(g,y){return function(){var x=arguments,I=qb(y);if(I){var R=I.listener;R&&R[g]&&R[g][x4](R,x)}}}o(NN,"_listenerProxyFunc");function ON(){var g=Oa("Microsoft");return g&&($4=g.ApplicationInsights),$4}o(ON,"_getExtensionNamespace");function qb(g){var y=$4;return!y&&g.disableDbgExt!==!0&&(y=$4||ON()),y?y.ChromeDbgExt:null}o(qb,"getDebugExt");function DN(g){if(!V4){V4={};for(var y=0;y<g5[g0];y++)V4[g5[y]]=NN(g5[y],g)}return V4}o(DN,"getDebugListener");var v5,jb="warnToConsole",Hb="AI (Internal): ",LN="AI: ",kN="AITR_",MN={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},BN=(v5={},v5[0]=null,v5[1]="errorToConsole",v5[2]=jb,v5[3]="debugToConsole",v5);function Mp(g){return g?'"'+g[wp](/\"/g,f0)+'"':f0}o(Mp,"_sanitizeDiagnosticText");function Rl(g,y){var x=u5();if(x){var I="log";x[g]&&(I=g),Er(x[I])&&x[I](y)}}o(Rl,"_logToConsole");var M2=function(){function g(y,x,I,R){I===void 0&&(I=!1);var V=this;V[E4]=y,V[Qh]=(I?LN:Hb)+y;var W=f0;Ec()&&(W=wl().stringify(R));var oe=(x?" message:"+Mp(x):f0)+(R?" props:"+Mp(W):f0);V[Qh]+=oe}return o(g,"_InternalLogMessage"),g.dataType="MessageData",g}();function G4(g,y){return(g||{})[La]||new y5(y)}o(G4,"safeGetLogger");var y5=function(){function g(y){this.identifier="DiagnosticLogger",this.queue=[];var x=0,I={},R,V,W,oe,ve;Il(g,this,function(we){ve=Rr(y||{}),we.consoleLoggingLevel=function(){return R},we[Kh]=function(gr,dn,Ur,vn,Zr){Zr===void 0&&(Zr=!1);var pn=new M2(dn,Ur,Zr,vn);if(oe)throw Zs(pn);var $i=BN[gr]||jb;if(Yt(pn[Qh]))Ar("throw"+(gr===1?"Critical":"Warning"),pn);else{if(Zr){var Ls=+pn[E4];!I[Ls]&&R>=gr&&(we[$i](pn[Qh]),I[Ls]=!0)}else R>=gr&&we[$i](pn[Qh]);Tt(gr,pn)}},we.debugToConsole=function(gr){Rl("debug",gr),Ar("warning",gr)},we[_4]=function(gr){Rl("warn",gr),Ar("warning",gr)},we.errorToConsole=function(gr){Rl("error",gr),Ar("error",gr)},we.resetInternalMessageCount=function(){x=0,I={}},we[_N]=Tt,we[du]=function(gr){ve&&ve.rm(),ve=null};function Tt(gr,dn){if(!kr()){var Ur=!0,vn=kN+dn[E4];if(I[vn]?Ur=!1:I[vn]=!0,Ur&&(gr<=V&&(we.queue[M0](dn),x++,Ar(gr===1?"error":"warn",dn)),x===W)){var Zr="Internal events throttle limit per PageView reached for this app.",pn=new M2(23,Zr,!1);we.queue[M0](pn),gr===1?we.errorToConsole(Zr):we[_4](Zr)}}}o(Tt,"_logInternalMessage");function Rr(gr){return m1(Ql(gr,MN,we).cfg,function(dn){var Ur=dn.cfg;R=Ur[Eb],V=Ur.loggingLevelTelemetry,W=Ur.maxMessageLimit,oe=Ur.enableDebug})}o(Rr,"_setDefaultsFromConfig");function kr(){return x>=W}o(kr,"_areInternalMessagesThrottled");function Ar(gr,dn){var Ur=qb(y||{});Ur&&Ur[od]&&Ur[od](gr,dn)}o(Ar,"_debugExtMsg")})}return o(g,"DiagnosticLogger"),g.__ieDyn=1,g}();function y9(g){return g||new y5}o(y9,"_getLogger");function Zi(g,y,x,I,R,V){V===void 0&&(V=!1),y9(g)[Kh](y,x,I,R,V)}o(Zi,"_throwInternal");function z4(g,y){y9(g)[_4](y)}o(z4,"_warnToConsole");var _9,Bp,x9="toGMTString",g1="toUTCString",b9="cookie",K4="expires",$b="isCookieUseDisabled",E9="disableCookiesUsage",B2="_ckMgr",_5=null,T9=null,C9=null,hu,Vb={},Gb={},F2=(_9={cookieCfg:Ub((Bp={},Bp[S2]={fb:"cookieDomain",dfVal:r9},Bp.path={fb:"cookiePath",dfVal:r9},Bp.enabled=cf,Bp.ignoreCookies=cf,Bp.blockedCookies=cf,Bp)),cookieDomain:cf,cookiePath:cf},_9[E9]=cf,_9);function S9(){!hu&&(hu=mp(function(){return Gd()}))}o(S9,"_getDoc");function x5(g){return g?g.isEnabled():!0}o(x5,"_isMgrEnabled");function zb(g,y){return y&&g&&zr(g.ignoreCookies)?uu(g.ignoreCookies,y)!==-1:!1}o(zb,"_isIgnoredCookie");function FN(g,y){return y&&g&&zr(g.blockedCookies)&&uu(g.blockedCookies,y)!==-1?!0:zb(g,y)}o(FN,"_isBlockedCookie");function Kb(g,y){var x=y[Ip];if(hr(x)){var I=void 0;Yt(g[$b])||(I=!g[$b]),Yt(g[E9])||(I=!g[E9]),x=I}return x}o(Kb,"_isCfgEnabled");function UN(g,y){var x,I,R,V,W,oe,ve,we,Tt;g=Ql(g||Gb,null,y).cfg,W=m1(g,function(kr){kr[Wh](kr.cfg,F2),I=kr.ref(kr.cfg,"cookieCfg"),R=I[I2]||"/",V=I[S2],oe=Kb(g,I)!==!1,ve=I.getCookie||qN,we=I.setCookie||dd,Tt=I.delCookie||dd},y);var Rr=(x={isEnabled:function(){var kr=Kb(g,I)!==!1&&oe&&Wb(y),Ar=Gb[B2];return kr&&Ar&&Rr!==Ar&&(kr=x5(Ar)),kr},setEnabled:function(kr){oe=kr!==!1,I[Ip]=kr},set:function(kr,Ar,gr,dn,Ur){var vn=!1;if(x5(Rr)&&!FN(I,kr)){var Zr={},pn=Yl(Ar||f0),$i=Hh(pn,";");if($i!==-1&&(pn=Yl(hl(Ar,$i)),Zr=Yb(zl(Ar,$i+1))),ld(Zr,S2,dn||V,un,Yt),!hr(gr)){var Ls=Bu();if(Yt(Zr[K4])){var O0=ed(),Ca=O0+gr*1e3;if(Ca>0){var aa=new Date;aa.setTime(Ca),ld(Zr,K4,Xb(aa,Ls?x9:g1)||Xb(aa,Ls?x9:g1)||f0,un)}}Ls||ld(Zr,"max-age",f0+gr,null,Yt)}var Nl=k4();Nl&&Nl.protocol==="https:"&&(ld(Zr,"secure",null,null,Yt),T9===null&&(T9=!U2((Kd()||{})[_2])),T9&&ld(Zr,"SameSite","None",null,Yt)),ld(Zr,I2,Ur||R,null,Yt),we(kr,Qb(pn,Zr)),vn=!0}return vn},get:function(kr){var Ar=f0;return x5(Rr)&&!zb(I,kr)&&(Ar=ve(kr)),Ar},del:function(kr,Ar){var gr=!1;return x5(Rr)&&(gr=Rr.purge(kr,Ar)),gr},purge:function(kr,Ar){var gr,dn=!1;if(Wb(y)){var Ur=(gr={},gr[I2]=Ar||"/",gr[K4]="Thu, 01 Jan 1970 00:00:01 GMT",gr);Bu()||(Ur["max-age"]="0"),Tt(kr,Qb(f0,Ur)),dn=!0}return dn}},x[du]=function(kr){W&&W.rm(),W=null},x);return Rr[B2]=Rr,Rr}o(UN,"createCookieMgr");function Wb(g){if(_5===null){_5=!1,!hu&&S9();try{var y=hu.v||{};_5=y[b9]!==void 0}catch(x){Zi(g,2,68,"Cannot access document.cookie - "+bc(x),{exception:Zs(x)})}}return _5}o(Wb,"areCookiesSupported");function Yb(g){var y={};if(g&&g[g0]){var x=Yl(g)[e5](";");Ss(x,function(I){if(I=Yl(I||f0),I){var R=Hh(I,"=");R===-1?y[I]=null:y[Yl(hl(I,R))]=Yl(zl(I,R+1))}})}return y}o(Yb,"_extractParts");function Xb(g,y){return Er(g[y])?g[y]():null}o(Xb,"_formatDate");function Qb(g,y){var x=g||f0;return Hi(y,function(I,R){x+="; "+I+(hr(R)?f0:"="+R)}),x}o(Qb,"_formatCookieValue");function qN(g){var y=f0;if(!hu&&S9(),hu.v){var x=hu.v[b9]||f0;C9!==x&&(Vb=Yb(x),C9=x),y=Yl(Vb[g]||f0)}return y}o(qN,"_getCookieValue");function dd(g,y){!hu&&S9(),hu.v&&(hu.v[b9]=g+"="+y)}o(dd,"_setCookieValue");function U2(g){return _e(g)?!!(Al(g,"CPU iPhone OS 12")||Al(g,"iPad; CPU OS 12")||Al(g,"Macintosh; Intel Mac OS X 10_14")&&Al(g,"Version/")&&Al(g,"Safari")||Al(g,"Macintosh; Intel Mac OS X 10_14")&&Z3(g,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||Al(g,"Chrome/5")||Al(g,"Chrome/6")||Al(g,"UnrealEngine")&&!Al(g,"Chrome")||Al(g,"UCBrowser/12")||Al(g,"UCBrowser/11")):!1}o(U2,"uaDisallowsSameSiteNone");var Wa={perfEvtsSendAll:!1};function v1(g,y,x,I){Ss(g,function(R){if(R&&R[y])if(x)xp(function(){return I(R)},0);else try{I(R)}catch{}})}o(v1,"_runListeners");var b5=function(){function g(y){this.listeners=[];var x,I,R=[],V=Ql(y,Wa);I=V[sd](function(W){x=!!W.cfg.perfEvtsSendAll}),Il(g,this,function(W){Cl(W,"listeners",{g:function(){return R}}),W[ku]=function(oe){R[M0](oe)},W[v2]=function(oe){for(var ve=uu(R,oe);ve>-1;)R[Tp](ve,1),ve=uu(R,oe)},W[T2]=function(oe){v1(R,T2,!0,function(ve){ve[T2](oe)})},W[Vc]=function(oe,ve){v1(R,Vc,!0,function(we){we[Vc](oe,ve)})},W[C2]=function(oe,ve){v1(R,C2,ve,function(we){we[C2](oe,ve)})},W[s1]=function(oe){oe&&(x||!oe[Wy]())&&v1(R,s1,!1,function(ve){oe[Jh]?xp(function(){return ve[s1](oe)},0):ve[s1](oe)})},W[du]=function(oe){var ve=o(function(){I&&I.rm(),I=null,R=[]},"_finishUnload"),we;if(v1(R,"unload",!1,function(Tt){var Rr=Tt[du](oe);Rr&&(we||(we=[]),we[M0](Rr))}),we)return r1(function(Tt){return r5(Rb(we),function(){ve(),Tt()})});ve()}})}return o(g,"NotificationManager"),g.__ieDyn=1,g}(),y1="ctx",pf="ParentContextKey",Fu="ChildrenContextKey",q2=null,j2=function(){function g(y,x,I){var R=this;if(R.start=ed(),R[Cp]=y,R[Jh]=I,R[Wy]=function(){return!1},Er(x)){var V;Cl(R,"payload",{g:function(){return!V&&Er(x)&&(V=x(),x=null),V}})}R[t1]=function(W){return W?W===g[pf]||W===g[Fu]?R[W]:(R[y1]||{})[W]:null},R[Mu]=function(W,oe){if(W)if(W===g[pf])R[W]||(R[Wy]=function(){return!0}),R[W]=oe;else if(W===g[Fu])R[W]=oe;else{var ve=R[y1]=R[y1]||{};ve[W]=oe}},R[Yy]=function(){var W=0,oe=R[t1](g[Fu]);if(zr(oe))for(var ve=0;ve<oe[g0];ve++){var we=oe[ve];we&&(W+=we[Sp])}R[Sp]=ed()-R.start,R.exTime=R[Sp]-W,R[Yy]=function(){}}}return o(g,"PerfEvent"),g.ParentContextKey="parent",g.ChildrenContextKey="childEvts",g}(),Jb=function(){function g(y){this.ctx={},Il(g,this,function(x){x.create=function(I,R,V){return new j2(I,R,V)},x.fire=function(I){I&&(I[Yy](),y&&Er(y[s1])&&y[s1](I))},x[Mu]=function(I,R){if(I){var V=x[y1]=x[y1]||{};V[I]=R}},x[t1]=function(I){return(x[y1]||{})[I]}})}return o(g,"PerfManager"),g.__ieDyn=1,g}(),I9="CoreUtils.doPerf";function Zb(g,y,x,I,R){if(g){var V=g;if(V[R4]&&(V=V[R4]()),V){var W=void 0,oe=V[t1](I9);try{if(W=V.create(y(),I,R),W){if(oe&&W[Mu]&&(W[Mu](j2[pf],oe),oe[t1]&&oe[Mu])){var ve=oe[t1](j2[Fu]);ve||(ve=[],oe[Mu](j2[Fu],ve)),ve[M0](W)}return V[Mu](I9,W),x(W)}}catch(we){W&&W[Mu]&&W[Mu]("exception",we)}finally{W&&V.fire(W),V[Mu](I9,oe)}}}return x()}o(Zb,"doPerf");function jN(){return q2}o(jN,"getGblPerfMgr");var HN="00000000000000000000000000000000",$N="0000000000000000";function eE(g,y,x){return g&&g[g0]===y&&g!==x?!!g.match(/^[\da-f]*$/i):!1}o(eE,"_isValid");function VN(g){return eE(g,32,HN)}o(VN,"isValidTraceId");function E(g){return eE(g,16,$N)}o(E,"isValidSpanId");var w=d9("plugin");function N(g){return w.get(g,"state",{},!0)}o(N,"_getPluginState");function K(g,y){for(var x=[],I=null,R=g[Hc](),V;R;){var W=R[g2]();if(W){I&&I[Zh]&&W[$c]&&I[Zh](W),V=N(W);var oe=!!V[af];W[af]&&(oe=W[af]()),oe||x[M0](W),I=W,R=R[Hc]()}}Ss(x,function(ve){var we=g[A0]();ve[Yh](g.getCfg(),we,y,g[Hc]()),V=N(ve),!ve[A0]&&!V[A0]&&(V[A0]=we),V[af]=!0,delete V[jc]})}o(K,"initializePlugins");function ce(g){return g.sort(function(y,x){var I=0;if(x){var R=x[$c];y[$c]?I=R?y[Pp]-x[Pp]:1:R&&(I=-1)}else I=y?1:-1;return I})}o(ce,"sortPlugins");function At(g){var y={};return{getName:function(){return y[Cp]},setName:function(x){g&&g.setName(x),y[Cp]=x},getTraceId:function(){return y[t5]},setTraceId:function(x){g&&g.setTraceId(x),VN(x)&&(y[t5]=x)},getSpanId:function(){return y[Tb]},setSpanId:function(x){g&&g.setSpanId(x),E(x)&&(y[Tb]=x)},getTraceFlags:function(){return y[x2]},setTraceFlags:function(x){g&&g.setTraceFlags(x),y[x2]=x}}}o(At,"createDistributedTraceContext");var pr="TelemetryPluginChain",Tr="_hasRun",Mr="_getTelCtx",rn=0;function Di(g,y,x){for(;g;){if(g[g2]()===x)return g;g=g[Hc]()}return $s([x],y.config||{},y)}o(Di,"_getNextProxyStart");function Ps(g,y,x,I){var R=null,V=[];y||(y=Ql({},null,x[La])),I!==null&&(R=I?Di(g,x,I):g);var W={_next:ve,ctx:{core:function(){return x},diagLog:function(){return G4(x,y.cfg)},getCfg:function(){return y.cfg},getExtCfg:Tt,getConfig:Rr,hasNext:function(){return!!R},getNext:function(){return R},setNext:function(Ar){R=Ar},iterate:kr,onComplete:oe}};function oe(Ar,gr){for(var dn=[],Ur=2;Ur<arguments.length;Ur++)dn[Ur-2]=arguments[Ur];Ar&&V[M0]({func:Ar,self:Yt(gr)?W.ctx:gr,args:dn})}o(oe,"_addOnComplete");function ve(){var Ar=R;if(R=Ar?Ar[Hc]():null,!Ar){var gr=V;gr&&gr[g0]>0&&(Ss(gr,function(dn){try{dn.func.call(dn.self,dn.args)}catch(Ur){Zi(x[La],2,73,"Unexpected Exception during onComplete - "+Zs(Ur))}}),V=[])}return Ar}o(ve,"_moveNext");function we(Ar,gr){var dn=null,Ur=y.cfg;if(Ur&&Ar){var vn=Ur[n1];!vn&&gr&&(vn={}),Ur[n1]=vn,vn=y.ref(Ur,n1),vn&&(dn=vn[Ar],!dn&&gr&&(dn={}),vn[Ar]=dn,dn=y.ref(vn,Ar))}return dn}o(we,"_getExtCfg");function Tt(Ar,gr){var dn=we(Ar,!0);return gr&&Hi(gr,function(Ur,vn){if(hr(dn[Ur])){var Zr=y.cfg[Ur];(Zr||!hr(Zr))&&(dn[Ur]=Zr)}p9(y,dn,Ur,vn)}),y[Wh](dn,gr)}o(Tt,"_resolveExtCfg");function Rr(Ar,gr,dn){dn===void 0&&(dn=!1);var Ur,vn=we(Ar,!1),Zr=y.cfg;return vn&&(vn[gr]||!hr(vn[gr]))?Ur=vn[gr]:(Zr[gr]||!hr(Zr[gr]))&&(Ur=Zr[gr]),Ur||!hr(Ur)?Ur:dn}o(Rr,"_getConfig");function kr(Ar){for(var gr;gr=W._next();){var dn=gr[g2]();dn&&Ar(dn)}}return o(kr,"_iterateChain"),W}o(Ps,"_createInternalContext");function As(g,y,x,I){var R=Ql(y),V=Ps(g,R,x,I),W=V.ctx;function oe(we){var Tt=V._next();return Tt&&Tt[$c](we,W),!Tt}o(oe,"_processNext");function ve(we,Tt){return we===void 0&&(we=null),zr(we)&&(we=$s(we,R.cfg,x,Tt)),As(we||W[Hc](),R.cfg,x,Tt)}return o(ve,"_createNew"),W[Xl]=oe,W[Ap]=ve,W}o(As,"createProcessTelemetryContext");function Ns(g,y,x){var I=Ql(y.config),R=Ps(g,I,y,x),V=R.ctx;function W(ve){var we=R._next();return we&&we[du](V,ve),!we}o(W,"_processNext");function oe(ve,we){return ve===void 0&&(ve=null),zr(ve)&&(ve=$s(ve,I.cfg,y,we)),Ns(ve||V[Hc](),y,we)}return o(oe,"_createNew"),V[Xl]=W,V[Ap]=oe,V}o(Ns,"createProcessTelemetryUnloadContext");function Yi(g,y,x){var I=Ql(y.config),R=Ps(g,I,y,x),V=R.ctx;function W(ve){return V.iterate(function(we){Er(we[y2])&&we[y2](V,ve)})}o(W,"_processNext");function oe(ve,we){return ve===void 0&&(ve=null),zr(ve)&&(ve=$s(ve,I.cfg,y,we)),Yi(ve||V[Hc](),y,we)}return o(oe,"_createNew"),V[Xl]=W,V[Ap]=oe,V}o(Yi,"createProcessTelemetryUpdateContext");function $s(g,y,x,I){var R=null,V=!I;if(zr(g)&&g[g0]>0){var W=null;Ss(g,function(oe){if(!V&&I===oe&&(V=!0),V&&oe&&Er(oe[$c])){var ve=ws(oe,y,x);R||(R=ve),W&&W._setNext(ve),W=ve}})}return I&&!R?$s([I],y,x):R}o($s,"createTelemetryProxyChain");function ws(g,y,x){var I=null,R=Er(g[$c]),V=Er(g[Zh]),W;g?W=g[ad]+"-"+g[Pp]+"-"+rn++:W="Unknown-0-"+rn++;var oe={getPlugin:function(){return g},getNext:function(){return I},processTelemetry:Tt,unload:Rr,update:kr,_id:W,_setNext:function(Ar){I=Ar}};function ve(){var Ar;return g&&Er(g[Mr])&&(Ar=g[Mr]()),Ar||(Ar=As(oe,y,x)),Ar}o(ve,"_getTelCtx");function we(Ar,gr,dn,Ur,vn){var Zr=!1,pn=g?g[ad]:pr,$i=Ar[Tr];return $i||($i=Ar[Tr]={}),Ar.setNext(I),g&&Zb(Ar[A0](),function(){return pn+":"+dn},function(){$i[W]=!0;try{var Ls=I?I._id:f0;Ls&&($i[Ls]=!1),Zr=gr(Ar)}catch(Ca){var O0=I?$i[I._id]:!0;O0&&(Zr=!0),(!I||!O0)&&Zi(Ar[od](),1,73,"Plugin ["+pn+"] failed during "+dn+" - "+Zs(Ca)+", run flags: "+Zs($i))}},Ur,vn),Zr}o(we,"_processChain");function Tt(Ar,gr){gr=gr||ve();function dn(Ur){if(!g||!R)return!1;var vn=N(g);return vn[jc]||vn[e9]?!1:(V&&g[Zh](I),g[$c](Ar,Ur),!0)}o(dn,"_callProcessTelemetry"),we(gr,dn,"processTelemetry",function(){return{item:Ar}},!Ar.sync)||gr[Xl](Ar)}o(Tt,"_processTelemetry");function Rr(Ar,gr){function dn(){var Ur=!1;if(g){var vn=N(g),Zr=g[A0]||vn[A0];g&&(!Zr||Zr===Ar.core())&&!vn[jc]&&(vn[A0]=null,vn[jc]=!0,vn[af]=!1,g[jc]&&g[jc](Ar,gr)===!0&&(Ur=!0))}return Ur}o(dn,"_callTeardown"),we(Ar,dn,"unload",function(){},gr[Jh])||Ar[Xl](gr)}o(Rr,"_unloadPlugin");function kr(Ar,gr){function dn(){var Ur=!1;if(g){var vn=N(g),Zr=g[A0]||vn[A0];g&&(!Zr||Zr===Ar.core())&&!vn[jc]&&g[y2]&&g[y2](Ar,gr)===!0&&(Ur=!0)}return Ur}o(dn,"_callUpdate"),we(Ar,dn,"update",function(){},!1)||Ar[Xl](gr)}return o(kr,"_updatePlugin"),Qf(oe)}o(ws,"createTelemetryPluginProxy");function w0(){var g=[];function y(I){I&&g[M0](I)}o(y,"_addHandler");function x(I,R){Ss(g,function(V){try{V(I,R)}catch(W){Zi(I[od](),2,73,"Unexpected error calling unload handler - "+Zs(W))}}),g=[]}return o(x,"_runHandlers"),{add:y,run:x}}o(w0,"createUnloadHandlerContainer");function r0(){var g=[];function y(I){var R=g;g=[],Ss(R,function(V){try{(V.rm||V.remove).call(V)}catch(W){Zi(I,2,73,"Unloading:"+Zs(W))}})}o(y,"_doUnload");function x(I){I&&Lu(g,I)}return o(x,"_addHook"),{run:y,add:x}}o(r0,"createUnloadHookContainer");var b0,vl="getPlugin",W4=(b0={},b0[n1]={isVal:r9,v:{}},b0),H2=function(){function g(){var y=this,x,I,R,V,W;we(),Il(g,y,function(Tt){Tt[Yh]=function(Rr,kr,Ar,gr){ve(Rr,kr,gr),x=!0},Tt[jc]=function(Rr,kr){var Ar,gr=Tt[A0];if(!gr||Rr&&gr!==Rr[A0]())return;var dn,Ur=!1,vn=Rr||Ns(null,gr,R&&R[vl]?R[vl]():R),Zr=kr||(Ar={reason:0},Ar[Jh]=!1,Ar);function pn(){Ur||(Ur=!0,V.run(vn,kr),W.run(vn[od]()),dn===!0&&vn[Xl](Zr),we())}return o(pn,"_unloadCallback"),!Tt[zy]||Tt[zy](vn,Zr,pn)!==!0?pn():dn=!0,dn},Tt[y2]=function(Rr,kr){var Ar=Tt[A0];if(!Ar||Rr&&Ar!==Rr[A0]())return;var gr,dn=!1,Ur=Rr||Yi(null,Ar,R&&R[vl]?R[vl]():R),vn=kr||{reason:0};function Zr(){dn||(dn=!0,ve(Ur.getCfg(),Ur.core(),Ur[Hc]()))}return o(Zr,"_updateCallback"),!Tt._doUpdate||Tt._doUpdate(Ur,vn,Zr)!==!0?Zr():gr=!0,gr},s5(Tt,"_addUnloadCb",function(){return V},"add"),s5(Tt,"_addHook",function(){return W},"add"),Cl(Tt,"_unloadHooks",{g:function(){return W}})}),y[od]=function(Tt){return oe(Tt)[od]()},y[af]=function(){return x},y.setInitialized=function(Tt){x=Tt},y[Zh]=function(Tt){R=Tt},y[Xl]=function(Tt,Rr){Rr?Rr[Xl](Tt):R&&Er(R[$c])&&R[$c](Tt,null)},y._getTelCtx=oe;function oe(Tt){Tt===void 0&&(Tt=null);var Rr=Tt;if(!Rr){var kr=I||As(null,{},y[A0]);R&&R[vl]?Rr=kr[Ap](null,R[vl]):Rr=kr[Ap](null,R)}return Rr}o(oe,"_getTelCtx");function ve(Tt,Rr,kr){Ql(Tt,W4,G4(Rr)),!kr&&Rr&&(kr=Rr[xb]()[Hc]());var Ar=R;R&&R[vl]&&(Ar=R[vl]()),y[A0]=Rr,I=As(kr,Tt,Rr,Ar)}o(ve,"_setDefaults");function we(){x=!1,y[A0]=null,I=null,R=null,W=r0(),V=w0()}o(we,"_initDefaults")}return o(g,"BaseTelemetryPlugin"),g.__ieDyn=1,g}();function tE(g,y,x){var I={id:y,fn:x};Lu(g,I);var R={remove:function(){Ss(g,function(V,W){if(V.id===I.id)return g[Tp](W,1),-1})}};return R}o(tE,"_addInitializer");function rE(g,y,x){for(var I=!1,R=g[g0],V=0;V<R;++V){var W=g[V];if(W)try{if(W.fn[x4](null,[y])===!1){I=!0;break}}catch(oe){Zi(x,2,64,"Telemetry initializer failed: "+bc(oe),{exception:Zs(oe)},!0)}}return!I}o(rE,"_runInitializers");var GN=function(g){p2(y,g);function y(){var x=g.call(this)||this;x.identifier="TelemetryInitializerPlugin",x.priority=199;var I,R;V(),Il(y,x,function(W,oe){W.addTelemetryInitializer=function(ve){return tE(R,I++,ve)},W[$c]=function(ve,we){rE(R,ve,we?we[od]():W[od]())&&W[Xl](ve,we)},W[zy]=function(){V()}});function V(){I=0,R=[]}return o(V,"_initDefaults"),x}return o(y,"TelemetryInitializerPlugin"),y.__ieDyn=1,y}(H2),_1,Y4="Plugins must provide initialize method",nE="_notificationManager",A9="SDK is still unloading...",gn="SDK is not initialized",Qi=xc((_1={cookieCfg:{}},_1[i1]={rdOnly:!0,ref:!0,v:[]},_1[Rp]={rdOnly:!0,ref:!0,v:[]},_1[n1]={ref:!0,v:{}},_1[w4]=cf,_1.loggingLevelConsole=0,_1.diagnosticLogInterval=cf,_1));function Fs(g,y){return new Jb(y)}o(Fs,"_createPerfManager");function K0(g,y,x){var I,R=[],V=[],W={};return Ss(x,function(oe){(hr(oe)||hr(oe[Yh]))&&Xi(Y4);var ve=oe[Pp],we=oe[ad];oe&&ve&&(hr(W[ve])?W[ve]=we:z4(g,"Two extensions have same priority #"+ve+" - "+W[ve]+", "+we)),!ve||ve<y?R[M0](oe):V[M0](oe)}),I={},I[A0]=R,I[Rp]=V,I}o(K0,"_validateExtensions");function $o(g,y){var x=!1;return Ss(y,function(I){if(I===g)return x=!0,-1}),x}o($o,"_isPluginPresent");function Ta(g,y,x,I){x&&Hi(x,function(R,V){I&&Ka(V)&&Ka(y[R])&&Ta(g,y[R],V,I),I&&Ka(V)&&Ka(y[R])?Ta(g,y[R],V,I):g.set(y,R,V)})}o(Ta,"_deepMergeConfig");function Ya(g,y){var x=null,I=-1;return Ss(g,function(R,V){if(R.w===y)return x=R,I=V,-1}),{i:I,l:x}}o(Ya,"_findWatcher");function E5(g,y){var x=Ya(g,y).l;return x||(x={w:y,rm:function(){var I=Ya(g,y);I.i!==-1&&g[Tp](I.i,1)}},g[M0](x)),x}o(E5,"_addDelayedCfgListener");function Fp(g,y,x){Ss(y,function(I){var R=m1(g,I.w,x);delete I.w,I.rm=function(){R.rm()}})}o(Fp,"_registerDelayedCfgListener");var T5=function(){function g(){var y,x,I,R,V,W,oe,ve,we,Tt,Rr,kr,Ar,gr,dn,Ur,vn,Zr,pn,$i,Ls,O0,Ca,aa,Nl,tl,a8,b1;Il(g,this,function(Pi){hd(),Pi._getDbgPlgTargets=function(){return[Ca]},Pi[af]=function(){return x},Pi[Yh]=function(qr,Ui,Es,Ts){Ar&&Xi(A9),Pi[af]()&&Xi("Core cannot be initialized more than once"),y=Ql(qr,Qi,Es||Pi[La],!1),qr=y.cfg,Uu(y[sd](function(D0){Ls=D0.cfg.instrumentationKey;var Ma=D0.ref(D0.cfg,n1);Hi(Ma,function(Ol){D0.ref(Ma,Ol)}),hr(Ls)&&Xi("Please provide instrumentation key")})),V=Ts,K9(),RO(),Pi[La]=Es;var Is=qr[i1];if(Tt=[],Tt[M0].apply(Tt,yb(yb([],Ui,!1),Is)),Rr=qr[Rp],_n(null),(!kr||kr[g0]===0)&&Xi("No "+Rp+" available"),Rr&&Rr[g0]>1){var H0=Pi[g2]("TeeChannelController");(!H0||!H0.plugin)&&Zi(I,1,28,"TeeChannel required")}Fp(qr,O0,I),O0=null,x=!0,Pi.releaseQueue(),Pi[_b]()},Pi.getChannels=function(){var qr=[];return kr&&Ss(kr,function(Ui){qr[M0](Ui)}),Qf(qr)},Pi.track=function(qr){Zb(Pi[R4](),function(){return"AppInsightsCore:track"},function(){qr===null&&(Y9(qr),Xi("Invalid telemetry item")),!qr[Cp]&&hr(qr[Cp])&&(Y9(qr),Xi("telemetry name required")),qr.iKey=qr.iKey||Ls,qr[Sp]=qr[Sp]||P4(new Date),qr.ver=qr.ver||"4.0",!Ar&&Pi[af]()?Vp()[Xl](qr):R[M0](qr)},function(){return{item:qr}},!qr.sync)},Pi[xb]=Vp,Pi[Xh]=function(){return V||(V=new b5(y.cfg),Pi[nE]=V),V},Pi[ku]=function(qr){Pi[Xh]()[ku](qr)},Pi[v2]=function(qr){V&&V[v2](qr)},Pi.getCookieMgr=function(){return ve||(ve=UN(y.cfg,Pi[La])),ve},Pi.setCookieMgr=function(qr){ve!==qr&&(m5(ve,!1),ve=qr)},Pi[R4]=function(){return!W&&!oe&&Uu(y[sd](function(qr){if(qr.cfg.enablePerfMgr){var Ui=qr.cfg[w4];Er(Ui)&&(oe=Ui(Pi,Pi[Xh]()))}})),W||oe||jN()},Pi.setPerfMgr=function(qr){W=qr},Pi.eventCnt=function(){return R[g0]},Pi.releaseQueue=function(){if(x&&R[g0]>0){var qr=R;R=[],Ss(qr,function(Ui){Vp()[Xl](Ui)})}},Pi[_b]=function(qr){return dn=qr||null,b1=!1,tl&&tl[m2](),E1(!0)};function E1(qr){if((!tl||!tl[Ip])&&!b1){var Ui=qr||I&&I.queue[g0]>0;Ui&&(a8||(a8=!0,Uu(y[sd](function(Es){var Ts=Es.cfg.diagnosticLogInterval;(!Ts||!(Ts>0))&&(Ts=1e4);var Is=!1;tl&&(Is=tl[Ip],tl[m2]()),tl=s4(c8,Ts),tl.unref(),tl[Ip]=Is}))),tl[Ip]=!0)}return tl}o(E1,"_startLogPoller"),Pi[Gy]=function(){b1=!0,tl&&tl[m2](),c8()},O4(Pi,function(){return gr},["addTelemetryInitializer"]),Pi[du]=function(qr,Ui,Es){var Ts;qr===void 0&&(qr=!0),x||Xi(gn),Ar&&Xi(A9);var Is=(Ts={reason:50},Ts[Jh]=qr,Ts.flushComplete=!1,Ts),H0;qr&&!Ui&&(H0=r1(function(Ol){Ui=Ol}));var D0=Ns(z9(),Pi);D0[e1](function(){Zr.run(Pi[La]),Fb([ve,V,I],qr,function(){hd(),Ui&&Ui(Is)})},Pi);function Ma(Ol){Is.flushComplete=Ol,Ar=!0,vn.run(D0,Is),Pi[Gy](),D0[Xl](Is)}return o(Ma,"_doUnload"),c8(),om(qr,Ma,6,Es),H0},Pi[g2]=SE,Pi.addPlugin=function(qr,Ui,Es,Ts){if(!qr){Ts&&Ts(!1),W9(Y4);return}var Is=SE(qr[ad]);if(Is&&!Ui){Ts&&Ts(!1),W9("Plugin ["+qr[ad]+"] is already loaded!");return}var H0={reason:16};function D0(gu){Tt[M0](qr),H0.added=[qr],_n(H0),Ts&&Ts(!0)}if(o(D0,"_addPlugin"),Is){var Ma=[Is.plugin],Ol={reason:2,isAsync:!!Es};l8(Ma,Ol,function(gu){gu?(H0.removed=Ma,H0.reason|=32,D0()):Ts&&Ts(!1)})}else D0()},Pi.updateCfg=function(qr,Ui){Ui===void 0&&(Ui=!0);var Es;if(Pi[af]()){Es={reason:1,cfg:y.cfg,oldCfg:Ly({},y.cfg),newConfig:Ly({},qr),merge:Ui},qr=Es.newConfig;var Ts=y.cfg;qr[i1]=Ts[i1],qr[Rp]=Ts[Rp]}y._block(function(Is){var H0=Is.cfg;Ta(Is,H0,qr,Ui),Ui||Hi(H0,function(D0){Wi(qr,D0)||Is.set(H0,D0,cf)}),Is[Wh](H0,Qi)},!0),y[y4](),Es&&u8(Es)},Pi.evtNamespace=function(){return Ur},Pi.flush=om,Pi.getTraceCtx=function(qr){return $i||($i=At()),$i},Pi.setTraceCtx=function(qr){$i=qr||null},Pi.addUnloadHook=Uu,s5(Pi,"addUnloadCb",function(){return vn},"add"),Pi.onCfgChange=function(qr){var Ui;return x?Ui=m1(y.cfg,qr,Pi[La]):Ui=E5(O0,qr),{rm:function(){Ui.rm()}}},Pi.getWParam=function(){return K3()||y.cfg.enableWParam?0:-1};function o8(){var qr={};aa=[];var Ui=o(function(Es){Es&&Ss(Es,function(Ts){if(Ts[ad]&&Ts[bb]&&!qr[Ts.identifier]){var Is=Ts[ad]+"="+Ts[bb];aa[M0](Is),qr[Ts.identifier]=Ts}})},"_addPluginVersions");Ui(kr),Rr&&Ss(Rr,function(Es){Ui(Es)}),Ui(Tt)}o(o8,"_setPluginVersions");function hd(){x=!1,y=Ql({},Qi,Pi[La]),y.cfg[Eb]=1,Cl(Pi,"config",{g:function(){return y.cfg},s:function(Ui){Pi.updateCfg(Ui,!1)}}),Cl(Pi,"pluginVersionStringArr",{g:function(){return aa||o8(),aa}}),Cl(Pi,"pluginVersionString",{g:function(){return Nl||(aa||o8(),Nl=aa.join(";")),Nl||f0}}),Cl(Pi,"logger",{g:function(){return I||(I=new y5(y.cfg),y[La]=I),I},s:function(Ui){y[La]=Ui,I!==Ui&&(m5(I,!1),I=Ui)}}),Pi[La]=new y5(y.cfg),Ca=[];var qr=Pi.config[i1]||[];qr.splice(0,qr[g0]),Lu(qr,Ca),gr=new GN,R=[],m5(V,!1),V=null,W=null,oe=null,m5(ve,!1),ve=null,we=null,Tt=[],Rr=null,kr=null,Ar=!1,dn=null,Ur=f1("AIBaseCore",!0),vn=w0(),$i=null,Ls=null,Zr=r0(),O0=[],Nl=null,aa=null,b1=!1}o(hd,"_initDefaults");function Vp(){var qr=As(z9(),y.cfg,Pi);return qr[e1](E1),qr}o(Vp,"_createTelCtx");function _n(qr){var Ui=K0(Pi[La],PN,Tt);we=null,Nl=null,aa=null,kr=(Rr||[])[0]||[],kr=ce(Lu(kr,Ui[Rp]));var Es=Lu(ce(Ui[A0]),kr);Ca=Qf(Es);var Ts=Pi.config[i1]||[];Ts.splice(0,Ts[g0]),Lu(Ts,Ca);var Is=Vp();kr&&kr[g0]>0&&K(Is[Ap](kr),Es),K(Is,Es),qr&&u8(qr)}o(_n,"_initPluginChain");function SE(qr){var Ui=null,Es=null,Ts=[];return Ss(Ca,function(Is){if(Is[ad]===qr&&Is!==gr)return Es=Is,-1;Is.getChannel&&Ts[M0](Is)}),!Es&&Ts[g0]>0&&Ss(Ts,function(Is){if(Es=Is.getChannel(qr),!Es)return-1}),Es&&(Ui={plugin:Es,setEnabled:function(Is){N(Es)[e9]=!Is},isEnabled:function(){var Is=N(Es);return!Is[jc]&&!Is[e9]},remove:function(Is,H0){var D0;Is===void 0&&(Is=!0);var Ma=[Es],Ol=(D0={reason:1},D0[Jh]=Is,D0);l8(Ma,Ol,function(gu){gu&&_n({reason:32,removed:Ma}),H0&&H0(gu)})}}),Ui}o(SE,"_getPlugin");function z9(){if(!we){var qr=(Ca||[]).slice();uu(qr,gr)===-1&&qr[M0](gr),we=$s(ce(qr),y.cfg,Pi)}return we}o(z9,"_getPluginChain");function l8(qr,Ui,Es){if(qr&&qr[g0]>0){var Ts=$s(qr,y.cfg,Pi),Is=Ns(Ts,Pi);Is[e1](function(){var H0=!1,D0=[];Ss(Tt,function(Ol,gu){$o(Ol,qr)?H0=!0:D0[M0](Ol)}),Tt=D0,Nl=null,aa=null;var Ma=[];Rr&&(Ss(Rr,function(Ol,gu){var Gp=[];Ss(Ol,function(X9){$o(X9,qr)?H0=!0:Gp[M0](X9)}),Ma[M0](Gp)}),Rr=Ma),Es&&Es(H0),E1()}),Is[Xl](Ui)}else Es(!1)}o(l8,"_removePlugins");function c8(){if(I&&I.queue){var qr=I.queue.slice(0);I.queue[g0]=0,Ss(qr,function(Ui){var Es,Ts=(Es={},Es[Cp]=dn||"InternalMessageId: "+Ui[E4],Es.iKey=Ls,Es[Sp]=P4(new Date),Es.baseType=M2.dataType,Es.baseData={message:Ui[Qh]},Es);Pi.track(Ts)})}}o(c8,"_flushInternalLogs");function om(qr,Ui,Es,Ts){var Is=1,H0=!1,D0=null;Ts=Ts||5e3;function Ma(){Is--,H0&&Is===0&&(D0&&D0[m2](),D0=null,Ui&&Ui(H0),Ui=null)}if(o(Ma,"doCallback"),kr&&kr[g0]>0){var Ol=Vp()[Ap](kr);Ol.iterate(function(gu){if(gu.flush){Is++;var Gp=!1;gu.flush(qr,function(){Gp=!0,Ma()},Es)||Gp||(qr&&D0==null?D0=xp(function(){D0=null,Ma()},Ts):Ma())}})}return H0=!0,Ma(),!0}o(om,"_flushChannels");function K9(){!V&&Pi[Xh](),Uu(y[sd](function(qr){var Ui=qr.cfg.disableDbgExt;Ui===!0&&pn&&(V[v2](pn),pn=null),V&&!pn&&Ui!==!0&&(pn=DN(qr.cfg),V[ku](pn))}))}o(K9,"_initDebugListener");function RO(){Uu(y[sd](function(qr){var Ui=qr.cfg.enablePerfMgr;!Ui&&oe&&(oe=null),Ui&&N4(qr.cfg,w4,Fs)}))}o(RO,"_initPerfManager");function u8(qr){var Ui=Yi(z9(),Pi);Ui[e1](E1),(!Pi._updateHook||Pi._updateHook(Ui,qr)!==!0)&&Ui[Xl](qr)}o(u8,"_doUpdate");function W9(qr){var Ui=Pi[La];Ui?(Zi(Ui,2,73,qr),E1()):Xi(qr)}o(W9,"_logOrThrowError");function Y9(qr){var Ui=Pi[Xh]();Ui&&Ui[Vc]([qr],2)}o(Y9,"_notifyInvalidEvent");function Uu(qr){Zr.add(qr)}o(Uu,"_addUnloadHook")})}return o(g,"AppInsightsCore"),g.__ieDyn=1,g}(),iE="on",sE="attachEvent",w9="addEventListener",aE="detachEvent",zN="removeEventListener",KN="events";f1("aiEvtPageHide"),f1("aiEvtPageShow");var V5e=/\.[\.]+/g,G5e=/[\.]+$/,z5e=1,oE=d9("events"),K5e=/^([^.]*)(?:\.(.+)|)/;function iK(g){return g&&g[wp]?g[wp](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,f0):g}o(iK,"_normalizeNamespace");function WN(g,y){var x;if(y){var I=f0;zr(y)?(I=f0,Ss(y,function(V){V=iK(V),V&&(V[0]!=="."&&(V="."+V),I+=V)})):I=iK(y),I&&(I[0]!=="."&&(I="."+I),g=(g||f0)+I)}var R=K5e.exec(g||f0)||[];return x={},x[lf]=R[1],x.ns=(R[2]||f0).replace(V5e,".").replace(G5e,f0)[e5](".").sort().join("."),x}o(WN,"_getEvtNamespace");function sK(g,y,x){x===void 0&&(x=!0);var I=oE.get(g,KN,{},x),R=I[y];return R||(R=I[y]=[]),R}o(sK,"_getRegisteredEvents");function aK(g,y,x,I){g&&y&&y[lf]&&(g[zN]?g[zN](y[lf],x,I):g[aE]&&g[aE](iE+y[lf],x))}o(aK,"_doDetach");function W5e(g,y,x,I){var R=!1;return g&&y&&y[lf]&&x&&(g[w9]?(g[w9](y[lf],x,I),R=!0):g[sE]&&(g[sE](iE+y[lf],x),R=!0)),R}o(W5e,"_doAttach");function oK(g,y,x,I){for(var R=y[g0];R--;){var V=y[R];V&&(!x.ns||x.ns===V.evtName.ns)&&(!I||I(V))&&(aK(g,V.evtName,V[Ky],V.capture),y[Tp](R,1))}}o(oK,"_doUnregister");function Y5e(g,y,x){if(y[lf])oK(g,sK(g,y[lf]),y,x);else{var I=oE.get(g,KN,{});Hi(I,function(R,V){oK(g,V,y,x)}),pl(I)[g0]===0&&oE.kill(g,KN)}}o(Y5e,"_unregisterEvents");function lK(g,y){var x;return y?(zr(y)?x=[g].concat(y):x=[g,y],x=WN("xx",x).ns[e5](".")):x=g,x}o(lK,"mergeEvtNamespace");function cK(g,y,x,I,R){var V;R===void 0&&(R=!1);var W=!1;if(g)try{var oe=WN(y,I);if(W=W5e(g,oe,x,R),W&&oE.accept(g)){var ve=(V={guid:z5e++,evtName:oe},V[Ky]=x,V.capture=R,V);sK(g,oe.type)[M0](ve)}}catch{}return W}o(cK,"eventOn");function X5e(g,y,x,I,R){if(R===void 0&&(R=!1),g)try{var V=WN(y,I),W=!1;Y5e(g,V,function(oe){return V.ns&&!x||oe[Ky]===x?(W=!0,!0):!1}),W||aK(g,V,x,R)}catch{}}o(X5e,"eventOff");var YN="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",uK="sampleRate",XN="ProcessLegacy",fK="http.method",QN="https://dc.services.visualstudio.com",R9="/v2/track",C5="not_specified",lE=Vy({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]}),cE="split",E0="length",JN="toLowerCase",$2="ingestionendpoint",X4="toString",Q5e="removeItem",S5="name",V2="message",J5e="count",ZN="stringify",eO="pathname",Q4="exceptions",pd="parsedStack",Up="properties",qp="measurements",J4="sizeInBytes",jp="typeName",P9="severityLevel",tO="problemGroup",rO="isManual",dK="CreateFromInterface",Z4="assembly",G2="fileName",uE="hasFullStack",fE="level",e8="method",N9="line",dE="duration",pK="receivedResponse";function hK(g,y,x){var I=y[E0],R=Z5e(g,y);if(R[E0]!==I){for(var V=0,W=R;x[W]!==void 0;)V++,W=zl(R,0,147)+r3e(V);R=W}return R}o(hK,"dataSanitizeKeyAndAddUniqueness");function Z5e(g,y){var x;return y&&(y=Yl(Z0(y)),y[E0]>150&&(x=zl(y,0,150),Zi(g,2,57,"name is too long.  It has been truncated to 150 characters.",{name:y},!0))),x||y}o(Z5e,"dataSanitizeKey");function Tc(g,y,x){x===void 0&&(x=1024);var I;return y&&(x=x||1024,y=Yl(Z0(y)),y[E0]>x&&(I=zl(y,0,x),Zi(g,2,61,"string value is too long. It has been truncated to "+x+" characters.",{value:y},!0))),I||y}o(Tc,"dataSanitizeString");function nO(g,y){return gK(g,y,2048,66)}o(nO,"dataSanitizeUrl");function mK(g,y){var x;return y&&y[E0]>32768&&(x=zl(y,0,32768),Zi(g,2,56,"message is too long, it has been truncated to 32768 characters.",{message:y},!0)),x||y}o(mK,"dataSanitizeMessage");function e3e(g,y){var x;if(y){var I=""+y;I[E0]>32768&&(x=zl(I,0,32768),Zi(g,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:y},!0))}return x||y}o(e3e,"dataSanitizeException");function z2(g,y){if(y){var x={};Hi(y,function(I,R){if(Vr(R)&&Ec())try{R=wl()[ZN](R)}catch(V){Zi(g,2,49,"custom property is not valid",{exception:V},!0)}R=Tc(g,R,8192),I=hK(g,I,x),x[I]=R}),y=x}return y}o(z2,"dataSanitizeProperties");function K2(g,y){if(y){var x={};Hi(y,function(I,R){I=hK(g,I,x),x[I]=R}),y=x}return y}o(K2,"dataSanitizeMeasurements");function t3e(g,y){return y&&gK(g,y,128,69)[X4]()}o(t3e,"dataSanitizeId");function gK(g,y,x,I){var R;return y&&(y=Yl(Z0(y)),y[E0]>x&&(R=zl(y,0,x),Zi(g,2,I,"input is too long, it has been truncated to "+x+" characters.",{data:y},!0))),R||y}o(gK,"dataSanitizeInput");function r3e(g){var y="00"+g;return ha(y,y[E0]-3)}o(r3e,"dsPadNumber");var vK=Gd()||{},yK=0,n3e=[null,null,null,null,null];function i3e(g){var y=yK,x=n3e,I=x[y];return vK.createElement?x[y]||(I=x[y]=vK.createElement("a")):I={host:s3e(g,!0)},I.href=g,y++,y>=x[E0]&&(y=0),yK=y,I}o(i3e,"urlParseUrl");function s3e(g,y){var x=a3e(g,y)||"";if(x){var I=x.match(/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(I!=null&&I[E0]>3&&_e(I[2])&&I[2][E0]>0)return I[2]+(I[3]||"")}return x}o(s3e,"urlParseHost");function a3e(g,y){var x=null;if(g){var I=g.match(/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(I!=null&&I[E0]>2&&_e(I[2])&&I[2][E0]>0&&(x=I[2]||"",y&&I[E0]>2)){var R=(I[1]||"")[JN](),V=I[3]||"";(R==="http"&&V===":80"||R==="https"&&V===":443")&&(V=""),x+=V}}return x}o(a3e,"urlParseFullHost");var o3e=[QN+R9,"https://breeze.aimon.applicationinsights.io"+R9,"https://dc-int.services.visualstudio.com"+R9];function iO(g){return uu(o3e,g[JN]())!==-1}o(iO,"isInternalApplicationInsightsEndpoint");function l3e(g,y,x,I){var R,V=I,W=I;if(y&&y[E0]>0){var oe=i3e(y);if(R=oe.host,!V)if(oe[eO]!=null){var ve=oe.pathname[E0]===0?"/":oe[eO];ve.charAt(0)!=="/"&&(ve="/"+ve),W=oe[eO],V=Tc(g,x?x+" "+ve:ve)}else V=Tc(g,y)}else R=I,V=I;return{target:R,name:V,data:W}}o(l3e,"AjaxHelperParseDependencyPath");var sO=$y({LocalStorage:0,SessionStorage:1});$y({AI:0,AI_AND_W3C:1,W3C:2});var O9=void 0,_K="";function xK(g){try{if(hr(Wl()))return null;var y=new Date()[X4](),x=Oa(g===sO.LocalStorage?"localStorage":"sessionStorage"),I=_K+y;x.setItem(I,y);var R=x.getItem(I)!==y;if(x[Q5e](I),!R)return x}catch{}return null}o(xK,"_getVerifiedStorageObject");function bK(){return EK()?xK(sO.SessionStorage):null}o(bK,"_getSessionStorageObject");function c3e(g){_K=g||""}o(c3e,"utlSetStoragePrefix");function EK(g){return(g||O9===void 0)&&(O9=!!xK(sO.SessionStorage)),O9}o(EK,"utlCanUseSessionStorage");function u3e(g,y){var x=bK();if(x!==null)try{return x.getItem(y)}catch(I){O9=!1,Zi(g,2,2,"Browser failed read of session storage. "+bc(I),{exception:Zs(I)})}return null}o(u3e,"utlGetSessionStorage");function f3e(g,y,x){var I=bK();if(I!==null)try{return I.setItem(y,x),!0}catch(R){O9=!1,Zi(g,2,4,"Browser failed write to session storage. "+bc(R),{exception:Zs(R)})}return!1}o(f3e,"utlSetSessionStorage");var d3e=";",p3e="=";function h3e(g){if(!g)return{};var y=g[cE](d3e),x=Zg(y,function(R,V){var W=V[cE](p3e);if(W[E0]===2){var oe=W[0][JN](),ve=W[1];R[oe]=ve}return R},{});if(pl(x)[E0]>0){if(x.endpointsuffix){var I=x.location?x.location+".":"";x[$2]=x[$2]||"https://"+I+"dc."+x.endpointsuffix}x[$2]=x[$2]||QN,Z3(x[$2],"/")&&(x[$2]=x[$2].slice(0,-1))}return x}o(h3e,"parseConnectionString");var m3e=function(){function g(y,x,I){var R=this,V=this;V.ver=1,V.sampleRate=100,V.tags={},V[S5]=Tc(y,I)||C5,V.data=x,V.time=P4(new Date),V.aiDataContract={time:1,iKey:1,name:1,sampleRate:function(){return R.sampleRate===100?4:1},tags:1,data:1}}return o(g,"Envelope"),g}(),t8=function(){function g(y,x,I,R){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var V=this;V.ver=2,V[S5]=Tc(y,x)||C5,V[Up]=z2(y,I),V[qp]=K2(y,R)}return o(g,"Event"),g.envelopeType="Microsoft.ApplicationInsights.{0}.Event",g.dataType="EventData",g}(),g3e="<no_method>",r8="error",mu="stack",aO="stackDetails",TK="errorSrc",oO="message",CK="description";function lO(g,y){var x=g;return x&&!_e(x)&&(JSON&&JSON[ZN]?(x=JSON[ZN](g),y&&(!x||x==="{}")&&(Er(g[X4])?x=g[X4]():x=""+g)):x=""+g+" - (Missing JSON.stringify)"),x||""}o(lO,"_stringify");function SK(g,y){var x=g;return g&&(x&&!_e(x)&&(x=g[oO]||g[CK]||x),x&&!_e(x)&&(x=lO(x,!0)),g.filename&&(x=x+" @"+(g.filename||"")+":"+(g.lineno||"?")+":"+(g.colno||"?"))),y&&y!=="String"&&y!=="Object"&&y!=="Error"&&Hh(x||"",y)===-1&&(x=y+": "+x),x||""}o(SK,"_formatMessage");function v3e(g){try{if(Vr(g))return"hasFullStack"in g&&"typeName"in g}catch{}return!1}o(v3e,"_isExceptionDetailsInternal");function y3e(g){try{if(Vr(g))return"ver"in g&&"exceptions"in g&&"properties"in g}catch{}return!1}o(y3e,"_isExceptionInternal");function IK(g){return g&&g.src&&_e(g.src)&&g.obj&&zr(g.obj)}o(IK,"_isStackDetails");function W2(g){var y=g||"";_e(y)||(_e(y[mu])?y=y[mu]:y=""+y);var x=y[cE](`
`);return{src:y,obj:x}}o(W2,"_convertStackObj");function _3e(g){for(var y=[],x=g[cE](`
`),I=0;I<x[E0];I++){var R=x[I];x[I+1]&&(R+="@"+x[I+1],I++),y.push(R)}return{src:g,obj:y}}o(_3e,"_getOperaStack");function AK(g){var y=null;if(g)try{if(g[mu])y=W2(g[mu]);else if(g[r8]&&g[r8][mu])y=W2(g[r8][mu]);else if(g.exception&&g.exception[mu])y=W2(g.exception[mu]);else if(IK(g))y=g;else if(IK(g[aO]))y=g[aO];else if(zd()&&zd().opera&&g[oO])y=_3e(g[V2]);else if(g.reason&&g.reason[mu])y=W2(g.reason[mu]);else if(_e(g))y=W2(g);else{var x=g[oO]||g[CK]||"";_e(g[TK])&&(x&&(x+=`
`),x+=" from "+g[TK]),x&&(y=W2(x))}}catch(I){y=W2(I)}return y||{src:"",obj:null}}o(AK,"_getStackFromErrorObj");function x3e(g){var y="";return g&&(g.obj?Ss(g.obj,function(x){y+=x+`
`}):y=g.src||""),y}o(x3e,"_formatStackTrace");function b3e(g){var y,x=g.obj;if(x&&x[E0]>0){y=[];var I=0,R=0;Ss(x,function(gr){var dn=gr[X4]();if(uO.regex.test(dn)){var Ur=new uO(dn,I++);R+=Ur[J4],y.push(Ur)}});var V=32*1024;if(R>V)for(var W=0,oe=y[E0]-1,ve=0,we=W,Tt=oe;W<oe;){var Rr=y[W][J4],kr=y[oe][J4];if(ve+=Rr+kr,ve>V){var Ar=Tt-we+1;y.splice(we,Ar);break}we=W,Tt=oe,W++,oe--}}return y}o(b3e,"_parseStack");function pE(g){var y="";if(g&&(y=g.typeName||g[S5]||"",!y))try{var x=/function (.{1,200})\(/,I=x.exec(g.constructor[X4]());y=I&&I[E0]>1?I[1]:""}catch{}return y}o(pE,"_getErrorType");function cO(g){if(g)try{if(!_e(g)){var y=pE(g),x=lO(g,!1);return(!x||x==="{}")&&(g[r8]&&(g=g[r8],y=pE(g)),x=lO(g,!0)),Hh(x,y)!==0&&y!=="String"?y+":"+x:x}}catch{}return""+(g||"")}o(cO,"_formatErrorCode");var hE=function(){function g(y,x,I,R,V,W){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var oe=this;oe.ver=2,y3e(x)?(oe[Q4]=x[Q4]||[],oe[Up]=x[Up],oe[qp]=x[qp],x[P9]&&(oe[P9]=x[P9]),x.id&&(oe.id=x.id),x[tO]&&(oe[tO]=x[tO]),hr(x[rO])||(oe[rO]=x[rO])):(I||(I={}),oe[Q4]=[new wK(y,x,I)],oe[Up]=z2(y,I),oe[qp]=K2(y,R),V&&(oe[P9]=V),W&&(oe.id=W))}return o(g,"Exception"),g.CreateAutoException=function(y,x,I,R,V,W,oe,ve){var we,Tt=pE(V||W||y);return we={},we[V2]=SK(y,Tt),we.url=x,we.lineNumber=I,we.columnNumber=R,we.error=cO(V||W||y),we.evt=cO(W||y),we[jp]=Tt,we.stackDetails=AK(oe||V||W),we.errorSrc=ve,we},g.CreateFromInterface=function(y,x,I,R){var V=x[Q4]&&X3(x[Q4],function(oe){return wK[dK](y,oe)}),W=new g(y,Da(Da({},x),{exceptions:V}),I,R);return W},g.prototype.toInterface=function(){var y,x=this,I=x.exceptions,R=x.properties,V=x.measurements,W=x.severityLevel,oe=x.problemGroup,ve=x.id,we=x.isManual,Tt=I instanceof Array&&X3(I,function(Rr){return Rr.toInterface()})||void 0;return y={ver:"4.0"},y[Q4]=Tt,y.severityLevel=W,y.properties=R,y.measurements=V,y.problemGroup=oe,y.id=ve,y.isManual=we,y},g.CreateSimpleException=function(y,x,I,R,V,W){var oe;return{exceptions:[(oe={},oe[uE]=!0,oe.message=y,oe.stack=V,oe.typeName=x,oe)]}},g.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",g.dataType="ExceptionData",g.formatError=cO,g}(),wK=function(){function g(y,x,I){this.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2};var R=this;if(v3e(x))R[jp]=x[jp],R[V2]=x[V2],R[mu]=x[mu],R[pd]=x[pd]||[],R[uE]=x[uE];else{var V=x,W=V&&V.evt;en(V)||(V=V[r8]||W||V),R[jp]=Tc(y,pE(V))||C5,R[V2]=mK(y,SK(x||V,R[jp]))||C5;var oe=x[aO]||AK(x);R[pd]=b3e(oe),zr(R[pd])&&X3(R[pd],function(ve){ve[Z4]=Tc(y,ve[Z4]),ve[G2]=Tc(y,ve[G2])}),R[mu]=e3e(y,x3e(oe)),R.hasFullStack=zr(R.parsedStack)&&R.parsedStack[E0]>0,I&&(I[jp]=I[jp]||R[jp])}}return o(g,"_ExceptionDetails"),g.prototype.toInterface=function(){var y,x=this,I=x[pd]instanceof Array&&X3(x[pd],function(V){return V.toInterface()}),R=(y={id:x.id,outerId:x.outerId,typeName:x[jp],message:x[V2],hasFullStack:x[uE],stack:x[mu]},y[pd]=I||void 0,y);return R},g.CreateFromInterface=function(y,x){var I=x[pd]instanceof Array&&X3(x[pd],function(V){return uO[dK](V)})||x[pd],R=new g(y,Da(Da({},x),{parsedStack:I}));return R},g}(),uO=function(){function g(y,x){this.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0};var I=this;if(I[J4]=0,typeof y=="string"){var R=y;I[fE]=x,I[e8]=g3e,I[Z4]=Yl(R),I[G2]="",I[N9]=0;var V=R.match(g.regex);V&&V[E0]>=5&&(I[e8]=Yl(V[2])||I[e8],I[G2]=Yl(V[4]),I[N9]=parseInt(V[5])||0)}else I[fE]=y[fE],I[e8]=y[e8],I[Z4]=y[Z4],I[G2]=y[G2],I[N9]=y[N9],I[J4]=0;I.sizeInBytes+=I.method[E0],I.sizeInBytes+=I.fileName[E0],I.sizeInBytes+=I.assembly[E0],I[J4]+=g.baseSize,I.sizeInBytes+=I.level.toString()[E0],I.sizeInBytes+=I.line.toString()[E0]}return o(g,"_StackFrame"),g.CreateFromInterface=function(y){return new g(y,null)},g.prototype.toInterface=function(){var y=this;return{level:y[fE],method:y[e8],assembly:y[Z4],fileName:y[G2],line:y[N9]}},g.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,g.baseSize=58,g}(),E3e=function(){function g(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}return o(g,"DataPoint"),g}(),D9=function(){function g(y,x,I,R,V,W,oe,ve,we){this.aiDataContract={ver:1,metrics:1,properties:0};var Tt=this;Tt.ver=2;var Rr=new E3e;Rr[J5e]=R>0?R:void 0,Rr.max=isNaN(W)||W===null?void 0:W,Rr.min=isNaN(V)||V===null?void 0:V,Rr[S5]=Tc(y,x)||C5,Rr.value=I,Rr.stdDev=isNaN(oe)||oe===null?void 0:oe,Tt.metrics=[Rr],Tt[Up]=z2(y,ve),Tt[qp]=K2(y,we)}return o(g,"Metric"),g.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",g.dataType="MetricData",g}(),L9="";function RK(g){(isNaN(g)||g<0)&&(g=0),g=Math.round(g);var y=L9+g%1e3,x=L9+Math.floor(g/1e3)%60,I=L9+Math.floor(g/(1e3*60))%60,R=L9+Math.floor(g/(1e3*60*60))%24,V=Math.floor(g/(1e3*60*60*24));return y=y[E0]===1?"00"+y:y[E0]===2?"0"+y:y,x=x[E0]<2?"0"+x:x,I=I[E0]<2?"0"+I:I,R=R[E0]<2?"0"+R:R,(V>0?V+".":L9)+R+":"+I+":"+x+"."+y}o(RK,"msToTimeSpan");var mE=function(){function g(y,x,I,R,V,W,oe){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var ve=this;ve.ver=2,ve.id=t3e(y,oe),ve.url=nO(y,I),ve[S5]=Tc(y,x)||C5,isNaN(R)||(ve[dE]=RK(R)),ve[Up]=z2(y,V),ve[qp]=K2(y,W)}return o(g,"PageView"),g.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",g.dataType="PageviewData",g}(),gE=function(){function g(y,x,I,R,V,W,oe,ve,we,Tt,Rr,kr){we===void 0&&(we="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var Ar=this;Ar.ver=2,Ar.id=x,Ar[dE]=RK(V),Ar.success=W,Ar.resultCode=oe+"",Ar.type=Tc(y,we);var gr=l3e(y,I,ve,R);Ar.data=nO(y,R)||gr.data,Ar.target=Tc(y,gr.target),Tt&&(Ar.target="".concat(Ar.target," | ").concat(Tt)),Ar[S5]=Tc(y,gr[S5]),Ar[Up]=z2(y,Rr),Ar[qp]=K2(y,kr)}return o(g,"RemoteDependencyData"),g.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",g.dataType="RemoteDependencyData",g}(),vE=function(){function g(y,x,I,R,V){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var W=this;W.ver=2,x=x||C5,W[V2]=mK(y,x),W[Up]=z2(y,R),W[qp]=K2(y,V),I&&(W[P9]=I)}return o(g,"Trace"),g.envelopeType="Microsoft.ApplicationInsights.{0}.Message",g.dataType="MessageData",g}(),yE=function(){function g(y,x,I,R,V,W,oe){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var ve=this;ve.ver=2,ve.url=nO(y,I),ve[S5]=Tc(y,x)||C5,ve[Up]=z2(y,V),ve[qp]=K2(y,W),oe&&(ve.domProcessing=oe.domProcessing,ve[dE]=oe[dE],ve.networkConnect=oe.networkConnect,ve.perfTotal=oe.perfTotal,ve[pK]=oe[pK],ve.sentRequest=oe.sentRequest)}return o(g,"PageViewPerformance"),g.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",g.dataType="PageviewPerformanceData",g}(),Y2=function(){function g(y,x){this.aiDataContract={baseType:1,baseData:1},this.baseType=y,this.baseData=x}return o(g,"Data"),g}(),T3e=$y({Verbose:0,Information:1,Warning:2,Error:3,Critical:4});function I5(g){var y="ai."+g+".";return function(x){return y+x}}o(I5,"_aiNameFunc");var k9=I5("application"),yl=I5("device"),_E=I5("location"),n8=I5("operation"),fO=I5("session"),A5=I5("user"),X2=I5("cloud"),M9=I5("internal"),PK=function(g){p2(y,g);function y(){return g.call(this)||this}return o(y,"ContextTagKeys"),y}(a5({applicationVersion:k9("ver"),applicationBuild:k9("build"),applicationTypeId:k9("typeId"),applicationId:k9("applicationId"),applicationLayer:k9("layer"),deviceId:yl("id"),deviceIp:yl("ip"),deviceLanguage:yl("language"),deviceLocale:yl("locale"),deviceModel:yl("model"),deviceFriendlyName:yl("friendlyName"),deviceNetwork:yl("network"),deviceNetworkName:yl("networkName"),deviceOEMName:yl("oemName"),deviceOS:yl("os"),deviceOSVersion:yl("osVersion"),deviceRoleInstance:yl("roleInstance"),deviceRoleName:yl("roleName"),deviceScreenResolution:yl("screenResolution"),deviceType:yl("type"),deviceMachineName:yl("machineName"),deviceVMName:yl("vmName"),deviceBrowser:yl("browser"),deviceBrowserVersion:yl("browserVersion"),locationIp:_E("ip"),locationCountry:_E("country"),locationProvince:_E("province"),locationCity:_E("city"),operationId:n8("id"),operationName:n8("name"),operationParentId:n8("parentId"),operationRootId:n8("rootId"),operationSyntheticSource:n8("syntheticSource"),operationCorrelationVector:n8("correlationVector"),sessionId:fO("id"),sessionIsFirst:fO("isFirst"),sessionIsNew:fO("isNew"),userAccountAcquisitionDate:A5("accountAcquisitionDate"),userAccountId:A5("accountId"),userAgent:A5("userAgent"),userId:A5("id"),userStoreRegion:A5("storeRegion"),userAuthUserId:A5("authUserId"),userAnonymousUserAcquisitionDate:A5("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:A5("authUserAcquisitionDate"),cloudName:X2("name"),cloudRole:X2("role"),cloudRoleVer:X2("roleVer"),cloudRoleInstance:X2("roleInstance"),cloudEnvironment:X2("environment"),cloudLocation:X2("location"),cloudDeploymentUnit:X2("deploymentUnit"),internalNodeName:M9("nodeName"),internalSdkVersion:M9("sdkVersion"),internalAgentVersion:M9("agentVersion"),internalSnippet:M9("snippet"),internalSdkSrc:M9("sdkSrc")})),Jl=new PK,C3e="AppInsightsChannelPlugin",Q2="duration",Zl="tags",dO="deviceType",ec="data",Hp="name",B9="traceID",n0="length",F9="stringify",J2="measurements",x1="dataType",Z2="envelopeType",em="toString",xE="onLine",pO="isOnline",U9="_get",tm="enqueue",i8="count",NK="eventsLimitInMem",s8="push",hO="emitLineDelimitedJson",rm="clear",mO="batchPayloads",gO="createNew",q9="markAsSent",j9="clearSent",vO="bufferOverride",yO="BUFFER_KEY",w5="SENT_BUFFER_KEY",H9="MAX_BUFFER_SIZE",_O="sendPOST",$9="triggerSend",tc="diagLog",V9="_sender",xO="customHeaders",OK="maxBatchSizeInBytes",DK="onunloadDisableBeacon",bO="isBeaconApiDisabled",LK="alwaysUseXhrOverride",kK="enableSessionStorageBuffer",R5="_buffer",MK="onunloadDisableFetch",BK="disableSendBeaconSplit",FK="instrumentationKey",UK="convertUndefined",qK="maxBatchInterval",EO="baseType",bE="sampleRate",S3e="_xhrReadyStateChange",nm="_onError",TO="_onPartialSuccess",EE="_onSuccess",TE="itemsAccepted",I3e="itemsReceived",G9="oriPayload",CO="setRequestHeader",jK="eventsSendRequest",HK="getSamplingScore",A3e="getHashCodeScore",SO="baseType",ga="baseData",Pl="properties",$K="true";function el(g,y,x){return ld(g,y,x,un)}o(el,"_setValueIf");function w3e(g,y,x){var I=x[Zl]=x[Zl]||{},R=y.ext=y.ext||{},V=y[Zl]=y[Zl]||[],W=R.user;W&&(el(I,Jl.userAuthUserId,W.authId),el(I,Jl.userId,W.id||W.localId));var oe=R.app;oe&&el(I,Jl.sessionId,oe.sesId);var ve=R.device;ve&&(el(I,Jl.deviceId,ve.id||ve.localId),el(I,Jl[dO],ve.deviceClass),el(I,Jl.deviceIp,ve.ip),el(I,Jl.deviceModel,ve.model),el(I,Jl[dO],ve[dO]));var we=y.ext.web;if(we){el(I,Jl.deviceLanguage,we.browserLang),el(I,Jl.deviceBrowserVersion,we.browserVer),el(I,Jl.deviceBrowser,we.browser);var Tt=x[ec]=x[ec]||{},Rr=Tt[ga]=Tt[ga]||{},kr=Rr[Pl]=Rr[Pl]||{};el(kr,"domain",we.domain),el(kr,"isManual",we.isManual?$K:null),el(kr,"screenRes",we.screenRes),el(kr,"userConsent",we.userConsent?$K:null)}var Ar=R.os;Ar&&el(I,Jl.deviceOS,Ar[Hp]);var gr=R.trace;gr&&(el(I,Jl.operationParentId,gr.parentID),el(I,Jl.operationName,Tc(g,gr[Hp])),el(I,Jl.operationId,gr[B9]));for(var dn={},Ur=V[n0]-1;Ur>=0;Ur--){var vn=V[Ur];Hi(vn,function(pn,$i){dn[pn]=$i}),V.splice(Ur,1)}Hi(V,function(pn,$i){dn[pn]=$i});var Zr=Da(Da({},I),dn);Zr[Jl.internalSdkVersion]||(Zr[Jl.internalSdkVersion]=Tc(g,"javascript:".concat(R3e.Version),64)),x[Zl]=Ds(Zr)}o(w3e,"_extractPartAExtensions");function P5(g,y,x){hr(g)||Hi(g,function(I,R){Ri(R)?x[I]=R:_e(R)?y[I]=R:Ec()&&(y[I]=wl()[F9](R))})}o(P5,"_extractPropsAndMeasurements");function im(g,y){hr(g)||Hi(g,function(x,I){g[x]=I||y})}o(im,"_convertPropsUndefinedToCustomDefinedValue");function sm(g,y,x,I){var R=new m3e(g,I,y);el(R,"sampleRate",x[uK]),(x[ga]||{}).startTime&&(R.time=P4(x[ga].startTime)),R.iKey=x.iKey;var V=x.iKey.replace(/-/g,"");return R[Hp]=R[Hp].replace("{0}",V),w3e(g,x,R),x[Zl]=x[Zl]||[],Ds(R)}o(sm,"_createEnvelope");function am(g,y){hr(y[ga])&&Zi(g,1,46,"telemetryItem.baseData cannot be null.")}o(am,"EnvelopeCreatorInit");var R3e={Version:"3.0.7"};function P3e(g,y,x){am(g,y);var I=y[ga][J2]||{},R=y[ga][Pl]||{};P5(y[ec],R,I),hr(x)||im(R,x);var V=y[ga];if(hr(V))return z4(g,"Invalid input for dependency data"),null;var W=V[Pl]&&V[Pl][fK]?V[Pl][fK]:"GET",oe=new gE(g,V.id,V.target,V[Hp],V[Q2],V.success,V.responseCode,W,V.type,V.correlationContext,R,I),ve=new Y2(gE[x1],oe);return sm(g,gE[Z2],y,ve)}o(P3e,"DependencyEnvelopeCreator");function VK(g,y,x){am(g,y);var I={},R={};y[SO]!==t8[x1]&&(I.baseTypeSource=y[SO]),y[SO]===t8[x1]?(I=y[ga][Pl]||{},R=y[ga][J2]||{}):y[ga]&&P5(y[ga],I,R),P5(y[ec],I,R),hr(x)||im(I,x);var V=y[ga][Hp],W=new t8(g,V,I,R),oe=new Y2(t8[x1],W);return sm(g,t8[Z2],y,oe)}o(VK,"EventEnvelopeCreator");function N3e(g,y,x){am(g,y);var I=y[ga][J2]||{},R=y[ga][Pl]||{};P5(y[ec],R,I),hr(x)||im(R,x);var V=y[ga],W=hE.CreateFromInterface(g,V,R,I),oe=new Y2(hE[x1],W);return sm(g,hE[Z2],y,oe)}o(N3e,"ExceptionEnvelopeCreator");function O3e(g,y,x){am(g,y);var I=y[ga],R=I[Pl]||{},V=I[J2]||{};P5(y[ec],R,V),hr(x)||im(R,x);var W=new D9(g,I[Hp],I.average,I.sampleCount,I.min,I.max,I.stdDev,R,V),oe=new Y2(D9[x1],W);return sm(g,D9[Z2],y,oe)}o(O3e,"MetricEnvelopeCreator");function D3e(g,y,x){am(g,y);var I,R=y[ga];!hr(R)&&!hr(R[Pl])&&!hr(R[Pl][Q2])?(I=R[Pl][Q2],delete R[Pl][Q2]):!hr(y[ec])&&!hr(y[ec][Q2])&&(I=y[ec][Q2],delete y[ec][Q2]);var V=y[ga],W;((y.ext||{}).trace||{})[B9]&&(W=y.ext.trace[B9]);var oe=V.id||W,ve=V[Hp],we=V.uri,Tt=V[Pl]||{},Rr=V[J2]||{};if(hr(V.refUri)||(Tt.refUri=V.refUri),hr(V.pageType)||(Tt.pageType=V.pageType),hr(V.isLoggedIn)||(Tt.isLoggedIn=V.isLoggedIn[em]()),!hr(V[Pl])){var kr=V[Pl];Hi(kr,function(dn,Ur){Tt[dn]=Ur})}P5(y[ec],Tt,Rr),hr(x)||im(Tt,x);var Ar=new mE(g,ve,we,I,Tt,Rr,oe),gr=new Y2(mE[x1],Ar);return sm(g,mE[Z2],y,gr)}o(D3e,"PageViewEnvelopeCreator");function L3e(g,y,x){am(g,y);var I=y[ga],R=I[Hp],V=I.uri||I.url,W=I[Pl]||{},oe=I[J2]||{};P5(y[ec],W,oe),hr(x)||im(W,x);var ve=new yE(g,R,V,void 0,W,oe,I),we=new Y2(yE[x1],ve);return sm(g,yE[Z2],y,we)}o(L3e,"PageViewPerformanceEnvelopeCreator");function k3e(g,y,x){am(g,y);var I=y[ga].message,R=y[ga].severityLevel,V=y[ga][Pl]||{},W=y[ga][J2]||{};P5(y[ec],V,W),hr(x)||im(V,x);var oe=new vE(g,I,R,V,W),ve=new Y2(vE[x1],oe);return sm(g,vE[Z2],y,ve)}o(k3e,"TraceEnvelopeCreator");function GK(g,y){X5e(g,null,null,y)}o(GK,"_disableEvents");function M3e(g){var y,x=Gd(),I=Kd(),R=!1,V=!0,W=lK(f1("OfflineListener"),g);try{if(ve(zd())&&(R=!0),x){var oe=x.body||x;oe.ononline&&ve(oe)&&(R=!0)}R&&I&&!hr(I[xE])&&(V=I[xE])}catch{R=!1}function ve(Ar){var gr=!1;return Ar&&(gr=cK(Ar,"online",we,W),gr&&cK(Ar,"offline",Tt,W)),gr}o(ve,"_enableEvents");function we(){V=!0}o(we,"_setOnline");function Tt(){V=!1}o(Tt,"_setOffline");function Rr(){var Ar=!0;return R?Ar=V:I&&!hr(I[xE])&&(Ar=I[xE]),Ar}o(Rr,"_isOnline");function kr(){var Ar=zd();if(Ar&&R){if(GK(Ar,W),x){var gr=x.body||x;Yt(gr.ononline)||GK(gr,W)}R=!1}}return o(kr,"_unload"),y={},y[pO]=Rr,y.isListening=function(){return R},y.unload=kr,y}o(M3e,"createOfflineListener");var zK=function(){function g(y,x){var I=[],R=!1;this[U9]=function(){return I},this._set=function(V){return I=V,I},Il(g,this,function(V){V[tm]=function(W){if(V[i8]()>=x[NK]){R||(Zi(y,2,105,"Maximum in-memory buffer size reached: "+V[i8](),!0),R=!0);return}I[s8](W)},V[i8]=function(){return I[n0]},V.size=function(){for(var W=I[n0],oe=0;oe<I[n0];oe++)W+=I[oe][n0];return x[hO]||(W+=2),W},V[rm]=function(){I=[],R=!1},V.getItems=function(){return I.slice(0)},V[mO]=function(W){if(W&&W[n0]>0){var oe=x[hO]?W.join(`
`):"["+W.join(",")+"]";return oe}return null},V[gO]=function(W,oe,ve){var we=I.slice(0);W=W||y,oe=oe||{};var Tt=ve?new KK(W,oe):new IO(W,oe);return Ss(we,function(Rr){Tt[tm](Rr)}),Tt}})}return o(g,"BaseSendBuffer"),g.__ieDyn=1,g}(),IO=function(g){p2(y,g);function y(x,I){var R=g.call(this,x,I)||this;return Il(y,R,function(V,W){V[q9]=function(oe){W[rm]()},V[j9]=function(oe){}}),R}return o(y,"ArraySendBuffer"),y.__ieDyn=1,y}(zK),KK=function(g){p2(y,g);function y(x,I){var R=g.call(this,x,I)||this,V=!1,W=I==null?void 0:I.namePrefix,oe=I[vO]||{getItem:u3e,setItem:f3e},ve=oe.getItem,we=oe.setItem;return Il(y,R,function(Tt,Rr){var kr=Ur(y[yO]),Ar=Ur(y[w5]),gr=Tt._set(kr.concat(Ar));gr[n0]>y[H9]&&(gr[n0]=y[H9]),vn(y[w5],[]),vn(y[yO],gr),Tt[tm]=function(Zr){if(Tt[i8]()>=y[H9]){V||(Zi(x,2,67,"Maximum buffer size reached: "+Tt[i8](),!0),V=!0);return}Rr[tm](Zr),vn(y.BUFFER_KEY,Tt[U9]())},Tt[rm]=function(){Rr[rm](),vn(y.BUFFER_KEY,Tt[U9]()),vn(y[w5],[]),V=!1},Tt[q9]=function(Zr){vn(y[yO],Tt._set(dn(Zr,Tt[U9]())));var pn=Ur(y[w5]);pn instanceof Array&&Zr instanceof Array&&(pn=pn.concat(Zr),pn[n0]>y[H9]&&(Zi(x,1,67,"Sent buffer reached its maximum size: "+pn[n0],!0),pn[n0]=y[H9]),vn(y[w5],pn))},Tt[j9]=function(Zr){var pn=Ur(y[w5]);pn=dn(Zr,pn),vn(y[w5],pn)},Tt[gO]=function(Zr,pn,$i){$i=!!$i;var Ls=Tt[U9]().slice(0),O0=Ur(y[w5]).slice(0);Zr=Zr||x,pn=pn||{},Tt[rm]();var Ca=$i?new y(Zr,pn):new IO(Zr,pn);return Ss(Ls,function(aa){Ca[tm](aa)}),$i&&Ca[q9](O0),Ca};function dn(Zr,pn){var $i=[];return Ss(pn,function(Ls){!Er(Ls)&&uu(Zr,Ls)===-1&&$i[s8](Ls)}),$i}o(dn,"_removePayloadsFromBuffer");function Ur(Zr){var pn=Zr;try{pn=W?W+"_"+pn:pn;var $i=ve(x,pn);if($i){var Ls=wl().parse($i);if(_e(Ls)&&(Ls=wl().parse(Ls)),Ls&&zr(Ls))return Ls}}catch(O0){Zi(x,1,42," storage key: "+pn+", "+bc(O0),{exception:Zs(O0)})}return[]}o(Ur,"_getBuffer");function vn(Zr,pn){var $i=Zr;try{$i=W?W+"_"+$i:$i;var Ls=JSON[F9](pn);we(x,$i,Ls)}catch(O0){we(x,$i,JSON[F9]([])),Zi(x,2,41," storage key: "+$i+", "+bc(O0)+". Buffer cleared",{exception:Zs(O0)})}}o(vn,"_setBuffer")}),R}return o(y,"SessionStorageSendBuffer"),y.BUFFER_KEY="AI_buffer",y.SENT_BUFFER_KEY="AI_sentBuffer",y.MAX_BUFFER_SIZE=2e3,y}(zK),B3e=function(){function g(y){Il(g,this,function(x){x.serialize=function(W){var oe=I(W,"root");try{return wl()[F9](oe)}catch(ve){Zi(y,1,48,ve&&Er(ve[em])?ve[em]():"Error serializing object",null,!0)}};function I(W,oe){var ve="__aiCircularRefCheck",we={};if(!W)return Zi(y,1,48,"cannot serialize object because it is null or undefined",{name:oe},!0),we;if(W[ve])return Zi(y,2,50,"Circular reference detected while serializing object",{name:oe},!0),we;if(!W.aiDataContract){if(oe==="measurements")we=V(W,"number",oe);else if(oe==="properties")we=V(W,"string",oe);else if(oe==="tags")we=V(W,"string",oe);else if(zr(W))we=R(W,oe);else{Zi(y,2,49,"Attempting to serialize an object which does not implement ISerializable",{name:oe},!0);try{wl()[F9](W),we=W}catch(Tt){Zi(y,1,48,Tt&&Er(Tt[em])?Tt[em]():"Error serializing object",null,!0)}}return we}return W[ve]=!0,Hi(W.aiDataContract,function(Tt,Rr){var kr=Er(Rr)?Rr()&1:Rr&1,Ar=Er(Rr)?Rr()&4:Rr&4,gr=Rr&2,dn=W[Tt]!==void 0,Ur=Vr(W[Tt])&&W[Tt]!==null;if(kr&&!dn&&!gr)Zi(y,1,24,"Missing required field specification. The field is required but not present on source",{field:Tt,name:oe});else if(!Ar){var vn=void 0;Ur?gr?vn=R(W[Tt],Tt):vn=I(W[Tt],Tt):vn=W[Tt],vn!==void 0&&(we[Tt]=vn)}}),delete W[ve],we}o(I,"_serializeObject");function R(W,oe){var ve;if(W)if(!zr(W))Zi(y,1,54,`This field was specified as an array in the contract but the item is not an array.\r
`,{name:oe},!0);else{ve=[];for(var we=0;we<W[n0];we++){var Tt=W[we],Rr=I(Tt,oe+"["+we+"]");ve[s8](Rr)}}return ve}o(R,"_serializeArray");function V(W,oe,ve){var we;return W&&(we={},Hi(W,function(Tt,Rr){if(oe==="string")Rr===void 0?we[Tt]="undefined":Rr===null?we[Tt]="null":Rr[em]?we[Tt]=Rr[em]():we[Tt]="invalid field: toString() is not defined.";else if(oe==="number")if(Rr===void 0)we[Tt]="undefined";else if(Rr===null)we[Tt]="null";else{var kr=parseFloat(Rr);isNaN(kr)?we[Tt]="NaN":we[Tt]=kr}else we[Tt]="invalid field: "+ve+" is of unknown type.",Zi(y,1,we[Tt],null,!0)})),we}o(V,"_serializeStringMap")})}return o(g,"Serializer"),g.__ieDyn=1,g}(),F3e=8,U3e=function(){function g(){}return o(g,"HashCodeScoreGenerator"),g.prototype.getHashCodeScore=function(y){var x=this.getHashCode(y)/g.INT_MAX_VALUE;return x*100},g.prototype.getHashCode=function(y){if(y==="")return 0;for(;y[n0]<F3e;)y=y.concat(y);for(var x=5381,I=0;I<y[n0];++I)x=(x<<5)+x+y.charCodeAt(I),x=x&x;return Math.abs(x)},g.INT_MAX_VALUE=2147483647,g}(),q3e=function(){function g(){var y=this,x=new U3e,I=new PK;y[HK]=function(R){var V=0;return R[Zl]&&R[Zl][I.userId]?V=x.getHashCodeScore(R[Zl][I.userId]):R.ext&&R.ext.user&&R.ext.user.id?V=x[A3e](R.ext.user.id):R[Zl]&&R[Zl][I.operationId]?V=x.getHashCodeScore(R[Zl][I.operationId]):R.ext&&R.ext.telemetryTrace&&R.ext.telemetryTrace[B9]?V=x.getHashCodeScore(R.ext.telemetryTrace[B9]):V=Math.random()*100,V}}return o(g,"SamplingScoreGenerator"),g}(),j3e=function(){function g(y,x){this.INT_MAX_VALUE=2147483647;var I=x||G4(null);(y>100||y<0)&&(I.throwInternal(2,58,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:y},!0),y=100),this[bE]=y,this.samplingScoreGenerator=new q3e}return o(g,"Sample"),g.prototype.isSampledIn=function(y){var x=this[bE],I=!1;return x==null||x>=100||y.baseType===D9[x1]?!0:(I=this.samplingScoreGenerator[HK](y)<x,I)},g}(),ka,$p,N5=void 0,H3e=65e3;function CE(g){try{return g.responseText}catch{}return null}o(CE,"_getResponseText");function $3e(g){return g&&g[_O]}o($3e,"isOverrideFn");var WK=xc((ka={endpointUrl:H4(un,QN+R9)},ka[hO]=df(),ka[qK]=15e3,ka[OK]=102400,ka.disableTelemetry=df(),ka[kK]=df(!0),ka.isRetryDisabled=df(),ka[bO]=df(!0),ka[BK]=df(),ka.disableXhr=df(),ka[MK]=df(),ka[DK]=df(),ka[FK]=N5,ka.namePrefix=N5,ka.samplingPercentage=H4(V3e,100),ka[xO]=N5,ka[UK]=N5,ka[NK]=1e4,ka[vO]=!1,ka.httpXHROverride={isVal:$3e,v:N5},ka[LK]=df(),ka));function V3e(g){return!isNaN(g)&&g>0&&g<=100}o(V3e,"_chkSampling");var G3e=($p={},$p[t8.dataType]=VK,$p[vE.dataType]=k3e,$p[mE.dataType]=D3e,$p[yE.dataType]=L3e,$p[hE.dataType]=N3e,$p[D9.dataType]=O3e,$p[gE.dataType]=P3e,$p),YK=function(g){p2(y,g);function y(){var x=g.call(this)||this;x.priority=1001,x.identifier=C3e;var I,R,V,W,oe,ve,we,Tt=0,Rr,kr,Ar,gr,dn,Ur,vn,Zr,pn,$i,Ls,O0,Ca,aa,Nl,tl,a8,b1,Pi,E1,o8,hd,Vp;return Il(y,x,function(_n,SE){QK(),_n.pause=function(){Gp(),V=!0},_n.resume=function(){V&&(V=!1,R=null,u8(),gu())},_n.flush=function(Ir,sn,ki){if(Ir===void 0&&(Ir=!0),!V){Gp();try{return _n[$9](Ir,null,ki||1)}catch(Vi){Zi(_n[tc](),1,22,"flush failed, telemetry will not be collected: "+bc(Vi),{exception:Zs(Vi)})}}},_n.onunloadFlush=function(){if(!V)if(vn||b1)try{return _n[$9](!0,qr,2)}catch(Ir){Zi(_n[tc](),1,20,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+bc(Ir),{exception:Zs(Ir)})}else _n.flush(!1)},_n.addHeader=function(Ir,sn){we[Ir]=sn},_n.initialize=function(Ir,sn,ki,Vi){_n.isInitialized()&&Zi(_n[tc](),1,28,"Sender is already initialized"),SE.initialize(Ir,sn,ki,Vi);var Ji=_n.identifier;oe=new B3e(sn.logger),I=0,R=null,_n[V9]=null,ve=0;var ys=_n[tc]();Ar=lK(f1("Sender"),sn.evtNamespace&&sn.evtNamespace()),kr=M3e(Ar),_n._addHook(m1(Ir,function(e0){var Ws=e0.cfg;Ws.storagePrefix&&c3e(Ws.storagePrefix);var Ba=As(null,Ws,sn),bs=Ba.getExtCfg(Ji,WK);Cl(_n,"_senderConfig",{g:function(){return bs}}),dn!==bs.endpointUrl&&(gr=dn=bs.endpointUrl),Zr&&Zr!==bs[xO]&&Ss(Zr,function(va){delete we[va.header]}),Ur=bs[OK],vn=(bs[DK]===!1||bs[bO]===!1)&&d5(),b1=bs[LK],Pi=!!bs.disableXhr;var md=bs[vO],T1=!!bs[kK]&&(!!md||EK()),f8=bs.namePrefix,IE=T1!==aa||T1&&tl!==f8||T1&&Nl!==md;if(_n[R5]){if(IE)try{_n._buffer=_n._buffer[gO](ys,bs,T1)}catch(va){Zi(_n[tc](),1,12,"failed to transfer telemetry to different buffer storage, telemetry will be lost: "+bc(va),{exception:Zs(va)})}u8()}else _n[R5]=T1?new KK(ys,bs):new IO(ys,bs);tl=f8,aa=T1,Nl=md,E1=!bs[MK]&&M4(!0),Vp=!!bs[BK],_n._sample=new j3e(bs.samplingPercentage,ys),$i=bs[FK],J3e($i,Ws)||Zi(ys,1,100,"Invalid Instrumentation key "+$i),Zr=bs[xO],!iO(gr)&&Zr&&Zr[n0]>0?Ss(Zr,function(va){x.addHeader(va.header,va.value)}):Zr=null,a8=bs.enableSendPromise;var C1=bs.httpXHROverride,O5=null,d8=null;O5=l8([1,2],!1);var Dl={sendPOST:Ts};o8=o(function(va,zp){return om(Dl,va,zp)},"_xhrSend"),hd=o(function(va,zp){return om(Dl,va,zp,!1)},"_fallbackSend"),!bs[bO]&&d5()&&(O5=l8([3],!1)),O5=b1?C1:O5||C1||Dl,_n[V9]=function(va,zp){return om(O5,va,zp)},E1&&(Rr=Is),d8=b1?C1:l8([3,1],!0)||C1,(b1||!Rr)&&d8&&(Rr=o(function(va,zp){return om(d8,va,zp)},"_syncUnloadSender")),Rr||(Rr=o8),pn=bs.disableTelemetry,Ls=bs[UK]||N5,O0=bs.isRetryDisabled,Ca=bs[qK]}))},_n.processTelemetry=function(Ir,sn){sn=_n._getTelCtx(sn);var ki=sn[tc]();try{if(pn)return;if(!Ir){Zi(ki,1,7,"Cannot send empty telemetry");return}if(Ir.baseData&&!Ir[EO]){Zi(ki,1,70,"Cannot send telemetry without baseData and baseType");return}if(Ir[EO]||(Ir[EO]="EventData"),!_n[V9]){Zi(ki,1,28,"Sender was not initialized");return}if(z9(Ir))Ir[uK]=_n._sample[bE];else{Zi(ki,2,33,"Telemetry item was sampled out and not sent",{SampleRate:_n._sample[bE]});return}var Vi=Ir.iKey||$i,Ji=y.constructEnvelope(Ir,Vi,ki,Ls);if(!Ji){Zi(ki,1,47,"Unable to create an AppInsights envelope");return}var ys=!1;if(Ir[Zl]&&Ir[Zl][XN]&&(Ss(Ir[Zl][XN],function(Ba){try{Ba&&Ba(Ji)===!1&&(ys=!0,z4(ki,"Telemetry processor check returns false"))}catch(bs){Zi(ki,1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+bc(bs),{exception:Zs(bs)},!0)}}),delete Ir[Zl][XN]),ys)return;var e0=oe.serialize(Ji),Ws=_n[R5];u8(e0),Ws[tm](e0),gu()}catch(Ba){Zi(ki,2,12,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+bc(Ba),{exception:Zs(Ba)})}_n.processNext(Ir,sn)},_n[S3e]=function(Ir,sn,ki){Ir.readyState===4&&W9(Ir.status,sn,Ir.responseURL,ki,PO(Ir),CE(Ir)||Ir.response)},_n[$9]=function(Ir,sn,ki){Ir===void 0&&(Ir=!0);var Vi;if(!V)try{var Ji=_n[R5];if(pn)Ji[rm]();else if(Ji[i8]()>0){var ys=Ji.getItems();Q3e(ki||0,Ir),sn?Vi=sn.call(_n,ys,Ir):Vi=_n[V9](ys,Ir)}Gp()}catch(Ws){var e0=P2();(!e0||e0>9)&&Zi(_n[tc](),1,40,"Telemetry transmission failed, some telemetry will be lost: "+bc(Ws),{exception:Zs(Ws)})}return Vi},_n._doTeardown=function(Ir,sn){_n.onunloadFlush(),m5(kr,!1),QK()},_n[nm]=function(Ir,sn,ki){Zi(_n[tc](),2,26,"Failed to send telemetry.",{message:sn}),_n._buffer&&_n._buffer[j9](Ir)},_n[TO]=function(Ir,sn){for(var ki=[],Vi=[],Ji=sn.errors.reverse(),ys=0,e0=Ji;ys<e0.length;ys++){var Ws=e0[ys],Ba=Ir.splice(Ws.index,1)[0];X9(Ws.statusCode)?Vi[s8](Ba):ki[s8](Ba)}Ir[n0]>0&&_n[EE](Ir,sn[TE]),ki[n0]>0&&_n[nm](ki,PO(null,["partial success",sn[TE],"of",sn.itemsReceived].join(" "))),Vi[n0]>0&&(Ma(Vi),Zi(_n[tc](),2,40,"Partial success. Delivered: "+Ir[n0]+", Failed: "+ki[n0]+". Will retry to send "+Vi[n0]+" our of "+sn[I3e]+" items"))},_n[EE]=function(Ir,sn){_n._buffer&&_n._buffer[j9](Ir)},_n._xdrOnLoad=function(Ir,sn){var ki=CE(Ir);if(Ir&&(ki+""=="200"||ki===""))I=0,_n[EE](sn,0);else{var Vi=D0(ki);Vi&&Vi.itemsReceived&&Vi.itemsReceived>Vi[TE]&&!O0?_n[TO](sn,Vi):_n[nm](sn,XK(Ir))}};function z9(Ir){return _n._sample.isSampledIn(Ir)}o(z9,"_isSampledIn");function l8(Ir,sn){for(var ki,Vi=null,Ji=null,ys=0;Ji==null&&ys<Ir[n0];)Vi=Ir[ys],!Pi&&Vi===1?Nb()?Ji=Y3e:Dp()&&(Ji=Ts):Vi===2&&M4(sn)?Ji=RO:d5()&&Vi===3&&(Ji=Es),ys++;return Ji?(ki={},ki[_O]=Ji,ki):null}o(l8,"_getSenderInterface");function c8(Ir,sn,ki,Vi){sn===200&&Ir?_n._onSuccess(Ir,Ir[n0]):Vi&&_n[nm](Ir,Vi)}o(c8,"_getOnComplete");function om(Ir,sn,ki,Vi){Vi===void 0&&(Vi=!0);var Ji=o(function(Ws,Ba,bs){return c8(sn,Ws,Ba,bs)},"onComplete"),ys=K9(sn),e0=Ir&&Ir[_O];return e0&&ys?(Vi&&_n._buffer[q9](sn),e0(ys,Ji,!ki)):null}o(om,"_doSend");function K9(Ir){var sn;if(zr(Ir)&&Ir[n0]>0){var ki=_n._buffer[mO](Ir),Vi=(sn={},sn[ec]=ki,sn.urlString=gr,sn.headers=we,sn.disableXhrSync=Pi,sn.disableFetchKeepAlive=!E1,sn[G9]=Ir,sn);return Vi}return null}o(K9,"_getPayload");function RO(Ir,sn,ki){return H0(Ir,sn,!1)}o(RO,"_fetchSender");function u8(Ir){var sn=Ir?Ir[n0]:0;return _n[R5].size()+sn>Ur?((!kr||kr[pO]())&&_n[$9](!0,null,10),!0):!1}o(u8,"_checkMaxSize");function W9(Ir,sn,ki,Vi,Ji,ys){var e0=null;if(_n._appId||(e0=D0(ys),e0&&e0.appId&&(_n._appId=e0.appId)),(Ir<200||Ir>=300)&&Ir!==0){if((Ir===301||Ir===307||Ir===308)&&!Y9(ki)){_n[nm](sn,Ji);return}!O0&&X9(Ir)?(Ma(sn),Zi(_n[tc](),2,40,". Response code "+Ir+". Will retry to send "+sn[n0]+" items.")):_n[nm](sn,Ji)}else if(kr&&!kr[pO]()){if(!O0){var Ws=10;Ma(sn,Ws),Zi(_n[tc](),2,40,". Offline - Response Code: ".concat(Ir,". Offline status: ").concat(!kr.isOnline(),". Will retry to send ").concat(sn.length," items."))}}else Y9(ki),Ir===206?(e0||(e0=D0(ys)),e0&&!O0?_n[TO](sn,e0):_n[nm](sn,Ji)):(I=0,_n[EE](sn,Vi))}o(W9,"_checkResponsStatus");function Y9(Ir){return ve>=10?!1:!hr(Ir)&&Ir!==""&&Ir!==gr?(gr=Ir,++ve,!0):!1}o(Y9,"_checkAndUpdateEndPointUrl");function Uu(Ir,sn,ki,Vi){try{Ir(sn,ki,Vi)}catch{}}o(Uu,"_doOnComplete");function qr(Ir,sn){if(Rr)Rr(Ir,!1);else{var ki=K9(Ir);Es(ki)}}o(qr,"_doUnloadSend");function Ui(Ir,sn){var ki=Kd(),Vi=gr,Ji=_n[R5],ys=Ji[mO](Ir),e0=new Blob([ys],{type:"text/plain;charset=UTF-8"}),Ws=ki.sendBeacon(Vi,e0);return Ws&&_n._onSuccess(Ir,Ir[n0]),Ws}o(Ui,"_doBeaconSend");function Es(Ir,sn,ki){var Vi=Ir,Ji=Vi&&Vi[G9];if(zr(Ji)&&Ji[n0]>0&&!Ui(Ji))if(Vp)hd&&hd(Ji,!0),Zi(_n[tc](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender.");else{for(var ys=[],e0=0;e0<Ji[n0];e0++){var Ws=Ji[e0];Ui([Ws])||ys[s8](Ws)}ys[n0]>0&&(hd&&hd(ys,!0),Zi(_n[tc](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}o(Es,"_beaconSender");function Ts(Ir,sn,ki){var Vi=Ir,Ji,ys,e0,Ws=new XMLHttpRequest,Ba=gr;try{Ws[YN]=!0}catch{}return Ws.open("POST",Ba,!ki),Ws[CO]("Content-type","application/json"),iO(Ba)&&Ws[CO](lE[6],lE[7]),Ss(pl(we),function(bs){Ws[CO](bs,we[bs])}),Ws.onreadystatechange=function(){var bs=Vi[G9];_n._xhrReadyStateChange(Ws,bs,bs[n0]),Ws.readyState===4&&ys&&ys(!0)},Ws.onerror=function(bs){Uu(sn,400,{},PO(Ws)),e0&&e0(bs)},!ki&&a8&&(Ji=r1(function(bs,md){ys=bs,e0=md})),Ws.send(Ir[ec]),Ji}o(Ts,"_xhrSender");function Is(Ir,sn){var ki=o(function(e0,Ws,Ba){return c8(Ir,e0,Ws,Ba)},"onComplete");if(zr(Ir)){for(var Vi=Ir[n0],Ji=0;Ji<Ir[n0];Ji++)Vi+=Ir[Ji][n0];var ys=K9(Ir);_n._buffer[q9](Ir),Tt+Vi<=H3e?H0(ys,ki,!0):d5()?Es(ys):(hd&&hd(Ir,!0),Zi(_n[tc](),2,40,". Failed to send telemetry with Beacon API, retried with xhrSender."))}}o(Is,"_fetchKeepAliveSender");function H0(Ir,sn,ki){var Vi,Ji=gr,ys=Ir,e0=ys[ec],Ws=new Blob([e0],{type:"application/json"}),Ba,bs,md,T1=new Headers,f8=e0[n0],IE=!1,C1=!1;iO(Ji)&&T1.append(lE[6],lE[7]),Ss(pl(we),function(Dl){T1.append(Dl,we[Dl])});var O5=(Vi={method:"POST",headers:T1,body:Ws},Vi[YN]=!0,Vi);ki&&(O5.keepalive=!0,IE=!0,Tt+=f8);var d8=new Request(Ji,O5);try{d8[YN]=!0}catch{}!ki&&a8&&(Ba=r1(function(Dl,va){bs=Dl,md=va}));try{r5(fetch(d8),function(Dl){if(ki&&(Tt-=f8,f8=0),!C1)if(C1=!0,Dl.rejected)Uu(sn,400,{},Dl.reason&&Dl.reason.message),md&&md(Dl.reason);else{var va=Dl.value;va.ok?r5(va.text(),function(zp){var JK=ys[G9];W9(va.status,JK,va.url,JK[n0],va.statusText,zp.value||""),bs&&bs(!0)}):(Uu(sn,400,{},va.statusText),bs&&bs(!1))}})}catch(Dl){C1||(Uu(sn,400,{},Zs(Dl)),md&&md(Dl))}return IE&&!C1&&(C1=!0,Uu(sn,200,{}),bs&&bs(!0)),Ba}o(H0,"_doFetchSender");function D0(Ir){try{if(Ir&&Ir!==""){var sn=wl().parse(Ir);if(sn&&sn.itemsReceived&&sn.itemsReceived>=sn[TE]&&sn.itemsReceived-sn.itemsAccepted===sn.errors[n0])return sn}}catch(ki){Zi(_n[tc](),1,43,"Cannot parse the response. "+bc(ki),{response:Ir})}return null}o(D0,"_parseResponse");function Ma(Ir,sn){if(sn===void 0&&(sn=1),!(!Ir||Ir[n0]===0)){var ki=_n[R5];ki[j9](Ir),I++;for(var Vi=0,Ji=Ir;Vi<Ji.length;Vi++){var ys=Ji[Vi];ki[tm](ys)}Ol(sn),gu()}}o(Ma,"_resendPayload");function Ol(Ir){var sn=10,ki;if(I<=1)ki=sn;else{var Vi=(Math.pow(2,I)-1)/2,Ji=Math.floor(Math.random()*Vi*sn)+1;Ji=Ir*Ji,ki=Math.max(Math.min(Ji,3600),sn)}var ys=ed()+ki*1e3;R=ys}o(Ol,"_setRetryTime");function gu(){if(!W&&!V){var Ir=R?Math.max(0,R-ed()):0,sn=Math.max(Ca,Ir);W=xp(function(){W=null,_n[$9](!0,null,1)},sn)}}o(gu,"_setupTimer");function Gp(){W&&W.cancel(),W=null,R=null}o(Gp,"_clearScheduledTimer");function X9(Ir){return Ir===401||Ir===403||Ir===408||Ir===429||Ir===500||Ir===502||Ir===503||Ir===504}o(X9,"_isRetriable");function PO(Ir,sn){return Ir?"XMLHttpRequest,Status:"+Ir.status+",Response:"+CE(Ir)||Ir.response||"":sn}o(PO,"_formatErrorMessageXhr");function Y3e(Ir,sn,ki){var Vi=Ir,Ji=zd(),ys=new XDomainRequest,e0=Vi[ec];ys.onload=function(){var bs=Vi[G9];_n._xdrOnLoad(ys,bs)},ys.onerror=function(){Uu(sn,400,{},XK(ys))};var Ws=Ji&&Ji.location&&Ji.location.protocol||"";if(gr.lastIndexOf(Ws,0)!==0){Zi(_n[tc](),2,40,". Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol."),_n._buffer[rm]();return}var Ba=gr.replace(/^(https?:)/,"");ys.open("POST",Ba),ys.send(e0)}o(Y3e,"_xdrSender");function XK(Ir,sn){return Ir?"XDomainRequest,Response:"+CE(Ir)||"":sn}o(XK,"_formatErrorMessageXdr");function X3e(){var Ir="getNotifyMgr";return _n.core[Ir]?_n.core[Ir]():_n.core._notificationManager}o(X3e,"_getNotifyMgr");function Q3e(Ir,sn){var ki=X3e();if(ki&&ki[jK])try{ki[jK](Ir,sn)}catch(Vi){Zi(_n[tc](),1,74,"send request notification failed: "+bc(Vi),{exception:Zs(Vi)})}}o(Q3e,"_notifySendRequest");function J3e(Ir,sn){var ki=sn.disableInstrumentationKeyValidation,Vi=hr(ki)?!1:ki;if(Vi)return!0;var Ji="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",ys=new RegExp(Ji);return ys.test(Ir)}o(J3e,"_validateInstrumentationKey");function QK(){_n[V9]=null,_n[R5]=null,_n._appId=null,_n._sample=null,we={},kr=null,I=0,R=null,V=!1,W=null,oe=null,ve=0,Tt=0,Rr=null,Ar=null,gr=null,dn=null,Ur=0,vn=!1,Zr=null,pn=!1,$i=null,Ls=N5,O0=!1,aa=null,tl=N5,Pi=!1,E1=!1,Vp=!1,o8=null,hd=null,Cl(_n,"_senderConfig",{g:function(){return Np({},WK)}})}o(QK,"_initDefaults")}),x}return o(y,"Sender"),y.constructEnvelope=function(x,I,R,V){var W;I!==x.iKey&&!hr(I)?W=Da(Da({},x),{iKey:I}):W=x;var oe=G3e[W.baseType]||VK;return oe(R,W,V)},y}(H2),AO="instrumentationKey",wO="connectionString",z3e={diagnosticLogInterval:H4(K3e,1e4)};function K3e(g){return g&&g>0}o(K3e,"_chkDiagLevel");var W3e=function(){function g(y){var x=new T5,I;(hr(y)||hr(y[AO])&&hr(y[wO]))&&Xi("Invalid input configuration"),Il(g,this,function(V){Cl(V,"config",{g:function(){return I}}),W(),V.initialize=W,V.track=R,O4(V,x,["flush","pollInternalLogs","stopPollingInternalLogs","unload","getPlugin","addPlugin","evtNamespace","addUnloadCb","onCfgChange"]);function W(){var oe=Ql(y||{},z3e);I=oe.cfg,x.addUnloadHook(m1(oe,function(){if(I[wO]){var ve=h3e(I[wO]),we=ve.ingestionendpoint;I.endpointUrl=we?we+R9:I.endpointUrl,I[AO]=ve.instrumentationkey||I[AO]}})),x.initialize(I,[new YK])}o(W,"_initialize")});function R(V){V&&(V.baseData=V.baseData||{},V.baseType=V.baseType||"EventData"),x.track(V)}o(R,"_track")}return o(g,"ApplicationInsights"),g.__ieDyn=1,g}();e.AppInsightsCore=T5,e.ApplicationInsights=W3e,e.Sender=YK,e.SeverityLevel=T3e,e.arrForEach=Ss,e.isNullOrUndefined=hr,e.proxyFunctions=O4,e.throwError=Xi})});var rk=k(a0=>{"use strict";var ek=a0&&a0.__awaiter||function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(l){l(a)})}return o(s,"adopt"),new(r||(r=Promise))(function(a,l){function c(d){try{f(n.next(d))}catch(p){l(p)}}o(c,"fulfilled");function u(d){try{f(n.throw(d))}catch(p){l(p)}}o(u,"rejected");function f(d){d.done?a(d.value):s(d.value).then(c,u)}o(f,"step"),f((n=n.apply(e,t||[])).next())})},tk=a0&&a0.__generator||function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,s,a,l;return l={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function c(f){return function(d){return u([f,d])}}function u(f){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,s&&(a=f[0]&2?s.return:f[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,f[1])).done)return a;switch(s=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return r.label++,{value:f[1],done:!1};case 5:r.label++,s=f[1],f=[0];continue;case 7:f=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){r=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){r.label=f[1];break}if(f[0]===6&&r.label<a[1]){r.label=a[1],a=f;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(f);break}a[2]&&r.ops.pop(),r.trys.pop();continue}f=t.call(e,r)}catch(d){f=[6,d],s=0}finally{n=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}};Object.defineProperty(a0,"__esModule",{value:!0});a0.getShallowFileSize=a0.getShallowDirectorySizeSync=a0.getShallowDirectorySize=a0.confirmDirExists=a0.unlinkAsync=a0.readdirAsync=a0.readFileAsync=a0.writeFileAsync=a0.appendFileAsync=a0.accessAsync=a0.mkdirAsync=a0.lstatAsync=a0.statAsync=void 0;var Cd=require("fs"),bQ=require("path"),ih=require("util");a0.statAsync=ih.promisify(Cd.stat);a0.lstatAsync=ih.promisify(Cd.lstat);a0.mkdirAsync=ih.promisify(Cd.mkdir);a0.accessAsync=ih.promisify(Cd.access);a0.appendFileAsync=ih.promisify(Cd.appendFile);a0.writeFileAsync=ih.promisify(Cd.writeFile);a0.readFileAsync=ih.promisify(Cd.readFile);a0.readdirAsync=ih.promisify(Cd.readdir);a0.unlinkAsync=ih.promisify(Cd.unlink);var _ve=o(function(e){return ek(void 0,void 0,void 0,function(){var t,r,n;return tk(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,7]),[4,a0.lstatAsync(e)];case 1:if(t=s.sent(),!t.isDirectory())throw new Error("Path existed but was not a directory");return[3,7];case 2:if(r=s.sent(),!(r&&r.code==="ENOENT"))return[3,6];s.label=3;case 3:return s.trys.push([3,5,,6]),[4,a0.mkdirAsync(e)];case 4:return s.sent(),[3,6];case 5:if(n=s.sent(),n&&n.code!=="EEXIST")throw n;return[3,6];case 6:return[3,7];case 7:return[2]}})})},"confirmDirExists");a0.confirmDirExists=_ve;var xve=o(function(e){return ek(void 0,void 0,void 0,function(){var t,r,n,s,a,l;return tk(this,function(c){switch(c.label){case 0:return[4,a0.readdirAsync(e)];case 1:t=c.sent(),r=0,n=0,s=t,c.label=2;case 2:return n<s.length?(a=s[n],[4,a0.statAsync(bQ.join(e,a))]):[3,5];case 3:l=c.sent(),l.isFile()&&(r+=l.size),c.label=4;case 4:return n++,[3,2];case 5:return[2,r]}})})},"getShallowDirectorySize");a0.getShallowDirectorySize=xve;var bve=o(function(e){for(var t=Cd.readdirSync(e),r=0,n=0;n<t.length;n++)r+=Cd.statSync(bQ.join(e,t[n])).size;return r},"getShallowDirectorySizeSync");a0.getShallowDirectorySizeSync=bve;var Eve=o(function(e){return ek(void 0,void 0,void 0,function(){var t;return tk(this,function(r){switch(r.label){case 0:return[4,a0.statAsync(e)];case 1:return t=r.sent(),t.isFile()?[2,t.size]:[2]}})})},"getShallowFileSize");a0.getShallowFileSize=Eve});var CQ=k((wm,TQ)=>{"use strict";var nk=wm&&wm.__awaiter||function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(l){l(a)})}return o(s,"adopt"),new(r||(r=Promise))(function(a,l){function c(d){try{f(n.next(d))}catch(p){l(p)}}o(c,"fulfilled");function u(d){try{f(n.throw(d))}catch(p){l(p)}}o(u,"rejected");function f(d){d.done?a(d.value):s(d.value).then(c,u)}o(f,"step"),f((n=n.apply(e,t||[])).next())})},ik=wm&&wm.__generator||function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,s,a,l;return l={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function c(f){return function(d){return u([f,d])}}function u(f){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,s&&(a=f[0]&2?s.return:f[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,f[1])).done)return a;switch(s=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return r.label++,{value:f[1],done:!1};case 5:r.label++,s=f[1],f=[0];continue;case 7:f=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){r=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){r.label=f[1];break}if(f[0]===6&&r.label<a[1]){r.label=a[1],a=f;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(f);break}a[2]&&r.ops.pop(),r.trys.pop();continue}f=t.call(e,r)}catch(d){f=[6,d],s=0}finally{n=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},EQ=wm&&wm.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),s=0,t=0;t<r;t++)for(var a=arguments[t],l=0,c=a.length;l<c;l++,s++)n[s]=a[l];return n},Tve=require("fs"),Cve=require("os"),Am=require("path"),N1=rk(),Sve=function(){function e(){var t=this;this.TAG="Logger",this._cleanupTimeOut=60*30*1e3,this._tempDir="",this._logFileName="",this._fileFullPath="",this._backUpNameFormat="",this._logToFile=!1,this._logToConsole=!0;var r=process.env.APPLICATIONINSIGHTS_LOG_DESTINATION;r=="file+console"&&(this._logToFile=!0),r=="file"&&(this._logToFile=!0,this._logToConsole=!1),this.maxSizeBytes=5e4,this.maxHistory=1,this._logFileName="applicationinsights.log";var n=process.env.APPLICATIONINSIGHTS_LOGDIR;n?Am.isAbsolute(n)?this._tempDir=n:this._tempDir=Am.join(process.cwd(),n):this._tempDir=Am.join(Cve.tmpdir(),"appInsights-node"),this._fileFullPath=Am.join(this._tempDir,this._logFileName),this._backUpNameFormat="."+this._logFileName,this._logToFile&&(e._fileCleanupTimer||(e._fileCleanupTimer=setInterval(function(){t._fileCleanupTask()},this._cleanupTimeOut),e._fileCleanupTimer.unref()))}return o(e,"InternalAzureLogger"),e.prototype.info=function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var s=t?EQ([t],r):r;this._logToFile&&this._storeToDisk(s),this._logToConsole&&console.info.apply(console,s)},e.prototype.warning=function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var s=t?EQ([t],r):r;this._logToFile&&this._storeToDisk(s),this._logToConsole&&console.warn.apply(console,s)},e.getInstance=function(){return e._instance||(e._instance=new e),e._instance},e.prototype._storeToDisk=function(t){return nk(this,void 0,void 0,function(){var r,n,s,a,l,c;return ik(this,function(u){switch(u.label){case 0:r=t+`\r
`,u.label=1;case 1:return u.trys.push([1,3,,4]),[4,N1.confirmDirExists(this._tempDir)];case 2:return u.sent(),[3,4];case 3:return n=u.sent(),console.log(this.TAG,"Failed to create directory for log file: "+(n&&n.message)),[2];case 4:return u.trys.push([4,6,,11]),[4,N1.accessAsync(this._fileFullPath,Tve.constants.F_OK)];case 5:return u.sent(),[3,11];case 6:s=u.sent(),u.label=7;case 7:return u.trys.push([7,9,,10]),[4,N1.appendFileAsync(this._fileFullPath,r)];case 8:return u.sent(),[2];case 9:return a=u.sent(),console.log(this.TAG,"Failed to put log into file: "+(s&&s.message)),[2];case 10:return[3,11];case 11:return u.trys.push([11,17,,18]),[4,N1.getShallowFileSize(this._fileFullPath)];case 12:return l=u.sent(),l>this.maxSizeBytes?[4,this._createBackupFile(r)]:[3,14];case 13:return u.sent(),[3,16];case 14:return[4,N1.appendFileAsync(this._fileFullPath,r)];case 15:u.sent(),u.label=16;case 16:return[3,18];case 17:return c=u.sent(),console.log(this.TAG,"Failed to create backup file: "+(c&&c.message)),[3,18];case 18:return[2]}})})},e.prototype._createBackupFile=function(t){return nk(this,void 0,void 0,function(){var r,n,s;return ik(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,4,5]),[4,N1.readFileAsync(this._fileFullPath)];case 1:return r=a.sent(),n=Am.join(this._tempDir,new Date().getTime()+"."+this._logFileName),[4,N1.writeFileAsync(n,r)];case 2:return a.sent(),[3,5];case 3:return s=a.sent(),console.log("Failed to generate backup log file",s),[3,5];case 4:return N1.writeFileAsync(this._fileFullPath,t),[7];case 5:return[2]}})})},e.prototype._fileCleanupTask=function(){return nk(this,void 0,void 0,function(){var t,r,n,s,a,l=this;return ik(this,function(c){switch(c.label){case 0:return c.trys.push([0,6,,7]),[4,N1.readdirAsync(this._tempDir)];case 1:t=c.sent(),t=t.filter(function(u){return Am.basename(u).indexOf(l._backUpNameFormat)>-1}),t.sort(function(u,f){var d=new Date(parseInt(u.split(l._backUpNameFormat)[0])),p=new Date(parseInt(f.split(l._backUpNameFormat)[0]));if(d<p)return-1;if(d>=p)return 1}),r=t.length,n=0,c.label=2;case 2:return n<r-this.maxHistory?(s=Am.join(this._tempDir,t[n]),[4,N1.unlinkAsync(s)]):[3,5];case 3:c.sent(),c.label=4;case 4:return n++,[3,2];case 5:return[3,7];case 6:return a=c.sent(),console.log(this.TAG,"Failed to cleanup log files: "+(a&&a.message)),[3,7];case 7:return[2]}})})},e._fileCleanupTimer=null,e}();TQ.exports=Sve});var ya=k((Tze,IQ)=>{"use strict";var SQ=CQ(),Ive=function(){function e(){}return o(e,"Logging"),e.info=function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.enableDebug&&SQ.getInstance().info(this.TAG+t,r)},e.warn=function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.disableWarnings||SQ.getInstance().warning(this.TAG+t,r)},e.enableDebug=!1,e.disableWarnings=!1,e.TAG="ApplicationInsights:",e}();IQ.exports=Ive});var NC=k(PC=>{"use strict";Object.defineProperty(PC,"__esModule",{value:!0});PC.JsonConfig=void 0;var Ave=require("fs"),RC=require("path"),sk=ya(),wve="APPLICATIONINSIGHTS_CONFIGURATION_FILE",Rve="APPLICATIONINSIGHTS_CONNECTION_STRING",AQ="APPSETTING_",wQ="APPINSIGHTS_INSTRUMENTATIONKEY",RQ="APPINSIGHTS_INSTRUMENTATION_KEY",Pve="APPLICATION_INSIGHTS_DISABLE_EXTENDED_METRIC",Nve="APPLICATION_INSIGHTS_DISABLE_ALL_EXTENDED_METRICS",Ove="http_proxy",Dve="https_proxy",Lve="APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL",kve="APPLICATION_INSIGHTS_NO_STATSBEAT",Mve="APPLICATION_INSIGHTS_NO_HTTP_AGENT_KEEP_ALIVE",Bve="APPLICATION_INSIGHTS_NO_PATCH_MODULES",Fve="APPLICATIONINSIGHTS_WEB_INSTRUMENTATION_ENABLED",Uve="APPLICATIONINSIGHTS_WEB_INSTRUMENTATION_CONNECTION_STRING",qve="APPLICATIONINSIGHTS_WEB_INSTRUMENTATION_SOURCE",jve="APPLICATIONINSIGHTS_WEB_SNIPPET_ENABLED",Hve="APPLICATIONINSIGHTS_WEB_SNIPPET_CONNECTION_STRING",$ve=function(){function e(){this.connectionString=process.env[Rve],this.instrumentationKey=process.env[wQ]||process.env[AQ+wQ]||process.env[RQ]||process.env[AQ+RQ],!this.connectionString&&this.instrumentationKey&&sk.warn("APPINSIGHTS_INSTRUMENTATIONKEY is in path of deprecation, please use APPLICATIONINSIGHTS_CONNECTION_STRING env variable to setup the SDK."),this.disableAllExtendedMetrics=!!process.env[Nve],this.extendedMetricDisablers=process.env[Pve],this.proxyHttpUrl=process.env[Ove],this.proxyHttpsUrl=process.env[Dve],this.noDiagnosticChannel=!!process.env[Lve],this.disableStatsbeat=!!process.env[kve],this.noHttpAgentKeepAlive=!!process.env[Mve],this.noPatchModules=process.env[Bve]||"",this.enableWebInstrumentation=!!process.env[Fve]||!!process.env[jve],this.webInstrumentationSrc=process.env[qve]||"",this.webInstrumentationConnectionString=process.env[Uve]||process.env[Hve]||"",this.enableAutoWebSnippetInjection=this.enableWebInstrumentation,this.webSnippetConnectionString=this.webInstrumentationConnectionString,this._loadJsonFile()}return o(e,"JsonConfig"),e.getInstance=function(){return e._instance||(e._instance=new e),e._instance},e.prototype._loadJsonFile=function(){var t="",r=process.env.APPLICATIONINSIGHTS_CONFIGURATION_CONTENT;if(r)t=r;else{var n="applicationinsights.json",s=RC.join(__dirname,"../../"),a=RC.join(s,n),l=process.env[wve];l&&(RC.isAbsolute(l)?a=l:a=RC.join(s,l));try{t=Ave.readFileSync(a,"utf8")}catch(u){sk.info("Failed to read JSON config file: ",u)}}try{var c=JSON.parse(t);c.disableStatsbeat!=null&&(this.disableStatsbeat=c.disableStatsbeat),c.disableAllExtendedMetrics!=null&&(this.disableAllExtendedMetrics=c.disableStatsbeat),c.noDiagnosticChannel!=null&&(this.noDiagnosticChannel=c.noDiagnosticChannel),c.noHttpAgentKeepAlive!=null&&(this.noHttpAgentKeepAlive=c.noHttpAgentKeepAlive),c.connectionString!=null&&(this.connectionString=c.connectionString),c.extendedMetricDisablers!=null&&(this.extendedMetricDisablers=c.extendedMetricDisablers),c.noDiagnosticChannel!=null&&(this.noDiagnosticChannel=c.noDiagnosticChannel),c.proxyHttpUrl!=null&&(this.proxyHttpUrl=c.proxyHttpUrl),c.proxyHttpsUrl!=null&&(this.proxyHttpsUrl=c.proxyHttpsUrl),c.proxyHttpsUrl!=null&&(this.proxyHttpsUrl=c.proxyHttpsUrl),c.noPatchModules!=null&&(this.noPatchModules=c.noPatchModules),c.enableAutoWebSnippetInjection!=null&&(this.enableWebInstrumentation=c.enableAutoWebSnippetInjection,this.enableAutoWebSnippetInjection=this.enableWebInstrumentation),c.enableWebInstrumentation!=null&&(this.enableWebInstrumentation=c.enableWebInstrumentation,this.enableAutoWebSnippetInjection=this.enableWebInstrumentation),c.webSnippetConnectionString!=null&&(this.webInstrumentationConnectionString=c.webSnippetConnectionString,this.webSnippetConnectionString=this.webInstrumentationConnectionString),c.webInstrumentationConnectionString!=null&&(this.webInstrumentationConnectionString=c.webInstrumentationConnectionString,this.webSnippetConnectionString=this.webInstrumentationConnectionString),c.webInstrumentationConfig!=null&&(this.webInstrumentationConfig=c.webInstrumentationConfig),c.webInstrumentationSrc!=null&&(this.webInstrumentationSrc=c.webInstrumentationSrc),c.enableLoggerErrorToTrace!=null&&(this.enableLoggerErrorToTrace=c.enableLoggerErrorToTrace),this.endpointUrl=c.endpointUrl,this.maxBatchSize=c.maxBatchSize,this.maxBatchIntervalMs=c.maxBatchIntervalMs,this.disableAppInsights=c.disableAppInsights,this.samplingPercentage=c.samplingPercentage,this.correlationIdRetryIntervalMs=c.correlationIdRetryIntervalMs,this.correlationHeaderExcludedDomains=c.correlationHeaderExcludedDomains,this.ignoreLegacyHeaders=c.ignoreLegacyHeaders,this.distributedTracingMode=c.distributedTracingMode,this.enableAutoCollectExternalLoggers=c.enableAutoCollectExternalLoggers,this.enableAutoCollectConsole=c.enableAutoCollectConsole,this.enableLoggerErrorToTrace=c.enableLoggerErrorToTrace,this.enableAutoCollectExceptions=c.enableAutoCollectExceptions,this.enableAutoCollectPerformance=c.enableAutoCollectPerformance,this.enableAutoCollectExtendedMetrics=c.enableAutoCollectExtendedMetrics,this.enableAutoCollectPreAggregatedMetrics=c.enableAutoCollectPreAggregatedMetrics,this.enableAutoCollectHeartbeat=c.enableAutoCollectHeartbeat,this.enableAutoCollectRequests=c.enableAutoCollectRequests,this.enableAutoCollectDependencies=c.enableAutoCollectDependencies,this.enableAutoDependencyCorrelation=c.enableAutoDependencyCorrelation,this.enableAutoCollectIncomingRequestAzureFunctions=c.enableAutoCollectIncomingRequestAzureFunctions,this.enableUseAsyncHooks=c.enableUseAsyncHooks,this.enableUseDiskRetryCaching=c.enableUseDiskRetryCaching,this.enableResendInterval=c.enableResendInterval,this.enableMaxBytesOnDisk=c.enableMaxBytesOnDisk,this.enableInternalDebugLogging=c.enableInternalDebugLogging,this.enableInternalWarningLogging=c.enableInternalWarningLogging,this.enableSendLiveMetrics=c.enableSendLiveMetrics,this.quickPulseHost=c.quickPulseHost}catch(u){sk.info("Invalid JSON config file: ",u)}},e}();PC.JsonConfig=$ve});var C7=k((Aze,PQ)=>{var Vve="2.0.0",Gve=Number.MAX_SAFE_INTEGER||9007199254740991,zve=16,Kve=250,Wve=["major","premajor","minor","preminor","patch","prepatch","prerelease"];PQ.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:zve,MAX_SAFE_BUILD_LENGTH:Kve,MAX_SAFE_INTEGER:Gve,RELEASE_TYPES:Wve,SEMVER_SPEC_VERSION:Vve,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var S7=k((wze,NQ)=>{var Yve=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};NQ.exports=Yve});var dv=k((sh,OQ)=>{var{MAX_SAFE_COMPONENT_LENGTH:ak,MAX_SAFE_BUILD_LENGTH:Xve,MAX_LENGTH:Qve}=C7(),Jve=S7();sh=OQ.exports={};var Zve=sh.re=[],e6e=sh.safeRe=[],zi=sh.src=[],Ki=sh.t={},t6e=0,ok="[a-zA-Z0-9-]",r6e=[["\\s",1],["\\d",Qve],[ok,Xve]],n6e=o(e=>{for(let[t,r]of r6e)e=e.split(`${t}*`).join(`${t}{0,${r}}`).split(`${t}+`).join(`${t}{1,${r}}`);return e},"makeSafeRegex"),Ys=o((e,t,r)=>{let n=n6e(t),s=t6e++;Jve(e,s,t),Ki[e]=s,zi[s]=t,Zve[s]=new RegExp(t,r?"g":void 0),e6e[s]=new RegExp(n,r?"g":void 0)},"createToken");Ys("NUMERICIDENTIFIER","0|[1-9]\\d*");Ys("NUMERICIDENTIFIERLOOSE","\\d+");Ys("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${ok}*`);Ys("MAINVERSION",`(${zi[Ki.NUMERICIDENTIFIER]})\\.(${zi[Ki.NUMERICIDENTIFIER]})\\.(${zi[Ki.NUMERICIDENTIFIER]})`);Ys("MAINVERSIONLOOSE",`(${zi[Ki.NUMERICIDENTIFIERLOOSE]})\\.(${zi[Ki.NUMERICIDENTIFIERLOOSE]})\\.(${zi[Ki.NUMERICIDENTIFIERLOOSE]})`);Ys("PRERELEASEIDENTIFIER",`(?:${zi[Ki.NUMERICIDENTIFIER]}|${zi[Ki.NONNUMERICIDENTIFIER]})`);Ys("PRERELEASEIDENTIFIERLOOSE",`(?:${zi[Ki.NUMERICIDENTIFIERLOOSE]}|${zi[Ki.NONNUMERICIDENTIFIER]})`);Ys("PRERELEASE",`(?:-(${zi[Ki.PRERELEASEIDENTIFIER]}(?:\\.${zi[Ki.PRERELEASEIDENTIFIER]})*))`);Ys("PRERELEASELOOSE",`(?:-?(${zi[Ki.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${zi[Ki.PRERELEASEIDENTIFIERLOOSE]})*))`);Ys("BUILDIDENTIFIER",`${ok}+`);Ys("BUILD",`(?:\\+(${zi[Ki.BUILDIDENTIFIER]}(?:\\.${zi[Ki.BUILDIDENTIFIER]})*))`);Ys("FULLPLAIN",`v?${zi[Ki.MAINVERSION]}${zi[Ki.PRERELEASE]}?${zi[Ki.BUILD]}?`);Ys("FULL",`^${zi[Ki.FULLPLAIN]}$`);Ys("LOOSEPLAIN",`[v=\\s]*${zi[Ki.MAINVERSIONLOOSE]}${zi[Ki.PRERELEASELOOSE]}?${zi[Ki.BUILD]}?`);Ys("LOOSE",`^${zi[Ki.LOOSEPLAIN]}$`);Ys("GTLT","((?:<|>)?=?)");Ys("XRANGEIDENTIFIERLOOSE",`${zi[Ki.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);Ys("XRANGEIDENTIFIER",`${zi[Ki.NUMERICIDENTIFIER]}|x|X|\\*`);Ys("XRANGEPLAIN",`[v=\\s]*(${zi[Ki.XRANGEIDENTIFIER]})(?:\\.(${zi[Ki.XRANGEIDENTIFIER]})(?:\\.(${zi[Ki.XRANGEIDENTIFIER]})(?:${zi[Ki.PRERELEASE]})?${zi[Ki.BUILD]}?)?)?`);Ys("XRANGEPLAINLOOSE",`[v=\\s]*(${zi[Ki.XRANGEIDENTIFIERLOOSE]})(?:\\.(${zi[Ki.XRANGEIDENTIFIERLOOSE]})(?:\\.(${zi[Ki.XRANGEIDENTIFIERLOOSE]})(?:${zi[Ki.PRERELEASELOOSE]})?${zi[Ki.BUILD]}?)?)?`);Ys("XRANGE",`^${zi[Ki.GTLT]}\\s*${zi[Ki.XRANGEPLAIN]}$`);Ys("XRANGELOOSE",`^${zi[Ki.GTLT]}\\s*${zi[Ki.XRANGEPLAINLOOSE]}$`);Ys("COERCE",`(^|[^\\d])(\\d{1,${ak}})(?:\\.(\\d{1,${ak}}))?(?:\\.(\\d{1,${ak}}))?(?:$|[^\\d])`);Ys("COERCERTL",zi[Ki.COERCE],!0);Ys("LONETILDE","(?:~>?)");Ys("TILDETRIM",`(\\s*)${zi[Ki.LONETILDE]}\\s+`,!0);sh.tildeTrimReplace="$1~";Ys("TILDE",`^${zi[Ki.LONETILDE]}${zi[Ki.XRANGEPLAIN]}$`);Ys("TILDELOOSE",`^${zi[Ki.LONETILDE]}${zi[Ki.XRANGEPLAINLOOSE]}$`);Ys("LONECARET","(?:\\^)");Ys("CARETTRIM",`(\\s*)${zi[Ki.LONECARET]}\\s+`,!0);sh.caretTrimReplace="$1^";Ys("CARET",`^${zi[Ki.LONECARET]}${zi[Ki.XRANGEPLAIN]}$`);Ys("CARETLOOSE",`^${zi[Ki.LONECARET]}${zi[Ki.XRANGEPLAINLOOSE]}$`);Ys("COMPARATORLOOSE",`^${zi[Ki.GTLT]}\\s*(${zi[Ki.LOOSEPLAIN]})$|^$`);Ys("COMPARATOR",`^${zi[Ki.GTLT]}\\s*(${zi[Ki.FULLPLAIN]})$|^$`);Ys("COMPARATORTRIM",`(\\s*)${zi[Ki.GTLT]}\\s*(${zi[Ki.LOOSEPLAIN]}|${zi[Ki.XRANGEPLAIN]})`,!0);sh.comparatorTrimReplace="$1$2$3";Ys("HYPHENRANGE",`^\\s*(${zi[Ki.XRANGEPLAIN]})\\s+-\\s+(${zi[Ki.XRANGEPLAIN]})\\s*$`);Ys("HYPHENRANGELOOSE",`^\\s*(${zi[Ki.XRANGEPLAINLOOSE]})\\s+-\\s+(${zi[Ki.XRANGEPLAINLOOSE]})\\s*$`);Ys("STAR","(<|>)?=?\\s*\\*");Ys("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");Ys("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var OC=k((Pze,DQ)=>{var i6e=Object.freeze({loose:!0}),s6e=Object.freeze({}),a6e=o(e=>e?typeof e!="object"?i6e:e:s6e,"parseOptions");DQ.exports=a6e});var lk=k((Oze,MQ)=>{var LQ=/^[0-9]+$/,kQ=o((e,t)=>{let r=LQ.test(e),n=LQ.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1},"compareIdentifiers"),o6e=o((e,t)=>kQ(t,e),"rcompareIdentifiers");MQ.exports={compareIdentifiers:kQ,rcompareIdentifiers:o6e}});var Ac=k((Lze,qQ)=>{var DC=S7(),{MAX_LENGTH:BQ,MAX_SAFE_INTEGER:LC}=C7(),{safeRe:FQ,t:UQ}=dv(),l6e=OC(),{compareIdentifiers:pv}=lk(),Ef=class Ef{constructor(t,r){if(r=l6e(r),t instanceof Ef){if(t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>BQ)throw new TypeError(`version is longer than ${BQ} characters`);DC("SemVer",t,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let n=t.trim().match(r.loose?FQ[UQ.LOOSE]:FQ[UQ.FULL]);if(!n)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>LC||this.major<0)throw new TypeError("Invalid major version");if(this.minor>LC||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>LC||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(s=>{if(/^[0-9]+$/.test(s)){let a=+s;if(a>=0&&a<LC)return a}return s}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(DC("SemVer.compare",this.version,this.options,t),!(t instanceof Ef)){if(typeof t=="string"&&t===this.version)return 0;t=new Ef(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof Ef||(t=new Ef(t,this.options)),pv(this.major,t.major)||pv(this.minor,t.minor)||pv(this.patch,t.patch)}comparePre(t){if(t instanceof Ef||(t=new Ef(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let r=0;do{let n=this.prerelease[r],s=t.prerelease[r];if(DC("prerelease compare",r,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return pv(n,s)}while(++r)}compareBuild(t){t instanceof Ef||(t=new Ef(t,this.options));let r=0;do{let n=this.build[r],s=t.build[r];if(DC("prerelease compare",r,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return pv(n,s)}while(++r)}inc(t,r,n){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let s=Number(n)?1:0;if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[s];else{let a=this.prerelease.length;for(;--a>=0;)typeof this.prerelease[a]=="number"&&(this.prerelease[a]++,a=-2);if(a===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(s)}}if(r){let a=[r,s];n===!1&&(a=[r]),pv(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=a):this.prerelease=a}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};o(Ef,"SemVer");var ck=Ef;qQ.exports=ck});var Rm=k((Mze,HQ)=>{var jQ=Ac(),c6e=o((e,t,r=!1)=>{if(e instanceof jQ)return e;try{return new jQ(e,t)}catch(n){if(!r)return null;throw n}},"parse");HQ.exports=c6e});var VQ=k((Fze,$Q)=>{var u6e=Rm(),f6e=o((e,t)=>{let r=u6e(e,t);return r?r.version:null},"valid");$Q.exports=f6e});var zQ=k((qze,GQ)=>{var d6e=Rm(),p6e=o((e,t)=>{let r=d6e(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null},"clean");GQ.exports=p6e});var YQ=k((Hze,WQ)=>{var KQ=Ac(),h6e=o((e,t,r,n,s)=>{typeof r=="string"&&(s=n,n=r,r=void 0);try{return new KQ(e instanceof KQ?e.version:e,r).inc(t,n,s).version}catch{return null}},"inc");WQ.exports=h6e});var JQ=k((Vze,QQ)=>{var XQ=Rm(),m6e=o((e,t)=>{let r=XQ(e,null,!0),n=XQ(t,null,!0),s=r.compare(n);if(s===0)return null;let a=s>0,l=a?r:n,c=a?n:r,u=!!l.prerelease.length;if(!!c.prerelease.length&&!u)return!c.patch&&!c.minor?"major":l.patch?"patch":l.minor?"minor":"major";let d=u?"pre":"";return r.major!==n.major?d+"major":r.minor!==n.minor?d+"minor":r.patch!==n.patch?d+"patch":"prerelease"},"diff");QQ.exports=m6e});var eJ=k((zze,ZQ)=>{var g6e=Ac(),v6e=o((e,t)=>new g6e(e,t).major,"major");ZQ.exports=v6e});var rJ=k((Wze,tJ)=>{var y6e=Ac(),_6e=o((e,t)=>new y6e(e,t).minor,"minor");tJ.exports=_6e});var iJ=k((Xze,nJ)=>{var x6e=Ac(),b6e=o((e,t)=>new x6e(e,t).patch,"patch");nJ.exports=b6e});var aJ=k((Jze,sJ)=>{var E6e=Rm(),T6e=o((e,t)=>{let r=E6e(e,t);return r&&r.prerelease.length?r.prerelease:null},"prerelease");sJ.exports=T6e});var Tf=k((eKe,lJ)=>{var oJ=Ac(),C6e=o((e,t,r)=>new oJ(e,r).compare(new oJ(t,r)),"compare");lJ.exports=C6e});var uJ=k((rKe,cJ)=>{var S6e=Tf(),I6e=o((e,t,r)=>S6e(t,e,r),"rcompare");cJ.exports=I6e});var dJ=k((iKe,fJ)=>{var A6e=Tf(),w6e=o((e,t)=>A6e(e,t,!0),"compareLoose");fJ.exports=w6e});var kC=k((aKe,hJ)=>{var pJ=Ac(),R6e=o((e,t,r)=>{let n=new pJ(e,r),s=new pJ(t,r);return n.compare(s)||n.compareBuild(s)},"compareBuild");hJ.exports=R6e});var gJ=k((lKe,mJ)=>{var P6e=kC(),N6e=o((e,t)=>e.sort((r,n)=>P6e(r,n,t)),"sort");mJ.exports=N6e});var yJ=k((uKe,vJ)=>{var O6e=kC(),D6e=o((e,t)=>e.sort((r,n)=>O6e(n,r,t)),"rsort");vJ.exports=D6e});var I7=k((dKe,_J)=>{var L6e=Tf(),k6e=o((e,t,r)=>L6e(e,t,r)>0,"gt");_J.exports=k6e});var MC=k((hKe,xJ)=>{var M6e=Tf(),B6e=o((e,t,r)=>M6e(e,t,r)<0,"lt");xJ.exports=B6e});var uk=k((gKe,bJ)=>{var F6e=Tf(),U6e=o((e,t,r)=>F6e(e,t,r)===0,"eq");bJ.exports=U6e});var fk=k((yKe,EJ)=>{var q6e=Tf(),j6e=o((e,t,r)=>q6e(e,t,r)!==0,"neq");EJ.exports=j6e});var BC=k((xKe,TJ)=>{var H6e=Tf(),$6e=o((e,t,r)=>H6e(e,t,r)>=0,"gte");TJ.exports=$6e});var FC=k((EKe,CJ)=>{var V6e=Tf(),G6e=o((e,t,r)=>V6e(e,t,r)<=0,"lte");CJ.exports=G6e});var dk=k((CKe,SJ)=>{var z6e=uk(),K6e=fk(),W6e=I7(),Y6e=BC(),X6e=MC(),Q6e=FC(),J6e=o((e,t,r,n)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e===r;case"!==":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e!==r;case"":case"=":case"==":return z6e(e,r,n);case"!=":return K6e(e,r,n);case">":return W6e(e,r,n);case">=":return Y6e(e,r,n);case"<":return X6e(e,r,n);case"<=":return Q6e(e,r,n);default:throw new TypeError(`Invalid operator: ${t}`)}},"cmp");SJ.exports=J6e});var AJ=k((IKe,IJ)=>{var Z6e=Ac(),eye=Rm(),{safeRe:UC,t:qC}=dv(),tye=o((e,t)=>{if(e instanceof Z6e)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};let r=null;if(!t.rtl)r=e.match(UC[qC.COERCE]);else{let n;for(;(n=UC[qC.COERCERTL].exec(e))&&(!r||r.index+r[0].length!==e.length);)(!r||n.index+n[0].length!==r.index+r[0].length)&&(r=n),UC[qC.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;UC[qC.COERCERTL].lastIndex=-1}return r===null?null:eye(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,t)},"coerce");IJ.exports=tye});var RJ=k((wKe,wJ)=>{"use strict";wJ.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let t=this.head;t;t=t.next)yield t.value}}});var NJ=k((RKe,PJ)=>{"use strict";PJ.exports=k0;k0.Node=Pm;k0.create=k0;function k0(e){var t=this;if(t instanceof k0||(t=new k0),t.tail=null,t.head=null,t.length=0,e&&typeof e.forEach=="function")e.forEach(function(s){t.push(s)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)t.push(arguments[r]);return t}o(k0,"Yallist");k0.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t};k0.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}};k0.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}};k0.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)nye(this,arguments[e]);return this.length};k0.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)iye(this,arguments[e]);return this.length};k0.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}};k0.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}};k0.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,n=0;r!==null;n++)e.call(t,r.value,n,this),r=r.next};k0.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,n=this.length-1;r!==null;n--)e.call(t,r.value,n,this),r=r.prev};k0.prototype.get=function(e){for(var t=0,r=this.head;r!==null&&t<e;t++)r=r.next;if(t===e&&r!==null)return r.value};k0.prototype.getReverse=function(e){for(var t=0,r=this.tail;r!==null&&t<e;t++)r=r.prev;if(t===e&&r!==null)return r.value};k0.prototype.map=function(e,t){t=t||this;for(var r=new k0,n=this.head;n!==null;)r.push(e.call(t,n.value,this)),n=n.next;return r};k0.prototype.mapReverse=function(e,t){t=t||this;for(var r=new k0,n=this.tail;n!==null;)r.push(e.call(t,n.value,this)),n=n.prev;return r};k0.prototype.reduce=function(e,t){var r,n=this.head;if(arguments.length>1)r=t;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var s=0;n!==null;s++)r=e(r,n.value,s),n=n.next;return r};k0.prototype.reduceReverse=function(e,t){var r,n=this.tail;if(arguments.length>1)r=t;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var s=this.length-1;n!==null;s--)r=e(r,n.value,s),n=n.prev;return r};k0.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;r!==null;t++)e[t]=r.value,r=r.next;return e};k0.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;r!==null;t++)e[t]=r.value,r=r.prev;return e};k0.prototype.slice=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var r=new k0;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var n=0,s=this.head;s!==null&&n<e;n++)s=s.next;for(;s!==null&&n<t;n++,s=s.next)r.push(s.value);return r};k0.prototype.sliceReverse=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var r=new k0;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var n=this.length,s=this.tail;s!==null&&n>t;n--)s=s.prev;for(;s!==null&&n>e;n--,s=s.prev)r.push(s.value);return r};k0.prototype.splice=function(e,t,...r){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,s=this.head;s!==null&&n<e;n++)s=s.next;for(var a=[],n=0;s&&n<t;n++)a.push(s.value),s=this.removeNode(s);s===null&&(s=this.tail),s!==this.head&&s!==this.tail&&(s=s.prev);for(var n=0;n<r.length;n++)s=rye(this,s,r[n]);return a};k0.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=t,this.tail=e,this};function rye(e,t,r){var n=t===e.head?new Pm(r,null,t,e):new Pm(r,t,t.next,e);return n.next===null&&(e.tail=n),n.prev===null&&(e.head=n),e.length++,n}o(rye,"insert");function nye(e,t){e.tail=new Pm(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}o(nye,"push");function iye(e,t){e.head=new Pm(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}o(iye,"unshift");function Pm(e,t,r,n){if(!(this instanceof Pm))return new Pm(e,t,r,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}o(Pm,"Node");try{RJ()(k0)}catch{}});var MJ=k((NKe,kJ)=>{"use strict";var sye=NJ(),Nm=Symbol("max"),oh=Symbol("length"),hv=Symbol("lengthCalculator"),w7=Symbol("allowStale"),Om=Symbol("maxAge"),ah=Symbol("dispose"),OJ=Symbol("noDisposeOnSet"),Bl=Symbol("lruList"),Sd=Symbol("cache"),LJ=Symbol("updateAgeOnGet"),pk=o(()=>1,"naiveLength"),vk=class vk{constructor(t){if(typeof t=="number"&&(t={max:t}),t||(t={}),t.max&&(typeof t.max!="number"||t.max<0))throw new TypeError("max must be a non-negative number");let r=this[Nm]=t.max||1/0,n=t.length||pk;if(this[hv]=typeof n!="function"?pk:n,this[w7]=t.stale||!1,t.maxAge&&typeof t.maxAge!="number")throw new TypeError("maxAge must be a number");this[Om]=t.maxAge||0,this[ah]=t.dispose,this[OJ]=t.noDisposeOnSet||!1,this[LJ]=t.updateAgeOnGet||!1,this.reset()}set max(t){if(typeof t!="number"||t<0)throw new TypeError("max must be a non-negative number");this[Nm]=t||1/0,A7(this)}get max(){return this[Nm]}set allowStale(t){this[w7]=!!t}get allowStale(){return this[w7]}set maxAge(t){if(typeof t!="number")throw new TypeError("maxAge must be a non-negative number");this[Om]=t,A7(this)}get maxAge(){return this[Om]}set lengthCalculator(t){typeof t!="function"&&(t=pk),t!==this[hv]&&(this[hv]=t,this[oh]=0,this[Bl].forEach(r=>{r.length=this[hv](r.value,r.key),this[oh]+=r.length})),A7(this)}get lengthCalculator(){return this[hv]}get length(){return this[oh]}get itemCount(){return this[Bl].length}rforEach(t,r){r=r||this;for(let n=this[Bl].tail;n!==null;){let s=n.prev;DJ(this,t,n,r),n=s}}forEach(t,r){r=r||this;for(let n=this[Bl].head;n!==null;){let s=n.next;DJ(this,t,n,r),n=s}}keys(){return this[Bl].toArray().map(t=>t.key)}values(){return this[Bl].toArray().map(t=>t.value)}reset(){this[ah]&&this[Bl]&&this[Bl].length&&this[Bl].forEach(t=>this[ah](t.key,t.value)),this[Sd]=new Map,this[Bl]=new sye,this[oh]=0}dump(){return this[Bl].map(t=>jC(this,t)?!1:{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}).toArray().filter(t=>t)}dumpLru(){return this[Bl]}set(t,r,n){if(n=n||this[Om],n&&typeof n!="number")throw new TypeError("maxAge must be a number");let s=n?Date.now():0,a=this[hv](r,t);if(this[Sd].has(t)){if(a>this[Nm])return mv(this,this[Sd].get(t)),!1;let u=this[Sd].get(t).value;return this[ah]&&(this[OJ]||this[ah](t,u.value)),u.now=s,u.maxAge=n,u.value=r,this[oh]+=a-u.length,u.length=a,this.get(t),A7(this),!0}let l=new gk(t,r,a,s,n);return l.length>this[Nm]?(this[ah]&&this[ah](t,r),!1):(this[oh]+=l.length,this[Bl].unshift(l),this[Sd].set(t,this[Bl].head),A7(this),!0)}has(t){if(!this[Sd].has(t))return!1;let r=this[Sd].get(t).value;return!jC(this,r)}get(t){return hk(this,t,!0)}peek(t){return hk(this,t,!1)}pop(){let t=this[Bl].tail;return t?(mv(this,t),t.value):null}del(t){mv(this,this[Sd].get(t))}load(t){this.reset();let r=Date.now();for(let n=t.length-1;n>=0;n--){let s=t[n],a=s.e||0;if(a===0)this.set(s.k,s.v);else{let l=a-r;l>0&&this.set(s.k,s.v,l)}}}prune(){this[Sd].forEach((t,r)=>hk(this,r,!1))}};o(vk,"LRUCache");var mk=vk,hk=o((e,t,r)=>{let n=e[Sd].get(t);if(n){let s=n.value;if(jC(e,s)){if(mv(e,n),!e[w7])return}else r&&(e[LJ]&&(n.value.now=Date.now()),e[Bl].unshiftNode(n));return s.value}},"get"),jC=o((e,t)=>{if(!t||!t.maxAge&&!e[Om])return!1;let r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[Om]&&r>e[Om]},"isStale"),A7=o(e=>{if(e[oh]>e[Nm])for(let t=e[Bl].tail;e[oh]>e[Nm]&&t!==null;){let r=t.prev;mv(e,t),t=r}},"trim"),mv=o((e,t)=>{if(t){let r=t.value;e[ah]&&e[ah](r.key,r.value),e[oh]-=r.length,e[Sd].delete(r.key),e[Bl].removeNode(t)}},"del"),yk=class yk{constructor(t,r,n,s,a){this.key=t,this.value=r,this.length=n,this.now=s,this.maxAge=a||0}};o(yk,"Entry");var gk=yk,DJ=o((e,t,r,n)=>{let s=r.value;jC(e,s)&&(mv(e,r),e[w7]||(s=void 0)),s&&t.call(n,s.value,s.key,e)},"forEachStep");kJ.exports=mk});var Cf=k((DKe,qJ)=>{var gv=class gv{constructor(t,r){if(r=oye(r),t instanceof gv)return t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease?t:new gv(t.raw,r);if(t instanceof xk)return this.raw=t.value,this.set=[[t]],this.format(),this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=t.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(s=>!FJ(s[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let s of this.set)if(s.length===1&&hye(s[0])){this.set=[s];break}}}this.format()}format(){return this.range=this.set.map(t=>t.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(t){let n=((this.options.includePrerelease&&dye)|(this.options.loose&&pye))+":"+t,s=BJ.get(n);if(s)return s;let a=this.options.loose,l=a?xu[Xc.HYPHENRANGELOOSE]:xu[Xc.HYPHENRANGE];t=t.replace(l,Cye(this.options.includePrerelease)),la("hyphen replace",t),t=t.replace(xu[Xc.COMPARATORTRIM],cye),la("comparator trim",t),t=t.replace(xu[Xc.TILDETRIM],uye),la("tilde trim",t),t=t.replace(xu[Xc.CARETTRIM],fye),la("caret trim",t);let c=t.split(" ").map(p=>mye(p,this.options)).join(" ").split(/\s+/).map(p=>Tye(p,this.options));a&&(c=c.filter(p=>(la("loose invalid filter",p,this.options),!!p.match(xu[Xc.COMPARATORLOOSE])))),la("range list",c);let u=new Map,f=c.map(p=>new xk(p,this.options));for(let p of f){if(FJ(p))return[p];u.set(p.value,p)}u.size>1&&u.has("")&&u.delete("");let d=[...u.values()];return BJ.set(n,d),d}intersects(t,r){if(!(t instanceof gv))throw new TypeError("a Range is required");return this.set.some(n=>UJ(n,r)&&t.set.some(s=>UJ(s,r)&&n.every(a=>s.every(l=>a.intersects(l,r)))))}test(t){if(!t)return!1;if(typeof t=="string")try{t=new lye(t,this.options)}catch{return!1}for(let r=0;r<this.set.length;r++)if(Sye(this.set[r],t,this.options))return!0;return!1}};o(gv,"Range");var _k=gv;qJ.exports=_k;var aye=MJ(),BJ=new aye({max:1e3}),oye=OC(),xk=R7(),la=S7(),lye=Ac(),{safeRe:xu,t:Xc,comparatorTrimReplace:cye,tildeTrimReplace:uye,caretTrimReplace:fye}=dv(),{FLAG_INCLUDE_PRERELEASE:dye,FLAG_LOOSE:pye}=C7(),FJ=o(e=>e.value==="<0.0.0-0","isNullSet"),hye=o(e=>e.value==="","isAny"),UJ=o((e,t)=>{let r=!0,n=e.slice(),s=n.pop();for(;r&&n.length;)r=n.every(a=>s.intersects(a,t)),s=n.pop();return r},"isSatisfiable"),mye=o((e,t)=>(la("comp",e,t),e=yye(e,t),la("caret",e),e=gye(e,t),la("tildes",e),e=xye(e,t),la("xrange",e),e=Eye(e,t),la("stars",e),e),"parseComparator"),Qc=o(e=>!e||e.toLowerCase()==="x"||e==="*","isX"),gye=o((e,t)=>e.trim().split(/\s+/).map(r=>vye(r,t)).join(" "),"replaceTildes"),vye=o((e,t)=>{let r=t.loose?xu[Xc.TILDELOOSE]:xu[Xc.TILDE];return e.replace(r,(n,s,a,l,c)=>{la("tilde",e,n,s,a,l,c);let u;return Qc(s)?u="":Qc(a)?u=`>=${s}.0.0 <${+s+1}.0.0-0`:Qc(l)?u=`>=${s}.${a}.0 <${s}.${+a+1}.0-0`:c?(la("replaceTilde pr",c),u=`>=${s}.${a}.${l}-${c} <${s}.${+a+1}.0-0`):u=`>=${s}.${a}.${l} <${s}.${+a+1}.0-0`,la("tilde return",u),u})},"replaceTilde"),yye=o((e,t)=>e.trim().split(/\s+/).map(r=>_ye(r,t)).join(" "),"replaceCarets"),_ye=o((e,t)=>{la("caret",e,t);let r=t.loose?xu[Xc.CARETLOOSE]:xu[Xc.CARET],n=t.includePrerelease?"-0":"";return e.replace(r,(s,a,l,c,u)=>{la("caret",e,s,a,l,c,u);let f;return Qc(a)?f="":Qc(l)?f=`>=${a}.0.0${n} <${+a+1}.0.0-0`:Qc(c)?a==="0"?f=`>=${a}.${l}.0${n} <${a}.${+l+1}.0-0`:f=`>=${a}.${l}.0${n} <${+a+1}.0.0-0`:u?(la("replaceCaret pr",u),a==="0"?l==="0"?f=`>=${a}.${l}.${c}-${u} <${a}.${l}.${+c+1}-0`:f=`>=${a}.${l}.${c}-${u} <${a}.${+l+1}.0-0`:f=`>=${a}.${l}.${c}-${u} <${+a+1}.0.0-0`):(la("no pr"),a==="0"?l==="0"?f=`>=${a}.${l}.${c}${n} <${a}.${l}.${+c+1}-0`:f=`>=${a}.${l}.${c}${n} <${a}.${+l+1}.0-0`:f=`>=${a}.${l}.${c} <${+a+1}.0.0-0`),la("caret return",f),f})},"replaceCaret"),xye=o((e,t)=>(la("replaceXRanges",e,t),e.split(/\s+/).map(r=>bye(r,t)).join(" ")),"replaceXRanges"),bye=o((e,t)=>{e=e.trim();let r=t.loose?xu[Xc.XRANGELOOSE]:xu[Xc.XRANGE];return e.replace(r,(n,s,a,l,c,u)=>{la("xRange",e,n,s,a,l,c,u);let f=Qc(a),d=f||Qc(l),p=d||Qc(c),h=p;return s==="="&&h&&(s=""),u=t.includePrerelease?"-0":"",f?s===">"||s==="<"?n="<0.0.0-0":n="*":s&&h?(d&&(l=0),c=0,s===">"?(s=">=",d?(a=+a+1,l=0,c=0):(l=+l+1,c=0)):s==="<="&&(s="<",d?a=+a+1:l=+l+1),s==="<"&&(u="-0"),n=`${s+a}.${l}.${c}${u}`):d?n=`>=${a}.0.0${u} <${+a+1}.0.0-0`:p&&(n=`>=${a}.${l}.0${u} <${a}.${+l+1}.0-0`),la("xRange return",n),n})},"replaceXRange"),Eye=o((e,t)=>(la("replaceStars",e,t),e.trim().replace(xu[Xc.STAR],"")),"replaceStars"),Tye=o((e,t)=>(la("replaceGTE0",e,t),e.trim().replace(xu[t.includePrerelease?Xc.GTE0PRE:Xc.GTE0],"")),"replaceGTE0"),Cye=o(e=>(t,r,n,s,a,l,c,u,f,d,p,h,m)=>(Qc(n)?r="":Qc(s)?r=`>=${n}.0.0${e?"-0":""}`:Qc(a)?r=`>=${n}.${s}.0${e?"-0":""}`:l?r=`>=${r}`:r=`>=${r}${e?"-0":""}`,Qc(f)?u="":Qc(d)?u=`<${+f+1}.0.0-0`:Qc(p)?u=`<${f}.${+d+1}.0-0`:h?u=`<=${f}.${d}.${p}-${h}`:e?u=`<${f}.${d}.${+p+1}-0`:u=`<=${u}`,`${r} ${u}`.trim()),"hyphenReplace"),Sye=o((e,t,r)=>{for(let n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(let n=0;n<e.length;n++)if(la(e[n].semver),e[n].semver!==xk.ANY&&e[n].semver.prerelease.length>0){let s=e[n].semver;if(s.major===t.major&&s.minor===t.minor&&s.patch===t.patch)return!0}return!1}return!0},"testSet")});var R7=k((kKe,zJ)=>{var P7=Symbol("SemVer ANY"),N7=class N7{static get ANY(){return P7}constructor(t,r){if(r=jJ(r),t instanceof N7){if(t.loose===!!r.loose)return t;t=t.value}t=t.trim().split(/\s+/).join(" "),Ek("comparator",t,r),this.options=r,this.loose=!!r.loose,this.parse(t),this.semver===P7?this.value="":this.value=this.operator+this.semver.version,Ek("comp",this)}parse(t){let r=this.options.loose?HJ[$J.COMPARATORLOOSE]:HJ[$J.COMPARATOR],n=t.match(r);if(!n)throw new TypeError(`Invalid comparator: ${t}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new VJ(n[2],this.options.loose):this.semver=P7}toString(){return this.value}test(t){if(Ek("Comparator.test",t,this.options.loose),this.semver===P7||t===P7)return!0;if(typeof t=="string")try{t=new VJ(t,this.options)}catch{return!1}return bk(t,this.operator,this.semver,this.options)}intersects(t,r){if(!(t instanceof N7))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new GJ(t.value,r).test(this.value):t.operator===""?t.value===""?!0:new GJ(this.value,r).test(t.semver):(r=jJ(r),r.includePrerelease&&(this.value==="<0.0.0-0"||t.value==="<0.0.0-0")||!r.includePrerelease&&(this.value.startsWith("<0.0.0")||t.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&t.operator.startsWith(">")||this.operator.startsWith("<")&&t.operator.startsWith("<")||this.semver.version===t.semver.version&&this.operator.includes("=")&&t.operator.includes("=")||bk(this.semver,"<",t.semver,r)&&this.operator.startsWith(">")&&t.operator.startsWith("<")||bk(this.semver,">",t.semver,r)&&this.operator.startsWith("<")&&t.operator.startsWith(">")))}};o(N7,"Comparator");var Tk=N7;zJ.exports=Tk;var jJ=OC(),{safeRe:HJ,t:$J}=dv(),bk=dk(),Ek=S7(),VJ=Ac(),GJ=Cf()});var O7=k((BKe,KJ)=>{var Iye=Cf(),Aye=o((e,t,r)=>{try{t=new Iye(t,r)}catch{return!1}return t.test(e)},"satisfies");KJ.exports=Aye});var YJ=k((UKe,WJ)=>{var wye=Cf(),Rye=o((e,t)=>new wye(e,t).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" ")),"toComparators");WJ.exports=Rye});var QJ=k((jKe,XJ)=>{var Pye=Ac(),Nye=Cf(),Oye=o((e,t,r)=>{let n=null,s=null,a=null;try{a=new Nye(t,r)}catch{return null}return e.forEach(l=>{a.test(l)&&(!n||s.compare(l)===-1)&&(n=l,s=new Pye(n,r))}),n},"maxSatisfying");XJ.exports=Oye});var ZJ=k(($Ke,JJ)=>{var Dye=Ac(),Lye=Cf(),kye=o((e,t,r)=>{let n=null,s=null,a=null;try{a=new Lye(t,r)}catch{return null}return e.forEach(l=>{a.test(l)&&(!n||s.compare(l)===1)&&(n=l,s=new Dye(n,r))}),n},"minSatisfying");JJ.exports=kye});var rZ=k((GKe,tZ)=>{var Ck=Ac(),Mye=Cf(),eZ=I7(),Bye=o((e,t)=>{e=new Mye(e,t);let r=new Ck("0.0.0");if(e.test(r)||(r=new Ck("0.0.0-0"),e.test(r)))return r;r=null;for(let n=0;n<e.set.length;++n){let s=e.set[n],a=null;s.forEach(l=>{let c=new Ck(l.semver.version);switch(l.operator){case">":c.prerelease.length===0?c.patch++:c.prerelease.push(0),c.raw=c.format();case"":case">=":(!a||eZ(c,a))&&(a=c);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${l.operator}`)}}),a&&(!r||eZ(r,a))&&(r=a)}return r&&e.test(r)?r:null},"minVersion");tZ.exports=Bye});var iZ=k((KKe,nZ)=>{var Fye=Cf(),Uye=o((e,t)=>{try{return new Fye(e,t).range||"*"}catch{return null}},"validRange");nZ.exports=Uye});var HC=k((YKe,lZ)=>{var qye=Ac(),oZ=R7(),{ANY:jye}=oZ,Hye=Cf(),$ye=O7(),sZ=I7(),aZ=MC(),Vye=FC(),Gye=BC(),zye=o((e,t,r,n)=>{e=new qye(e,n),t=new Hye(t,n);let s,a,l,c,u;switch(r){case">":s=sZ,a=Vye,l=aZ,c=">",u=">=";break;case"<":s=aZ,a=Gye,l=sZ,c="<",u="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if($ye(e,t,n))return!1;for(let f=0;f<t.set.length;++f){let d=t.set[f],p=null,h=null;if(d.forEach(m=>{m.semver===jye&&(m=new oZ(">=0.0.0")),p=p||m,h=h||m,s(m.semver,p.semver,n)?p=m:l(m.semver,h.semver,n)&&(h=m)}),p.operator===c||p.operator===u||(!h.operator||h.operator===c)&&a(e,h.semver))return!1;if(h.operator===u&&l(e,h.semver))return!1}return!0},"outside");lZ.exports=zye});var uZ=k((QKe,cZ)=>{var Kye=HC(),Wye=o((e,t,r)=>Kye(e,t,">",r),"gtr");cZ.exports=Wye});var dZ=k((ZKe,fZ)=>{var Yye=HC(),Xye=o((e,t,r)=>Yye(e,t,"<",r),"ltr");fZ.exports=Xye});var mZ=k((tWe,hZ)=>{var pZ=Cf(),Qye=o((e,t,r)=>(e=new pZ(e,r),t=new pZ(t,r),e.intersects(t,r)),"intersects");hZ.exports=Qye});var vZ=k((nWe,gZ)=>{var Jye=O7(),Zye=Tf();gZ.exports=(e,t,r)=>{let n=[],s=null,a=null,l=e.sort((d,p)=>Zye(d,p,r));for(let d of l)Jye(d,t,r)?(a=d,s||(s=d)):(a&&n.push([s,a]),a=null,s=null);s&&n.push([s,null]);let c=[];for(let[d,p]of n)d===p?c.push(d):!p&&d===l[0]?c.push("*"):p?d===l[0]?c.push(`<=${p}`):c.push(`${d} - ${p}`):c.push(`>=${d}`);let u=c.join(" || "),f=typeof t.raw=="string"?t.raw:String(t);return u.length<f.length?u:t}});var TZ=k((iWe,EZ)=>{var yZ=Cf(),Ik=R7(),{ANY:Sk}=Ik,D7=O7(),Ak=Tf(),e9e=o((e,t,r={})=>{if(e===t)return!0;e=new yZ(e,r),t=new yZ(t,r);let n=!1;e:for(let s of e.set){for(let a of t.set){let l=r9e(s,a,r);if(n=n||l!==null,l)continue e}if(n)return!1}return!0},"subset"),t9e=[new Ik(">=0.0.0-0")],_Z=[new Ik(">=0.0.0")],r9e=o((e,t,r)=>{if(e===t)return!0;if(e.length===1&&e[0].semver===Sk){if(t.length===1&&t[0].semver===Sk)return!0;r.includePrerelease?e=t9e:e=_Z}if(t.length===1&&t[0].semver===Sk){if(r.includePrerelease)return!0;t=_Z}let n=new Set,s,a;for(let m of e)m.operator===">"||m.operator===">="?s=xZ(s,m,r):m.operator==="<"||m.operator==="<="?a=bZ(a,m,r):n.add(m.semver);if(n.size>1)return null;let l;if(s&&a){if(l=Ak(s.semver,a.semver,r),l>0)return null;if(l===0&&(s.operator!==">="||a.operator!=="<="))return null}for(let m of n){if(s&&!D7(m,String(s),r)||a&&!D7(m,String(a),r))return null;for(let v of t)if(!D7(m,String(v),r))return!1;return!0}let c,u,f,d,p=a&&!r.includePrerelease&&a.semver.prerelease.length?a.semver:!1,h=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1;p&&p.prerelease.length===1&&a.operator==="<"&&p.prerelease[0]===0&&(p=!1);for(let m of t){if(d=d||m.operator===">"||m.operator===">=",f=f||m.operator==="<"||m.operator==="<=",s){if(h&&m.semver.prerelease&&m.semver.prerelease.length&&m.semver.major===h.major&&m.semver.minor===h.minor&&m.semver.patch===h.patch&&(h=!1),m.operator===">"||m.operator===">="){if(c=xZ(s,m,r),c===m&&c!==s)return!1}else if(s.operator===">="&&!D7(s.semver,String(m),r))return!1}if(a){if(p&&m.semver.prerelease&&m.semver.prerelease.length&&m.semver.major===p.major&&m.semver.minor===p.minor&&m.semver.patch===p.patch&&(p=!1),m.operator==="<"||m.operator==="<="){if(u=bZ(a,m,r),u===m&&u!==a)return!1}else if(a.operator==="<="&&!D7(a.semver,String(m),r))return!1}if(!m.operator&&(a||s)&&l!==0)return!1}return!(s&&f&&!a&&l!==0||a&&d&&!s&&l!==0||h||p)},"simpleSubset"),xZ=o((e,t,r)=>{if(!e)return t;let n=Ak(e.semver,t.semver,r);return n>0?e:n<0||t.operator===">"&&e.operator===">="?t:e},"higherGT"),bZ=o((e,t,r)=>{if(!e)return t;let n=Ak(e.semver,t.semver,r);return n<0?e:n>0||t.operator==="<"&&e.operator==="<="?t:e},"lowerLT");EZ.exports=e9e});var AZ=k((aWe,IZ)=>{var wk=dv(),CZ=C7(),n9e=Ac(),SZ=lk(),i9e=Rm(),s9e=VQ(),a9e=zQ(),o9e=YQ(),l9e=JQ(),c9e=eJ(),u9e=rJ(),f9e=iJ(),d9e=aJ(),p9e=Tf(),h9e=uJ(),m9e=dJ(),g9e=kC(),v9e=gJ(),y9e=yJ(),_9e=I7(),x9e=MC(),b9e=uk(),E9e=fk(),T9e=BC(),C9e=FC(),S9e=dk(),I9e=AJ(),A9e=R7(),w9e=Cf(),R9e=O7(),P9e=YJ(),N9e=QJ(),O9e=ZJ(),D9e=rZ(),L9e=iZ(),k9e=HC(),M9e=uZ(),B9e=dZ(),F9e=mZ(),U9e=vZ(),q9e=TZ();IZ.exports={parse:i9e,valid:s9e,clean:a9e,inc:o9e,diff:l9e,major:c9e,minor:u9e,patch:f9e,prerelease:d9e,compare:p9e,rcompare:h9e,compareLoose:m9e,compareBuild:g9e,sort:v9e,rsort:y9e,gt:_9e,lt:x9e,eq:b9e,neq:E9e,gte:T9e,lte:C9e,cmp:S9e,coerce:I9e,Comparator:A9e,Range:w9e,satisfies:R9e,toComparators:P9e,maxSatisfying:N9e,minSatisfying:O9e,minVersion:D9e,validRange:L9e,outside:k9e,gtr:M9e,ltr:B9e,intersects:F9e,simplifyRange:U9e,subset:q9e,SemVer:n9e,re:wk.re,src:wk.src,tokens:wk.t,SEMVER_SPEC_VERSION:CZ.SEMVER_SPEC_VERSION,RELEASE_TYPES:CZ.RELEASE_TYPES,compareIdentifiers:SZ.compareIdentifiers,rcompareIdentifiers:SZ.rcompareIdentifiers}});var Rk=k($C=>{"use strict";Object.defineProperty($C,"__esModule",{value:!0});$C.makePatchingRequire=void 0;var j9e=require("path"),H9e=AZ(),wZ=qa(),PZ=require("module"),$9e=Object.keys(process.binding("natives")),RZ=PZ.prototype.require;function V9e(e){var t={};return o(function(n){var s=RZ.apply(this,arguments);if(e[n]){var a=PZ._resolveFilename(n,this);if(t.hasOwnProperty(a))return t[a];var l=void 0;if($9e.indexOf(n)<0)try{l=RZ.call(this,j9e.join(n,"package.json")).version}catch{return s}else l=process.version.substring(1);var c=l.indexOf("-");c>=0&&(l=l.substring(0,c));for(var u=s,f=0,d=e[n];f<d.length;f++){var p=d[f];if(H9e.satisfies(l,p.versionSpecifier)&&(u=p.patch(u,a),wZ.channel)){var h=p.publisherName||n;wZ.channel.addPatchedModule(h,l)}}return t[a]=u}return s},"patchedRequire")}o(V9e,"makePatchingRequire");$C.makePatchingRequire=V9e});var NZ=k((cWe,G9e)=>{G9e.exports={name:"diagnostic-channel",version:"1.1.1",main:"./dist/src/channel.js",types:"./dist/src/channel.d.ts",scripts:{build:"tsc",lint:"eslint ./ --fix",clean:"rimraf ./dist",test:"mocha ./dist/tests/**/*.js",debug:"mocha --inspect-brk ./dist/tests/**/*.js"},homepage:"https://github.com/Microsoft/node-diagnostic-channel",bugs:{url:"https://github.com/Microsoft/node-diagnostic-channel/issues"},repository:{type:"git",url:"https://github.com/Microsoft/node-diagnostic-channel.git"},description:"Provides a context-saving pub/sub channel to connect diagnostic event publishers and subscribers",dependencies:{semver:"^7.5.3"},devDependencies:{"@types/mocha":"^2.2.40","@types/node":"~8.0.0",mocha:"^3.2.0",rimraf:"^2.6.1",sinon:"1.17.6",typescript:"4.1.2"},files:["dist/src/**/*.d.ts","dist/src/**/*.js","LICENSE","README.md","package.json"],license:"MIT"}});var qa=k(Sf=>{"use strict";Object.defineProperty(Sf,"__esModule",{value:!0});Sf.channel=Sf.ContextPreservingEventEmitter=Sf.trueFilter=Sf.makePatchingRequire=void 0;var z9e=Rk(),K9e=Rk();Object.defineProperty(Sf,"makePatchingRequire",{enumerable:!0,get:function(){return K9e.makePatchingRequire}});var W9e=o(function(e){return!0},"trueFilter");Sf.trueFilter=W9e;var DZ=function(){function e(){this.version=NZ().version,this.subscribers={},this.contextPreservationFunction=function(t){return t},this.knownPatches={},this.modulesPatched=[],this.currentlyPublishing=!1}return o(e,"ContextPreservingEventEmitter"),e.prototype.shouldPublish=function(t){var r=this.subscribers[t];return r?r.some(function(n){var s=n.filter;return!s||s(!1)}):!1},e.prototype.publish=function(t,r){if(!this.currentlyPublishing){var n=this.subscribers[t];if(n){var s={timestamp:Date.now(),data:r};this.currentlyPublishing=!0,n.forEach(function(a){var l=a.listener,c=a.filter;try{c&&c(!0)&&l(s)}catch{}}),this.currentlyPublishing=!1}}},e.prototype.subscribe=function(t,r,n,s){n===void 0&&(n=Sf.trueFilter),this.subscribers[t]||(this.subscribers[t]=[]),this.subscribers[t].push({listener:r,filter:n,patchCallback:s});var a=this.checkIfModuleIsAlreadyPatched(t);a&&s&&s(a.name,a.version)},e.prototype.unsubscribe=function(t,r,n){n===void 0&&(n=Sf.trueFilter);var s=this.subscribers[t];if(s){for(var a=0;a<s.length;++a)if(s[a].listener===r&&s[a].filter===n)return s.splice(a,1),!0}return!1},e.prototype.reset=function(){var t=this;this.subscribers={},this.contextPreservationFunction=function(r){return r},Object.getOwnPropertyNames(this.knownPatches).forEach(function(r){return delete t.knownPatches[r]})},e.prototype.bindToContext=function(t){return this.contextPreservationFunction(t)},e.prototype.addContextPreservation=function(t){var r=this.contextPreservationFunction;this.contextPreservationFunction=function(n){return t(r(n))}},e.prototype.registerMonkeyPatch=function(t,r){this.knownPatches[t]||(this.knownPatches[t]=[]),this.knownPatches[t].push(r)},e.prototype.getPatchesObject=function(){return this.knownPatches},e.prototype.addPatchedModule=function(t,r){for(var n=0,s=this.modulesPatched;n<s.length;n++){var a=s[n];if(a.name===t)return}this.modulesPatched.push({name:t,version:r});var l=this.subscribers[t];l&&l.forEach(function(c){c.patchCallback&&c.patchCallback(t,r)})},e.prototype.checkIfModuleIsAlreadyPatched=function(t){for(var r=0,n=this.modulesPatched;r<n.length;r++){var s=n[r];if(s.name===t)return s}return null},e}();Sf.ContextPreservingEventEmitter=DZ;global.diagnosticsSource||(global.diagnosticsSource=new DZ,OZ=require("module"),OZ.prototype.require=z9e.makePatchingRequire(global.diagnosticsSource.getPatchesObject()));var OZ;Sf.channel=global.diagnosticsSource});var LZ=k(VC=>{"use strict";Object.defineProperty(VC,"__esModule",{value:!0});VC._globalThis=void 0;VC._globalThis=typeof globalThis=="object"?globalThis:global});var kZ=k(Dm=>{"use strict";var Y9e=Dm&&Dm.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),X9e=Dm&&Dm.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Y9e(t,e,r)};Object.defineProperty(Dm,"__esModule",{value:!0});X9e(LZ(),Dm)});var MZ=k(Lm=>{"use strict";var Q9e=Lm&&Lm.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),J9e=Lm&&Lm.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Q9e(t,e,r)};Object.defineProperty(Lm,"__esModule",{value:!0});J9e(kZ(),Lm)});var Pk=k(GC=>{"use strict";Object.defineProperty(GC,"__esModule",{value:!0});GC.VERSION=void 0;GC.VERSION="1.4.1"});var UZ=k(vv=>{"use strict";Object.defineProperty(vv,"__esModule",{value:!0});vv.isCompatible=vv._makeCompatibilityCheck=void 0;var Z9e=Pk(),BZ=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function FZ(e){let t=new Set([e]),r=new Set,n=e.match(BZ);if(!n)return()=>!1;let s={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};if(s.prerelease!=null)return o(function(u){return u===e},"isExactmatch");function a(c){return r.add(c),!1}o(a,"_reject");function l(c){return t.add(c),!0}return o(l,"_accept"),o(function(u){if(t.has(u))return!0;if(r.has(u))return!1;let f=u.match(BZ);if(!f)return a(u);let d={major:+f[1],minor:+f[2],patch:+f[3],prerelease:f[4]};return d.prerelease!=null||s.major!==d.major?a(u):s.major===0?s.minor===d.minor&&s.patch<=d.patch?l(u):a(u):s.minor<=d.minor?l(u):a(u)},"isCompatible")}o(FZ,"_makeCompatibilityCheck");vv._makeCompatibilityCheck=FZ;vv.isCompatible=FZ(Z9e.VERSION)});var km=k(j5=>{"use strict";Object.defineProperty(j5,"__esModule",{value:!0});j5.unregisterGlobal=j5.getGlobal=j5.registerGlobal=void 0;var e7e=MZ(),yv=Pk(),t7e=UZ(),r7e=yv.VERSION.split(".")[0],L7=Symbol.for(`opentelemetry.js.api.${r7e}`),k7=e7e._globalThis;function n7e(e,t,r,n=!1){var s;let a=k7[L7]=(s=k7[L7])!==null&&s!==void 0?s:{version:yv.VERSION};if(!n&&a[e]){let l=new Error(`@opentelemetry/api: Attempted duplicate registration of API: ${e}`);return r.error(l.stack||l.message),!1}if(a.version!==yv.VERSION){let l=new Error(`@opentelemetry/api: Registration of version v${a.version} for ${e} does not match previously registered API v${yv.VERSION}`);return r.error(l.stack||l.message),!1}return a[e]=t,r.debug(`@opentelemetry/api: Registered a global for ${e} v${yv.VERSION}.`),!0}o(n7e,"registerGlobal");j5.registerGlobal=n7e;function i7e(e){var t,r;let n=(t=k7[L7])===null||t===void 0?void 0:t.version;if(!(!n||!(0,t7e.isCompatible)(n)))return(r=k7[L7])===null||r===void 0?void 0:r[e]}o(i7e,"getGlobal");j5.getGlobal=i7e;function s7e(e,t){t.debug(`@opentelemetry/api: Unregistering a global for ${e} v${yv.VERSION}.`);let r=k7[L7];r&&delete r[e]}o(s7e,"unregisterGlobal");j5.unregisterGlobal=s7e});var qZ=k(zC=>{"use strict";Object.defineProperty(zC,"__esModule",{value:!0});zC.DiagComponentLogger=void 0;var a7e=km(),Ok=class Ok{constructor(t){this._namespace=t.namespace||"DiagComponentLogger"}debug(...t){return M7("debug",this._namespace,t)}error(...t){return M7("error",this._namespace,t)}info(...t){return M7("info",this._namespace,t)}warn(...t){return M7("warn",this._namespace,t)}verbose(...t){return M7("verbose",this._namespace,t)}};o(Ok,"DiagComponentLogger");var Nk=Ok;zC.DiagComponentLogger=Nk;function M7(e,t,r){let n=(0,a7e.getGlobal)("diag");if(n)return r.unshift(t),n[e](...r)}o(M7,"logProxy")});var KC=k(B7=>{"use strict";Object.defineProperty(B7,"__esModule",{value:!0});B7.DiagLogLevel=void 0;var o7e;(function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"})(o7e=B7.DiagLogLevel||(B7.DiagLogLevel={}))});var jZ=k(WC=>{"use strict";Object.defineProperty(WC,"__esModule",{value:!0});WC.createLogLevelDiagLogger=void 0;var lh=KC();function l7e(e,t){e<lh.DiagLogLevel.NONE?e=lh.DiagLogLevel.NONE:e>lh.DiagLogLevel.ALL&&(e=lh.DiagLogLevel.ALL),t=t||{};function r(n,s){let a=t[n];return typeof a=="function"&&e>=s?a.bind(t):function(){}}return o(r,"_filterFunc"),{error:r("error",lh.DiagLogLevel.ERROR),warn:r("warn",lh.DiagLogLevel.WARN),info:r("info",lh.DiagLogLevel.INFO),debug:r("debug",lh.DiagLogLevel.DEBUG),verbose:r("verbose",lh.DiagLogLevel.VERBOSE)}}o(l7e,"createLogLevelDiagLogger");WC.createLogLevelDiagLogger=l7e});var Mm=k(QC=>{"use strict";Object.defineProperty(QC,"__esModule",{value:!0});QC.DiagAPI=void 0;var c7e=qZ(),u7e=jZ(),HZ=KC(),YC=km(),f7e="diag",XC=class XC{constructor(){function t(s){return function(...a){let l=(0,YC.getGlobal)("diag");if(l)return l[s](...a)}}o(t,"_logProxy");let r=this,n=o((s,a={logLevel:HZ.DiagLogLevel.INFO})=>{var l,c,u;if(s===r){let p=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return r.error((l=p.stack)!==null&&l!==void 0?l:p.message),!1}typeof a=="number"&&(a={logLevel:a});let f=(0,YC.getGlobal)("diag"),d=(0,u7e.createLogLevelDiagLogger)((c=a.logLevel)!==null&&c!==void 0?c:HZ.DiagLogLevel.INFO,s);if(f&&!a.suppressOverrideMessage){let p=(u=new Error().stack)!==null&&u!==void 0?u:"<failed to generate stacktrace>";f.warn(`Current logger will be overwritten from ${p}`),d.warn(`Current logger will overwrite one already registered from ${p}`)}return(0,YC.registerGlobal)("diag",d,r,!0)},"setLogger");r.setLogger=n,r.disable=()=>{(0,YC.unregisterGlobal)(f7e,r)},r.createComponentLogger=s=>new c7e.DiagComponentLogger(s),r.verbose=t("verbose"),r.debug=t("debug"),r.info=t("info"),r.warn=t("warn"),r.error=t("error")}static instance(){return this._instance||(this._instance=new XC),this._instance}};o(XC,"DiagAPI");var Dk=XC;QC.DiagAPI=Dk});var $Z=k(JC=>{"use strict";Object.defineProperty(JC,"__esModule",{value:!0});JC.BaggageImpl=void 0;var Bm=class Bm{constructor(t){this._entries=t?new Map(t):new Map}getEntry(t){let r=this._entries.get(t);if(r)return Object.assign({},r)}getAllEntries(){return Array.from(this._entries.entries()).map(([t,r])=>[t,r])}setEntry(t,r){let n=new Bm(this._entries);return n._entries.set(t,r),n}removeEntry(t){let r=new Bm(this._entries);return r._entries.delete(t),r}removeEntries(...t){let r=new Bm(this._entries);for(let n of t)r._entries.delete(n);return r}clear(){return new Bm}};o(Bm,"BaggageImpl");var Lk=Bm;JC.BaggageImpl=Lk});var VZ=k(ZC=>{"use strict";Object.defineProperty(ZC,"__esModule",{value:!0});ZC.baggageEntryMetadataSymbol=void 0;ZC.baggageEntryMetadataSymbol=Symbol("BaggageEntryMetadata")});var kk=k(_v=>{"use strict";Object.defineProperty(_v,"__esModule",{value:!0});_v.baggageEntryMetadataFromString=_v.createBaggage=void 0;var d7e=Mm(),p7e=$Z(),h7e=VZ(),m7e=d7e.DiagAPI.instance();function g7e(e={}){return new p7e.BaggageImpl(new Map(Object.entries(e)))}o(g7e,"createBaggage");_v.createBaggage=g7e;function v7e(e){return typeof e!="string"&&(m7e.error(`Cannot create baggage metadata from unknown type: ${typeof e}`),e=""),{__TYPE__:h7e.baggageEntryMetadataSymbol,toString(){return e}}}o(v7e,"baggageEntryMetadataFromString");_v.baggageEntryMetadataFromString=v7e});var U7=k(xv=>{"use strict";Object.defineProperty(xv,"__esModule",{value:!0});xv.ROOT_CONTEXT=xv.createContextKey=void 0;function y7e(e){return Symbol.for(e)}o(y7e,"createContextKey");xv.createContextKey=y7e;var F7=class F7{constructor(t){let r=this;r._currentContext=t?new Map(t):new Map,r.getValue=n=>r._currentContext.get(n),r.setValue=(n,s)=>{let a=new F7(r._currentContext);return a._currentContext.set(n,s),a},r.deleteValue=n=>{let s=new F7(r._currentContext);return s._currentContext.delete(n),s}}};o(F7,"BaseContext");var Mk=F7;xv.ROOT_CONTEXT=new Mk});var GZ=k(eS=>{"use strict";Object.defineProperty(eS,"__esModule",{value:!0});eS.DiagConsoleLogger=void 0;var Bk=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}],Uk=class Uk{constructor(){function t(r){return function(...n){if(console){let s=console[r];if(typeof s!="function"&&(s=console.log),typeof s=="function")return s.apply(console,n)}}}o(t,"_consoleFunc");for(let r=0;r<Bk.length;r++)this[Bk[r].n]=t(Bk[r].c)}};o(Uk,"DiagConsoleLogger");var Fk=Uk;eS.DiagConsoleLogger=Fk});var Yk=k(Us=>{"use strict";Object.defineProperty(Us,"__esModule",{value:!0});Us.createNoopMeter=Us.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=Us.NOOP_OBSERVABLE_GAUGE_METRIC=Us.NOOP_OBSERVABLE_COUNTER_METRIC=Us.NOOP_UP_DOWN_COUNTER_METRIC=Us.NOOP_HISTOGRAM_METRIC=Us.NOOP_COUNTER_METRIC=Us.NOOP_METER=Us.NoopObservableUpDownCounterMetric=Us.NoopObservableGaugeMetric=Us.NoopObservableCounterMetric=Us.NoopObservableMetric=Us.NoopHistogramMetric=Us.NoopUpDownCounterMetric=Us.NoopCounterMetric=Us.NoopMetric=Us.NoopMeter=void 0;var qk=class qk{constructor(){}createHistogram(t,r){return Us.NOOP_HISTOGRAM_METRIC}createCounter(t,r){return Us.NOOP_COUNTER_METRIC}createUpDownCounter(t,r){return Us.NOOP_UP_DOWN_COUNTER_METRIC}createObservableGauge(t,r){return Us.NOOP_OBSERVABLE_GAUGE_METRIC}createObservableCounter(t,r){return Us.NOOP_OBSERVABLE_COUNTER_METRIC}createObservableUpDownCounter(t,r){return Us.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC}addBatchObservableCallback(t,r){}removeBatchObservableCallback(t){}};o(qk,"NoopMeter");var tS=qk;Us.NoopMeter=tS;var jk=class jk{};o(jk,"NoopMetric");var bv=jk;Us.NoopMetric=bv;var Hk=class Hk extends bv{add(t,r){}};o(Hk,"NoopCounterMetric");var rS=Hk;Us.NoopCounterMetric=rS;var $k=class $k extends bv{add(t,r){}};o($k,"NoopUpDownCounterMetric");var nS=$k;Us.NoopUpDownCounterMetric=nS;var Vk=class Vk extends bv{record(t,r){}};o(Vk,"NoopHistogramMetric");var iS=Vk;Us.NoopHistogramMetric=iS;var Gk=class Gk{addCallback(t){}removeCallback(t){}};o(Gk,"NoopObservableMetric");var Ev=Gk;Us.NoopObservableMetric=Ev;var zk=class zk extends Ev{};o(zk,"NoopObservableCounterMetric");var sS=zk;Us.NoopObservableCounterMetric=sS;var Kk=class Kk extends Ev{};o(Kk,"NoopObservableGaugeMetric");var aS=Kk;Us.NoopObservableGaugeMetric=aS;var Wk=class Wk extends Ev{};o(Wk,"NoopObservableUpDownCounterMetric");var oS=Wk;Us.NoopObservableUpDownCounterMetric=oS;Us.NOOP_METER=new tS;Us.NOOP_COUNTER_METRIC=new rS;Us.NOOP_HISTOGRAM_METRIC=new iS;Us.NOOP_UP_DOWN_COUNTER_METRIC=new nS;Us.NOOP_OBSERVABLE_COUNTER_METRIC=new sS;Us.NOOP_OBSERVABLE_GAUGE_METRIC=new aS;Us.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=new oS;function _7e(){return Us.NOOP_METER}o(_7e,"createNoopMeter");Us.createNoopMeter=_7e});var zZ=k(q7=>{"use strict";Object.defineProperty(q7,"__esModule",{value:!0});q7.ValueType=void 0;var x7e;(function(e){e[e.INT=0]="INT",e[e.DOUBLE=1]="DOUBLE"})(x7e=q7.ValueType||(q7.ValueType={}))});var Xk=k(Tv=>{"use strict";Object.defineProperty(Tv,"__esModule",{value:!0});Tv.defaultTextMapSetter=Tv.defaultTextMapGetter=void 0;Tv.defaultTextMapGetter={get(e,t){if(e!=null)return e[t]},keys(e){return e==null?[]:Object.keys(e)}};Tv.defaultTextMapSetter={set(e,t,r){e!=null&&(e[t]=r)}}});var KZ=k(lS=>{"use strict";Object.defineProperty(lS,"__esModule",{value:!0});lS.NoopContextManager=void 0;var b7e=U7(),Jk=class Jk{active(){return b7e.ROOT_CONTEXT}with(t,r,n,...s){return r.call(n,...s)}bind(t,r){return r}enable(){return this}disable(){return this}};o(Jk,"NoopContextManager");var Qk=Jk;lS.NoopContextManager=Qk});var j7=k(uS=>{"use strict";Object.defineProperty(uS,"__esModule",{value:!0});uS.ContextAPI=void 0;var E7e=KZ(),Zk=km(),WZ=Mm(),eM="context",T7e=new E7e.NoopContextManager,cS=class cS{constructor(){}static getInstance(){return this._instance||(this._instance=new cS),this._instance}setGlobalContextManager(t){return(0,Zk.registerGlobal)(eM,t,WZ.DiagAPI.instance())}active(){return this._getContextManager().active()}with(t,r,n,...s){return this._getContextManager().with(t,r,n,...s)}bind(t,r){return this._getContextManager().bind(t,r)}_getContextManager(){return(0,Zk.getGlobal)(eM)||T7e}disable(){this._getContextManager().disable(),(0,Zk.unregisterGlobal)(eM,WZ.DiagAPI.instance())}};o(cS,"ContextAPI");var tM=cS;uS.ContextAPI=tM});var rM=k(H7=>{"use strict";Object.defineProperty(H7,"__esModule",{value:!0});H7.TraceFlags=void 0;var C7e;(function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"})(C7e=H7.TraceFlags||(H7.TraceFlags={}))});var fS=k(O1=>{"use strict";Object.defineProperty(O1,"__esModule",{value:!0});O1.INVALID_SPAN_CONTEXT=O1.INVALID_TRACEID=O1.INVALID_SPANID=void 0;var S7e=rM();O1.INVALID_SPANID="0000000000000000";O1.INVALID_TRACEID="00000000000000000000000000000000";O1.INVALID_SPAN_CONTEXT={traceId:O1.INVALID_TRACEID,spanId:O1.INVALID_SPANID,traceFlags:S7e.TraceFlags.NONE}});var pS=k(dS=>{"use strict";Object.defineProperty(dS,"__esModule",{value:!0});dS.NonRecordingSpan=void 0;var I7e=fS(),iM=class iM{constructor(t=I7e.INVALID_SPAN_CONTEXT){this._spanContext=t}spanContext(){return this._spanContext}setAttribute(t,r){return this}setAttributes(t){return this}addEvent(t,r){return this}setStatus(t){return this}updateName(t){return this}end(t){}isRecording(){return!1}recordException(t,r){}};o(iM,"NonRecordingSpan");var nM=iM;dS.NonRecordingSpan=nM});var oM=k(bu=>{"use strict";Object.defineProperty(bu,"__esModule",{value:!0});bu.getSpanContext=bu.setSpanContext=bu.deleteSpan=bu.setSpan=bu.getActiveSpan=bu.getSpan=void 0;var A7e=U7(),w7e=pS(),R7e=j7(),sM=(0,A7e.createContextKey)("OpenTelemetry Context Key SPAN");function aM(e){return e.getValue(sM)||void 0}o(aM,"getSpan");bu.getSpan=aM;function P7e(){return aM(R7e.ContextAPI.getInstance().active())}o(P7e,"getActiveSpan");bu.getActiveSpan=P7e;function YZ(e,t){return e.setValue(sM,t)}o(YZ,"setSpan");bu.setSpan=YZ;function N7e(e){return e.deleteValue(sM)}o(N7e,"deleteSpan");bu.deleteSpan=N7e;function O7e(e,t){return YZ(e,new w7e.NonRecordingSpan(t))}o(O7e,"setSpanContext");bu.setSpanContext=O7e;function D7e(e){var t;return(t=aM(e))===null||t===void 0?void 0:t.spanContext()}o(D7e,"getSpanContext");bu.getSpanContext=D7e});var hS=k(D1=>{"use strict";Object.defineProperty(D1,"__esModule",{value:!0});D1.wrapSpanContext=D1.isSpanContextValid=D1.isValidSpanId=D1.isValidTraceId=void 0;var XZ=fS(),L7e=pS(),k7e=/^([0-9a-f]{32})$/i,M7e=/^[0-9a-f]{16}$/i;function QZ(e){return k7e.test(e)&&e!==XZ.INVALID_TRACEID}o(QZ,"isValidTraceId");D1.isValidTraceId=QZ;function JZ(e){return M7e.test(e)&&e!==XZ.INVALID_SPANID}o(JZ,"isValidSpanId");D1.isValidSpanId=JZ;function B7e(e){return QZ(e.traceId)&&JZ(e.spanId)}o(B7e,"isSpanContextValid");D1.isSpanContextValid=B7e;function F7e(e){return new L7e.NonRecordingSpan(e)}o(F7e,"wrapSpanContext");D1.wrapSpanContext=F7e});var dM=k(mS=>{"use strict";Object.defineProperty(mS,"__esModule",{value:!0});mS.NoopTracer=void 0;var U7e=j7(),ZZ=oM(),lM=pS(),q7e=hS(),cM=U7e.ContextAPI.getInstance(),fM=class fM{startSpan(t,r,n=cM.active()){if(!!(r!=null&&r.root))return new lM.NonRecordingSpan;let a=n&&(0,ZZ.getSpanContext)(n);return j7e(a)&&(0,q7e.isSpanContextValid)(a)?new lM.NonRecordingSpan(a):new lM.NonRecordingSpan}startActiveSpan(t,r,n,s){let a,l,c;if(arguments.length<2)return;arguments.length===2?c=r:arguments.length===3?(a=r,c=n):(a=r,l=n,c=s);let u=l!=null?l:cM.active(),f=this.startSpan(t,a,u),d=(0,ZZ.setSpan)(u,f);return cM.with(d,c,void 0,f)}};o(fM,"NoopTracer");var uM=fM;mS.NoopTracer=uM;function j7e(e){return typeof e=="object"&&typeof e.spanId=="string"&&typeof e.traceId=="string"&&typeof e.traceFlags=="number"}o(j7e,"isSpanContext")});var mM=k(gS=>{"use strict";Object.defineProperty(gS,"__esModule",{value:!0});gS.ProxyTracer=void 0;var H7e=dM(),$7e=new H7e.NoopTracer,hM=class hM{constructor(t,r,n,s){this._provider=t,this.name=r,this.version=n,this.options=s}startSpan(t,r,n){return this._getTracer().startSpan(t,r,n)}startActiveSpan(t,r,n,s){let a=this._getTracer();return Reflect.apply(a.startActiveSpan,a,arguments)}_getTracer(){if(this._delegate)return this._delegate;let t=this._provider.getDelegateTracer(this.name,this.version,this.options);return t?(this._delegate=t,this._delegate):$7e}};o(hM,"ProxyTracer");var pM=hM;gS.ProxyTracer=pM});var eee=k(vS=>{"use strict";Object.defineProperty(vS,"__esModule",{value:!0});vS.NoopTracerProvider=void 0;var V7e=dM(),vM=class vM{getTracer(t,r,n){return new V7e.NoopTracer}};o(vM,"NoopTracerProvider");var gM=vM;vS.NoopTracerProvider=gM});var xM=k(yS=>{"use strict";Object.defineProperty(yS,"__esModule",{value:!0});yS.ProxyTracerProvider=void 0;var G7e=mM(),z7e=eee(),K7e=new z7e.NoopTracerProvider,_M=class _M{getTracer(t,r,n){var s;return(s=this.getDelegateTracer(t,r,n))!==null&&s!==void 0?s:new G7e.ProxyTracer(this,t,r,n)}getDelegate(){var t;return(t=this._delegate)!==null&&t!==void 0?t:K7e}setDelegate(t){this._delegate=t}getDelegateTracer(t,r,n){var s;return(s=this._delegate)===null||s===void 0?void 0:s.getTracer(t,r,n)}};o(_M,"ProxyTracerProvider");var yM=_M;yS.ProxyTracerProvider=yM});var tee=k($7=>{"use strict";Object.defineProperty($7,"__esModule",{value:!0});$7.SamplingDecision=void 0;var W7e;(function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(W7e=$7.SamplingDecision||($7.SamplingDecision={}))});var ree=k(V7=>{"use strict";Object.defineProperty(V7,"__esModule",{value:!0});V7.SpanKind=void 0;var Y7e;(function(e){e[e.INTERNAL=0]="INTERNAL",e[e.SERVER=1]="SERVER",e[e.CLIENT=2]="CLIENT",e[e.PRODUCER=3]="PRODUCER",e[e.CONSUMER=4]="CONSUMER"})(Y7e=V7.SpanKind||(V7.SpanKind={}))});var nee=k(G7=>{"use strict";Object.defineProperty(G7,"__esModule",{value:!0});G7.SpanStatusCode=void 0;var X7e;(function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"})(X7e=G7.SpanStatusCode||(G7.SpanStatusCode={}))});var iee=k(Cv=>{"use strict";Object.defineProperty(Cv,"__esModule",{value:!0});Cv.validateValue=Cv.validateKey=void 0;var bM="[_0-9a-z-*/]",Q7e=`[a-z]${bM}{0,255}`,J7e=`[a-z0-9]${bM}{0,240}@[a-z]${bM}{0,13}`,Z7e=new RegExp(`^(?:${Q7e}|${J7e})$`),e_e=/^[ -~]{0,255}[!-~]$/,t_e=/,|=/;function r_e(e){return Z7e.test(e)}o(r_e,"validateKey");Cv.validateKey=r_e;function n_e(e){return e_e.test(e)&&!t_e.test(e)}o(n_e,"validateValue");Cv.validateValue=n_e});var cee=k(xS=>{"use strict";Object.defineProperty(xS,"__esModule",{value:!0});xS.TraceStateImpl=void 0;var see=iee(),aee=32,i_e=512,oee=",",lee="=",_S=class _S{constructor(t){this._internalState=new Map,t&&this._parse(t)}set(t,r){let n=this._clone();return n._internalState.has(t)&&n._internalState.delete(t),n._internalState.set(t,r),n}unset(t){let r=this._clone();return r._internalState.delete(t),r}get(t){return this._internalState.get(t)}serialize(){return this._keys().reduce((t,r)=>(t.push(r+lee+this.get(r)),t),[]).join(oee)}_parse(t){t.length>i_e||(this._internalState=t.split(oee).reverse().reduce((r,n)=>{let s=n.trim(),a=s.indexOf(lee);if(a!==-1){let l=s.slice(0,a),c=s.slice(a+1,n.length);(0,see.validateKey)(l)&&(0,see.validateValue)(c)&&r.set(l,c)}return r},new Map),this._internalState.size>aee&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,aee))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let t=new _S;return t._internalState=new Map(this._internalState),t}};o(_S,"TraceStateImpl");var EM=_S;xS.TraceStateImpl=EM});var uee=k(bS=>{"use strict";Object.defineProperty(bS,"__esModule",{value:!0});bS.createTraceState=void 0;var s_e=cee();function a_e(e){return new s_e.TraceStateImpl(e)}o(a_e,"createTraceState");bS.createTraceState=a_e});var fee=k(ES=>{"use strict";Object.defineProperty(ES,"__esModule",{value:!0});ES.context=void 0;var o_e=j7();ES.context=o_e.ContextAPI.getInstance()});var dee=k(TS=>{"use strict";Object.defineProperty(TS,"__esModule",{value:!0});TS.diag=void 0;var l_e=Mm();TS.diag=l_e.DiagAPI.instance()});var pee=k(Sv=>{"use strict";Object.defineProperty(Sv,"__esModule",{value:!0});Sv.NOOP_METER_PROVIDER=Sv.NoopMeterProvider=void 0;var c_e=Yk(),TM=class TM{getMeter(t,r,n){return c_e.NOOP_METER}};o(TM,"NoopMeterProvider");var CS=TM;Sv.NoopMeterProvider=CS;Sv.NOOP_METER_PROVIDER=new CS});var mee=k(IS=>{"use strict";Object.defineProperty(IS,"__esModule",{value:!0});IS.MetricsAPI=void 0;var u_e=pee(),CM=km(),hee=Mm(),SM="metrics",SS=class SS{constructor(){}static getInstance(){return this._instance||(this._instance=new SS),this._instance}setGlobalMeterProvider(t){return(0,CM.registerGlobal)(SM,t,hee.DiagAPI.instance())}getMeterProvider(){return(0,CM.getGlobal)(SM)||u_e.NOOP_METER_PROVIDER}getMeter(t,r,n){return this.getMeterProvider().getMeter(t,r,n)}disable(){(0,CM.unregisterGlobal)(SM,hee.DiagAPI.instance())}};o(SS,"MetricsAPI");var IM=SS;IS.MetricsAPI=IM});var gee=k(AS=>{"use strict";Object.defineProperty(AS,"__esModule",{value:!0});AS.metrics=void 0;var f_e=mee();AS.metrics=f_e.MetricsAPI.getInstance()});var vee=k(wS=>{"use strict";Object.defineProperty(wS,"__esModule",{value:!0});wS.NoopTextMapPropagator=void 0;var wM=class wM{inject(t,r){}extract(t,r){return t}fields(){return[]}};o(wM,"NoopTextMapPropagator");var AM=wM;wS.NoopTextMapPropagator=AM});var _ee=k(L1=>{"use strict";Object.defineProperty(L1,"__esModule",{value:!0});L1.deleteBaggage=L1.setBaggage=L1.getActiveBaggage=L1.getBaggage=void 0;var d_e=j7(),p_e=U7(),RM=(0,p_e.createContextKey)("OpenTelemetry Baggage Key");function yee(e){return e.getValue(RM)||void 0}o(yee,"getBaggage");L1.getBaggage=yee;function h_e(){return yee(d_e.ContextAPI.getInstance().active())}o(h_e,"getActiveBaggage");L1.getActiveBaggage=h_e;function m_e(e,t){return e.setValue(RM,t)}o(m_e,"setBaggage");L1.setBaggage=m_e;function g_e(e){return e.deleteValue(RM)}o(g_e,"deleteBaggage");L1.deleteBaggage=g_e});var Eee=k(NS=>{"use strict";Object.defineProperty(NS,"__esModule",{value:!0});NS.PropagationAPI=void 0;var PM=km(),v_e=vee(),xee=Xk(),RS=_ee(),y_e=kk(),bee=Mm(),NM="propagation",__e=new v_e.NoopTextMapPropagator,PS=class PS{constructor(){this.createBaggage=y_e.createBaggage,this.getBaggage=RS.getBaggage,this.getActiveBaggage=RS.getActiveBaggage,this.setBaggage=RS.setBaggage,this.deleteBaggage=RS.deleteBaggage}static getInstance(){return this._instance||(this._instance=new PS),this._instance}setGlobalPropagator(t){return(0,PM.registerGlobal)(NM,t,bee.DiagAPI.instance())}inject(t,r,n=xee.defaultTextMapSetter){return this._getGlobalPropagator().inject(t,r,n)}extract(t,r,n=xee.defaultTextMapGetter){return this._getGlobalPropagator().extract(t,r,n)}fields(){return this._getGlobalPropagator().fields()}disable(){(0,PM.unregisterGlobal)(NM,bee.DiagAPI.instance())}_getGlobalPropagator(){return(0,PM.getGlobal)(NM)||__e}};o(PS,"PropagationAPI");var OM=PS;NS.PropagationAPI=OM});var Tee=k(OS=>{"use strict";Object.defineProperty(OS,"__esModule",{value:!0});OS.propagation=void 0;var x_e=Eee();OS.propagation=x_e.PropagationAPI.getInstance()});var Aee=k(LS=>{"use strict";Object.defineProperty(LS,"__esModule",{value:!0});LS.TraceAPI=void 0;var DM=km(),Cee=xM(),See=hS(),Iv=oM(),Iee=Mm(),LM="trace",DS=class DS{constructor(){this._proxyTracerProvider=new Cee.ProxyTracerProvider,this.wrapSpanContext=See.wrapSpanContext,this.isSpanContextValid=See.isSpanContextValid,this.deleteSpan=Iv.deleteSpan,this.getSpan=Iv.getSpan,this.getActiveSpan=Iv.getActiveSpan,this.getSpanContext=Iv.getSpanContext,this.setSpan=Iv.setSpan,this.setSpanContext=Iv.setSpanContext}static getInstance(){return this._instance||(this._instance=new DS),this._instance}setGlobalTracerProvider(t){let r=(0,DM.registerGlobal)(LM,this._proxyTracerProvider,Iee.DiagAPI.instance());return r&&this._proxyTracerProvider.setDelegate(t),r}getTracerProvider(){return(0,DM.getGlobal)(LM)||this._proxyTracerProvider}getTracer(t,r){return this.getTracerProvider().getTracer(t,r)}disable(){(0,DM.unregisterGlobal)(LM,Iee.DiagAPI.instance()),this._proxyTracerProvider=new Cee.ProxyTracerProvider}};o(DS,"TraceAPI");var kM=DS;LS.TraceAPI=kM});var wee=k(kS=>{"use strict";Object.defineProperty(kS,"__esModule",{value:!0});kS.trace=void 0;var b_e=Aee();kS.trace=b_e.TraceAPI.getInstance()});var o0=k(hs=>{"use strict";Object.defineProperty(hs,"__esModule",{value:!0});hs.trace=hs.propagation=hs.metrics=hs.diag=hs.context=hs.INVALID_SPAN_CONTEXT=hs.INVALID_TRACEID=hs.INVALID_SPANID=hs.isValidSpanId=hs.isValidTraceId=hs.isSpanContextValid=hs.createTraceState=hs.TraceFlags=hs.SpanStatusCode=hs.SpanKind=hs.SamplingDecision=hs.ProxyTracerProvider=hs.ProxyTracer=hs.defaultTextMapSetter=hs.defaultTextMapGetter=hs.ValueType=hs.createNoopMeter=hs.DiagLogLevel=hs.DiagConsoleLogger=hs.ROOT_CONTEXT=hs.createContextKey=hs.baggageEntryMetadataFromString=void 0;var E_e=kk();Object.defineProperty(hs,"baggageEntryMetadataFromString",{enumerable:!0,get:function(){return E_e.baggageEntryMetadataFromString}});var Ree=U7();Object.defineProperty(hs,"createContextKey",{enumerable:!0,get:function(){return Ree.createContextKey}});Object.defineProperty(hs,"ROOT_CONTEXT",{enumerable:!0,get:function(){return Ree.ROOT_CONTEXT}});var T_e=GZ();Object.defineProperty(hs,"DiagConsoleLogger",{enumerable:!0,get:function(){return T_e.DiagConsoleLogger}});var C_e=KC();Object.defineProperty(hs,"DiagLogLevel",{enumerable:!0,get:function(){return C_e.DiagLogLevel}});var S_e=Yk();Object.defineProperty(hs,"createNoopMeter",{enumerable:!0,get:function(){return S_e.createNoopMeter}});var I_e=zZ();Object.defineProperty(hs,"ValueType",{enumerable:!0,get:function(){return I_e.ValueType}});var Pee=Xk();Object.defineProperty(hs,"defaultTextMapGetter",{enumerable:!0,get:function(){return Pee.defaultTextMapGetter}});Object.defineProperty(hs,"defaultTextMapSetter",{enumerable:!0,get:function(){return Pee.defaultTextMapSetter}});var A_e=mM();Object.defineProperty(hs,"ProxyTracer",{enumerable:!0,get:function(){return A_e.ProxyTracer}});var w_e=xM();Object.defineProperty(hs,"ProxyTracerProvider",{enumerable:!0,get:function(){return w_e.ProxyTracerProvider}});var R_e=tee();Object.defineProperty(hs,"SamplingDecision",{enumerable:!0,get:function(){return R_e.SamplingDecision}});var P_e=ree();Object.defineProperty(hs,"SpanKind",{enumerable:!0,get:function(){return P_e.SpanKind}});var N_e=nee();Object.defineProperty(hs,"SpanStatusCode",{enumerable:!0,get:function(){return N_e.SpanStatusCode}});var O_e=rM();Object.defineProperty(hs,"TraceFlags",{enumerable:!0,get:function(){return O_e.TraceFlags}});var D_e=uee();Object.defineProperty(hs,"createTraceState",{enumerable:!0,get:function(){return D_e.createTraceState}});var MM=hS();Object.defineProperty(hs,"isSpanContextValid",{enumerable:!0,get:function(){return MM.isSpanContextValid}});Object.defineProperty(hs,"isValidTraceId",{enumerable:!0,get:function(){return MM.isValidTraceId}});Object.defineProperty(hs,"isValidSpanId",{enumerable:!0,get:function(){return MM.isValidSpanId}});var BM=fS();Object.defineProperty(hs,"INVALID_SPANID",{enumerable:!0,get:function(){return BM.INVALID_SPANID}});Object.defineProperty(hs,"INVALID_TRACEID",{enumerable:!0,get:function(){return BM.INVALID_TRACEID}});Object.defineProperty(hs,"INVALID_SPAN_CONTEXT",{enumerable:!0,get:function(){return BM.INVALID_SPAN_CONTEXT}});var Nee=fee();Object.defineProperty(hs,"context",{enumerable:!0,get:function(){return Nee.context}});var Oee=dee();Object.defineProperty(hs,"diag",{enumerable:!0,get:function(){return Oee.diag}});var Dee=gee();Object.defineProperty(hs,"metrics",{enumerable:!0,get:function(){return Dee.metrics}});var Lee=Tee();Object.defineProperty(hs,"propagation",{enumerable:!0,get:function(){return Lee.propagation}});var kee=wee();Object.defineProperty(hs,"trace",{enumerable:!0,get:function(){return kee.trace}});hs.default={context:Nee.context,diag:Oee.diag,metrics:Dee.metrics,propagation:Lee.propagation,trace:kee.trace}});var z7=k(H5=>{"use strict";Object.defineProperty(H5,"__esModule",{value:!0});H5.isTracingSuppressed=H5.unsuppressTracing=H5.suppressTracing=void 0;var L_e=o0(),FM=(0,L_e.createContextKey)("OpenTelemetry SDK Context Key SUPPRESS_TRACING");function k_e(e){return e.setValue(FM,!0)}o(k_e,"suppressTracing");H5.suppressTracing=k_e;function M_e(e){return e.deleteValue(FM)}o(M_e,"unsuppressTracing");H5.unsuppressTracing=M_e;function B_e(e){return e.getValue(FM)===!0}o(B_e,"isTracingSuppressed");H5.isTracingSuppressed=B_e});var UM=k(wc=>{"use strict";Object.defineProperty(wc,"__esModule",{value:!0});wc.BAGGAGE_MAX_TOTAL_LENGTH=wc.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=wc.BAGGAGE_MAX_NAME_VALUE_PAIRS=wc.BAGGAGE_HEADER=wc.BAGGAGE_ITEMS_SEPARATOR=wc.BAGGAGE_PROPERTIES_SEPARATOR=wc.BAGGAGE_KEY_PAIR_SEPARATOR=void 0;wc.BAGGAGE_KEY_PAIR_SEPARATOR="=";wc.BAGGAGE_PROPERTIES_SEPARATOR=";";wc.BAGGAGE_ITEMS_SEPARATOR=",";wc.BAGGAGE_HEADER="baggage";wc.BAGGAGE_MAX_NAME_VALUE_PAIRS=180;wc.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS=4096;wc.BAGGAGE_MAX_TOTAL_LENGTH=8192});var qM=k(k1=>{"use strict";Object.defineProperty(k1,"__esModule",{value:!0});k1.parseKeyPairsIntoRecord=k1.parsePairKeyValue=k1.getKeyPairs=k1.serializeKeyPairs=void 0;var F_e=o0(),Fm=UM();function U_e(e){return e.reduce((t,r)=>{let n=`${t}${t!==""?Fm.BAGGAGE_ITEMS_SEPARATOR:""}${r}`;return n.length>Fm.BAGGAGE_MAX_TOTAL_LENGTH?t:n},"")}o(U_e,"serializeKeyPairs");k1.serializeKeyPairs=U_e;function q_e(e){return e.getAllEntries().map(([t,r])=>{let n=`${encodeURIComponent(t)}=${encodeURIComponent(r.value)}`;return r.metadata!==void 0&&(n+=Fm.BAGGAGE_PROPERTIES_SEPARATOR+r.metadata.toString()),n})}o(q_e,"getKeyPairs");k1.getKeyPairs=q_e;function Mee(e){let t=e.split(Fm.BAGGAGE_PROPERTIES_SEPARATOR);if(t.length<=0)return;let r=t.shift();if(!r)return;let n=r.indexOf(Fm.BAGGAGE_KEY_PAIR_SEPARATOR);if(n<=0)return;let s=decodeURIComponent(r.substring(0,n).trim()),a=decodeURIComponent(r.substring(n+1).trim()),l;return t.length>0&&(l=(0,F_e.baggageEntryMetadataFromString)(t.join(Fm.BAGGAGE_PROPERTIES_SEPARATOR))),{key:s,value:a,metadata:l}}o(Mee,"parsePairKeyValue");k1.parsePairKeyValue=Mee;function j_e(e){return typeof e!="string"||e.length===0?{}:e.split(Fm.BAGGAGE_ITEMS_SEPARATOR).map(t=>Mee(t)).filter(t=>t!==void 0&&t.value.length>0).reduce((t,r)=>(t[r.key]=r.value,t),{})}o(j_e,"parseKeyPairsIntoRecord");k1.parseKeyPairsIntoRecord=j_e});var Bee=k(MS=>{"use strict";Object.defineProperty(MS,"__esModule",{value:!0});MS.W3CBaggagePropagator=void 0;var jM=o0(),H_e=z7(),Um=UM(),HM=qM(),VM=class VM{inject(t,r,n){let s=jM.propagation.getBaggage(t);if(!s||(0,H_e.isTracingSuppressed)(t))return;let a=(0,HM.getKeyPairs)(s).filter(c=>c.length<=Um.BAGGAGE_MAX_PER_NAME_VALUE_PAIRS).slice(0,Um.BAGGAGE_MAX_NAME_VALUE_PAIRS),l=(0,HM.serializeKeyPairs)(a);l.length>0&&n.set(r,Um.BAGGAGE_HEADER,l)}extract(t,r,n){let s=n.get(r,Um.BAGGAGE_HEADER),a=Array.isArray(s)?s.join(Um.BAGGAGE_ITEMS_SEPARATOR):s;if(!a)return t;let l={};return a.length===0||(a.split(Um.BAGGAGE_ITEMS_SEPARATOR).forEach(u=>{let f=(0,HM.parsePairKeyValue)(u);if(f){let d={value:f.value};f.metadata&&(d.metadata=f.metadata),l[f.key]=d}}),Object.entries(l).length===0)?t:jM.propagation.setBaggage(t,jM.propagation.createBaggage(l))}fields(){return[Um.BAGGAGE_HEADER]}};o(VM,"W3CBaggagePropagator");var $M=VM;MS.W3CBaggagePropagator=$M});var Fee=k(BS=>{"use strict";Object.defineProperty(BS,"__esModule",{value:!0});BS.AnchoredClock=void 0;var zM=class zM{constructor(t,r){this._monotonicClock=r,this._epochMillis=t.now(),this._performanceMillis=r.now()}now(){let t=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+t}};o(zM,"AnchoredClock");var GM=zM;BS.AnchoredClock=GM});var $ee=k($5=>{"use strict";Object.defineProperty($5,"__esModule",{value:!0});$5.isAttributeValue=$5.isAttributeKey=$5.sanitizeAttributes=void 0;var Uee=o0();function $_e(e){let t={};if(typeof e!="object"||e==null)return t;for(let[r,n]of Object.entries(e)){if(!qee(r)){Uee.diag.warn(`Invalid attribute key: ${r}`);continue}if(!jee(n)){Uee.diag.warn(`Invalid attribute value set for key: ${r}`);continue}Array.isArray(n)?t[r]=n.slice():t[r]=n}return t}o($_e,"sanitizeAttributes");$5.sanitizeAttributes=$_e;function qee(e){return typeof e=="string"&&e.length>0}o(qee,"isAttributeKey");$5.isAttributeKey=qee;function jee(e){return e==null?!0:Array.isArray(e)?V_e(e):Hee(e)}o(jee,"isAttributeValue");$5.isAttributeValue=jee;function V_e(e){let t;for(let r of e)if(r!=null){if(!t){if(Hee(r)){t=typeof r;continue}return!1}if(typeof r!==t)return!1}return!0}o(V_e,"isHomogeneousAttributeValueArray");function Hee(e){switch(typeof e){case"number":case"boolean":case"string":return!0}return!1}o(Hee,"isValidPrimitiveAttributeValue")});var KM=k(US=>{"use strict";Object.defineProperty(US,"__esModule",{value:!0});US.loggingErrorHandler=void 0;var G_e=o0();function z_e(){return e=>{G_e.diag.error(K_e(e))}}o(z_e,"loggingErrorHandler");US.loggingErrorHandler=z_e;function K_e(e){return typeof e=="string"?e:JSON.stringify(W_e(e))}o(K_e,"stringifyException");function W_e(e){let t={},r=e;for(;r!==null;)Object.getOwnPropertyNames(r).forEach(n=>{if(t[n])return;let s=r[n];s&&(t[n]=String(s))}),r=Object.getPrototypeOf(r);return t}o(W_e,"flattenException")});var WM=k(Av=>{"use strict";Object.defineProperty(Av,"__esModule",{value:!0});Av.globalErrorHandler=Av.setGlobalErrorHandler=void 0;var Y_e=KM(),Vee=(0,Y_e.loggingErrorHandler)();function X_e(e){Vee=e}o(X_e,"setGlobalErrorHandler");Av.setGlobalErrorHandler=X_e;function Q_e(e){try{Vee(e)}catch{}}o(Q_e,"globalErrorHandler");Av.globalErrorHandler=Q_e});var YM=k(K7=>{"use strict";Object.defineProperty(K7,"__esModule",{value:!0});K7.TracesSamplerValues=void 0;var J_e;(function(e){e.AlwaysOff="always_off",e.AlwaysOn="always_on",e.ParentBasedAlwaysOff="parentbased_always_off",e.ParentBasedAlwaysOn="parentbased_always_on",e.ParentBasedTraceIdRatio="parentbased_traceidratio",e.TraceIdRatio="traceidratio"})(J_e=K7.TracesSamplerValues||(K7.TracesSamplerValues={}))});var Gee=k(qS=>{"use strict";Object.defineProperty(qS,"__esModule",{value:!0});qS._globalThis=void 0;qS._globalThis=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof global=="object"?global:{}});var QM=k(ca=>{"use strict";Object.defineProperty(ca,"__esModule",{value:!0});ca.getEnvWithoutDefaults=ca.parseEnvironment=ca.DEFAULT_ENVIRONMENT=ca.DEFAULT_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT=ca.DEFAULT_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT=ca.DEFAULT_ATTRIBUTE_COUNT_LIMIT=ca.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT=void 0;var V5=o0(),Z_e=YM(),exe=Gee(),txe=",",rxe=["OTEL_SDK_DISABLED"];function nxe(e){return rxe.indexOf(e)>-1}o(nxe,"isEnvVarABoolean");var ixe=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_BLRP_EXPORT_TIMEOUT","OTEL_BLRP_MAX_EXPORT_BATCH_SIZE","OTEL_BLRP_MAX_QUEUE_SIZE","OTEL_BLRP_SCHEDULE_DELAY","OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT","OTEL_EXPORTER_OTLP_TIMEOUT","OTEL_EXPORTER_OTLP_TRACES_TIMEOUT","OTEL_EXPORTER_OTLP_METRICS_TIMEOUT","OTEL_EXPORTER_OTLP_LOGS_TIMEOUT","OTEL_EXPORTER_JAEGER_AGENT_PORT"];function sxe(e){return ixe.indexOf(e)>-1}o(sxe,"isEnvVarANumber");var axe=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS"];function oxe(e){return axe.indexOf(e)>-1}o(oxe,"isEnvVarAList");ca.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT=1/0;ca.DEFAULT_ATTRIBUTE_COUNT_LIMIT=128;ca.DEFAULT_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT=128;ca.DEFAULT_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT=128;ca.DEFAULT_ENVIRONMENT={OTEL_SDK_DISABLED:!1,CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_BLRP_EXPORT_TIMEOUT:3e4,OTEL_BLRP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BLRP_MAX_QUEUE_SIZE:2048,OTEL_BLRP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_AGENT_PORT:6832,OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_LOGS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_OTLP_LOGS_HEADERS:"",OTEL_EXPORTER_OTLP_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_TRACES_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_METRICS_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_LOGS_TIMEOUT:1e4,OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:V5.DiagLogLevel.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT:ca.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,OTEL_ATTRIBUTE_COUNT_LIMIT:ca.DEFAULT_ATTRIBUTE_COUNT_LIMIT,OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT:ca.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:ca.DEFAULT_ATTRIBUTE_COUNT_LIMIT,OTEL_LOGRECORD_ATTRIBUTE_VALUE_LENGTH_LIMIT:ca.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,OTEL_LOGRECORD_ATTRIBUTE_COUNT_LIMIT:ca.DEFAULT_ATTRIBUTE_COUNT_LIMIT,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT:ca.DEFAULT_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT,OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT:ca.DEFAULT_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT,OTEL_TRACES_EXPORTER:"",OTEL_TRACES_SAMPLER:Z_e.TracesSamplerValues.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:"",OTEL_LOGS_EXPORTER:"",OTEL_EXPORTER_OTLP_INSECURE:"",OTEL_EXPORTER_OTLP_TRACES_INSECURE:"",OTEL_EXPORTER_OTLP_METRICS_INSECURE:"",OTEL_EXPORTER_OTLP_LOGS_INSECURE:"",OTEL_EXPORTER_OTLP_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_COMPRESSION:"",OTEL_EXPORTER_OTLP_TRACES_COMPRESSION:"",OTEL_EXPORTER_OTLP_METRICS_COMPRESSION:"",OTEL_EXPORTER_OTLP_LOGS_COMPRESSION:"",OTEL_EXPORTER_OTLP_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_LOGS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_TRACES_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_LOGS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE:"cumulative"};function lxe(e,t,r){if(typeof r[e]>"u")return;let n=String(r[e]);t[e]=n.toLowerCase()==="true"}o(lxe,"parseBoolean");function cxe(e,t,r,n=-1/0,s=1/0){if(typeof r[e]<"u"){let a=Number(r[e]);isNaN(a)||(a<n?t[e]=n:a>s?t[e]=s:t[e]=a)}}o(cxe,"parseNumber");function uxe(e,t,r,n=txe){let s=r[e];typeof s=="string"&&(t[e]=s.split(n).map(a=>a.trim()))}o(uxe,"parseStringList");var fxe={ALL:V5.DiagLogLevel.ALL,VERBOSE:V5.DiagLogLevel.VERBOSE,DEBUG:V5.DiagLogLevel.DEBUG,INFO:V5.DiagLogLevel.INFO,WARN:V5.DiagLogLevel.WARN,ERROR:V5.DiagLogLevel.ERROR,NONE:V5.DiagLogLevel.NONE};function dxe(e,t,r){let n=r[e];if(typeof n=="string"){let s=fxe[n.toUpperCase()];s!=null&&(t[e]=s)}}o(dxe,"setLogLevelFromEnv");function XM(e){let t={};for(let r in ca.DEFAULT_ENVIRONMENT){let n=r;switch(n){case"OTEL_LOG_LEVEL":dxe(n,t,e);break;default:if(nxe(n))lxe(n,t,e);else if(sxe(n))cxe(n,t,e);else if(oxe(n))uxe(n,t,e);else{let s=e[n];typeof s<"u"&&s!==null&&(t[n]=String(s))}}}return t}o(XM,"parseEnvironment");ca.parseEnvironment=XM;function pxe(){return typeof process<"u"&&process&&process.env?XM(process.env):XM(exe._globalThis)}o(pxe,"getEnvWithoutDefaults");ca.getEnvWithoutDefaults=pxe});var Kee=k(jS=>{"use strict";Object.defineProperty(jS,"__esModule",{value:!0});jS.getEnv=void 0;var hxe=require("os"),zee=QM();function mxe(){let e=(0,zee.parseEnvironment)(process.env);return Object.assign({HOSTNAME:hxe.hostname()},zee.DEFAULT_ENVIRONMENT,e)}o(mxe,"getEnv");jS.getEnv=mxe});var Wee=k(HS=>{"use strict";Object.defineProperty(HS,"__esModule",{value:!0});HS._globalThis=void 0;HS._globalThis=typeof globalThis=="object"?globalThis:global});var Xee=k($S=>{"use strict";Object.defineProperty($S,"__esModule",{value:!0});$S.hexToBase64=void 0;function Yee(e){return e>=48&&e<=57?e-48:e>=97&&e<=102?e-87:e-55}o(Yee,"intValue");var gxe=Buffer.alloc(8),vxe=Buffer.alloc(16);function yxe(e){let t;e.length===16?t=gxe:e.length===32?t=vxe:t=Buffer.alloc(e.length/2);let r=0;for(let n=0;n<e.length;n+=2){let s=Yee(e.charCodeAt(n)),a=Yee(e.charCodeAt(n+1));t.writeUInt8(s<<4|a,r++)}return t.toString("base64")}o(yxe,"hexToBase64");$S.hexToBase64=yxe});var Zee=k(GS=>{"use strict";Object.defineProperty(GS,"__esModule",{value:!0});GS.RandomIdGenerator=void 0;var _xe=8,Jee=16,ZM=class ZM{constructor(){this.generateTraceId=Qee(Jee),this.generateSpanId=Qee(_xe)}};o(ZM,"RandomIdGenerator");var JM=ZM;GS.RandomIdGenerator=JM;var VS=Buffer.allocUnsafe(Jee);function Qee(e){return o(function(){for(let r=0;r<e/4;r++)VS.writeUInt32BE(Math.random()*2**32>>>0,r*4);for(let r=0;r<e&&!(VS[r]>0);r++)r===e-1&&(VS[e-1]=1);return VS.toString("hex",0,e)},"generateId")}o(Qee,"getIdGenerator")});var ete=k(zS=>{"use strict";Object.defineProperty(zS,"__esModule",{value:!0});zS.otperformance=void 0;var xxe=require("perf_hooks");zS.otperformance=xxe.performance});var WS=k(KS=>{"use strict";Object.defineProperty(KS,"__esModule",{value:!0});KS.VERSION=void 0;KS.VERSION="1.15.2"});var tte=k(q0=>{"use strict";Object.defineProperty(q0,"__esModule",{value:!0});q0.MessageTypeValues=q0.RpcGrpcStatusCodeValues=q0.MessagingOperationValues=q0.MessagingDestinationKindValues=q0.HttpFlavorValues=q0.NetHostConnectionSubtypeValues=q0.NetHostConnectionTypeValues=q0.NetTransportValues=q0.FaasInvokedProviderValues=q0.FaasDocumentOperationValues=q0.FaasTriggerValues=q0.DbCassandraConsistencyLevelValues=q0.DbSystemValues=q0.SemanticAttributes=void 0;q0.SemanticAttributes={AWS_LAMBDA_INVOKED_ARN:"aws.lambda.invoked_arn",DB_SYSTEM:"db.system",DB_CONNECTION_STRING:"db.connection_string",DB_USER:"db.user",DB_JDBC_DRIVER_CLASSNAME:"db.jdbc.driver_classname",DB_NAME:"db.name",DB_STATEMENT:"db.statement",DB_OPERATION:"db.operation",DB_MSSQL_INSTANCE_NAME:"db.mssql.instance_name",DB_CASSANDRA_KEYSPACE:"db.cassandra.keyspace",DB_CASSANDRA_PAGE_SIZE:"db.cassandra.page_size",DB_CASSANDRA_CONSISTENCY_LEVEL:"db.cassandra.consistency_level",DB_CASSANDRA_TABLE:"db.cassandra.table",DB_CASSANDRA_IDEMPOTENCE:"db.cassandra.idempotence",DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT:"db.cassandra.speculative_execution_count",DB_CASSANDRA_COORDINATOR_ID:"db.cassandra.coordinator.id",DB_CASSANDRA_COORDINATOR_DC:"db.cassandra.coordinator.dc",DB_HBASE_NAMESPACE:"db.hbase.namespace",DB_REDIS_DATABASE_INDEX:"db.redis.database_index",DB_MONGODB_COLLECTION:"db.mongodb.collection",DB_SQL_TABLE:"db.sql.table",EXCEPTION_TYPE:"exception.type",EXCEPTION_MESSAGE:"exception.message",EXCEPTION_STACKTRACE:"exception.stacktrace",EXCEPTION_ESCAPED:"exception.escaped",FAAS_TRIGGER:"faas.trigger",FAAS_EXECUTION:"faas.execution",FAAS_DOCUMENT_COLLECTION:"faas.document.collection",FAAS_DOCUMENT_OPERATION:"faas.document.operation",FAAS_DOCUMENT_TIME:"faas.document.time",FAAS_DOCUMENT_NAME:"faas.document.name",FAAS_TIME:"faas.time",FAAS_CRON:"faas.cron",FAAS_COLDSTART:"faas.coldstart",FAAS_INVOKED_NAME:"faas.invoked_name",FAAS_INVOKED_PROVIDER:"faas.invoked_provider",FAAS_INVOKED_REGION:"faas.invoked_region",NET_TRANSPORT:"net.transport",NET_PEER_IP:"net.peer.ip",NET_PEER_PORT:"net.peer.port",NET_PEER_NAME:"net.peer.name",NET_HOST_IP:"net.host.ip",NET_HOST_PORT:"net.host.port",NET_HOST_NAME:"net.host.name",NET_HOST_CONNECTION_TYPE:"net.host.connection.type",NET_HOST_CONNECTION_SUBTYPE:"net.host.connection.subtype",NET_HOST_CARRIER_NAME:"net.host.carrier.name",NET_HOST_CARRIER_MCC:"net.host.carrier.mcc",NET_HOST_CARRIER_MNC:"net.host.carrier.mnc",NET_HOST_CARRIER_ICC:"net.host.carrier.icc",PEER_SERVICE:"peer.service",ENDUSER_ID:"enduser.id",ENDUSER_ROLE:"enduser.role",ENDUSER_SCOPE:"enduser.scope",THREAD_ID:"thread.id",THREAD_NAME:"thread.name",CODE_FUNCTION:"code.function",CODE_NAMESPACE:"code.namespace",CODE_FILEPATH:"code.filepath",CODE_LINENO:"code.lineno",HTTP_METHOD:"http.method",HTTP_URL:"http.url",HTTP_TARGET:"http.target",HTTP_HOST:"http.host",HTTP_SCHEME:"http.scheme",HTTP_STATUS_CODE:"http.status_code",HTTP_FLAVOR:"http.flavor",HTTP_USER_AGENT:"http.user_agent",HTTP_REQUEST_CONTENT_LENGTH:"http.request_content_length",HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED:"http.request_content_length_uncompressed",HTTP_RESPONSE_CONTENT_LENGTH:"http.response_content_length",HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED:"http.response_content_length_uncompressed",HTTP_SERVER_NAME:"http.server_name",HTTP_ROUTE:"http.route",HTTP_CLIENT_IP:"http.client_ip",AWS_DYNAMODB_TABLE_NAMES:"aws.dynamodb.table_names",AWS_DYNAMODB_CONSUMED_CAPACITY:"aws.dynamodb.consumed_capacity",AWS_DYNAMODB_ITEM_COLLECTION_METRICS:"aws.dynamodb.item_collection_metrics",AWS_DYNAMODB_PROVISIONED_READ_CAPACITY:"aws.dynamodb.provisioned_read_capacity",AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY:"aws.dynamodb.provisioned_write_capacity",AWS_DYNAMODB_CONSISTENT_READ:"aws.dynamodb.consistent_read",AWS_DYNAMODB_PROJECTION:"aws.dynamodb.projection",AWS_DYNAMODB_LIMIT:"aws.dynamodb.limit",AWS_DYNAMODB_ATTRIBUTES_TO_GET:"aws.dynamodb.attributes_to_get",AWS_DYNAMODB_INDEX_NAME:"aws.dynamodb.index_name",AWS_DYNAMODB_SELECT:"aws.dynamodb.select",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES:"aws.dynamodb.global_secondary_indexes",AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES:"aws.dynamodb.local_secondary_indexes",AWS_DYNAMODB_EXCLUSIVE_START_TABLE:"aws.dynamodb.exclusive_start_table",AWS_DYNAMODB_TABLE_COUNT:"aws.dynamodb.table_count",AWS_DYNAMODB_SCAN_FORWARD:"aws.dynamodb.scan_forward",AWS_DYNAMODB_SEGMENT:"aws.dynamodb.segment",AWS_DYNAMODB_TOTAL_SEGMENTS:"aws.dynamodb.total_segments",AWS_DYNAMODB_COUNT:"aws.dynamodb.count",AWS_DYNAMODB_SCANNED_COUNT:"aws.dynamodb.scanned_count",AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS:"aws.dynamodb.attribute_definitions",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES:"aws.dynamodb.global_secondary_index_updates",MESSAGING_SYSTEM:"messaging.system",MESSAGING_DESTINATION:"messaging.destination",MESSAGING_DESTINATION_KIND:"messaging.destination_kind",MESSAGING_TEMP_DESTINATION:"messaging.temp_destination",MESSAGING_PROTOCOL:"messaging.protocol",MESSAGING_PROTOCOL_VERSION:"messaging.protocol_version",MESSAGING_URL:"messaging.url",MESSAGING_MESSAGE_ID:"messaging.message_id",MESSAGING_CONVERSATION_ID:"messaging.conversation_id",MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES:"messaging.message_payload_size_bytes",MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES:"messaging.message_payload_compressed_size_bytes",MESSAGING_OPERATION:"messaging.operation",MESSAGING_CONSUMER_ID:"messaging.consumer_id",MESSAGING_RABBITMQ_ROUTING_KEY:"messaging.rabbitmq.routing_key",MESSAGING_KAFKA_MESSAGE_KEY:"messaging.kafka.message_key",MESSAGING_KAFKA_CONSUMER_GROUP:"messaging.kafka.consumer_group",MESSAGING_KAFKA_CLIENT_ID:"messaging.kafka.client_id",MESSAGING_KAFKA_PARTITION:"messaging.kafka.partition",MESSAGING_KAFKA_TOMBSTONE:"messaging.kafka.tombstone",RPC_SYSTEM:"rpc.system",RPC_SERVICE:"rpc.service",RPC_METHOD:"rpc.method",RPC_GRPC_STATUS_CODE:"rpc.grpc.status_code",RPC_JSONRPC_VERSION:"rpc.jsonrpc.version",RPC_JSONRPC_REQUEST_ID:"rpc.jsonrpc.request_id",RPC_JSONRPC_ERROR_CODE:"rpc.jsonrpc.error_code",RPC_JSONRPC_ERROR_MESSAGE:"rpc.jsonrpc.error_message",MESSAGE_TYPE:"message.type",MESSAGE_ID:"message.id",MESSAGE_COMPRESSED_SIZE:"message.compressed_size",MESSAGE_UNCOMPRESSED_SIZE:"message.uncompressed_size"};q0.DbSystemValues={OTHER_SQL:"other_sql",MSSQL:"mssql",MYSQL:"mysql",ORACLE:"oracle",DB2:"db2",POSTGRESQL:"postgresql",REDSHIFT:"redshift",HIVE:"hive",CLOUDSCAPE:"cloudscape",HSQLDB:"hsqldb",PROGRESS:"progress",MAXDB:"maxdb",HANADB:"hanadb",INGRES:"ingres",FIRSTSQL:"firstsql",EDB:"edb",CACHE:"cache",ADABAS:"adabas",FIREBIRD:"firebird",DERBY:"derby",FILEMAKER:"filemaker",INFORMIX:"informix",INSTANTDB:"instantdb",INTERBASE:"interbase",MARIADB:"mariadb",NETEZZA:"netezza",PERVASIVE:"pervasive",POINTBASE:"pointbase",SQLITE:"sqlite",SYBASE:"sybase",TERADATA:"teradata",VERTICA:"vertica",H2:"h2",COLDFUSION:"coldfusion",CASSANDRA:"cassandra",HBASE:"hbase",MONGODB:"mongodb",REDIS:"redis",COUCHBASE:"couchbase",COUCHDB:"couchdb",COSMOSDB:"cosmosdb",DYNAMODB:"dynamodb",NEO4J:"neo4j",GEODE:"geode",ELASTICSEARCH:"elasticsearch",MEMCACHED:"memcached",COCKROACHDB:"cockroachdb"};q0.DbCassandraConsistencyLevelValues={ALL:"all",EACH_QUORUM:"each_quorum",QUORUM:"quorum",LOCAL_QUORUM:"local_quorum",ONE:"one",TWO:"two",THREE:"three",LOCAL_ONE:"local_one",ANY:"any",SERIAL:"serial",LOCAL_SERIAL:"local_serial"};q0.FaasTriggerValues={DATASOURCE:"datasource",HTTP:"http",PUBSUB:"pubsub",TIMER:"timer",OTHER:"other"};q0.FaasDocumentOperationValues={INSERT:"insert",EDIT:"edit",DELETE:"delete"};q0.FaasInvokedProviderValues={ALIBABA_CLOUD:"alibaba_cloud",AWS:"aws",AZURE:"azure",GCP:"gcp"};q0.NetTransportValues={IP_TCP:"ip_tcp",IP_UDP:"ip_udp",IP:"ip",UNIX:"unix",PIPE:"pipe",INPROC:"inproc",OTHER:"other"};q0.NetHostConnectionTypeValues={WIFI:"wifi",WIRED:"wired",CELL:"cell",UNAVAILABLE:"unavailable",UNKNOWN:"unknown"};q0.NetHostConnectionSubtypeValues={GPRS:"gprs",EDGE:"edge",UMTS:"umts",CDMA:"cdma",EVDO_0:"evdo_0",EVDO_A:"evdo_a",CDMA2000_1XRTT:"cdma2000_1xrtt",HSDPA:"hsdpa",HSUPA:"hsupa",HSPA:"hspa",IDEN:"iden",EVDO_B:"evdo_b",LTE:"lte",EHRPD:"ehrpd",HSPAP:"hspap",GSM:"gsm",TD_SCDMA:"td_scdma",IWLAN:"iwlan",NR:"nr",NRNSA:"nrnsa",LTE_CA:"lte_ca"};q0.HttpFlavorValues={HTTP_1_0:"1.0",HTTP_1_1:"1.1",HTTP_2_0:"2.0",SPDY:"SPDY",QUIC:"QUIC"};q0.MessagingDestinationKindValues={QUEUE:"queue",TOPIC:"topic"};q0.MessagingOperationValues={RECEIVE:"receive",PROCESS:"process"};q0.RpcGrpcStatusCodeValues={OK:0,CANCELLED:1,UNKNOWN:2,INVALID_ARGUMENT:3,DEADLINE_EXCEEDED:4,NOT_FOUND:5,ALREADY_EXISTS:6,PERMISSION_DENIED:7,RESOURCE_EXHAUSTED:8,FAILED_PRECONDITION:9,ABORTED:10,OUT_OF_RANGE:11,UNIMPLEMENTED:12,INTERNAL:13,UNAVAILABLE:14,DATA_LOSS:15,UNAUTHENTICATED:16};q0.MessageTypeValues={SENT:"SENT",RECEIVED:"RECEIVED"}});var rte=k(qm=>{"use strict";var bxe=qm&&qm.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Exe=qm&&qm.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&bxe(t,e,r)};Object.defineProperty(qm,"__esModule",{value:!0});Exe(tte(),qm)});var nte=k(Rc=>{"use strict";Object.defineProperty(Rc,"__esModule",{value:!0});Rc.TelemetrySdkLanguageValues=Rc.OsTypeValues=Rc.HostArchValues=Rc.AwsEcsLaunchtypeValues=Rc.CloudPlatformValues=Rc.CloudProviderValues=Rc.SemanticResourceAttributes=void 0;Rc.SemanticResourceAttributes={CLOUD_PROVIDER:"cloud.provider",CLOUD_ACCOUNT_ID:"cloud.account.id",CLOUD_REGION:"cloud.region",CLOUD_AVAILABILITY_ZONE:"cloud.availability_zone",CLOUD_PLATFORM:"cloud.platform",AWS_ECS_CONTAINER_ARN:"aws.ecs.container.arn",AWS_ECS_CLUSTER_ARN:"aws.ecs.cluster.arn",AWS_ECS_LAUNCHTYPE:"aws.ecs.launchtype",AWS_ECS_TASK_ARN:"aws.ecs.task.arn",AWS_ECS_TASK_FAMILY:"aws.ecs.task.family",AWS_ECS_TASK_REVISION:"aws.ecs.task.revision",AWS_EKS_CLUSTER_ARN:"aws.eks.cluster.arn",AWS_LOG_GROUP_NAMES:"aws.log.group.names",AWS_LOG_GROUP_ARNS:"aws.log.group.arns",AWS_LOG_STREAM_NAMES:"aws.log.stream.names",AWS_LOG_STREAM_ARNS:"aws.log.stream.arns",CONTAINER_NAME:"container.name",CONTAINER_ID:"container.id",CONTAINER_RUNTIME:"container.runtime",CONTAINER_IMAGE_NAME:"container.image.name",CONTAINER_IMAGE_TAG:"container.image.tag",DEPLOYMENT_ENVIRONMENT:"deployment.environment",DEVICE_ID:"device.id",DEVICE_MODEL_IDENTIFIER:"device.model.identifier",DEVICE_MODEL_NAME:"device.model.name",FAAS_NAME:"faas.name",FAAS_ID:"faas.id",FAAS_VERSION:"faas.version",FAAS_INSTANCE:"faas.instance",FAAS_MAX_MEMORY:"faas.max_memory",HOST_ID:"host.id",HOST_NAME:"host.name",HOST_TYPE:"host.type",HOST_ARCH:"host.arch",HOST_IMAGE_NAME:"host.image.name",HOST_IMAGE_ID:"host.image.id",HOST_IMAGE_VERSION:"host.image.version",K8S_CLUSTER_NAME:"k8s.cluster.name",K8S_NODE_NAME:"k8s.node.name",K8S_NODE_UID:"k8s.node.uid",K8S_NAMESPACE_NAME:"k8s.namespace.name",K8S_POD_UID:"k8s.pod.uid",K8S_POD_NAME:"k8s.pod.name",K8S_CONTAINER_NAME:"k8s.container.name",K8S_REPLICASET_UID:"k8s.replicaset.uid",K8S_REPLICASET_NAME:"k8s.replicaset.name",K8S_DEPLOYMENT_UID:"k8s.deployment.uid",K8S_DEPLOYMENT_NAME:"k8s.deployment.name",K8S_STATEFULSET_UID:"k8s.statefulset.uid",K8S_STATEFULSET_NAME:"k8s.statefulset.name",K8S_DAEMONSET_UID:"k8s.daemonset.uid",K8S_DAEMONSET_NAME:"k8s.daemonset.name",K8S_JOB_UID:"k8s.job.uid",K8S_JOB_NAME:"k8s.job.name",K8S_CRONJOB_UID:"k8s.cronjob.uid",K8S_CRONJOB_NAME:"k8s.cronjob.name",OS_TYPE:"os.type",OS_DESCRIPTION:"os.description",OS_NAME:"os.name",OS_VERSION:"os.version",PROCESS_PID:"process.pid",PROCESS_EXECUTABLE_NAME:"process.executable.name",PROCESS_EXECUTABLE_PATH:"process.executable.path",PROCESS_COMMAND:"process.command",PROCESS_COMMAND_LINE:"process.command_line",PROCESS_COMMAND_ARGS:"process.command_args",PROCESS_OWNER:"process.owner",PROCESS_RUNTIME_NAME:"process.runtime.name",PROCESS_RUNTIME_VERSION:"process.runtime.version",PROCESS_RUNTIME_DESCRIPTION:"process.runtime.description",SERVICE_NAME:"service.name",SERVICE_NAMESPACE:"service.namespace",SERVICE_INSTANCE_ID:"service.instance.id",SERVICE_VERSION:"service.version",TELEMETRY_SDK_NAME:"telemetry.sdk.name",TELEMETRY_SDK_LANGUAGE:"telemetry.sdk.language",TELEMETRY_SDK_VERSION:"telemetry.sdk.version",TELEMETRY_AUTO_VERSION:"telemetry.auto.version",WEBENGINE_NAME:"webengine.name",WEBENGINE_VERSION:"webengine.version",WEBENGINE_DESCRIPTION:"webengine.description"};Rc.CloudProviderValues={ALIBABA_CLOUD:"alibaba_cloud",AWS:"aws",AZURE:"azure",GCP:"gcp"};Rc.CloudPlatformValues={ALIBABA_CLOUD_ECS:"alibaba_cloud_ecs",ALIBABA_CLOUD_FC:"alibaba_cloud_fc",AWS_EC2:"aws_ec2",AWS_ECS:"aws_ecs",AWS_EKS:"aws_eks",AWS_LAMBDA:"aws_lambda",AWS_ELASTIC_BEANSTALK:"aws_elastic_beanstalk",AZURE_VM:"azure_vm",AZURE_CONTAINER_INSTANCES:"azure_container_instances",AZURE_AKS:"azure_aks",AZURE_FUNCTIONS:"azure_functions",AZURE_APP_SERVICE:"azure_app_service",GCP_COMPUTE_ENGINE:"gcp_compute_engine",GCP_CLOUD_RUN:"gcp_cloud_run",GCP_KUBERNETES_ENGINE:"gcp_kubernetes_engine",GCP_CLOUD_FUNCTIONS:"gcp_cloud_functions",GCP_APP_ENGINE:"gcp_app_engine"};Rc.AwsEcsLaunchtypeValues={EC2:"ec2",FARGATE:"fargate"};Rc.HostArchValues={AMD64:"amd64",ARM32:"arm32",ARM64:"arm64",IA64:"ia64",PPC32:"ppc32",PPC64:"ppc64",X86:"x86"};Rc.OsTypeValues={WINDOWS:"windows",LINUX:"linux",DARWIN:"darwin",FREEBSD:"freebsd",NETBSD:"netbsd",OPENBSD:"openbsd",DRAGONFLYBSD:"dragonflybsd",HPUX:"hpux",AIX:"aix",SOLARIS:"solaris",Z_OS:"z_os"};Rc.TelemetrySdkLanguageValues={CPP:"cpp",DOTNET:"dotnet",ERLANG:"erlang",GO:"go",JAVA:"java",NODEJS:"nodejs",PHP:"php",PYTHON:"python",RUBY:"ruby",WEBJS:"webjs"}});var ite=k(jm=>{"use strict";var Txe=jm&&jm.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Cxe=jm&&jm.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Txe(t,e,r)};Object.defineProperty(jm,"__esModule",{value:!0});Cxe(nte(),jm)});var Id=k(G5=>{"use strict";var Sxe=G5&&G5.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),ste=G5&&G5.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Sxe(t,e,r)};Object.defineProperty(G5,"__esModule",{value:!0});ste(rte(),G5);ste(ite(),G5)});var ate=k(YS=>{"use strict";Object.defineProperty(YS,"__esModule",{value:!0});YS.SDK_INFO=void 0;var Ixe=WS(),W7=Id();YS.SDK_INFO={[W7.SemanticResourceAttributes.TELEMETRY_SDK_NAME]:"opentelemetry",[W7.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]:"node",[W7.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE]:W7.TelemetrySdkLanguageValues.NODEJS,[W7.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]:Ixe.VERSION}});var ote=k(XS=>{"use strict";Object.defineProperty(XS,"__esModule",{value:!0});XS.unrefTimer=void 0;function Axe(e){e.unref()}o(Axe,"unrefTimer");XS.unrefTimer=Axe});var lte=k(Hu=>{"use strict";var wxe=Hu&&Hu.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Hm=Hu&&Hu.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&wxe(t,e,r)};Object.defineProperty(Hu,"__esModule",{value:!0});Hm(Kee(),Hu);Hm(Wee(),Hu);Hm(Xee(),Hu);Hm(Zee(),Hu);Hm(ete(),Hu);Hm(ate(),Hu);Hm(ote(),Hu)});var eB=k($m=>{"use strict";var Rxe=$m&&$m.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Pxe=$m&&$m.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Rxe(t,e,r)};Object.defineProperty($m,"__esModule",{value:!0});Pxe(lte(),$m)});var dte=k(ea=>{"use strict";Object.defineProperty(ea,"__esModule",{value:!0});ea.addHrTimes=ea.isTimeInput=ea.isTimeInputHrTime=ea.hrTimeToMicroseconds=ea.hrTimeToMilliseconds=ea.hrTimeToNanoseconds=ea.hrTimeToTimeStamp=ea.hrTimeDuration=ea.timeInputToHrTime=ea.hrTime=ea.getTimeOrigin=ea.millisToHrTime=void 0;var tB=eB(),cte=9,Nxe=6,Oxe=Math.pow(10,Nxe),QS=Math.pow(10,cte);function Y7(e){let t=e/1e3,r=Math.trunc(t),n=Math.round(e%1e3*Oxe);return[r,n]}o(Y7,"millisToHrTime");ea.millisToHrTime=Y7;function rB(){let e=tB.otperformance.timeOrigin;if(typeof e!="number"){let t=tB.otperformance;e=t.timing&&t.timing.fetchStart}return e}o(rB,"getTimeOrigin");ea.getTimeOrigin=rB;function ute(e){let t=Y7(rB()),r=Y7(typeof e=="number"?e:tB.otperformance.now());return fte(t,r)}o(ute,"hrTime");ea.hrTime=ute;function Dxe(e){if(nB(e))return e;if(typeof e=="number")return e<rB()?ute(e):Y7(e);if(e instanceof Date)return Y7(e.getTime());throw TypeError("Invalid input type")}o(Dxe,"timeInputToHrTime");ea.timeInputToHrTime=Dxe;function Lxe(e,t){let r=t[0]-e[0],n=t[1]-e[1];return n<0&&(r-=1,n+=QS),[r,n]}o(Lxe,"hrTimeDuration");ea.hrTimeDuration=Lxe;function kxe(e){let t=cte,r=`${"0".repeat(t)}${e[1]}Z`,n=r.substr(r.length-t-1);return new Date(e[0]*1e3).toISOString().replace("000Z",n)}o(kxe,"hrTimeToTimeStamp");ea.hrTimeToTimeStamp=kxe;function Mxe(e){return e[0]*QS+e[1]}o(Mxe,"hrTimeToNanoseconds");ea.hrTimeToNanoseconds=Mxe;function Bxe(e){return e[0]*1e3+e[1]/1e6}o(Bxe,"hrTimeToMilliseconds");ea.hrTimeToMilliseconds=Bxe;function Fxe(e){return e[0]*1e6+e[1]/1e3}o(Fxe,"hrTimeToMicroseconds");ea.hrTimeToMicroseconds=Fxe;function nB(e){return Array.isArray(e)&&e.length===2&&typeof e[0]=="number"&&typeof e[1]=="number"}o(nB,"isTimeInputHrTime");ea.isTimeInputHrTime=nB;function Uxe(e){return nB(e)||typeof e=="number"||e instanceof Date}o(Uxe,"isTimeInput");ea.isTimeInput=Uxe;function fte(e,t){let r=[e[0]+t[0],e[1]+t[1]];return r[1]>=QS&&(r[1]-=QS,r[0]+=1),r}o(fte,"addHrTimes");ea.addHrTimes=fte});var hte=k(pte=>{"use strict";Object.defineProperty(pte,"__esModule",{value:!0})});var mte=k(X7=>{"use strict";Object.defineProperty(X7,"__esModule",{value:!0});X7.ExportResultCode=void 0;var qxe;(function(e){e[e.SUCCESS=0]="SUCCESS",e[e.FAILED=1]="FAILED"})(qxe=X7.ExportResultCode||(X7.ExportResultCode={}))});var vte=k(JS=>{"use strict";Object.defineProperty(JS,"__esModule",{value:!0});JS.CompositePropagator=void 0;var gte=o0(),sB=class sB{constructor(t={}){var r;this._propagators=(r=t.propagators)!==null&&r!==void 0?r:[],this._fields=Array.from(new Set(this._propagators.map(n=>typeof n.fields=="function"?n.fields():[]).reduce((n,s)=>n.concat(s),[])))}inject(t,r,n){for(let s of this._propagators)try{s.inject(t,r,n)}catch(a){gte.diag.warn(`Failed to inject with ${s.constructor.name}. Err: ${a.message}`)}}extract(t,r,n){return this._propagators.reduce((s,a)=>{try{return a.extract(s,r,n)}catch(l){gte.diag.warn(`Failed to inject with ${a.constructor.name}. Err: ${l.message}`)}return s},t)}fields(){return this._fields.slice()}};o(sB,"CompositePropagator");var iB=sB;JS.CompositePropagator=iB});var yte=k(wv=>{"use strict";Object.defineProperty(wv,"__esModule",{value:!0});wv.validateValue=wv.validateKey=void 0;var aB="[_0-9a-z-*/]",jxe=`[a-z]${aB}{0,255}`,Hxe=`[a-z0-9]${aB}{0,240}@[a-z]${aB}{0,13}`,$xe=new RegExp(`^(?:${jxe}|${Hxe})$`),Vxe=/^[ -~]{0,255}[!-~]$/,Gxe=/,|=/;function zxe(e){return $xe.test(e)}o(zxe,"validateKey");wv.validateKey=zxe;function Kxe(e){return Vxe.test(e)&&!Gxe.test(e)}o(Kxe,"validateValue");wv.validateValue=Kxe});var lB=k(eI=>{"use strict";Object.defineProperty(eI,"__esModule",{value:!0});eI.TraceState=void 0;var _te=yte(),xte=32,Wxe=512,bte=",",Ete="=",ZS=class ZS{constructor(t){this._internalState=new Map,t&&this._parse(t)}set(t,r){let n=this._clone();return n._internalState.has(t)&&n._internalState.delete(t),n._internalState.set(t,r),n}unset(t){let r=this._clone();return r._internalState.delete(t),r}get(t){return this._internalState.get(t)}serialize(){return this._keys().reduce((t,r)=>(t.push(r+Ete+this.get(r)),t),[]).join(bte)}_parse(t){t.length>Wxe||(this._internalState=t.split(bte).reverse().reduce((r,n)=>{let s=n.trim(),a=s.indexOf(Ete);if(a!==-1){let l=s.slice(0,a),c=s.slice(a+1,n.length);(0,_te.validateKey)(l)&&(0,_te.validateValue)(c)&&r.set(l,c)}return r},new Map),this._internalState.size>xte&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,xte))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let t=new ZS;return t._internalState=new Map(this._internalState),t}};o(ZS,"TraceState");var oB=ZS;eI.TraceState=oB});var Cte=k(Pc=>{"use strict";Object.defineProperty(Pc,"__esModule",{value:!0});Pc.W3CTraceContextPropagator=Pc.parseTraceParent=Pc.TRACE_STATE_HEADER=Pc.TRACE_PARENT_HEADER=void 0;var tI=o0(),Yxe=z7(),Xxe=lB();Pc.TRACE_PARENT_HEADER="traceparent";Pc.TRACE_STATE_HEADER="tracestate";var Qxe="00",Jxe="(?!ff)[\\da-f]{2}",Zxe="(?![0]{32})[\\da-f]{32}",ebe="(?![0]{16})[\\da-f]{16}",tbe="[\\da-f]{2}",rbe=new RegExp(`^\\s?(${Jxe})-(${Zxe})-(${ebe})-(${tbe})(-.*)?\\s?$`);function Tte(e){let t=rbe.exec(e);return!t||t[1]==="00"&&t[5]?null:{traceId:t[2],spanId:t[3],traceFlags:parseInt(t[4],16)}}o(Tte,"parseTraceParent");Pc.parseTraceParent=Tte;var uB=class uB{inject(t,r,n){let s=tI.trace.getSpanContext(t);if(!s||(0,Yxe.isTracingSuppressed)(t)||!(0,tI.isSpanContextValid)(s))return;let a=`${Qxe}-${s.traceId}-${s.spanId}-0${Number(s.traceFlags||tI.TraceFlags.NONE).toString(16)}`;n.set(r,Pc.TRACE_PARENT_HEADER,a),s.traceState&&n.set(r,Pc.TRACE_STATE_HEADER,s.traceState.serialize())}extract(t,r,n){let s=n.get(r,Pc.TRACE_PARENT_HEADER);if(!s)return t;let a=Array.isArray(s)?s[0]:s;if(typeof a!="string")return t;let l=Tte(a);if(!l)return t;l.isRemote=!0;let c=n.get(r,Pc.TRACE_STATE_HEADER);if(c){let u=Array.isArray(c)?c.join(","):c;l.traceState=new Xxe.TraceState(typeof u=="string"?u:void 0)}return tI.trace.setSpanContext(t,l)}fields(){return[Pc.TRACE_PARENT_HEADER,Pc.TRACE_STATE_HEADER]}};o(uB,"W3CTraceContextPropagator");var cB=uB;Pc.W3CTraceContextPropagator=cB});var Ite=k(Ste=>{"use strict";Object.defineProperty(Ste,"__esModule",{value:!0})});var Ate=k(Ad=>{"use strict";Object.defineProperty(Ad,"__esModule",{value:!0});Ad.getRPCMetadata=Ad.deleteRPCMetadata=Ad.setRPCMetadata=Ad.RPCType=void 0;var nbe=o0(),fB=(0,nbe.createContextKey)("OpenTelemetry SDK Context Key RPC_METADATA"),ibe;(function(e){e.HTTP="http"})(ibe=Ad.RPCType||(Ad.RPCType={}));function sbe(e,t){return e.setValue(fB,t)}o(sbe,"setRPCMetadata");Ad.setRPCMetadata=sbe;function abe(e){return e.deleteValue(fB)}o(abe,"deleteRPCMetadata");Ad.deleteRPCMetadata=abe;function obe(e){return e.getValue(fB)}o(obe,"getRPCMetadata");Ad.getRPCMetadata=obe});var hB=k(rI=>{"use strict";Object.defineProperty(rI,"__esModule",{value:!0});rI.AlwaysOffSampler=void 0;var lbe=o0(),pB=class pB{shouldSample(){return{decision:lbe.SamplingDecision.NOT_RECORD}}toString(){return"AlwaysOffSampler"}};o(pB,"AlwaysOffSampler");var dB=pB;rI.AlwaysOffSampler=dB});var vB=k(nI=>{"use strict";Object.defineProperty(nI,"__esModule",{value:!0});nI.AlwaysOnSampler=void 0;var cbe=o0(),gB=class gB{shouldSample(){return{decision:cbe.SamplingDecision.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}};o(gB,"AlwaysOnSampler");var mB=gB;nI.AlwaysOnSampler=mB});var Rte=k(sI=>{"use strict";Object.defineProperty(sI,"__esModule",{value:!0});sI.ParentBasedSampler=void 0;var iI=o0(),ube=WM(),wte=hB(),yB=vB(),xB=class xB{constructor(t){var r,n,s,a;this._root=t.root,this._root||((0,ube.globalErrorHandler)(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new yB.AlwaysOnSampler),this._remoteParentSampled=(r=t.remoteParentSampled)!==null&&r!==void 0?r:new yB.AlwaysOnSampler,this._remoteParentNotSampled=(n=t.remoteParentNotSampled)!==null&&n!==void 0?n:new wte.AlwaysOffSampler,this._localParentSampled=(s=t.localParentSampled)!==null&&s!==void 0?s:new yB.AlwaysOnSampler,this._localParentNotSampled=(a=t.localParentNotSampled)!==null&&a!==void 0?a:new wte.AlwaysOffSampler}shouldSample(t,r,n,s,a,l){let c=iI.trace.getSpanContext(t);return!c||!(0,iI.isSpanContextValid)(c)?this._root.shouldSample(t,r,n,s,a,l):c.isRemote?c.traceFlags&iI.TraceFlags.SAMPLED?this._remoteParentSampled.shouldSample(t,r,n,s,a,l):this._remoteParentNotSampled.shouldSample(t,r,n,s,a,l):c.traceFlags&iI.TraceFlags.SAMPLED?this._localParentSampled.shouldSample(t,r,n,s,a,l):this._localParentNotSampled.shouldSample(t,r,n,s,a,l)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}};o(xB,"ParentBasedSampler");var _B=xB;sI.ParentBasedSampler=_B});var Pte=k(aI=>{"use strict";Object.defineProperty(aI,"__esModule",{value:!0});aI.TraceIdRatioBasedSampler=void 0;var bB=o0(),TB=class TB{constructor(t=0){this._ratio=t,this._ratio=this._normalize(t),this._upperBound=Math.floor(this._ratio*4294967295)}shouldSample(t,r){return{decision:(0,bB.isValidTraceId)(r)&&this._accumulate(r)<this._upperBound?bB.SamplingDecision.RECORD_AND_SAMPLED:bB.SamplingDecision.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(t){return typeof t!="number"||isNaN(t)?0:t>=1?1:t<=0?0:t}_accumulate(t){let r=0;for(let n=0;n<t.length/8;n++){let s=n*8,a=parseInt(t.slice(s,s+8),16);r=(r^a)>>>0}return r}};o(TB,"TraceIdRatioBasedSampler");var EB=TB;aI.TraceIdRatioBasedSampler=EB});var kte=k(oI=>{"use strict";Object.defineProperty(oI,"__esModule",{value:!0});oI.isPlainObject=void 0;var fbe="[object Object]",dbe="[object Null]",pbe="[object Undefined]",hbe=Function.prototype,Nte=hbe.toString,mbe=Nte.call(Object),gbe=vbe(Object.getPrototypeOf,Object),Ote=Object.prototype,Dte=Ote.hasOwnProperty,Vm=Symbol?Symbol.toStringTag:void 0,Lte=Ote.toString;function vbe(e,t){return function(r){return e(t(r))}}o(vbe,"overArg");function ybe(e){if(!_be(e)||xbe(e)!==fbe)return!1;let t=gbe(e);if(t===null)return!0;let r=Dte.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&Nte.call(r)===mbe}o(ybe,"isPlainObject");oI.isPlainObject=ybe;function _be(e){return e!=null&&typeof e=="object"}o(_be,"isObjectLike");function xbe(e){return e==null?e===void 0?pbe:dbe:Vm&&Vm in Object(e)?bbe(e):Ebe(e)}o(xbe,"baseGetTag");function bbe(e){let t=Dte.call(e,Vm),r=e[Vm],n=!1;try{e[Vm]=void 0,n=!0}catch{}let s=Lte.call(e);return n&&(t?e[Vm]=r:delete e[Vm]),s}o(bbe,"getRawTag");function Ebe(e){return Lte.call(e)}o(Ebe,"objectToString")});var qte=k(uI=>{"use strict";Object.defineProperty(uI,"__esModule",{value:!0});uI.merge=void 0;var Mte=kte(),Tbe=20;function Cbe(...e){let t=e.shift(),r=new WeakMap;for(;e.length>0;)t=Fte(t,e.shift(),0,r);return t}o(Cbe,"merge");uI.merge=Cbe;function CB(e){return cI(e)?e.slice():e}o(CB,"takeValue");function Fte(e,t,r=0,n){let s;if(!(r>Tbe)){if(r++,lI(e)||lI(t)||Ute(t))s=CB(t);else if(cI(e)){if(s=e.slice(),cI(t))for(let a=0,l=t.length;a<l;a++)s.push(CB(t[a]));else if(Q7(t)){let a=Object.keys(t);for(let l=0,c=a.length;l<c;l++){let u=a[l];s[u]=CB(t[u])}}}else if(Q7(e))if(Q7(t)){if(!Sbe(e,t))return t;s=Object.assign({},e);let a=Object.keys(t);for(let l=0,c=a.length;l<c;l++){let u=a[l],f=t[u];if(lI(f))typeof f>"u"?delete s[u]:s[u]=f;else{let d=s[u],p=f;if(Bte(e,u,n)||Bte(t,u,n))delete s[u];else{if(Q7(d)&&Q7(p)){let h=n.get(d)||[],m=n.get(p)||[];h.push({obj:e,key:u}),m.push({obj:t,key:u}),n.set(d,h),n.set(p,m)}s[u]=Fte(s[u],f,r,n)}}}}else s=t;return s}}o(Fte,"mergeTwoObjects");function Bte(e,t,r){let n=r.get(e[t])||[];for(let s=0,a=n.length;s<a;s++){let l=n[s];if(l.key===t&&l.obj===e)return!0}return!1}o(Bte,"wasObjectReferenced");function cI(e){return Array.isArray(e)}o(cI,"isArray");function Ute(e){return typeof e=="function"}o(Ute,"isFunction");function Q7(e){return!lI(e)&&!cI(e)&&!Ute(e)&&typeof e=="object"}o(Q7,"isObject");function lI(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e>"u"||e instanceof Date||e instanceof RegExp||e===null}o(lI,"isPrimitive");function Sbe(e,t){return!(!(0,Mte.isPlainObject)(e)||!(0,Mte.isPlainObject)(t))}o(Sbe,"shouldMerge")});var jte=k(Rv=>{"use strict";Object.defineProperty(Rv,"__esModule",{value:!0});Rv.callWithTimeout=Rv.TimeoutError=void 0;var dI=class dI extends Error{constructor(t){super(t),Object.setPrototypeOf(this,dI.prototype)}};o(dI,"TimeoutError");var fI=dI;Rv.TimeoutError=fI;function Ibe(e,t){let r,n=new Promise(o(function(a,l){r=setTimeout(o(function(){l(new fI("Operation timed out."))},"timeoutHandler"),t)},"timeoutFunction"));return Promise.race([e,n]).then(s=>(clearTimeout(r),s),s=>{throw clearTimeout(r),s})}o(Ibe,"callWithTimeout");Rv.callWithTimeout=Ibe});var $te=k(Pv=>{"use strict";Object.defineProperty(Pv,"__esModule",{value:!0});Pv.isUrlIgnored=Pv.urlMatches=void 0;function Hte(e,t){return typeof t=="string"?e===t:!!e.match(t)}o(Hte,"urlMatches");Pv.urlMatches=Hte;function Abe(e,t){if(!t)return!1;for(let r of t)if(Hte(e,r))return!0;return!1}o(Abe,"isUrlIgnored");Pv.isUrlIgnored=Abe});var Vte=k(pI=>{"use strict";Object.defineProperty(pI,"__esModule",{value:!0});pI.isWrapped=void 0;function wbe(e){return typeof e=="function"&&typeof e.__original=="function"&&typeof e.__unwrap=="function"&&e.__wrapped===!0}o(wbe,"isWrapped");pI.isWrapped=wbe});var Gte=k(hI=>{"use strict";Object.defineProperty(hI,"__esModule",{value:!0});hI.Deferred=void 0;var IB=class IB{constructor(){this._promise=new Promise((t,r)=>{this._resolve=t,this._reject=r})}get promise(){return this._promise}resolve(t){this._resolve(t)}reject(t){this._reject(t)}};o(IB,"Deferred");var SB=IB;hI.Deferred=SB});var zte=k(mI=>{"use strict";Object.defineProperty(mI,"__esModule",{value:!0});mI.BindOnceFuture=void 0;var Rbe=Gte(),wB=class wB{constructor(t,r){this._callback=t,this._that=r,this._isCalled=!1,this._deferred=new Rbe.Deferred}get isCalled(){return this._isCalled}get promise(){return this._deferred.promise}call(...t){if(!this._isCalled){this._isCalled=!0;try{Promise.resolve(this._callback.call(this._that,...t)).then(r=>this._deferred.resolve(r),r=>this._deferred.reject(r))}catch(r){this._deferred.reject(r)}}return this._deferred.promise}};o(wB,"BindOnceFuture");var AB=wB;mI.BindOnceFuture=AB});var Wte=k(gI=>{"use strict";Object.defineProperty(gI,"__esModule",{value:!0});gI._export=void 0;var Kte=o0(),Pbe=z7();function Nbe(e,t){return new Promise(r=>{Kte.context.with((0,Pbe.suppressTracing)(Kte.context.active()),()=>{e.export(t,n=>{r(n)})})})}o(Nbe,"_export");gI._export=Nbe});var Jc=k(i0=>{"use strict";var Obe=i0&&i0.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),W0=i0&&i0.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Obe(t,e,r)};Object.defineProperty(i0,"__esModule",{value:!0});i0.internal=i0.baggageUtils=void 0;W0(Bee(),i0);W0(Fee(),i0);W0($ee(),i0);W0(WM(),i0);W0(KM(),i0);W0(dte(),i0);W0(hte(),i0);W0(mte(),i0);W0(WS(),i0);i0.baggageUtils=qM();W0(eB(),i0);W0(vte(),i0);W0(Cte(),i0);W0(Ite(),i0);W0(Ate(),i0);W0(hB(),i0);W0(vB(),i0);W0(Rte(),i0);W0(Pte(),i0);W0(z7(),i0);W0(lB(),i0);W0(QM(),i0);W0(qte(),i0);W0(YM(),i0);W0(jte(),i0);W0($te(),i0);W0(Vte(),i0);W0(zte(),i0);W0(WS(),i0);var Dbe=Wte();i0.internal={_export:Dbe._export}});var Yte=k(vI=>{"use strict";Object.defineProperty(vI,"__esModule",{value:!0});vI.ExceptionEventName=void 0;vI.ExceptionEventName="exception"});var NB=k(yI=>{"use strict";Object.defineProperty(yI,"__esModule",{value:!0});yI.Span=void 0;var M1=o0(),Nc=Jc(),Gm=Id(),Lbe=Yte(),PB=class PB{constructor(t,r,n,s,a,l,c=[],u,f){this.attributes={},this.links=[],this.events=[],this._droppedAttributesCount=0,this._droppedEventsCount=0,this._droppedLinksCount=0,this.status={code:M1.SpanStatusCode.UNSET},this.endTime=[0,0],this._ended=!1,this._duration=[-1,-1],this.name=n,this._spanContext=s,this.parentSpanId=l,this.kind=a,this.links=c;let d=Date.now();this._performanceStartTime=Nc.otperformance.now(),this._performanceOffset=d-(this._performanceStartTime+(0,Nc.getTimeOrigin)()),this._startTimeProvided=u!=null,this.startTime=this._getTime(u!=null?u:d),this.resource=t.resource,this.instrumentationLibrary=t.instrumentationLibrary,this._spanLimits=t.getSpanLimits(),this._spanProcessor=t.getActiveSpanProcessor(),this._spanProcessor.onStart(this,r),this._attributeValueLengthLimit=this._spanLimits.attributeValueLengthLimit||0}spanContext(){return this._spanContext}setAttribute(t,r){return r==null||this._isSpanEnded()?this:t.length===0?(M1.diag.warn(`Invalid attribute key: ${t}`),this):(0,Nc.isAttributeValue)(r)?Object.keys(this.attributes).length>=this._spanLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,t)?(this._droppedAttributesCount++,this):(this.attributes[t]=this._truncateToSize(r),this):(M1.diag.warn(`Invalid attribute value set for key: ${t}`),this)}setAttributes(t){for(let[r,n]of Object.entries(t))this.setAttribute(r,n);return this}addEvent(t,r,n){if(this._isSpanEnded())return this;if(this._spanLimits.eventCountLimit===0)return M1.diag.warn("No events allowed."),this._droppedEventsCount++,this;this.events.length>=this._spanLimits.eventCountLimit&&(M1.diag.warn("Dropping extra events."),this.events.shift(),this._droppedEventsCount++),(0,Nc.isTimeInput)(r)&&((0,Nc.isTimeInput)(n)||(n=r),r=void 0);let s=(0,Nc.sanitizeAttributes)(r);return this.events.push({name:t,attributes:s,time:this._getTime(n),droppedAttributesCount:0}),this}setStatus(t){return this._isSpanEnded()?this:(this.status=t,this)}updateName(t){return this._isSpanEnded()?this:(this.name=t,this)}end(t){if(this._isSpanEnded()){M1.diag.error(`${this.name} ${this._spanContext.traceId}-${this._spanContext.spanId} - You can only call end() on a span once.`);return}this._ended=!0,this.endTime=this._getTime(t),this._duration=(0,Nc.hrTimeDuration)(this.startTime,this.endTime),this._duration[0]<0&&(M1.diag.warn("Inconsistent start and end time, startTime > endTime. Setting span duration to 0ms.",this.startTime,this.endTime),this.endTime=this.startTime.slice(),this._duration=[0,0]),this._spanProcessor.onEnd(this)}_getTime(t){if(typeof t=="number"&&t<Nc.otperformance.now())return(0,Nc.hrTime)(t+this._performanceOffset);if(typeof t=="number")return(0,Nc.millisToHrTime)(t);if(t instanceof Date)return(0,Nc.millisToHrTime)(t.getTime());if((0,Nc.isTimeInputHrTime)(t))return t;if(this._startTimeProvided)return(0,Nc.millisToHrTime)(Date.now());let r=Nc.otperformance.now()-this._performanceStartTime;return(0,Nc.addHrTimes)(this.startTime,(0,Nc.millisToHrTime)(r))}isRecording(){return this._ended===!1}recordException(t,r){let n={};typeof t=="string"?n[Gm.SemanticAttributes.EXCEPTION_MESSAGE]=t:t&&(t.code?n[Gm.SemanticAttributes.EXCEPTION_TYPE]=t.code.toString():t.name&&(n[Gm.SemanticAttributes.EXCEPTION_TYPE]=t.name),t.message&&(n[Gm.SemanticAttributes.EXCEPTION_MESSAGE]=t.message),t.stack&&(n[Gm.SemanticAttributes.EXCEPTION_STACKTRACE]=t.stack)),n[Gm.SemanticAttributes.EXCEPTION_TYPE]||n[Gm.SemanticAttributes.EXCEPTION_MESSAGE]?this.addEvent(Lbe.ExceptionEventName,n,r):M1.diag.warn(`Failed to record an exception ${t}`)}get duration(){return this._duration}get ended(){return this._ended}get droppedAttributesCount(){return this._droppedAttributesCount}get droppedEventsCount(){return this._droppedEventsCount}get droppedLinksCount(){return this._droppedLinksCount}_isSpanEnded(){return this._ended&&M1.diag.warn(`Can not execute the operation on ended Span {traceId: ${this._spanContext.traceId}, spanId: ${this._spanContext.spanId}}`),this._ended}_truncateToLimitUtil(t,r){return t.length<=r?t:t.substr(0,r)}_truncateToSize(t){let r=this._attributeValueLengthLimit;return r<=0?(M1.diag.warn(`Attribute value limit must be positive, got ${r}`),t):typeof t=="string"?this._truncateToLimitUtil(t,r):Array.isArray(t)?t.map(n=>typeof n=="string"?this._truncateToLimitUtil(n,r):n):t}};o(PB,"Span");var RB=PB;yI.Span=RB});var Z7=k(J7=>{"use strict";Object.defineProperty(J7,"__esModule",{value:!0});J7.SamplingDecision=void 0;var kbe;(function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(kbe=J7.SamplingDecision||(J7.SamplingDecision={}))});var xI=k(_I=>{"use strict";Object.defineProperty(_I,"__esModule",{value:!0});_I.AlwaysOffSampler=void 0;var Mbe=Z7(),DB=class DB{shouldSample(){return{decision:Mbe.SamplingDecision.NOT_RECORD}}toString(){return"AlwaysOffSampler"}};o(DB,"AlwaysOffSampler");var OB=DB;_I.AlwaysOffSampler=OB});var EI=k(bI=>{"use strict";Object.defineProperty(bI,"__esModule",{value:!0});bI.AlwaysOnSampler=void 0;var Bbe=Z7(),kB=class kB{shouldSample(){return{decision:Bbe.SamplingDecision.RECORD_AND_SAMPLED}}toString(){return"AlwaysOnSampler"}};o(kB,"AlwaysOnSampler");var LB=kB;bI.AlwaysOnSampler=LB});var UB=k(CI=>{"use strict";Object.defineProperty(CI,"__esModule",{value:!0});CI.ParentBasedSampler=void 0;var TI=o0(),Fbe=Jc(),Xte=xI(),MB=EI(),FB=class FB{constructor(t){var r,n,s,a;this._root=t.root,this._root||((0,Fbe.globalErrorHandler)(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new MB.AlwaysOnSampler),this._remoteParentSampled=(r=t.remoteParentSampled)!==null&&r!==void 0?r:new MB.AlwaysOnSampler,this._remoteParentNotSampled=(n=t.remoteParentNotSampled)!==null&&n!==void 0?n:new Xte.AlwaysOffSampler,this._localParentSampled=(s=t.localParentSampled)!==null&&s!==void 0?s:new MB.AlwaysOnSampler,this._localParentNotSampled=(a=t.localParentNotSampled)!==null&&a!==void 0?a:new Xte.AlwaysOffSampler}shouldSample(t,r,n,s,a,l){let c=TI.trace.getSpanContext(t);return!c||!(0,TI.isSpanContextValid)(c)?this._root.shouldSample(t,r,n,s,a,l):c.isRemote?c.traceFlags&TI.TraceFlags.SAMPLED?this._remoteParentSampled.shouldSample(t,r,n,s,a,l):this._remoteParentNotSampled.shouldSample(t,r,n,s,a,l):c.traceFlags&TI.TraceFlags.SAMPLED?this._localParentSampled.shouldSample(t,r,n,s,a,l):this._localParentNotSampled.shouldSample(t,r,n,s,a,l)}toString(){return`ParentBased{root=${this._root.toString()}, remoteParentSampled=${this._remoteParentSampled.toString()}, remoteParentNotSampled=${this._remoteParentNotSampled.toString()}, localParentSampled=${this._localParentSampled.toString()}, localParentNotSampled=${this._localParentNotSampled.toString()}}`}};o(FB,"ParentBasedSampler");var BB=FB;CI.ParentBasedSampler=BB});var HB=k(SI=>{"use strict";Object.defineProperty(SI,"__esModule",{value:!0});SI.TraceIdRatioBasedSampler=void 0;var Ube=o0(),Qte=Z7(),jB=class jB{constructor(t=0){this._ratio=t,this._ratio=this._normalize(t),this._upperBound=Math.floor(this._ratio*4294967295)}shouldSample(t,r){return{decision:(0,Ube.isValidTraceId)(r)&&this._accumulate(r)<this._upperBound?Qte.SamplingDecision.RECORD_AND_SAMPLED:Qte.SamplingDecision.NOT_RECORD}}toString(){return`TraceIdRatioBased{${this._ratio}}`}_normalize(t){return typeof t!="number"||isNaN(t)?0:t>=1?1:t<=0?0:t}_accumulate(t){let r=0;for(let n=0;n<t.length/8;n++){let s=n*8,a=parseInt(t.slice(s,s+8),16);r=(r^a)>>>0}return r}};o(jB,"TraceIdRatioBasedSampler");var qB=jB;SI.TraceIdRatioBasedSampler=qB});var GB=k(Ov=>{"use strict";Object.defineProperty(Ov,"__esModule",{value:!0});Ov.buildSamplerFromEnv=Ov.loadDefaultConfig=void 0;var II=o0(),oc=Jc(),Jte=xI(),$B=EI(),VB=UB(),Zte=HB(),qbe=(0,oc.getEnv)(),jbe=oc.TracesSamplerValues.AlwaysOn,Nv=1;function Hbe(){return{sampler:tre(qbe),forceFlushTimeoutMillis:3e4,generalLimits:{attributeValueLengthLimit:(0,oc.getEnv)().OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:(0,oc.getEnv)().OTEL_ATTRIBUTE_COUNT_LIMIT},spanLimits:{attributeValueLengthLimit:(0,oc.getEnv)().OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:(0,oc.getEnv)().OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT,linkCountLimit:(0,oc.getEnv)().OTEL_SPAN_LINK_COUNT_LIMIT,eventCountLimit:(0,oc.getEnv)().OTEL_SPAN_EVENT_COUNT_LIMIT,attributePerEventCountLimit:(0,oc.getEnv)().OTEL_SPAN_ATTRIBUTE_PER_EVENT_COUNT_LIMIT,attributePerLinkCountLimit:(0,oc.getEnv)().OTEL_SPAN_ATTRIBUTE_PER_LINK_COUNT_LIMIT}}}o(Hbe,"loadDefaultConfig");Ov.loadDefaultConfig=Hbe;function tre(e=(0,oc.getEnv)()){switch(e.OTEL_TRACES_SAMPLER){case oc.TracesSamplerValues.AlwaysOn:return new $B.AlwaysOnSampler;case oc.TracesSamplerValues.AlwaysOff:return new Jte.AlwaysOffSampler;case oc.TracesSamplerValues.ParentBasedAlwaysOn:return new VB.ParentBasedSampler({root:new $B.AlwaysOnSampler});case oc.TracesSamplerValues.ParentBasedAlwaysOff:return new VB.ParentBasedSampler({root:new Jte.AlwaysOffSampler});case oc.TracesSamplerValues.TraceIdRatio:return new Zte.TraceIdRatioBasedSampler(ere(e));case oc.TracesSamplerValues.ParentBasedTraceIdRatio:return new VB.ParentBasedSampler({root:new Zte.TraceIdRatioBasedSampler(ere(e))});default:return II.diag.error(`OTEL_TRACES_SAMPLER value "${e.OTEL_TRACES_SAMPLER} invalid, defaulting to ${jbe}".`),new $B.AlwaysOnSampler}}o(tre,"buildSamplerFromEnv");Ov.buildSamplerFromEnv=tre;function ere(e){if(e.OTEL_TRACES_SAMPLER_ARG===void 0||e.OTEL_TRACES_SAMPLER_ARG==="")return II.diag.error(`OTEL_TRACES_SAMPLER_ARG is blank, defaulting to ${Nv}.`),Nv;let t=Number(e.OTEL_TRACES_SAMPLER_ARG);return isNaN(t)?(II.diag.error(`OTEL_TRACES_SAMPLER_ARG=${e.OTEL_TRACES_SAMPLER_ARG} was given, but it is invalid, defaulting to ${Nv}.`),Nv):t<0||t>1?(II.diag.error(`OTEL_TRACES_SAMPLER_ARG=${e.OTEL_TRACES_SAMPLER_ARG} was given, but it is out of range ([0..1]), defaulting to ${Nv}.`),Nv):t}o(ere,"getSamplerProbabilityFromEnv")});var KB=k(Dv=>{"use strict";Object.defineProperty(Dv,"__esModule",{value:!0});Dv.reconfigureLimits=Dv.mergeConfig=void 0;var rre=GB(),zB=Jc();function $be(e){let t={sampler:(0,rre.buildSamplerFromEnv)()},r=(0,rre.loadDefaultConfig)(),n=Object.assign({},r,t,e);return n.generalLimits=Object.assign({},r.generalLimits,e.generalLimits||{}),n.spanLimits=Object.assign({},r.spanLimits,e.spanLimits||{}),n}o($be,"mergeConfig");Dv.mergeConfig=$be;function Vbe(e){var t,r,n,s,a,l,c,u,f,d,p,h;let m=Object.assign({},e.spanLimits),v=(0,zB.getEnvWithoutDefaults)();return m.attributeCountLimit=(l=(a=(s=(r=(t=e.spanLimits)===null||t===void 0?void 0:t.attributeCountLimit)!==null&&r!==void 0?r:(n=e.generalLimits)===null||n===void 0?void 0:n.attributeCountLimit)!==null&&s!==void 0?s:v.OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT)!==null&&a!==void 0?a:v.OTEL_ATTRIBUTE_COUNT_LIMIT)!==null&&l!==void 0?l:zB.DEFAULT_ATTRIBUTE_COUNT_LIMIT,m.attributeValueLengthLimit=(h=(p=(d=(u=(c=e.spanLimits)===null||c===void 0?void 0:c.attributeValueLengthLimit)!==null&&u!==void 0?u:(f=e.generalLimits)===null||f===void 0?void 0:f.attributeValueLengthLimit)!==null&&d!==void 0?d:v.OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT)!==null&&p!==void 0?p:v.OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT)!==null&&h!==void 0?h:zB.DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT,Object.assign({},e,{spanLimits:m})}o(Vbe,"reconfigureLimits");Dv.reconfigureLimits=Vbe});var nre=k(AI=>{"use strict";Object.defineProperty(AI,"__esModule",{value:!0});AI.BatchSpanProcessorBase=void 0;var Lv=o0(),zm=Jc(),YB=class YB{constructor(t,r){this._exporter=t,this._finishedSpans=[],this._droppedSpansCount=0;let n=(0,zm.getEnv)();this._maxExportBatchSize=typeof(r==null?void 0:r.maxExportBatchSize)=="number"?r.maxExportBatchSize:n.OTEL_BSP_MAX_EXPORT_BATCH_SIZE,this._maxQueueSize=typeof(r==null?void 0:r.maxQueueSize)=="number"?r.maxQueueSize:n.OTEL_BSP_MAX_QUEUE_SIZE,this._scheduledDelayMillis=typeof(r==null?void 0:r.scheduledDelayMillis)=="number"?r.scheduledDelayMillis:n.OTEL_BSP_SCHEDULE_DELAY,this._exportTimeoutMillis=typeof(r==null?void 0:r.exportTimeoutMillis)=="number"?r.exportTimeoutMillis:n.OTEL_BSP_EXPORT_TIMEOUT,this._shutdownOnce=new zm.BindOnceFuture(this._shutdown,this),this._maxExportBatchSize>this._maxQueueSize&&(Lv.diag.warn("BatchSpanProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize"),this._maxExportBatchSize=this._maxQueueSize)}forceFlush(){return this._shutdownOnce.isCalled?this._shutdownOnce.promise:this._flushAll()}onStart(t,r){}onEnd(t){this._shutdownOnce.isCalled||t.spanContext().traceFlags&Lv.TraceFlags.SAMPLED&&this._addToBuffer(t)}shutdown(){return this._shutdownOnce.call()}_shutdown(){return Promise.resolve().then(()=>this.onShutdown()).then(()=>this._flushAll()).then(()=>this._exporter.shutdown())}_addToBuffer(t){if(this._finishedSpans.length>=this._maxQueueSize){this._droppedSpansCount===0&&Lv.diag.debug("maxQueueSize reached, dropping spans"),this._droppedSpansCount++;return}this._droppedSpansCount>0&&(Lv.diag.warn(`Dropped ${this._droppedSpansCount} spans because maxQueueSize reached`),this._droppedSpansCount=0),this._finishedSpans.push(t),this._maybeStartTimer()}_flushAll(){return new Promise((t,r)=>{let n=[],s=Math.ceil(this._finishedSpans.length/this._maxExportBatchSize);for(let a=0,l=s;a<l;a++)n.push(this._flushOneBatch());Promise.all(n).then(()=>{t()}).catch(r)})}_flushOneBatch(){return this._clearTimer(),this._finishedSpans.length===0?Promise.resolve():new Promise((t,r)=>{let n=setTimeout(()=>{r(new Error("Timeout"))},this._exportTimeoutMillis);Lv.context.with((0,zm.suppressTracing)(Lv.context.active()),()=>{let s=this._finishedSpans.splice(0,this._maxExportBatchSize),a=o(()=>this._exporter.export(s,c=>{var u;clearTimeout(n),c.code===zm.ExportResultCode.SUCCESS?t():r((u=c.error)!==null&&u!==void 0?u:new Error("BatchSpanProcessor: span export failed"))}),"doExport"),l=s.map(c=>c.resource).filter(c=>c.asyncAttributesPending);l.length===0?a():Promise.all(l.map(c=>{var u;return(u=c.waitForAsyncAttributes)===null||u===void 0?void 0:u.call(c)})).then(a,c=>{(0,zm.globalErrorHandler)(c),r(c)})})})}_maybeStartTimer(){this._timer===void 0&&(this._timer=setTimeout(()=>{this._flushOneBatch().then(()=>{this._finishedSpans.length>0&&(this._clearTimer(),this._maybeStartTimer())}).catch(t=>{(0,zm.globalErrorHandler)(t)})},this._scheduledDelayMillis),(0,zm.unrefTimer)(this._timer))}_clearTimer(){this._timer!==void 0&&(clearTimeout(this._timer),this._timer=void 0)}};o(YB,"BatchSpanProcessorBase");var WB=YB;AI.BatchSpanProcessorBase=WB});var ire=k(wI=>{"use strict";Object.defineProperty(wI,"__esModule",{value:!0});wI.BatchSpanProcessor=void 0;var Gbe=nre(),QB=class QB extends Gbe.BatchSpanProcessorBase{onShutdown(){}};o(QB,"BatchSpanProcessor");var XB=QB;wI.BatchSpanProcessor=XB});var ore=k(PI=>{"use strict";Object.defineProperty(PI,"__esModule",{value:!0});PI.RandomIdGenerator=void 0;var zbe=8,are=16,ZB=class ZB{constructor(){this.generateTraceId=sre(are),this.generateSpanId=sre(zbe)}};o(ZB,"RandomIdGenerator");var JB=ZB;PI.RandomIdGenerator=JB;var RI=Buffer.allocUnsafe(are);function sre(e){return o(function(){for(let r=0;r<e/4;r++)RI.writeUInt32BE(Math.random()*2**32>>>0,r*4);for(let r=0;r<e&&!(RI[r]>0);r++)r===e-1&&(RI[e-1]=1);return RI.toString("hex",0,e)},"generateId")}o(sre,"getIdGenerator")});var cre=k(z5=>{"use strict";var Kbe=z5&&z5.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),lre=z5&&z5.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Kbe(t,e,r)};Object.defineProperty(z5,"__esModule",{value:!0});lre(ire(),z5);lre(ore(),z5)});var NI=k(Km=>{"use strict";var Wbe=Km&&Km.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Ybe=Km&&Km.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Wbe(t,e,r)};Object.defineProperty(Km,"__esModule",{value:!0});Ybe(cre(),Km)});var ure=k(DI=>{"use strict";Object.defineProperty(DI,"__esModule",{value:!0});DI.Tracer=void 0;var lc=o0(),OI=Jc(),Xbe=NB(),Qbe=KB(),Jbe=NI(),tF=class tF{constructor(t,r,n){this._tracerProvider=n;let s=(0,Qbe.mergeConfig)(r);this._sampler=s.sampler,this._generalLimits=s.generalLimits,this._spanLimits=s.spanLimits,this._idGenerator=r.idGenerator||new Jbe.RandomIdGenerator,this.resource=n.resource,this.instrumentationLibrary=t}startSpan(t,r={},n=lc.context.active()){var s,a,l;r.root&&(n=lc.trace.deleteSpan(n));let c=lc.trace.getSpan(n);if((0,OI.isTracingSuppressed)(n))return lc.diag.debug("Instrumentation suppressed, returning Noop Span"),lc.trace.wrapSpanContext(lc.INVALID_SPAN_CONTEXT);let u=c==null?void 0:c.spanContext(),f=this._idGenerator.generateSpanId(),d,p,h;!u||!lc.trace.isSpanContextValid(u)?d=this._idGenerator.generateTraceId():(d=u.traceId,p=u.traceState,h=u.spanId);let m=(s=r.kind)!==null&&s!==void 0?s:lc.SpanKind.INTERNAL,v=((a=r.links)!==null&&a!==void 0?a:[]).map(D=>({context:D.context,attributes:(0,OI.sanitizeAttributes)(D.attributes)})),_=(0,OI.sanitizeAttributes)(r.attributes),b=this._sampler.shouldSample(n,d,t,m,_,v);p=(l=b.traceState)!==null&&l!==void 0?l:p;let S=b.decision===lc.SamplingDecision.RECORD_AND_SAMPLED?lc.TraceFlags.SAMPLED:lc.TraceFlags.NONE,A={traceId:d,spanId:f,traceFlags:S,traceState:p};if(b.decision===lc.SamplingDecision.NOT_RECORD)return lc.diag.debug("Recording is off, propagating context in a non-recording span"),lc.trace.wrapSpanContext(A);let O=new Xbe.Span(this,n,t,A,m,h,v,r.startTime),L=(0,OI.sanitizeAttributes)(Object.assign(_,b.attributes));return O.setAttributes(L),O}startActiveSpan(t,r,n,s){let a,l,c;if(arguments.length<2)return;arguments.length===2?c=r:arguments.length===3?(a=r,c=n):(a=r,l=n,c=s);let u=l!=null?l:lc.context.active(),f=this.startSpan(t,a,u),d=lc.trace.setSpan(u,f);return lc.context.with(d,c,void 0,f)}getGeneralLimits(){return this._generalLimits}getSpanLimits(){return this._spanLimits}getActiveSpanProcessor(){return this._tracerProvider.getActiveSpanProcessor()}};o(tF,"Tracer");var eF=tF;DI.Tracer=eF});var fre=k(LI=>{"use strict";Object.defineProperty(LI,"__esModule",{value:!0});LI.defaultServiceName=void 0;function Zbe(){return`unknown_service:${process.argv0}`}o(Zbe,"defaultServiceName");LI.defaultServiceName=Zbe});var rF=k(kv=>{"use strict";Object.defineProperty(kv,"__esModule",{value:!0});kv.normalizeType=kv.normalizeArch=void 0;var eEe=o(e=>{switch(e){case"arm":return"arm32";case"ppc":return"ppc32";case"x64":return"amd64";default:return e}},"normalizeArch");kv.normalizeArch=eEe;var tEe=o(e=>{switch(e){case"sunos":return"solaris";case"win32":return"windows";default:return e}},"normalizeType");kv.normalizeType=tEe});var MI=k(kI=>{"use strict";Object.defineProperty(kI,"__esModule",{value:!0});kI.execAsync=void 0;var rEe=require("child_process"),nEe=require("util");kI.execAsync=nEe.promisify(rEe.exec)});var dre=k(BI=>{"use strict";Object.defineProperty(BI,"__esModule",{value:!0});BI.getMachineId=void 0;var iEe=MI(),sEe=o0();async function aEe(){try{let t=(await(0,iEe.execAsync)('ioreg -rd1 -c "IOPlatformExpertDevice"')).stdout.split(`
`).find(n=>n.includes("IOPlatformUUID"));if(!t)return"";let r=t.split('" = "');if(r.length===2)return r[1].slice(0,-1)}catch(e){sEe.diag.debug(`error reading machine id: ${e}`)}return""}o(aEe,"getMachineId");BI.getMachineId=aEe});var pre=k(FI=>{"use strict";Object.defineProperty(FI,"__esModule",{value:!0});FI.getMachineId=void 0;var oEe=require("fs"),lEe=o0();async function cEe(){let e=["/etc/machine-id","/var/lib/dbus/machine-id"];for(let t of e)try{return(await oEe.promises.readFile(t,{encoding:"utf8"})).trim()}catch(r){lEe.diag.debug(`error reading machine id: ${r}`)}return""}o(cEe,"getMachineId");FI.getMachineId=cEe});var mre=k(UI=>{"use strict";Object.defineProperty(UI,"__esModule",{value:!0});UI.getMachineId=void 0;var uEe=require("fs"),fEe=MI(),hre=o0();async function dEe(){try{return(await uEe.promises.readFile("/etc/hostid",{encoding:"utf8"})).trim()}catch(e){hre.diag.debug(`error reading machine id: ${e}`)}try{return(await(0,fEe.execAsync)("kenv -q smbios.system.uuid")).stdout.trim()}catch(e){hre.diag.debug(`error reading machine id: ${e}`)}return""}o(dEe,"getMachineId");UI.getMachineId=dEe});var vre=k(qI=>{"use strict";Object.defineProperty(qI,"__esModule",{value:!0});qI.getMachineId=void 0;var gre=require("process"),pEe=MI(),hEe=o0();async function mEe(){let e="QUERY HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Cryptography /v MachineGuid",t="%windir%\\System32\\REG.exe";gre.arch==="ia32"&&"PROCESSOR_ARCHITEW6432"in gre.env&&(t="%windir%\\sysnative\\cmd.exe /c "+t);try{let n=(await(0,pEe.execAsync)(`${t} ${e}`)).stdout.split("REG_SZ");if(n.length===2)return n[1].trim()}catch(r){hEe.diag.debug(`error reading machine id: ${r}`)}return""}o(mEe,"getMachineId");qI.getMachineId=mEe});var yre=k(jI=>{"use strict";Object.defineProperty(jI,"__esModule",{value:!0});jI.getMachineId=void 0;var gEe=o0();async function vEe(){return gEe.diag.debug("could not read machine-id: unsupported platform"),""}o(vEe,"getMachineId");jI.getMachineId=vEe});var _re=k(ch=>{"use strict";Object.defineProperty(ch,"__esModule",{value:!0});ch.getMachineId=void 0;var yEe=require("process"),Mv;ch.getMachineId=Mv;switch(yEe.platform){case"darwin":ch.getMachineId=Mv=dre().getMachineId;break;case"linux":ch.getMachineId=Mv=pre().getMachineId;break;case"freebsd":ch.getMachineId=Mv=mre().getMachineId;break;case"win32":ch.getMachineId=Mv=vre().getMachineId;break;default:ch.getMachineId=Mv=yre().getMachineId}});var aF=k(HI=>{"use strict";Object.defineProperty(HI,"__esModule",{value:!0});HI.hostDetectorSync=void 0;var nF=Id(),_Ee=Wm(),xre=require("os"),xEe=rF(),bEe=_re(),sF=class sF{detect(t){let r={[nF.SemanticResourceAttributes.HOST_NAME]:(0,xre.hostname)(),[nF.SemanticResourceAttributes.HOST_ARCH]:(0,xEe.normalizeArch)((0,xre.arch)())};return new _Ee.Resource(r,this._getAsyncAttributes())}_getAsyncAttributes(){return(0,bEe.getMachineId)().then(t=>{let r={};return t&&(r[nF.SemanticResourceAttributes.HOST_ID]=t),r})}};o(sF,"HostDetectorSync");var iF=sF;HI.hostDetectorSync=new iF});var bre=k($I=>{"use strict";Object.defineProperty($I,"__esModule",{value:!0});$I.hostDetector=void 0;var EEe=aF(),lF=class lF{detect(t){return Promise.resolve(EEe.hostDetectorSync.detect(t))}};o(lF,"HostDetector");var oF=lF;$I.hostDetector=new oF});var fF=k(VI=>{"use strict";Object.defineProperty(VI,"__esModule",{value:!0});VI.osDetectorSync=void 0;var Ere=Id(),TEe=Wm(),Tre=require("os"),CEe=rF(),uF=class uF{detect(t){let r={[Ere.SemanticResourceAttributes.OS_TYPE]:(0,CEe.normalizeType)((0,Tre.platform)()),[Ere.SemanticResourceAttributes.OS_VERSION]:(0,Tre.release)()};return new TEe.Resource(r)}};o(uF,"OSDetectorSync");var cF=uF;VI.osDetectorSync=new cF});var Cre=k(GI=>{"use strict";Object.defineProperty(GI,"__esModule",{value:!0});GI.osDetector=void 0;var SEe=fF(),pF=class pF{detect(t){return Promise.resolve(SEe.osDetectorSync.detect(t))}};o(pF,"OSDetector");var dF=pF;GI.osDetector=new dF});var gF=k(zI=>{"use strict";Object.defineProperty(zI,"__esModule",{value:!0});zI.processDetectorSync=void 0;var IEe=o0(),uh=Id(),AEe=Wm(),wEe=require("os"),mF=class mF{detect(t){let r={[uh.SemanticResourceAttributes.PROCESS_PID]:process.pid,[uh.SemanticResourceAttributes.PROCESS_EXECUTABLE_NAME]:process.title,[uh.SemanticResourceAttributes.PROCESS_EXECUTABLE_PATH]:process.execPath,[uh.SemanticResourceAttributes.PROCESS_COMMAND_ARGS]:[process.argv[0],...process.execArgv,...process.argv.slice(1)],[uh.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]:process.versions.node,[uh.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]:"nodejs",[uh.SemanticResourceAttributes.PROCESS_RUNTIME_DESCRIPTION]:"Node.js"};process.argv.length>1&&(r[uh.SemanticResourceAttributes.PROCESS_COMMAND]=process.argv[1]);try{let n=wEe.userInfo();r[uh.SemanticResourceAttributes.PROCESS_OWNER]=n.username}catch(n){IEe.diag.debug(`error obtaining process owner: ${n}`)}return new AEe.Resource(r)}};o(mF,"ProcessDetectorSync");var hF=mF;zI.processDetectorSync=new hF});var Sre=k(KI=>{"use strict";Object.defineProperty(KI,"__esModule",{value:!0});KI.processDetector=void 0;var REe=gF(),yF=class yF{detect(t){return Promise.resolve(REe.processDetectorSync.detect(t))}};o(yF,"ProcessDetector");var vF=yF;KI.processDetector=new vF});var Ire=k($u=>{"use strict";var PEe=$u&&$u.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Ym=$u&&$u.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&PEe(t,e,r)};Object.defineProperty($u,"__esModule",{value:!0});Ym(fre(),$u);Ym(bre(),$u);Ym(Cre(),$u);Ym(aF(),$u);Ym(fF(),$u);Ym(Sre(),$u);Ym(gF(),$u)});var _F=k(Xm=>{"use strict";var NEe=Xm&&Xm.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),OEe=Xm&&Xm.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&NEe(t,e,r)};Object.defineProperty(Xm,"__esModule",{value:!0});OEe(Ire(),Xm)});var Wm=k(WI=>{"use strict";Object.defineProperty(WI,"__esModule",{value:!0});WI.Resource=void 0;var Are=o0(),Qm=Id(),xF=Jc(),DEe=_F(),Jm=class Jm{constructor(t,r){var n;this._attributes=t,this.asyncAttributesPending=r!=null,this._syncAttributes=(n=this._attributes)!==null&&n!==void 0?n:{},this._asyncAttributesPromise=r==null?void 0:r.then(s=>(this._attributes=Object.assign({},this._attributes,s),this.asyncAttributesPending=!1,s),s=>(Are.diag.debug("a resource's async attributes promise rejected: %s",s),this.asyncAttributesPending=!1,{}))}static empty(){return Jm.EMPTY}static default(){return new Jm({[Qm.SemanticResourceAttributes.SERVICE_NAME]:(0,DEe.defaultServiceName)(),[Qm.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE]:xF.SDK_INFO[Qm.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE],[Qm.SemanticResourceAttributes.TELEMETRY_SDK_NAME]:xF.SDK_INFO[Qm.SemanticResourceAttributes.TELEMETRY_SDK_NAME],[Qm.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]:xF.SDK_INFO[Qm.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]})}get attributes(){var t;return this.asyncAttributesPending&&Are.diag.error("Accessing resource attributes before async attributes settled"),(t=this._attributes)!==null&&t!==void 0?t:{}}async waitForAsyncAttributes(){this.asyncAttributesPending&&await this._asyncAttributesPromise}merge(t){var r;if(!t)return this;let n=Object.assign(Object.assign({},this._syncAttributes),(r=t._syncAttributes)!==null&&r!==void 0?r:t.attributes);if(!this._asyncAttributesPromise&&!t._asyncAttributesPromise)return new Jm(n);let s=Promise.all([this._asyncAttributesPromise,t._asyncAttributesPromise]).then(([a,l])=>{var c;return Object.assign(Object.assign(Object.assign(Object.assign({},this._syncAttributes),a),(c=t._syncAttributes)!==null&&c!==void 0?c:t.attributes),l)});return new Jm(n,s)}};o(Jm,"Resource");var e_=Jm;WI.Resource=e_;e_.EMPTY=new e_({})});var Rre=k(wre=>{"use strict";Object.defineProperty(wre,"__esModule",{value:!0})});var Nre=k(Pre=>{"use strict";Object.defineProperty(Pre,"__esModule",{value:!0})});var Dre=k(Ore=>{"use strict";Object.defineProperty(Ore,"__esModule",{value:!0})});var Lre=k(YI=>{"use strict";Object.defineProperty(YI,"__esModule",{value:!0});YI.browserDetector=void 0;var LEe=XI(),EF=class EF{detect(t){return Promise.resolve(LEe.browserDetectorSync.detect(t))}};o(EF,"BrowserDetector");var bF=EF;YI.browserDetector=new bF});var SF=k(QI=>{"use strict";Object.defineProperty(QI,"__esModule",{value:!0});QI.envDetectorSync=void 0;var kEe=o0(),MEe=Jc(),BEe=Id(),FEe=Wm(),CF=class CF{constructor(){this._MAX_LENGTH=255,this._COMMA_SEPARATOR=",",this._LABEL_KEY_VALUE_SPLITTER="=",this._ERROR_MESSAGE_INVALID_CHARS="should be a ASCII string with a length greater than 0 and not exceed "+this._MAX_LENGTH+" characters.",this._ERROR_MESSAGE_INVALID_VALUE="should be a ASCII string with a length not exceed "+this._MAX_LENGTH+" characters."}detect(t){let r={},n=(0,MEe.getEnv)(),s=n.OTEL_RESOURCE_ATTRIBUTES,a=n.OTEL_SERVICE_NAME;if(s)try{let l=this._parseResourceAttributes(s);Object.assign(r,l)}catch(l){kEe.diag.debug(`EnvDetector failed: ${l.message}`)}return a&&(r[BEe.SemanticResourceAttributes.SERVICE_NAME]=a),new FEe.Resource(r)}_parseResourceAttributes(t){if(!t)return{};let r={},n=t.split(this._COMMA_SEPARATOR,-1);for(let s of n){let a=s.split(this._LABEL_KEY_VALUE_SPLITTER,-1);if(a.length!==2)continue;let[l,c]=a;if(l=l.trim(),c=c.trim().split(/^"|"$/).join(""),!this._isValidAndNotEmpty(l))throw new Error(`Attribute key ${this._ERROR_MESSAGE_INVALID_CHARS}`);if(!this._isValid(c))throw new Error(`Attribute value ${this._ERROR_MESSAGE_INVALID_VALUE}`);r[l]=decodeURIComponent(c)}return r}_isValid(t){return t.length<=this._MAX_LENGTH&&this._isBaggageOctetString(t)}_isBaggageOctetString(t){for(let r=0;r<t.length;r++){let n=t.charCodeAt(r);if(n<33||n===44||n===59||n===92||n>126)return!1}return!0}_isValidAndNotEmpty(t){return t.length>0&&this._isValid(t)}};o(CF,"EnvDetectorSync");var TF=CF;QI.envDetectorSync=new TF});var kre=k(JI=>{"use strict";Object.defineProperty(JI,"__esModule",{value:!0});JI.envDetector=void 0;var UEe=SF(),AF=class AF{detect(t){return Promise.resolve(UEe.envDetectorSync.detect(t))}};o(AF,"EnvDetector");var IF=AF;JI.envDetector=new IF});var Mre=k(eA=>{"use strict";Object.defineProperty(eA,"__esModule",{value:!0});eA.browserDetectorSync=void 0;var ZI=Id(),wF=XI(),qEe=o0(),PF=class PF{detect(t){if(!(typeof navigator<"u"))return wF.Resource.empty();let n={[ZI.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]:"browser",[ZI.SemanticResourceAttributes.PROCESS_RUNTIME_DESCRIPTION]:"Web Browser",[ZI.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]:navigator.userAgent};return this._getResourceAttributes(n,t)}_getResourceAttributes(t,r){return t[ZI.SemanticResourceAttributes.PROCESS_RUNTIME_VERSION]===""?(qEe.diag.debug("BrowserDetector failed: Unable to find required browser resources. "),wF.Resource.empty()):new wF.Resource(Object.assign({},t))}};o(PF,"BrowserDetectorSync");var RF=PF;eA.browserDetectorSync=new RF});var Bre=k(B1=>{"use strict";var jEe=B1&&B1.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),tA=B1&&B1.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&jEe(t,e,r)};Object.defineProperty(B1,"__esModule",{value:!0});tA(Lre(),B1);tA(kre(),B1);tA(Mre(),B1);tA(SF(),B1)});var Fre=k(rA=>{"use strict";Object.defineProperty(rA,"__esModule",{value:!0});rA.isPromiseLike=void 0;var HEe=o(e=>e!==null&&typeof e=="object"&&typeof e.then=="function","isPromiseLike");rA.isPromiseLike=HEe});var qre=k(Fv=>{"use strict";Object.defineProperty(Fv,"__esModule",{value:!0});Fv.detectResourcesSync=Fv.detectResources=void 0;var t_=Wm(),Bv=o0(),$Ee=Fre(),VEe=o(async(e={})=>{let t=await Promise.all((e.detectors||[]).map(async r=>{try{let n=await r.detect(e);return Bv.diag.debug(`${r.constructor.name} found resource.`,n),n}catch(n){return Bv.diag.debug(`${r.constructor.name} failed: ${n.message}`),t_.Resource.empty()}}));return Ure(t),t.reduce((r,n)=>r.merge(n),t_.Resource.empty())},"detectResources");Fv.detectResources=VEe;var GEe=o((e={})=>{var t;let r=((t=e.detectors)!==null&&t!==void 0?t:[]).map(s=>{try{let a=s.detect(e),l;if((0,$Ee.isPromiseLike)(a)){let c=o(async()=>(await a).attributes,"createPromise");l=new t_.Resource({},c())}else l=a;return l.waitForAsyncAttributes?l.waitForAsyncAttributes().then(()=>Bv.diag.debug(`${s.constructor.name} found resource.`,l)):Bv.diag.debug(`${s.constructor.name} found resource.`,l),l}catch(a){return Bv.diag.error(`${s.constructor.name} failed: ${a.message}`),t_.Resource.empty()}}),n=r.reduce((s,a)=>s.merge(a),t_.Resource.empty());return n.waitForAsyncAttributes&&n.waitForAsyncAttributes().then(()=>{Ure(r)}),n},"detectResourcesSync");Fv.detectResourcesSync=GEe;var Ure=o(e=>{e.forEach(t=>{if(Object.keys(t.attributes).length>0){let r=JSON.stringify(t.attributes,null,4);Bv.diag.verbose(r)}})},"logResources")});var XI=k(Vu=>{"use strict";var zEe=Vu&&Vu.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Zm=Vu&&Vu.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&zEe(t,e,r)};Object.defineProperty(Vu,"__esModule",{value:!0});Zm(Wm(),Vu);Zm(Rre(),Vu);Zm(_F(),Vu);Zm(Nre(),Vu);Zm(Dre(),Vu);Zm(Bre(),Vu);Zm(qre(),Vu)});var jre=k(nA=>{"use strict";Object.defineProperty(nA,"__esModule",{value:!0});nA.MultiSpanProcessor=void 0;var KEe=Jc(),OF=class OF{constructor(t){this._spanProcessors=t}forceFlush(){let t=[];for(let r of this._spanProcessors)t.push(r.forceFlush());return new Promise(r=>{Promise.all(t).then(()=>{r()}).catch(n=>{(0,KEe.globalErrorHandler)(n||new Error("MultiSpanProcessor: forceFlush failed")),r()})})}onStart(t,r){for(let n of this._spanProcessors)n.onStart(t,r)}onEnd(t){for(let r of this._spanProcessors)r.onEnd(t)}shutdown(){let t=[];for(let r of this._spanProcessors)t.push(r.shutdown());return new Promise((r,n)=>{Promise.all(t).then(()=>{r()},n)})}};o(OF,"MultiSpanProcessor");var NF=OF;nA.MultiSpanProcessor=NF});var kF=k(iA=>{"use strict";Object.defineProperty(iA,"__esModule",{value:!0});iA.NoopSpanProcessor=void 0;var LF=class LF{onStart(t,r){}onEnd(t){}shutdown(){return Promise.resolve()}forceFlush(){return Promise.resolve()}};o(LF,"NoopSpanProcessor");var DF=LF;iA.NoopSpanProcessor=DF});var $re=k(eg=>{"use strict";Object.defineProperty(eg,"__esModule",{value:!0});eg.BasicTracerProvider=eg.ForceFlushState=void 0;var Uv=o0(),jv=Jc(),Hre=XI(),WEe=BF(),YEe=GB(),XEe=jre(),QEe=kF(),JEe=NI(),ZEe=KB(),qv;(function(e){e[e.resolved=0]="resolved",e[e.timeout=1]="timeout",e[e.error=2]="error",e[e.unresolved=3]="unresolved"})(qv=eg.ForceFlushState||(eg.ForceFlushState={}));var MF=class MF{constructor(t={}){var r;this._registeredSpanProcessors=[],this._tracers=new Map;let n=(0,jv.merge)({},(0,YEe.loadDefaultConfig)(),(0,ZEe.reconfigureLimits)(t));this.resource=(r=n.resource)!==null&&r!==void 0?r:Hre.Resource.empty(),this.resource=Hre.Resource.default().merge(this.resource),this._config=Object.assign({},n,{resource:this.resource});let s=this._buildExporterFromEnv();if(s!==void 0){let a=new JEe.BatchSpanProcessor(s);this.activeSpanProcessor=a}else this.activeSpanProcessor=new QEe.NoopSpanProcessor}getTracer(t,r,n){let s=`${t}@${r||""}:${(n==null?void 0:n.schemaUrl)||""}`;return this._tracers.has(s)||this._tracers.set(s,new WEe.Tracer({name:t,version:r,schemaUrl:n==null?void 0:n.schemaUrl},this._config,this)),this._tracers.get(s)}addSpanProcessor(t){this._registeredSpanProcessors.length===0&&this.activeSpanProcessor.shutdown().catch(r=>Uv.diag.error("Error while trying to shutdown current span processor",r)),this._registeredSpanProcessors.push(t),this.activeSpanProcessor=new XEe.MultiSpanProcessor(this._registeredSpanProcessors)}getActiveSpanProcessor(){return this.activeSpanProcessor}register(t={}){Uv.trace.setGlobalTracerProvider(this),t.propagator===void 0&&(t.propagator=this._buildPropagatorFromEnv()),t.contextManager&&Uv.context.setGlobalContextManager(t.contextManager),t.propagator&&Uv.propagation.setGlobalPropagator(t.propagator)}forceFlush(){let t=this._config.forceFlushTimeoutMillis,r=this._registeredSpanProcessors.map(n=>new Promise(s=>{let a,l=setTimeout(()=>{s(new Error(`Span processor did not completed within timeout period of ${t} ms`)),a=qv.timeout},t);n.forceFlush().then(()=>{clearTimeout(l),a!==qv.timeout&&(a=qv.resolved,s(a))}).catch(c=>{clearTimeout(l),a=qv.error,s(c)})}));return new Promise((n,s)=>{Promise.all(r).then(a=>{let l=a.filter(c=>c!==qv.resolved);l.length>0?s(l):n()}).catch(a=>s([a]))})}shutdown(){return this.activeSpanProcessor.shutdown()}_getPropagator(t){var r;return(r=this.constructor._registeredPropagators.get(t))===null||r===void 0?void 0:r()}_getSpanExporter(t){var r;return(r=this.constructor._registeredExporters.get(t))===null||r===void 0?void 0:r()}_buildPropagatorFromEnv(){let t=Array.from(new Set((0,jv.getEnv)().OTEL_PROPAGATORS)),n=t.map(s=>{let a=this._getPropagator(s);return a||Uv.diag.warn(`Propagator "${s}" requested through environment variable is unavailable.`),a}).reduce((s,a)=>(a&&s.push(a),s),[]);if(n.length!==0)return t.length===1?n[0]:new jv.CompositePropagator({propagators:n})}_buildExporterFromEnv(){let t=(0,jv.getEnv)().OTEL_TRACES_EXPORTER;if(t==="none"||t==="")return;let r=this._getSpanExporter(t);return r||Uv.diag.error(`Exporter "${t}" requested through environment variable is unavailable.`),r}};o(MF,"BasicTracerProvider");var r_=MF;eg.BasicTracerProvider=r_;r_._registeredPropagators=new Map([["tracecontext",()=>new jv.W3CTraceContextPropagator],["baggage",()=>new jv.W3CBaggagePropagator]]);r_._registeredExporters=new Map});var Vre=k(sA=>{"use strict";Object.defineProperty(sA,"__esModule",{value:!0});sA.ConsoleSpanExporter=void 0;var FF=Jc(),qF=class qF{export(t,r){return this._sendSpans(t,r)}shutdown(){return this._sendSpans([]),this.forceFlush()}forceFlush(){return Promise.resolve()}_exportInfo(t){var r;return{traceId:t.spanContext().traceId,parentId:t.parentSpanId,traceState:(r=t.spanContext().traceState)===null||r===void 0?void 0:r.serialize(),name:t.name,id:t.spanContext().spanId,kind:t.kind,timestamp:(0,FF.hrTimeToMicroseconds)(t.startTime),duration:(0,FF.hrTimeToMicroseconds)(t.duration),attributes:t.attributes,status:t.status,events:t.events,links:t.links}}_sendSpans(t,r){for(let n of t)console.dir(this._exportInfo(n),{depth:3});if(r)return r({code:FF.ExportResultCode.SUCCESS})}};o(qF,"ConsoleSpanExporter");var UF=qF;sA.ConsoleSpanExporter=UF});var zre=k(aA=>{"use strict";Object.defineProperty(aA,"__esModule",{value:!0});aA.InMemorySpanExporter=void 0;var Gre=Jc(),HF=class HF{constructor(){this._finishedSpans=[],this._stopped=!1}export(t,r){if(this._stopped)return r({code:Gre.ExportResultCode.FAILED,error:new Error("Exporter has been stopped")});this._finishedSpans.push(...t),setTimeout(()=>r({code:Gre.ExportResultCode.SUCCESS}),0)}shutdown(){return this._stopped=!0,this._finishedSpans=[],this.forceFlush()}forceFlush(){return Promise.resolve()}reset(){this._finishedSpans=[]}getFinishedSpans(){return this._finishedSpans}};o(HF,"InMemorySpanExporter");var jF=HF;aA.InMemorySpanExporter=jF});var Wre=k(Kre=>{"use strict";Object.defineProperty(Kre,"__esModule",{value:!0})});var Yre=k(oA=>{"use strict";Object.defineProperty(oA,"__esModule",{value:!0});oA.SimpleSpanProcessor=void 0;var eTe=o0(),Hv=Jc(),VF=class VF{constructor(t){this._exporter=t,this._shutdownOnce=new Hv.BindOnceFuture(this._shutdown,this),this._unresolvedExports=new Set}async forceFlush(){await Promise.all(Array.from(this._unresolvedExports)),this._exporter.forceFlush&&await this._exporter.forceFlush()}onStart(t,r){}onEnd(t){var r,n;if(this._shutdownOnce.isCalled||!(t.spanContext().traceFlags&eTe.TraceFlags.SAMPLED))return;let s=o(()=>Hv.internal._export(this._exporter,[t]).then(a=>{var l;a.code!==Hv.ExportResultCode.SUCCESS&&(0,Hv.globalErrorHandler)((l=a.error)!==null&&l!==void 0?l:new Error(`SimpleSpanProcessor: span export failed (status ${a})`))}).catch(a=>{(0,Hv.globalErrorHandler)(a)}),"doExport");if(t.resource.asyncAttributesPending){let a=(n=(r=t.resource).waitForAsyncAttributes)===null||n===void 0?void 0:n.call(r).then(()=>(a!=null&&this._unresolvedExports.delete(a),s()),l=>(0,Hv.globalErrorHandler)(l));a!=null&&this._unresolvedExports.add(a)}else s()}shutdown(){return this._shutdownOnce.call()}_shutdown(){return this._exporter.shutdown()}};o(VF,"SimpleSpanProcessor");var $F=VF;oA.SimpleSpanProcessor=$F});var Qre=k(Xre=>{"use strict";Object.defineProperty(Xre,"__esModule",{value:!0})});var Zre=k(Jre=>{"use strict";Object.defineProperty(Jre,"__esModule",{value:!0})});var tne=k(ene=>{"use strict";Object.defineProperty(ene,"__esModule",{value:!0})});var nne=k(rne=>{"use strict";Object.defineProperty(rne,"__esModule",{value:!0})});var sne=k(ine=>{"use strict";Object.defineProperty(ine,"__esModule",{value:!0})});var BF=k(ua=>{"use strict";var tTe=ua&&ua.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),xl=ua&&ua.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&tTe(t,e,r)};Object.defineProperty(ua,"__esModule",{value:!0});xl(ure(),ua);xl($re(),ua);xl(NI(),ua);xl(Vre(),ua);xl(zre(),ua);xl(Wre(),ua);xl(Yre(),ua);xl(Qre(),ua);xl(kF(),ua);xl(xI(),ua);xl(EI(),ua);xl(UB(),ua);xl(HB(),ua);xl(Z7(),ua);xl(NB(),ua);xl(Zre(),ua);xl(tne(),ua);xl(nne(),ua);xl(sne(),ua)});var one=k(If=>{"use strict";Object.defineProperty(If,"__esModule",{value:!0});If.enable=If.azureCoreTracing=If.AzureMonitorSymbol=void 0;var GF=qa();If.AzureMonitorSymbol="Azure_Monitor_Tracer";var zF="azure-coretracing",ane=!1,rTe=o(function(e){if(ane)return e;try{var t=BF(),r=o0(),n=new t.BasicTracerProvider,s=n.getTracer("applicationinsights tracer");if(e.setTracer){var a=e.setTracer;e.setTracer=function(f){var d=f.startSpan;f.startSpan=function(p,h,m){var v=d.call(this,p,h,m),_=v.end;return v.end=function(){var b=_.apply(this,arguments);return GF.channel.publish(zF,v),b},v},f[If.AzureMonitorSymbol]=!0,a.call(this,f)},r.trace.getSpan(r.context.active()),e.setTracer(s)}else{var l=r.trace.setGlobalTracerProvider;r.trace.setGlobalTracerProvider=function(f){var d=f.getTracer;return f.getTracer=function(p,h){var m=d.call(this,p,h);if(!m[If.AzureMonitorSymbol]){var v=m.startSpan;m.startSpan=function(_,b,S){var A=v.call(this,_,b,S),O=A.end;return A.end=function(){var L=O.apply(this,arguments);return GF.channel.publish(zF,A),L},A},m[If.AzureMonitorSymbol]=!0}return m},l.call(this,f)},n.register(),r.trace.getSpan(r.context.active());var c=require("@opentelemetry/instrumentation"),u=require("@azure/opentelemetry-instrumentation-azure-sdk");c.registerInstrumentations({instrumentations:[u.createAzureSdkInstrumentation()]})}ane=!0}catch{}return e},"azureCoreTracingPatchFunction");If.azureCoreTracing={versionSpecifier:">= 1.0.0 < 2.0.0",patch:rTe,publisherName:zF};function nTe(){GF.channel.registerMonkeyPatch("@azure/core-tracing",If.azureCoreTracing)}o(nTe,"enable");If.enable=nTe});var cne=k(tg=>{"use strict";Object.defineProperty(tg,"__esModule",{value:!0});tg.enable=tg.bunyan=void 0;var lne=qa(),iTe=o(function(e){var t=e.prototype._emit;return e.prototype._emit=function(r,n){var s=t.apply(this,arguments);if(!n){var a=s;a||(a=t.call(this,r,!0)),lne.channel.publish("bunyan",{level:r.level,result:a})}return s},e},"bunyanPatchFunction");tg.bunyan={versionSpecifier:">= 1.0.0 < 2.0.0",patch:iTe};function sTe(){lne.channel.registerMonkeyPatch("bunyan",tg.bunyan)}o(sTe,"enable");tg.enable=sTe});var fne=k(rg=>{"use strict";Object.defineProperty(rg,"__esModule",{value:!0});rg.enable=rg.console=void 0;var KF=qa(),une=require("stream"),aTe=o(function(e){var t=new une.Writable,r=new une.Writable;t.write=function(f){if(!f)return!0;var d=f.toString();return KF.channel.publish("console",{message:d}),!0},r.write=function(f){if(!f)return!0;var d=f.toString();return KF.channel.publish("console",{message:d,stderr:!0}),!0};for(var n=new e.Console(t,r),s=["log","info","warn","error","dir","time","timeEnd","trace","assert"],a=o(function(f){var d=e[f];d&&(e[f]=function(){if(n[f])try{n[f].apply(n,arguments)}catch{}return d.apply(e,arguments)})},"_loop_1"),l=0,c=s;l<c.length;l++){var u=c[l];a(u)}return e},"consolePatchFunction");rg.console={versionSpecifier:">= 4.0.0",patch:aTe};function oTe(){KF.channel.registerMonkeyPatch("console",rg.console),require("console")}o(oTe,"enable");rg.enable=oTe});var dne=k(ng=>{"use strict";Object.defineProperty(ng,"__esModule",{value:!0});ng.enable=ng.mongoCore=void 0;var WF=qa(),lTe=o(function(e){var t=e.Server.prototype.connect;return e.Server.prototype.connect=o(function(){var n=t.apply(this,arguments),s=this.s.pool.write;this.s.pool.write=o(function(){var c=typeof arguments[1]=="function"?1:2;return typeof arguments[c]=="function"&&(arguments[c]=WF.channel.bindToContext(arguments[c])),s.apply(this,arguments)},"contextPreservingWrite");var a=this.s.pool.logout;return this.s.pool.logout=o(function(){return typeof arguments[1]=="function"&&(arguments[1]=WF.channel.bindToContext(arguments[1])),a.apply(this,arguments)},"contextPreservingLogout"),n},"contextPreservingConnect"),e},"mongodbcorePatchFunction");ng.mongoCore={versionSpecifier:">= 2.0.0 < 4.0.0",patch:lTe};function cTe(){WF.channel.registerMonkeyPatch("mongodb-core",ng.mongoCore)}o(cTe,"enable");ng.enable=cTe});var pne=k(Zc=>{"use strict";var $v=Zc&&Zc.__assign||function(){return $v=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},$v.apply(this,arguments)};Object.defineProperty(Zc,"__esModule",{value:!0});Zc.enable=Zc.mongo330=Zc.mongo3=Zc.mongo2=void 0;var Oc=qa(),uTe=o(function(e){var t=e.instrument({operationIdGenerator:{next:function(){return Oc.channel.bindToContext(function(n){return n()})}}}),r={};return t.on("started",function(n){r[n.requestId]||(r[n.requestId]=$v($v({},n),{time:new Date}))}),t.on("succeeded",function(n){var s=r[n.requestId];s&&delete r[n.requestId],typeof n.operationId=="function"?n.operationId(function(){return Oc.channel.publish("mongodb",{startedData:s,event:n,succeeded:!0})}):Oc.channel.publish("mongodb",{startedData:s,event:n,succeeded:!0})}),t.on("failed",function(n){var s=r[n.requestId];s&&delete r[n.requestId],typeof n.operationId=="function"?n.operationId(function(){return Oc.channel.publish("mongodb",{startedData:s,event:n,succeeded:!1})}):Oc.channel.publish("mongodb",{startedData:s,event:n,succeeded:!1})}),e},"mongodbPatchFunction"),fTe=o(function(e){var t=e.instrument(),r={},n={};return t.on("started",function(s){r[s.requestId]||(n[s.requestId]=Oc.channel.bindToContext(function(a){return a()}),r[s.requestId]=$v($v({},s),{time:new Date}))}),t.on("succeeded",function(s){var a=r[s.requestId];a&&delete r[s.requestId],typeof s=="object"&&typeof n[s.requestId]=="function"&&(n[s.requestId](function(){return Oc.channel.publish("mongodb",{startedData:a,event:s,succeeded:!0})}),delete n[s.requestId])}),t.on("failed",function(s){var a=r[s.requestId];a&&delete r[s.requestId],typeof s=="object"&&typeof n[s.requestId]=="function"&&(n[s.requestId](function(){return Oc.channel.publish("mongodb",{startedData:a,event:s,succeeded:!1})}),delete n[s.requestId])}),e},"mongodb3PatchFunction"),dTe=o(function(e){var t=e.Server.prototype.connect;return e.Server.prototype.connect=o(function(){var n=t.apply(this,arguments),s=this.s.coreTopology.s.pool.write;this.s.coreTopology.s.pool.write=o(function(){var c=typeof arguments[1]=="function"?1:2;return typeof arguments[c]=="function"&&(arguments[c]=Oc.channel.bindToContext(arguments[c])),s.apply(this,arguments)},"contextPreservingWrite");var a=this.s.coreTopology.s.pool.logout;return this.s.coreTopology.s.pool.logout=o(function(){return typeof arguments[1]=="function"&&(arguments[1]=Oc.channel.bindToContext(arguments[1])),a.apply(this,arguments)},"contextPreservingLogout"),n},"contextPreservingConnect"),e},"mongodbcorePatchFunction"),pTe=o(function(e){dTe(e);var t=e.instrument(),r={},n={};return t.on("started",function(s){r[s.requestId]||(n[s.requestId]=Oc.channel.bindToContext(function(a){return a()}),r[s.requestId]=s)}),t.on("succeeded",function(s){var a=r[s.requestId];a&&delete r[s.requestId],typeof s=="object"&&typeof n[s.requestId]=="function"&&(n[s.requestId](function(){return Oc.channel.publish("mongodb",{startedData:a,event:s,succeeded:!0})}),delete n[s.requestId])}),t.on("failed",function(s){var a=r[s.requestId];a&&delete r[s.requestId],typeof s=="object"&&typeof n[s.requestId]=="function"&&(n[s.requestId](function(){return Oc.channel.publish("mongodb",{startedData:a,event:s,succeeded:!1})}),delete n[s.requestId])}),e},"mongodb330PatchFunction");Zc.mongo2={versionSpecifier:">= 2.0.0 <= 3.0.5",patch:uTe};Zc.mongo3={versionSpecifier:"> 3.0.5 < 3.3.0",patch:fTe};Zc.mongo330={versionSpecifier:">= 3.3.0 < 4.0.0",patch:pTe};function hTe(){Oc.channel.registerMonkeyPatch("mongodb",Zc.mongo2),Oc.channel.registerMonkeyPatch("mongodb",Zc.mongo3),Oc.channel.registerMonkeyPatch("mongodb",Zc.mongo330)}o(hTe,"enable");Zc.enable=hTe});var mne=k(ig=>{"use strict";Object.defineProperty(ig,"__esModule",{value:!0});ig.enable=ig.mysql=void 0;var lA=qa(),hne=require("path"),mTe=o(function(e,t){var r=o(function(u,f){return function(d,p){var h=u[d];h&&(u[d]=o(function(){for(var v=arguments.length-1,_=arguments.length-1;_>=0;--_)if(typeof arguments[_]=="function"){v=_;break}else if(typeof arguments[_]<"u")break;var b=arguments[v],S={result:null,startTime:null,startDate:null};typeof b=="function"&&(p?(S.startTime=process.hrtime(),S.startDate=new Date,arguments[v]=lA.channel.bindToContext(p(S,b))):arguments[v]=lA.channel.bindToContext(b));var A=h.apply(this,arguments);return S.result=A,A},"mysqlContextPreserver"))}},"patchObjectFunction"),n=o(function(u,f){return r(u.prototype,f+".prototype")},"patchClassMemberFunction"),s=["connect","changeUser","ping","statistics","end"],a=require(hne.dirname(t)+"/lib/Connection");s.forEach(function(u){return n(a,"Connection")(u)}),r(a,"Connection")("createQuery",function(u,f){return function(d){var p=process.hrtime(u.startTime),h=p[0]*1e3+p[1]/1e6|0;lA.channel.publish("mysql",{query:u.result,callbackArgs:arguments,err:d,duration:h,time:u.startDate}),f.apply(this,arguments)}});var l=["_enqueueCallback"],c=require(hne.dirname(t)+"/lib/Pool");return l.forEach(function(u){return n(c,"Pool")(u)}),e},"mysqlPatchFunction");ig.mysql={versionSpecifier:">= 2.0.0 < 3.0.0",patch:mTe};function gTe(){lA.channel.registerMonkeyPatch("mysql",ig.mysql)}o(gTe,"enable");ig.enable=gTe});var vne=k(sg=>{"use strict";Object.defineProperty(sg,"__esModule",{value:!0});sg.enable=sg.postgresPool1=void 0;var gne=qa();function vTe(e){var t=e.prototype.connect;return e.prototype.connect=o(function(n){return n&&(arguments[0]=gne.channel.bindToContext(n)),t.apply(this,arguments)},"connect"),e}o(vTe,"postgresPool1PatchFunction");sg.postgresPool1={versionSpecifier:">= 1.0.0 < 3.0.0",patch:vTe};function yTe(){gne.channel.registerMonkeyPatch("pg-pool",sg.postgresPool1)}o(yTe,"enable");sg.enable=yTe});var _ne=k(F1=>{"use strict";Object.defineProperty(F1,"__esModule",{value:!0});F1.enable=F1.postgres=F1.postgres6=void 0;var Vv=qa(),yne=require("events"),YF="postgres";function _Te(e,t){var r=e.Client.prototype.query,n="__diagnosticOriginalFunc";return e.Client.prototype.query=o(function(a,l,c){var u={query:{},database:{host:this.connectionParameters.host,port:this.connectionParameters.port},result:null,error:null,duration:0,time:new Date},f=process.hrtime(),d;function p(h){h&&h[n]&&(h=h[n]);var m=Vv.channel.bindToContext(function(v,_){var b=process.hrtime(f);if(u.result=_&&{rowCount:_.rowCount,command:_.command},u.error=v,u.duration=Math.ceil(b[0]*1e3+b[1]/1e6),Vv.channel.publish(YF,u),v){if(h)return h.apply(this,arguments);d&&d instanceof yne.EventEmitter&&d.emit("error",v)}else h&&h.apply(this,arguments)});try{return Object.defineProperty(m,n,{value:h}),m}catch{return h}}o(p,"patchCallback");try{typeof a=="string"?l instanceof Array?(u.query.preparable={text:a,args:l},c=p(c)):(u.query.text=a,c?c=p(c):l=p(l)):(typeof a.name=="string"?u.query.plan=a.name:a.values instanceof Array?u.query.preparable={text:a.text,args:a.values}:u.query.text=a.text,c?c=p(c):l?l=p(l):a.callback=p(a.callback))}catch{return r.apply(this,arguments)}return arguments[0]=a,arguments[1]=l,arguments[2]=c,arguments.length=arguments.length>3?arguments.length:3,d=r.apply(this,arguments),d},"query"),e}o(_Te,"postgres6PatchFunction");function xTe(e,t){var r=e.Client.prototype.query,n="__diagnosticOriginalFunc";return e.Client.prototype.query=o(function(a,l,c){var u=this,f,d,p=!!c,h={query:{},database:{host:this.connectionParameters.host,port:this.connectionParameters.port},result:null,error:null,duration:0,time:new Date},m,v=process.hrtime();function _(A){A&&A[n]&&(A=A[n]);var O=Vv.channel.bindToContext(function(L,D){var $=process.hrtime(v);if(h.result=D&&{rowCount:D.rowCount,command:D.command},h.error=L,h.duration=Math.ceil($[0]*1e3+$[1]/1e6),Vv.channel.publish(YF,h),L){if(A)return A.apply(this,arguments);m&&m instanceof yne.EventEmitter&&m.emit("error",L)}else A&&A.apply(this,arguments)});try{return Object.defineProperty(O,n,{value:A}),O}catch{return A}}o(_,"patchCallback");try{typeof a=="string"?l instanceof Array?(h.query.preparable={text:a,args:l},p=typeof c=="function",c=p?_(c):c):(h.query.text=a,c?(p=typeof c=="function",c=p?_(c):c):(p=typeof l=="function",l=p?_(l):l)):(typeof a.name=="string"?h.query.plan=a.name:a.values instanceof Array?h.query.preparable={text:a.text,args:a.values}:a.cursor?h.query.text=(f=a.cursor)===null||f===void 0?void 0:f.text:h.query.text=a.text,c?(p=typeof c=="function",c=_(c)):l?(p=typeof l=="function",l=p?_(l):l):(p=typeof a.callback=="function",a.callback=p?_(a.callback):a.callback))}catch{return r.apply(this,arguments)}arguments[0]=a,arguments[1]=l,arguments[2]=c,arguments.length=arguments.length>3?arguments.length:3;try{m=r.apply(this,arguments)}catch(A){throw _()(A,void 0),A}if(!p){if(m instanceof Promise)return m.then(function(A){return _()(void 0,A),new u._Promise(function(O,L){O(A)})}).catch(function(A){return _()(A,void 0),new u._Promise(function(O,L){L(A)})});var b=m.text?m.text:"";if(m.cursor&&(b=(d=m.cursor)===null||d===void 0?void 0:d.text),b){var S={command:b,rowCount:0};_()(void 0,S)}}return m},"query"),e}o(xTe,"postgresLatestPatchFunction");F1.postgres6={versionSpecifier:"6.*",patch:_Te};F1.postgres={versionSpecifier:">=7.* <=8.*",patch:xTe,publisherName:YF};function bTe(){Vv.channel.registerMonkeyPatch("pg",F1.postgres6),Vv.channel.registerMonkeyPatch("pg",F1.postgres)}o(bTe,"enable");F1.enable=bTe});var xne=k(ag=>{"use strict";Object.defineProperty(ag,"__esModule",{value:!0});ag.enable=ag.redis=void 0;var XF=qa(),ETe=o(function(e){var t=e.RedisClient.prototype.internal_send_command;return e.RedisClient.prototype.internal_send_command=function(r){if(r){var n=r.callback;if(!n||!n.pubsubBound){var s=this.address,a=process.hrtime(),l=new Date;r.callback=XF.channel.bindToContext(function(c,u){var f=process.hrtime(a),d=f[0]*1e3+f[1]/1e6|0;XF.channel.publish("redis",{duration:d,address:s,commandObj:r,err:c,result:u,time:l}),typeof n=="function"&&n.apply(this,arguments)}),r.callback.pubsubBound=!0}}return t.call(this,r)},e},"redisPatchFunction");ag.redis={versionSpecifier:">= 2.0.0 < 4.0.0",patch:ETe};function TTe(){XF.channel.registerMonkeyPatch("redis",ag.redis)}o(TTe,"enable");ag.enable=TTe});var bne=k(fh=>{"use strict";var cA=fh&&fh.__assign||function(){return cA=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},cA.apply(this,arguments)};Object.defineProperty(fh,"__esModule",{value:!0});fh.enable=fh.tedious=void 0;var QF=qa(),CTe=o(function(e){var t=e.Connection.prototype.makeRequest;return e.Connection.prototype.makeRequest=o(function(){function n(a){var l=process.hrtime(),c={query:{},database:{host:null,port:null},result:null,error:null,duration:0};return QF.channel.bindToContext(function(u,f,d){var p=process.hrtime(l);c=cA(cA({},c),{database:{host:this.connection.config.server,port:this.connection.config.options.port},result:!u&&{rowCount:f,rows:d},query:{text:this.parametersByName.statement.value},error:u,duration:Math.ceil(p[0]*1e3+p[1]/1e6)}),QF.channel.publish("tedious",c),a.call(this,u,f,d)})}o(n,"getPatchedCallback");var s=arguments[0];arguments[0].callback=n(s.callback),t.apply(this,arguments)},"makeRequest"),e},"tediousPatchFunction");fh.tedious={versionSpecifier:">= 6.0.0 < 9.0.0",patch:CTe};function STe(){QF.channel.registerMonkeyPatch("tedious",fh.tedious)}o(STe,"enable");fh.enable=STe});var Ene=k(Eu=>{"use strict";var ITe=Eu&&Eu.__extends||function(){var e=o(function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(n[a]=s[a])},e(t,r)},"extendStatics");return function(t,r){e(t,r);function n(){this.constructor=t}o(n,"__"),t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ATe=Eu&&Eu.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};Object.defineProperty(Eu,"__esModule",{value:!0});Eu.enable=Eu.winston2=Eu.winston3=void 0;var uA=qa(),wTe=o(function(e){var t=e.Logger.prototype.log,r,n=o(function(s,a,l){var c;return r===e.config.npm.levels?c="npm":r===e.config.syslog.levels?c="syslog":c="unknown",uA.channel.publish("winston",{level:s,message:a,meta:l,levelKind:c}),a},"loggingFilter");return e.Logger.prototype.log=o(function(){return r=this.levels,!this.filters||this.filters.length===0?this.filters=[n]:this.filters[this.filters.length-1]!==n&&(this.filters=this.filters.filter(function(a){return a!==n}),this.filters.push(n)),t.apply(this,arguments)},"log"),e},"winston2PatchFunction"),RTe=o(function(e){var t=o(function(l,c){var u;return l.config.npm.levels[c]!=null?u="npm":l.config.syslog.levels[c]!=null?u="syslog":u="unknown",u},"mapLevelToKind"),r=function(l){ITe(c,l);function c(u,f){var d=l.call(this,f)||this;return d.winston=u,d}return o(c,"AppInsightsTransport"),c.prototype.log=function(u,f){var d=u.message,p=u.level,h=u.meta,m=ATe(u,["message","level","meta"]);p=typeof Symbol.for=="function"?u[Symbol.for("level")]:p,d=u instanceof Error?u:d;var v=t(this.winston,p);h=h||{};for(var _ in m)m.hasOwnProperty(_)&&(h[_]=m[_]);uA.channel.publish("winston",{message:d,level:p,levelKind:v,meta:h}),f()},c}(e.Transport);function n(){var l=e.config.npm.levels;arguments&&arguments[0]&&arguments[0].levels&&(l=arguments[0].levels);var c;for(var u in l)l.hasOwnProperty(u)&&(c=c===void 0||l[u]>l[c]?u:c);this.add(new r(e,{level:c}))}o(n,"patchedConfigure");var s=e.createLogger;e.createLogger=o(function(){var c=e.config.npm.levels;arguments&&arguments[0]&&arguments[0].levels&&(c=arguments[0].levels);var u;for(var f in c)c.hasOwnProperty(f)&&(u=u===void 0||c[f]>c[u]?f:u);var d=s.apply(this,arguments);d.add(new r(e,{level:u}));var p=d.configure;return d.configure=function(){p.apply(this,arguments),n.apply(this,arguments)},d},"patchedCreate");var a=e.configure;return e.configure=function(){a.apply(this,arguments),n.apply(this,arguments)},e.add(new r(e)),e},"winston3PatchFunction");Eu.winston3={versionSpecifier:"3.x",patch:RTe};Eu.winston2={versionSpecifier:"2.x",patch:wTe};function PTe(){uA.channel.registerMonkeyPatch("winston",Eu.winston2),uA.channel.registerMonkeyPatch("winston",Eu.winston3)}o(PTe,"enable");Eu.enable=PTe});var Lne=k(ta=>{"use strict";Object.defineProperty(ta,"__esModule",{value:!0});ta.enable=ta.tedious=ta.pgPool=ta.pg=ta.winston=ta.redis=ta.mysql=ta.mongodb=ta.mongodbCore=ta.console=ta.bunyan=ta.azuresdk=void 0;var Tne=one();ta.azuresdk=Tne;var Cne=cne();ta.bunyan=Cne;var Sne=fne();ta.console=Sne;var Ine=dne();ta.mongodbCore=Ine;var Ane=pne();ta.mongodb=Ane;var wne=mne();ta.mysql=wne;var Rne=vne();ta.pgPool=Rne;var Pne=_ne();ta.pg=Pne;var Nne=xne();ta.redis=Nne;var One=bne();ta.tedious=One;var Dne=Ene();ta.winston=Dne;function NTe(){Cne.enable(),Sne.enable(),Ine.enable(),Ane.enable(),wne.enable(),Pne.enable(),Rne.enable(),Nne.enable(),Dne.enable(),Tne.enable(),One.enable()}o(NTe,"enable");ta.enable=NTe});var pA=k(K5=>{"use strict";Object.defineProperty(K5,"__esModule",{value:!0});K5.registerContextPreservation=K5.IsInitialized=void 0;var JF=ya(),Mne=NC();K5.IsInitialized=!Mne.JsonConfig.getInstance().noDiagnosticChannel;var ZF="DiagnosticChannel";if(K5.IsInitialized){wd=Lne(),kne=Mne.JsonConfig.getInstance().noPatchModules,fA=kne.split(","),eU={bunyan:wd.bunyan,console:wd.console,mongodb:wd.mongodb,mongodbCore:wd.mongodbCore,mysql:wd.mysql,redis:wd.redis,pg:wd.pg,pgPool:wd.pgPool,winston:wd.winston,azuresdk:wd.azuresdk};for(dA in eU)fA.indexOf(dA)===-1&&(eU[dA].enable(),JF.info(ZF,"Subscribed to "+dA+" events"));fA.length>0&&JF.info(ZF,"Some modules will not be patched",fA)}else JF.info(ZF,"Not subscribing to dependency autocollection because APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL was set");var wd,kne,fA,eU,dA;function OTe(e){if(K5.IsInitialized){var t=qa();t.channel.addContextPreservation(e)}}o(OTe,"registerContextPreservation");K5.registerContextPreservation=OTe});var Gv=k((mZe,Bne)=>{"use strict";Bne.exports={requestContextHeader:"request-context",requestContextSourceKey:"appId",requestContextTargetKey:"appId",requestIdHeader:"request-id",parentIdHeader:"x-ms-request-id",rootIdHeader:"x-ms-request-root-id",correlationContextHeader:"correlation-context",traceparentHeader:"traceparent",traceStateHeader:"tracestate"}});var Fl=k((nU,Fne)=>{"use strict";var Y5=nU&&nU.__assign||function(){return Y5=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Y5.apply(this,arguments)},DTe=require("http"),tU=require("https"),rU=require("url"),W5=require("constants"),og=ya(),zv=Gv(),LTe=NC(),kTe=function(){function e(){e._addCloseHandler()}return o(e,"Util"),e.getCookie=function(t,r){var n="";if(t&&t.length&&typeof r=="string")for(var s=t+"=",a=r.split(";"),l=0;l<a.length;l++){var r=a[l];if(r=e.trim(r),r&&r.indexOf(s)===0){n=r.substring(s.length,a[l].length);break}}return n},e.trim=function(t){return typeof t=="string"?t.replace(/^\s+|\s+$/g,""):""},e.int32ArrayToBase64=function(t){var r=o(function(c,u){return String.fromCharCode(c>>u&255)},"toChar"),n=o(function(c){return r(c,24)+r(c,16)+r(c,8)+r(c,0)},"int32AsString"),s=t.map(n).join(""),a=Buffer.from?Buffer.from(s,"binary"):new Buffer(s,"binary"),l=a.toString("base64");return l.substr(0,l.indexOf("="))},e.random32=function(){return 4294967296*Math.random()|0},e.randomu32=function(){return e.random32()+2147483648},e.w3cTraceId=function(){for(var t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],r="",n,s=0;s<4;s++)n=e.random32(),r+=t[n&15]+t[n>>4&15]+t[n>>8&15]+t[n>>12&15]+t[n>>16&15]+t[n>>20&15]+t[n>>24&15]+t[n>>28&15];var a=t[8+Math.random()*4|0];return r.substr(0,8)+r.substr(9,4)+"4"+r.substr(13,3)+a+r.substr(16,3)+r.substr(19,12)},e.w3cSpanId=function(){return e.w3cTraceId().substring(16)},e.isValidW3CId=function(t){return t.length===32&&t!=="00000000000000000000000000000000"},e.isArray=function(t){return Object.prototype.toString.call(t)==="[object Array]"},e.isError=function(t){return Object.prototype.toString.call(t)==="[object Error]"},e.isPrimitive=function(t){var r=typeof t;return r==="string"||r==="number"||r==="boolean"},e.isDate=function(t){return Object.prototype.toString.call(t)==="[object Date]"},e.msToTimeSpan=function(t){(isNaN(t)||t<0)&&(t=0);var r=(t/1e3%60).toFixed(7).replace(/0{0,4}$/,""),n=""+Math.floor(t/(1e3*60))%60,s=""+Math.floor(t/(1e3*60*60))%24,a=Math.floor(t/(1e3*60*60*24));r=r.indexOf(".")<2?"0"+r:r,n=n.length<2?"0"+n:n,s=s.length<2?"0"+s:s;var l=a>0?a+".":"";return l+s+":"+n+":"+r},e.extractError=function(t){var r=t;return{message:t.message,code:r.code||r.id||""}},e.extractObject=function(t){return t instanceof Error?e.extractError(t):typeof t.toJSON=="function"?t.toJSON():t},e.validateStringMap=function(t){if(typeof t!="object"){og.info("Invalid properties dropped from payload");return}var r={};for(var n in t){var s="",a=t[n],l=typeof a;if(e.isPrimitive(a))s=a.toString();else if(a===null||l==="undefined")s="";else if(l==="function"){og.info("key: "+n+" was function; will not serialize");continue}else{var c=e.isArray(a)?a:e.extractObject(a);try{e.isPrimitive(c)?s=c:s=JSON.stringify(c)}catch(u){s=a.constructor.name.toString()+" (Error: "+u.message+")",og.info("key: "+n+", could not be serialized")}}r[n]=s.substring(0,e.MAX_PROPERTY_LENGTH)}return r},e.canIncludeCorrelationHeader=function(t,r){var n=t&&t.config&&t.config.correlationHeaderExcludedDomains;if(!n||n.length==0||!r)return!0;for(var s=0;s<n.length;s++){var a=new RegExp(n[s].replace(/\./g,".").replace(/\*/g,".*"));try{if(a.test(new rU.URL(r).hostname))return!1}catch{}}return!0},e.getCorrelationContextTarget=function(t,r){var n=t.headers&&t.headers[zv.requestContextHeader];if(n)for(var s=n.split(","),a=0;a<s.length;++a){var l=s[a].split("=");if(l.length==2&&l[0]==r)return l[1]}},e.makeRequest=function(t,r,n,s,a,l){a===void 0&&(a=!0),l===void 0&&(l=!0),r&&r.indexOf("//")===0&&(r="https:"+r);var c=new rU.URL(r),u=Y5(Y5({},n),{host:c.hostname,port:c.port,path:c.pathname}),f=void 0;if(a&&(c.protocol==="https:"&&(f=t.proxyHttpsUrl||void 0),c.protocol==="http:"&&(f=t.proxyHttpUrl||void 0),f)){f.indexOf("//")===0&&(f="http:"+f);try{var d=new rU.URL(f);d.protocol==="https:"?(og.info("Proxies that use HTTPS are not supported"),f=void 0):u=Y5(Y5({},u),{host:d.hostname,port:d.port||"80",path:r,headers:Y5(Y5({},u.headers),{Host:c.hostname})})}catch{og.warn("Wrong proxy URL provided")}}var p=c.protocol==="https:"&&!f;return l&&(p&&t.httpsAgent!==void 0?u.agent=t.httpsAgent:!p&&t.httpAgent!==void 0?u.agent=t.httpAgent:p&&(u.agent=e._useKeepAlive?e.keepAliveAgent:e.tlsRestrictedAgent)),p?tU.request(u,s):DTe.request(u,s)},e.safeIncludeCorrelationHeader=function(t,r,n){var s;if(typeof n=="string")s=n;else if(n instanceof Array)s=n.join(",");else if(n&&typeof n.toString=="function")try{s=n.toString()}catch(a){og.warn("Outgoing request-context header could not be read. Correlation of requests may be lost.",a,n)}s?e.addCorrelationIdHeaderFromString(t,r,s):r.setHeader(zv.requestContextHeader,zv.requestContextSourceKey+"="+t.config.correlationId)},e.dumpObj=function(t){if(t)try{var r=Object.prototype.toString.call(t),n="";return r==="[object Error]"?n="{ stack: '"+t.stack+"', message: '"+t.message+"', name: '"+t.name+"'":n=this.stringify(t),r+n}catch{return t.toString()}},e.stringify=function(t){try{return JSON.stringify(t)}catch(r){og.warn("Failed to serialize payload",r,t)}},e.addCorrelationIdHeaderFromString=function(t,r,n){var s=n.split(","),a=zv.requestContextSourceKey+"=",l=s.some(function(c){return c.substring(0,a.length)===a});l||r.setHeader(zv.requestContextHeader,n+","+zv.requestContextSourceKey+"="+t.config.correlationId)},e._addCloseHandler=function(){e._listenerAttached||(process.on("exit",function(){e.isNodeExit=!0,e._useKeepAlive=!1}),e._listenerAttached=!0)},e._useKeepAlive=!LTe.JsonConfig.getInstance().noHttpAgentKeepAlive,e._listenerAttached=!1,e.MAX_PROPERTY_LENGTH=8192,e.keepAliveAgent=new tU.Agent({keepAlive:!0,maxSockets:25,secureOptions:W5.SSL_OP_NO_SSLv2|W5.SSL_OP_NO_SSLv3|W5.SSL_OP_NO_TLSv1|W5.SSL_OP_NO_TLSv1_1}),e.tlsRestrictedAgent=new tU.Agent({secureOptions:W5.SSL_OP_NO_SSLv2|W5.SSL_OP_NO_SSLv3|W5.SSL_OP_NO_TLSv1|W5.SSL_OP_NO_TLSv1_1}),e.isNodeExit=!1,e}();Fne.exports=kTe});var lg=k((vZe,Une)=>{"use strict";var iU=Fl(),MTe=function(){function e(){}return o(e,"CorrelationIdManager"),e.queryCorrelationId=function(t,r){},e.cancelCorrelationIdQuery=function(t,r){},e.generateRequestId=function(t){if(t){t=t[0]=="|"?t:"|"+t,t[t.length-1]!=="."&&(t+=".");var r=(e.currentRootId++).toString(16);return e.appendSuffix(t,r,"_")}else return e.generateRootId()},e.getRootId=function(t){var r=t.indexOf(".");r<0&&(r=t.length);var n=t[0]==="|"?1:0;return t.substring(n,r)},e.generateRootId=function(){return"|"+iU.w3cTraceId()+"."},e.appendSuffix=function(t,r,n){if(t.length+r.length<e.requestIdMaxLength)return t+r+n;var s=e.requestIdMaxLength-9;if(t.length>s)for(;s>1;--s){var a=t[s-1];if(a==="."||a==="_")break}if(s<=1)return e.generateRootId();for(r=iU.randomu32().toString(16);r.length<8;)r="0"+r;return t.substring(0,s)+r+"#"},e.correlationIdPrefix="cid-v1:",e.w3cEnabled=!0,e.HTTP_TIMEOUT=2500,e.requestIdMaxLength=1024,e.currentRootId=iU.randomu32(),e}();Une.exports=MTe});var hA=k((_Ze,qne)=>{"use strict";var cc=Fl(),BTe=lg(),FTe=function(){function e(t,r){if(this.traceFlag=e.DEFAULT_TRACE_FLAG,this.version=e.DEFAULT_VERSION,t&&typeof t=="string")if(t.split(",").length>1)this.traceId=cc.w3cTraceId(),this.spanId=cc.w3cTraceId().substr(0,16);else{var n=t.trim().split("-"),s=n.length;s>=4?(this.version=n[0],this.traceId=n[1],this.spanId=n[2],this.traceFlag=n[3]):(this.traceId=cc.w3cTraceId(),this.spanId=cc.w3cTraceId().substr(0,16)),this.version.match(/^[0-9a-f]{2}$/g)||(this.version=e.DEFAULT_VERSION,this.traceId=cc.w3cTraceId()),this.version==="00"&&s!==4&&(this.traceId=cc.w3cTraceId(),this.spanId=cc.w3cTraceId().substr(0,16)),this.version==="ff"&&(this.version=e.DEFAULT_VERSION,this.traceId=cc.w3cTraceId(),this.spanId=cc.w3cTraceId().substr(0,16)),this.version.match(/^0[0-9a-f]$/g)||(this.version=e.DEFAULT_VERSION),this.traceFlag.match(/^[0-9a-f]{2}$/g)||(this.traceFlag=e.DEFAULT_TRACE_FLAG,this.traceId=cc.w3cTraceId()),e.isValidTraceId(this.traceId)||(this.traceId=cc.w3cTraceId()),e.isValidSpanId(this.spanId)||(this.spanId=cc.w3cTraceId().substr(0,16),this.traceId=cc.w3cTraceId()),this.parentId=this.getBackCompatRequestId()}else if(r){this.parentId=r.slice();var a=BTe.getRootId(r);e.isValidTraceId(a)||(this.legacyRootId=a,a=cc.w3cTraceId()),r.indexOf("|")!==-1&&(r=r.substring(1+r.substring(0,r.length-1).lastIndexOf("."),r.length-1)),this.traceId=a,this.spanId=r}else this.traceId=cc.w3cTraceId(),this.spanId=cc.w3cTraceId().substr(0,16)}return o(e,"Traceparent"),e.isValidTraceId=function(t){return t.match(/^[0-9a-f]{32}$/)&&t!=="00000000000000000000000000000000"},e.isValidSpanId=function(t){return t.match(/^[0-9a-f]{16}$/)&&t!=="0000000000000000"},e.formatOpenTelemetryTraceFlags=function(t){var r="0"+t.toString(16);return r.substring(r.length-2)},e.prototype.getBackCompatRequestId=function(){return"|"+this.traceId+"."+this.spanId+"."},e.prototype.toString=function(){return this.version+"-"+this.traceId+"-"+this.spanId+"-"+this.traceFlag},e.prototype.updateSpanId=function(){this.spanId=cc.w3cTraceId().substr(0,16)},e.DEFAULT_TRACE_FLAG="01",e.DEFAULT_VERSION="00",e}();qne.exports=FTe});var sU=k((bZe,jne)=>{"use strict";var UTe=function(){function e(t){this.fieldmap=[],t&&(this.fieldmap=this.parseHeader(t))}return o(e,"Tracestate"),e.prototype.toString=function(){var t=this.fieldmap;return!t||t.length==0?null:t.join(", ")},e.validateKeyChars=function(t){var r=t.split("@");if(r.length==2){var n=r[0].trim(),s=r[1].trim(),a=!!n.match(/^[\ ]?[a-z0-9\*\-\_/]{1,241}$/),l=!!s.match(/^[\ ]?[a-z0-9\*\-\_/]{1,14}$/);return a&&l}else if(r.length==1)return!!t.match(/^[\ ]?[a-z0-9\*\-\_/]{1,256}$/);return!1},e.prototype.parseHeader=function(t){var r=[],n={},s=t.split(",");if(s.length>32)return null;for(var a=0,l=s;a<l.length;a++){var c=l[a],u=c.trim();if(u.length!==0){var f=u.split("=");if(f.length!==2||!e.validateKeyChars(f[0])||n[f[0]])return null;n[f[0]]=!0,r.push(u)}}return r},e.strict=!0,e}();jne.exports=UTe});var dh=k((TZe,Hne)=>{"use strict";var qTe=function(){function e(){}return o(e,"Domain"),e}();Hne.exports=qTe});var Vne=k((aU,$ne)=>{"use strict";var jTe=aU&&aU.__extends||function(){var e=o(function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(n[a]=s[a])},e(t,r)},"extendStatics");return function(t,r){e(t,r);function n(){this.constructor=t}o(n,"__"),t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),HTe=dh(),$Te=function(e){jTe(t,e);function t(){var r=e.call(this)||this;return r.ver=2,r.properties={},r.measurements={},r}return o(t,"AvailabilityData"),t}(HTe);$ne.exports=$Te});var oU=k((IZe,Gne)=>{"use strict";var VTe=function(){function e(){}return o(e,"Base"),e}();Gne.exports=VTe});var Kne=k((wZe,zne)=>{"use strict";var GTe=function(){function e(){this.applicationVersion="ai.application.ver",this.deviceId="ai.device.id",this.deviceLocale="ai.device.locale",this.deviceModel="ai.device.model",this.deviceOEMName="ai.device.oemName",this.deviceOSVersion="ai.device.osVersion",this.deviceType="ai.device.type",this.locationIp="ai.location.ip",this.operationId="ai.operation.id",this.operationName="ai.operation.name",this.operationParentId="ai.operation.parentId",this.operationSyntheticSource="ai.operation.syntheticSource",this.operationCorrelationVector="ai.operation.correlationVector",this.sessionId="ai.session.id",this.sessionIsFirst="ai.session.isFirst",this.userAccountId="ai.user.accountId",this.userId="ai.user.id",this.userAuthUserId="ai.user.authUserId",this.cloudRole="ai.cloud.role",this.cloudRoleInstance="ai.cloud.roleInstance",this.internalSdkVersion="ai.internal.sdkVersion",this.internalAgentVersion="ai.internal.agentVersion",this.internalNodeName="ai.internal.nodeName"}return o(e,"ContextTagKeys"),e}();zne.exports=GTe});var Yne=k((lU,Wne)=>{"use strict";var zTe=lU&&lU.__extends||function(){var e=o(function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(n[a]=s[a])},e(t,r)},"extendStatics");return function(t,r){e(t,r);function n(){this.constructor=t}o(n,"__"),t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),KTe=oU(),WTe=function(e){zTe(t,e);function t(){return e.call(this)||this}return o(t,"Data"),t}(KTe);Wne.exports=WTe});var uU=k((NZe,Xne)=>{"use strict";var cU;(function(e){e[e.Measurement=0]="Measurement",e[e.Aggregation=1]="Aggregation"})(cU||(cU={}));Xne.exports=cU});var Jne=k((OZe,Qne)=>{"use strict";var YTe=uU(),XTe=function(){function e(){this.kind=YTe.Measurement}return o(e,"DataPoint"),e}();Qne.exports=XTe});var eie=k((LZe,Zne)=>{"use strict";var QTe=function(){function e(){this.ver=1,this.sampleRate=100,this.tags={}}return o(e,"Envelope"),e}();Zne.exports=QTe});var dU=k((fU,tie)=>{"use strict";var JTe=fU&&fU.__extends||function(){var e=o(function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(n[a]=s[a])},e(t,r)},"extendStatics");return function(t,r){e(t,r);function n(){this.constructor=t}o(n,"__"),t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),ZTe=dh(),eCe=function(e){JTe(t,e);function t(){var r=e.call(this)||this;return r.ver=2,r.properties={},r.measurements={},r}return o(t,"EventData"),t}(ZTe);tie.exports=eCe});var nie=k((pU,rie)=>{"use strict";var tCe=pU&&pU.__extends||function(){var e=o(function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(n[a]=s[a])},e(t,r)},"extendStatics");return function(t,r){e(t,r);function n(){this.constructor=t}o(n,"__"),t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),rCe=dh(),nCe=function(e){tCe(t,e);function t(){var r=e.call(this)||this;return r.ver=2,r.exceptions=[],r.properties={},r.measurements={},r}return o(t,"ExceptionData"),t}(rCe);rie.exports=nCe});var sie=k((FZe,iie)=>{"use strict";var iCe=function(){function e(){this.hasFullStack=!0,this.parsedStack=[]}return o(e,"ExceptionDetails"),e}();iie.exports=iCe});var oie=k((hU,aie)=>{"use strict";var sCe=hU&&hU.__extends||function(){var e=o(function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(n[a]=s[a])},e(t,r)},"extendStatics");return function(t,r){e(t,r);function n(){this.constructor=t}o(n,"__"),t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),aCe=dh(),oCe=function(e){sCe(t,e);function t(){var r=e.call(this)||this;return r.ver=2,r.properties={},r}return o(t,"MessageData"),t}(aCe);aie.exports=oCe});var cie=k((mU,lie)=>{"use strict";var lCe=mU&&mU.__extends||function(){var e=o(function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(n[a]=s[a])},e(t,r)},"extendStatics");return function(t,r){e(t,r);function n(){this.constructor=t}o(n,"__"),t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),cCe=dh(),uCe=function(e){lCe(t,e);function t(){var r=e.call(this)||this;return r.ver=2,r.metrics=[],r.properties={},r}return o(t,"MetricData"),t}(cCe);lie.exports=uCe});var fie=k((gU,uie)=>{"use strict";var fCe=gU&&gU.__extends||function(){var e=o(function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(n[a]=s[a])},e(t,r)},"extendStatics");return function(t,r){e(t,r);function n(){this.constructor=t}o(n,"__"),t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),dCe=dU(),pCe=function(e){fCe(t,e);function t(){var r=e.call(this)||this;return r.ver=2,r.properties={},r.measurements={},r}return o(t,"PageViewData"),t}(dCe);uie.exports=pCe});var pie=k((vU,die)=>{"use strict";var hCe=vU&&vU.__extends||function(){var e=o(function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(n[a]=s[a])},e(t,r)},"extendStatics");return function(t,r){e(t,r);function n(){this.constructor=t}o(n,"__"),t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),mCe=dh(),gCe=function(e){hCe(t,e);function t(){var r=e.call(this)||this;return r.ver=2,r.success=!0,r.properties={},r.measurements={},r}return o(t,"RemoteDependencyData"),t}(mCe);die.exports=gCe});var mie=k((yU,hie)=>{"use strict";var vCe=yU&&yU.__extends||function(){var e=o(function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(n[a]=s[a])},e(t,r)},"extendStatics");return function(t,r){e(t,r);function n(){this.constructor=t}o(n,"__"),t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),yCe=dh(),_Ce=function(e){vCe(t,e);function t(){var r=e.call(this)||this;return r.ver=2,r.properties={},r.measurements={},r}return o(t,"RequestData"),t}(yCe);hie.exports=_Ce});var vie=k((GZe,gie)=>{"use strict";var _U;(function(e){e[e.Verbose=0]="Verbose",e[e.Information=1]="Information",e[e.Warning=2]="Warning",e[e.Error=3]="Error",e[e.Critical=4]="Critical"})(_U||(_U={}));gie.exports=_U});var _ie=k((zZe,yie)=>{"use strict";var xCe=function(){function e(){}return o(e,"StackFrame"),e}();yie.exports=xCe});var xU=k(ol=>{"use strict";Object.defineProperty(ol,"__esModule",{value:!0});ol.AvailabilityData=Vne();ol.Base=oU();ol.ContextTagKeys=Kne();ol.Data=Yne();ol.DataPoint=Jne();ol.DataPointType=uU();ol.Domain=dh();ol.Envelope=eie();ol.EventData=dU();ol.ExceptionData=nie();ol.ExceptionDetails=sie();ol.MessageData=oie();ol.MetricData=cie();ol.PageViewData=fie();ol.RemoteDependencyData=pie();ol.RequestData=mie();ol.SeverityLevel=vie();ol.StackFrame=_ie()});var xie=k(Kv=>{"use strict";Object.defineProperty(Kv,"__esModule",{value:!0});Kv.domainSupportsProperties=Kv.RemoteDependencyDataConstants=void 0;var cg=xU(),bCe=function(){function e(){}return o(e,"RemoteDependencyDataConstants"),e.TYPE_HTTP="Http",e.TYPE_AI="Http (tracked component)",e}();Kv.RemoteDependencyDataConstants=bCe;function ECe(e){return"properties"in e||e instanceof cg.EventData||e instanceof cg.ExceptionData||e instanceof cg.MessageData||e instanceof cg.MetricData||e instanceof cg.PageViewData||e instanceof cg.RemoteDependencyData||e instanceof cg.RequestData}o(ECe,"domainSupportsProperties");Kv.domainSupportsProperties=ECe});var Eie=k(bie=>{"use strict";Object.defineProperty(bie,"__esModule",{value:!0})});var Cie=k(Tie=>{"use strict";Object.defineProperty(Tie,"__esModule",{value:!0})});var Iie=k(Sie=>{"use strict";Object.defineProperty(Sie,"__esModule",{value:!0})});var wie=k(Aie=>{"use strict";Object.defineProperty(Aie,"__esModule",{value:!0})});var Pie=k(Rie=>{"use strict";Object.defineProperty(Rie,"__esModule",{value:!0})});var Oie=k(Nie=>{"use strict";Object.defineProperty(Nie,"__esModule",{value:!0})});var Lie=k(Die=>{"use strict";Object.defineProperty(Die,"__esModule",{value:!0})});var Mie=k(kie=>{"use strict";Object.defineProperty(kie,"__esModule",{value:!0})});var Fie=k(Bie=>{"use strict";Object.defineProperty(Bie,"__esModule",{value:!0})});var qie=k(Uie=>{"use strict";Object.defineProperty(Uie,"__esModule",{value:!0})});var Hie=k(jie=>{"use strict";Object.defineProperty(jie,"__esModule",{value:!0})});var Vie=k($ie=>{"use strict";Object.defineProperty($ie,"__esModule",{value:!0})});var Gie=k(Rd=>{"use strict";Object.defineProperty(Rd,"__esModule",{value:!0});Rd.TelemetryType=Rd.TelemetryTypeString=Rd.baseTypeToTelemetryType=Rd.telemetryTypeToBaseType=void 0;function TCe(e){switch(e){case uc.Event:return"EventData";case uc.Exception:return"ExceptionData";case uc.Trace:return"MessageData";case uc.Metric:return"MetricData";case uc.Request:return"RequestData";case uc.Dependency:return"RemoteDependencyData";case uc.Availability:return"AvailabilityData";case uc.PageView:return"PageViewData"}}o(TCe,"telemetryTypeToBaseType");Rd.telemetryTypeToBaseType=TCe;function CCe(e){switch(e){case"EventData":return uc.Event;case"ExceptionData":return uc.Exception;case"MessageData":return uc.Trace;case"MetricData":return uc.Metric;case"RequestData":return uc.Request;case"RemoteDependencyData":return uc.Dependency;case"AvailabilityData":return uc.Availability;case"PageViewData":return uc.PageView}}o(CCe,"baseTypeToTelemetryType");Rd.baseTypeToTelemetryType=CCe;Rd.TelemetryTypeString={Event:"EventData",Exception:"ExceptionData",Trace:"MessageData",Metric:"MetricData",Request:"RequestData",Dependency:"RemoteDependencyData",Availability:"AvailabilityData",PageView:"PageViewData"};var uc;(function(e){e[e.Event=0]="Event",e[e.Exception=1]="Exception",e[e.Trace=2]="Trace",e[e.Metric=3]="Metric",e[e.Request=4]="Request",e[e.Dependency=5]="Dependency",e[e.Availability=6]="Availability",e[e.PageView=7]="PageView"})(uc=Rd.TelemetryType||(Rd.TelemetryType={}))});var zie=k(bl=>{"use strict";var SCe=bl&&bl.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Gu=bl&&bl.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&SCe(t,e,r)};Object.defineProperty(bl,"__esModule",{value:!0});Gu(Eie(),bl);Gu(Cie(),bl);Gu(Iie(),bl);Gu(wie(),bl);Gu(Pie(),bl);Gu(Oie(),bl);Gu(Lie(),bl);Gu(Mie(),bl);Gu(Fie(),bl);Gu(qie(),bl);Gu(Hie(),bl);Gu(Vie(),bl);Gu(Gie(),bl)});var Wie=k(Kie=>{"use strict";Object.defineProperty(Kie,"__esModule",{value:!0})});var Xie=k(Yie=>{"use strict";Object.defineProperty(Yie,"__esModule",{value:!0})});var Jie=k(Qie=>{"use strict";Object.defineProperty(Qie,"__esModule",{value:!0})});var ese=k(Zie=>{"use strict";Object.defineProperty(Zie,"__esModule",{value:!0})});var rse=k(tse=>{"use strict";Object.defineProperty(tse,"__esModule",{value:!0})});var ise=k(nse=>{"use strict";Object.defineProperty(nse,"__esModule",{value:!0})});var ase=k(sse=>{"use strict";Object.defineProperty(sse,"__esModule",{value:!0})});var lse=k(ose=>{"use strict";Object.defineProperty(ose,"__esModule",{value:!0})});var cse=k(Tu=>{"use strict";var ICe=Tu&&Tu.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),X5=Tu&&Tu.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&ICe(t,e,r)};Object.defineProperty(Tu,"__esModule",{value:!0});X5(Wie(),Tu);X5(Xie(),Tu);X5(Jie(),Tu);X5(ese(),Tu);X5(rse(),Tu);X5(ise(),Tu);X5(ase(),Tu);X5(lse(),Tu)});var Dc=k(U1=>{"use strict";var ACe=U1&&U1.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),mA=U1&&U1.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&ACe(t,e,r)};Object.defineProperty(U1,"__esModule",{value:!0});mA(xie(),U1);mA(xU(),U1);mA(zie(),U1);mA(cse(),U1)});var bU=k((Tet,use)=>{"use strict";var wCe=function(){function e(){}return o(e,"RequestParser"),e.prototype.getUrl=function(){return this.url},e.prototype.RequestParser=function(){this.startTime=+new Date},e.prototype._setStatus=function(t,r){var n=+new Date;this.duration=n-this.startTime,this.statusCode=t;var s=this.properties||{};if(r){if(typeof r=="string")s.error=r;else if(r instanceof Error)s.error=r.message;else if(typeof r=="object")for(var a in r)s[a]=r[a]&&r[a].toString&&r[a].toString()}this.properties=s},e.prototype._isSuccess=function(){return 0<this.statusCode&&this.statusCode<400},e}();use.exports=wCe});var CU=k((TU,dse)=>{"use strict";var RCe=TU&&TU.__extends||function(){var e=o(function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(n[a]=s[a])},e(t,r)},"extendStatics");return function(t,r){e(t,r);function n(){this.constructor=t}o(n,"__"),t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),gA=require("url"),PCe=Dc(),fse=Fl(),zu=Gv(),NCe=bU(),Q5=lg(),OCe=sU(),EU=hA(),DCe=function(e){RCe(t,e);function t(r,n){var s=e.call(this)||this;return r&&(s.method=r.method,s.url=s._getAbsoluteUrl(r),s.startTime=+new Date,s.socketRemoteAddress=r.socket&&r.socket.remoteAddress,s.parseHeaders(r,n),r.connection&&(s.connectionRemoteAddress=r.connection.remoteAddress,s.legacySocketRemoteAddress=r.connection.socket&&r.connection.socket.remoteAddress)),s}return o(t,"HttpRequestParser"),t.prototype.onError=function(r,n){this._setStatus(void 0,r),n&&(this.duration=n)},t.prototype.onResponse=function(r,n){this._setStatus(r.statusCode,void 0),n&&(this.duration=n)},t.prototype.getRequestTelemetry=function(r){var n=this.method;try{n+=" "+new gA.URL(this.url).pathname}catch{}var s={id:this.requestId,name:n,url:this.url,source:this.sourceCorrelationId,duration:this.duration,resultCode:this.statusCode?this.statusCode.toString():null,success:this._isSuccess(),properties:this.properties};if(r&&r.time?s.time=r.time:this.startTime&&(s.time=new Date(this.startTime)),r){for(var a in r)s[a]||(s[a]=r[a]);if(r.properties)for(var a in r.properties)s.properties[a]=r.properties[a]}return s},t.prototype.getRequestTags=function(r){var n={};for(var s in r)n[s]=r[s];return n[t.keys.locationIp]=r[t.keys.locationIp]||this._getIp(),n[t.keys.sessionId]=r[t.keys.sessionId]||this._getId("ai_session"),n[t.keys.userId]=r[t.keys.userId]||this._getId("ai_user"),n[t.keys.userAuthUserId]=r[t.keys.userAuthUserId]||this._getId("ai_authUser"),n[t.keys.operationName]=this.getOperationName(r),n[t.keys.operationParentId]=this.getOperationParentId(r),n[t.keys.operationId]=this.getOperationId(r),n},t.prototype.getOperationId=function(r){return r[t.keys.operationId]||this.operationId},t.prototype.getOperationParentId=function(r){return r[t.keys.operationParentId]||this.parentId||this.getOperationId(r)},t.prototype.getOperationName=function(r){if(r[t.keys.operationName])return r[t.keys.operationName];var n="";try{n=new gA.URL(this.url).pathname}catch{}var s=this.method;return n&&(s+=" "+n),s},t.prototype.getRequestId=function(){return this.requestId},t.prototype.getCorrelationContextHeader=function(){return this.correlationContextHeader},t.prototype.getTraceparent=function(){return this.traceparent},t.prototype.getTracestate=function(){return this.tracestate},t.prototype.getLegacyRootId=function(){return this.legacyRootId},t.prototype._getAbsoluteUrl=function(r){if(!r.headers)return r.url;var n=r.connection?r.connection.encrypted:null,s=n||r.headers["x-forwarded-proto"]=="https"?"https":"http",a=s+"://"+r.headers.host+"/",l="",c="";try{var u=new gA.URL(r.url,a);l=u.pathname,c=u.search}catch{}var f=gA.format({protocol:s,host:r.headers.host,pathname:l,search:c});return f},t.prototype._getIp=function(){var r=/[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}/,n=o(function(a){var l=r.exec(a);if(l)return l[0]},"check"),s=n(this.rawHeaders["x-forwarded-for"])||n(this.rawHeaders["x-client-ip"])||n(this.rawHeaders["x-real-ip"])||n(this.connectionRemoteAddress)||n(this.socketRemoteAddress)||n(this.legacySocketRemoteAddress);return!s&&this.connectionRemoteAddress&&this.connectionRemoteAddress.substr&&this.connectionRemoteAddress.substr(0,2)==="::"&&(s="127.0.0.1"),s},t.prototype._getId=function(r){var n=this.rawHeaders&&this.rawHeaders.cookie&&typeof this.rawHeaders.cookie=="string"&&this.rawHeaders.cookie||"",s=t.parseId(fse.getCookie(r,n));return s},t.prototype.setBackCompatFromThisTraceContext=function(){this.operationId=this.traceparent.traceId,this.traceparent.legacyRootId&&(this.legacyRootId=this.traceparent.legacyRootId),this.parentId=this.traceparent.parentId,this.traceparent.updateSpanId(),this.requestId=this.traceparent.getBackCompatRequestId()},t.prototype.parseHeaders=function(r,n){if(this.rawHeaders=r.headers||r.rawHeaders,this.userAgent=r.headers&&r.headers["user-agent"],this.sourceCorrelationId=fse.getCorrelationContextTarget(r,zu.requestContextSourceKey),r.headers){var s=r.headers[zu.traceStateHeader]?r.headers[zu.traceStateHeader].toString():null,a=r.headers[zu.traceparentHeader]?r.headers[zu.traceparentHeader].toString():null,l=r.headers[zu.requestIdHeader]?r.headers[zu.requestIdHeader].toString():null,c=r.headers[zu.parentIdHeader]?r.headers[zu.parentIdHeader].toString():null,u=r.headers[zu.rootIdHeader]?r.headers[zu.rootIdHeader].toString():null;this.correlationContextHeader=r.headers[zu.correlationContextHeader]?r.headers[zu.correlationContextHeader].toString():null,Q5.w3cEnabled&&(a||s)?(this.traceparent=new EU(a?a.toString():null),this.tracestate=a&&s&&new OCe(s?s.toString():null),this.setBackCompatFromThisTraceContext()):l?Q5.w3cEnabled?(this.traceparent=new EU(null,l),this.setBackCompatFromThisTraceContext()):(this.parentId=l,this.requestId=Q5.generateRequestId(this.parentId),this.operationId=Q5.getRootId(this.requestId)):Q5.w3cEnabled?(this.traceparent=new EU,this.traceparent.parentId=c,this.traceparent.legacyRootId=u||c,this.setBackCompatFromThisTraceContext()):(this.parentId=c,this.requestId=Q5.generateRequestId(u||this.parentId),this.correlationContextHeader=null,this.operationId=Q5.getRootId(this.requestId)),n&&(this.requestId=n,this.operationId=Q5.getRootId(this.requestId))}},t.parseId=function(r){var n=r.split("|");return n.length>0?n[0]:""},t.keys=new PCe.ContextTagKeys,t}(NCe);dse.exports=DCe});var Rse=k((ks,wse)=>{ks=wse.exports=_0;var V0;typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?V0=o(function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)},"debug"):V0=o(function(){},"debug");ks.SEMVER_SPEC_VERSION="2.0.0";var n_=256,vA=Number.MAX_SAFE_INTEGER||9007199254740991,SU=16,LCe=n_-6,i_=ks.re=[],ra=ks.safeRe=[],hn=ks.src=[],p0=0,PU="[a-zA-Z0-9-]",IU=[["\\s",1],["\\d",n_],[PU,LCe]];function TA(e){for(var t=0;t<IU.length;t++){var r=IU[t][0],n=IU[t][1];e=e.split(r+"*").join(r+"{0,"+n+"}").split(r+"+").join(r+"{1,"+n+"}")}return e}o(TA,"makeSafeRe");var Wv=p0++;hn[Wv]="0|[1-9]\\d*";var Yv=p0++;hn[Yv]="\\d+";var NU=p0++;hn[NU]="\\d*[a-zA-Z-]"+PU+"*";var hse=p0++;hn[hse]="("+hn[Wv]+")\\.("+hn[Wv]+")\\.("+hn[Wv]+")";var mse=p0++;hn[mse]="("+hn[Yv]+")\\.("+hn[Yv]+")\\.("+hn[Yv]+")";var AU=p0++;hn[AU]="(?:"+hn[Wv]+"|"+hn[NU]+")";var wU=p0++;hn[wU]="(?:"+hn[Yv]+"|"+hn[NU]+")";var OU=p0++;hn[OU]="(?:-("+hn[AU]+"(?:\\."+hn[AU]+")*))";var DU=p0++;hn[DU]="(?:-?("+hn[wU]+"(?:\\."+hn[wU]+")*))";var RU=p0++;hn[RU]=PU+"+";var a_=p0++;hn[a_]="(?:\\+("+hn[RU]+"(?:\\."+hn[RU]+")*))";var LU=p0++,gse="v?"+hn[hse]+hn[OU]+"?"+hn[a_]+"?";hn[LU]="^"+gse+"$";var kU="[v=\\s]*"+hn[mse]+hn[DU]+"?"+hn[a_]+"?",MU=p0++;hn[MU]="^"+kU+"$";var e6=p0++;hn[e6]="((?:<|>)?=?)";var yA=p0++;hn[yA]=hn[Yv]+"|x|X|\\*";var _A=p0++;hn[_A]=hn[Wv]+"|x|X|\\*";var ug=p0++;hn[ug]="[v=\\s]*("+hn[_A]+")(?:\\.("+hn[_A]+")(?:\\.("+hn[_A]+")(?:"+hn[OU]+")?"+hn[a_]+"?)?)?";var Qv=p0++;hn[Qv]="[v=\\s]*("+hn[yA]+")(?:\\.("+hn[yA]+")(?:\\.("+hn[yA]+")(?:"+hn[DU]+")?"+hn[a_]+"?)?)?";var vse=p0++;hn[vse]="^"+hn[e6]+"\\s*"+hn[ug]+"$";var yse=p0++;hn[yse]="^"+hn[e6]+"\\s*"+hn[Qv]+"$";var _se=p0++;hn[_se]="(?:^|[^\\d])(\\d{1,"+SU+"})(?:\\.(\\d{1,"+SU+"}))?(?:\\.(\\d{1,"+SU+"}))?(?:$|[^\\d])";var CA=p0++;hn[CA]="(?:~>?)";var Jv=p0++;hn[Jv]="(\\s*)"+hn[CA]+"\\s+";i_[Jv]=new RegExp(hn[Jv],"g");ra[Jv]=new RegExp(TA(hn[Jv]),"g");var kCe="$1~",xse=p0++;hn[xse]="^"+hn[CA]+hn[ug]+"$";var bse=p0++;hn[bse]="^"+hn[CA]+hn[Qv]+"$";var SA=p0++;hn[SA]="(?:\\^)";var Zv=p0++;hn[Zv]="(\\s*)"+hn[SA]+"\\s+";i_[Zv]=new RegExp(hn[Zv],"g");ra[Zv]=new RegExp(TA(hn[Zv]),"g");var MCe="$1^",Ese=p0++;hn[Ese]="^"+hn[SA]+hn[ug]+"$";var Tse=p0++;hn[Tse]="^"+hn[SA]+hn[Qv]+"$";var BU=p0++;hn[BU]="^"+hn[e6]+"\\s*("+kU+")$|^$";var FU=p0++;hn[FU]="^"+hn[e6]+"\\s*("+gse+")$|^$";var fg=p0++;hn[fg]="(\\s*)"+hn[e6]+"\\s*("+kU+"|"+hn[ug]+")";i_[fg]=new RegExp(hn[fg],"g");ra[fg]=new RegExp(TA(hn[fg]),"g");var BCe="$1$2$3",Cse=p0++;hn[Cse]="^\\s*("+hn[ug]+")\\s+-\\s+("+hn[ug]+")\\s*$";var Sse=p0++;hn[Sse]="^\\s*("+hn[Qv]+")\\s+-\\s+("+hn[Qv]+")\\s*$";var Ise=p0++;hn[Ise]="(<|>)?=?\\s*\\*";for(q1=0;q1<p0;q1++)V0(q1,hn[q1]),i_[q1]||(i_[q1]=new RegExp(hn[q1]),ra[q1]=new RegExp(TA(hn[q1])));var q1;ks.parse=dg;function dg(e,t){if((!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1}),e instanceof _0)return e;if(typeof e!="string"||e.length>n_)return null;var r=t.loose?ra[MU]:ra[LU];if(!r.test(e))return null;try{return new _0(e,t)}catch{return null}}o(dg,"parse");ks.valid=FCe;function FCe(e,t){var r=dg(e,t);return r?r.version:null}o(FCe,"valid");ks.clean=UCe;function UCe(e,t){var r=dg(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null}o(UCe,"clean");ks.SemVer=_0;function _0(e,t){if((!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1}),e instanceof _0){if(e.loose===t.loose)return e;e=e.version}else if(typeof e!="string")throw new TypeError("Invalid Version: "+e);if(e.length>n_)throw new TypeError("version is longer than "+n_+" characters");if(!(this instanceof _0))return new _0(e,t);V0("SemVer",e,t),this.options=t,this.loose=!!t.loose;var r=e.trim().match(t.loose?ra[MU]:ra[LU]);if(!r)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>vA||this.major<0)throw new TypeError("Invalid major version");if(this.minor>vA||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>vA||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(function(n){if(/^[0-9]+$/.test(n)){var s=+n;if(s>=0&&s<vA)return s}return n}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}o(_0,"SemVer");_0.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version};_0.prototype.toString=function(){return this.version};_0.prototype.compare=function(e){return V0("SemVer.compare",this.version,this.options,e),e instanceof _0||(e=new _0(e,this.options)),this.compareMain(e)||this.comparePre(e)};_0.prototype.compareMain=function(e){return e instanceof _0||(e=new _0(e,this.options)),Xv(this.major,e.major)||Xv(this.minor,e.minor)||Xv(this.patch,e.patch)};_0.prototype.comparePre=function(e){if(e instanceof _0||(e=new _0(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var r=this.prerelease[t],n=e.prerelease[t];if(V0("prerelease compare",t,r,n),r===void 0&&n===void 0)return 0;if(n===void 0)return 1;if(r===void 0)return-1;if(r===n)continue;return Xv(r,n)}while(++t)};_0.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",t),this.inc("pre",t);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{for(var r=this.prerelease.length;--r>=0;)typeof this.prerelease[r]=="number"&&(this.prerelease[r]++,r=-2);r===-1&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this};ks.inc=qCe;function qCe(e,t,r,n){typeof r=="string"&&(n=r,r=void 0);try{return new _0(e,r).inc(t,n).version}catch{return null}}o(qCe,"inc");ks.diff=jCe;function jCe(e,t){if(UU(e,t))return null;var r=dg(e),n=dg(t),s="";if(r.prerelease.length||n.prerelease.length){s="pre";var a="prerelease"}for(var l in r)if((l==="major"||l==="minor"||l==="patch")&&r[l]!==n[l])return s+l;return a}o(jCe,"diff");ks.compareIdentifiers=Xv;var pse=/^[0-9]+$/;function Xv(e,t){var r=pse.test(e),n=pse.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1}o(Xv,"compareIdentifiers");ks.rcompareIdentifiers=HCe;function HCe(e,t){return Xv(t,e)}o(HCe,"rcompareIdentifiers");ks.major=$Ce;function $Ce(e,t){return new _0(e,t).major}o($Ce,"major");ks.minor=VCe;function VCe(e,t){return new _0(e,t).minor}o(VCe,"minor");ks.patch=GCe;function GCe(e,t){return new _0(e,t).patch}o(GCe,"patch");ks.compare=ph;function ph(e,t,r){return new _0(e,r).compare(new _0(t,r))}o(ph,"compare");ks.compareLoose=zCe;function zCe(e,t){return ph(e,t,!0)}o(zCe,"compareLoose");ks.rcompare=KCe;function KCe(e,t,r){return ph(t,e,r)}o(KCe,"rcompare");ks.sort=WCe;function WCe(e,t){return e.sort(function(r,n){return ks.compare(r,n,t)})}o(WCe,"sort");ks.rsort=YCe;function YCe(e,t){return e.sort(function(r,n){return ks.rcompare(r,n,t)})}o(YCe,"rsort");ks.gt=s_;function s_(e,t,r){return ph(e,t,r)>0}o(s_,"gt");ks.lt=xA;function xA(e,t,r){return ph(e,t,r)<0}o(xA,"lt");ks.eq=UU;function UU(e,t,r){return ph(e,t,r)===0}o(UU,"eq");ks.neq=Ase;function Ase(e,t,r){return ph(e,t,r)!==0}o(Ase,"neq");ks.gte=qU;function qU(e,t,r){return ph(e,t,r)>=0}o(qU,"gte");ks.lte=jU;function jU(e,t,r){return ph(e,t,r)<=0}o(jU,"lte");ks.cmp=bA;function bA(e,t,r,n){switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e===r;case"!==":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e!==r;case"":case"=":case"==":return UU(e,r,n);case"!=":return Ase(e,r,n);case">":return s_(e,r,n);case">=":return qU(e,r,n);case"<":return xA(e,r,n);case"<=":return jU(e,r,n);default:throw new TypeError("Invalid operator: "+t)}}o(bA,"cmp");ks.Comparator=Af;function Af(e,t){if((!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1}),e instanceof Af){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof Af))return new Af(e,t);e=e.trim().split(/\s+/).join(" "),V0("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===o_?this.value="":this.value=this.operator+this.semver.version,V0("comp",this)}o(Af,"Comparator");var o_={};Af.prototype.parse=function(e){var t=this.options.loose?ra[BU]:ra[FU],r=e.match(t);if(!r)throw new TypeError("Invalid comparator: "+e);this.operator=r[1],this.operator==="="&&(this.operator=""),r[2]?this.semver=new _0(r[2],this.options.loose):this.semver=o_};Af.prototype.toString=function(){return this.value};Af.prototype.test=function(e){return V0("Comparator.test",e,this.options.loose),this.semver===o_?!0:(typeof e=="string"&&(e=new _0(e,this.options)),bA(e,this.operator,this.semver,this.options))};Af.prototype.intersects=function(e,t){if(!(e instanceof Af))throw new TypeError("a Comparator is required");(!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1});var r;if(this.operator==="")return r=new Aa(e.value,t),EA(this.value,r,t);if(e.operator==="")return r=new Aa(this.value,t),EA(e.semver,r,t);var n=(this.operator===">="||this.operator===">")&&(e.operator===">="||e.operator===">"),s=(this.operator==="<="||this.operator==="<")&&(e.operator==="<="||e.operator==="<"),a=this.semver.version===e.semver.version,l=(this.operator===">="||this.operator==="<=")&&(e.operator===">="||e.operator==="<="),c=bA(this.semver,"<",e.semver,t)&&(this.operator===">="||this.operator===">")&&(e.operator==="<="||e.operator==="<"),u=bA(this.semver,">",e.semver,t)&&(this.operator==="<="||this.operator==="<")&&(e.operator===">="||e.operator===">");return n||s||a&&l||c||u};ks.Range=Aa;function Aa(e,t){if((!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1}),e instanceof Aa)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new Aa(e.raw,t);if(e instanceof Af)return new Aa(e.value,t);if(!(this instanceof Aa))return new Aa(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(function(r){return this.parseRange(r.trim())},this).filter(function(r){return r.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+this.raw);this.format()}o(Aa,"Range");Aa.prototype.format=function(){return this.range=this.set.map(function(e){return e.join(" ").trim()}).join("||").trim(),this.range};Aa.prototype.toString=function(){return this.range};Aa.prototype.parseRange=function(e){var t=this.options.loose,r=t?ra[Sse]:ra[Cse];e=e.replace(r,sSe),V0("hyphen replace",e),e=e.replace(ra[fg],BCe),V0("comparator trim",e,ra[fg]),e=e.replace(ra[Jv],kCe),e=e.replace(ra[Zv],MCe);var n=t?ra[BU]:ra[FU],s=e.split(" ").map(function(a){return QCe(a,this.options)},this).join(" ").split(/\s+/);return this.options.loose&&(s=s.filter(function(a){return!!a.match(n)})),s=s.map(function(a){return new Af(a,this.options)},this),s};Aa.prototype.intersects=function(e,t){if(!(e instanceof Aa))throw new TypeError("a Range is required");return this.set.some(function(r){return r.every(function(n){return e.set.some(function(s){return s.every(function(a){return n.intersects(a,t)})})})})};ks.toComparators=XCe;function XCe(e,t){return new Aa(e,t).set.map(function(r){return r.map(function(n){return n.value}).join(" ").trim().split(" ")})}o(XCe,"toComparators");function QCe(e,t){return V0("comp",e,t),e=eSe(e,t),V0("caret",e),e=JCe(e,t),V0("tildes",e),e=rSe(e,t),V0("xrange",e),e=iSe(e,t),V0("stars",e),e}o(QCe,"parseComparator");function eu(e){return!e||e.toLowerCase()==="x"||e==="*"}o(eu,"isX");function JCe(e,t){return e.trim().split(/\s+/).map(function(r){return ZCe(r,t)}).join(" ")}o(JCe,"replaceTildes");function ZCe(e,t){var r=t.loose?ra[bse]:ra[xse];return e.replace(r,function(n,s,a,l,c){V0("tilde",e,n,s,a,l,c);var u;return eu(s)?u="":eu(a)?u=">="+s+".0.0 <"+(+s+1)+".0.0":eu(l)?u=">="+s+"."+a+".0 <"+s+"."+(+a+1)+".0":c?(V0("replaceTilde pr",c),u=">="+s+"."+a+"."+l+"-"+c+" <"+s+"."+(+a+1)+".0"):u=">="+s+"."+a+"."+l+" <"+s+"."+(+a+1)+".0",V0("tilde return",u),u})}o(ZCe,"replaceTilde");function eSe(e,t){return e.trim().split(/\s+/).map(function(r){return tSe(r,t)}).join(" ")}o(eSe,"replaceCarets");function tSe(e,t){V0("caret",e,t);var r=t.loose?ra[Tse]:ra[Ese];return e.replace(r,function(n,s,a,l,c){V0("caret",e,n,s,a,l,c);var u;return eu(s)?u="":eu(a)?u=">="+s+".0.0 <"+(+s+1)+".0.0":eu(l)?s==="0"?u=">="+s+"."+a+".0 <"+s+"."+(+a+1)+".0":u=">="+s+"."+a+".0 <"+(+s+1)+".0.0":c?(V0("replaceCaret pr",c),s==="0"?a==="0"?u=">="+s+"."+a+"."+l+"-"+c+" <"+s+"."+a+"."+(+l+1):u=">="+s+"."+a+"."+l+"-"+c+" <"+s+"."+(+a+1)+".0":u=">="+s+"."+a+"."+l+"-"+c+" <"+(+s+1)+".0.0"):(V0("no pr"),s==="0"?a==="0"?u=">="+s+"."+a+"."+l+" <"+s+"."+a+"."+(+l+1):u=">="+s+"."+a+"."+l+" <"+s+"."+(+a+1)+".0":u=">="+s+"."+a+"."+l+" <"+(+s+1)+".0.0"),V0("caret return",u),u})}o(tSe,"replaceCaret");function rSe(e,t){return V0("replaceXRanges",e,t),e.split(/\s+/).map(function(r){return nSe(r,t)}).join(" ")}o(rSe,"replaceXRanges");function nSe(e,t){e=e.trim();var r=t.loose?ra[yse]:ra[vse];return e.replace(r,function(n,s,a,l,c,u){V0("xRange",e,n,s,a,l,c,u);var f=eu(a),d=f||eu(l),p=d||eu(c),h=p;return s==="="&&h&&(s=""),f?s===">"||s==="<"?n="<0.0.0":n="*":s&&h?(d&&(l=0),c=0,s===">"?(s=">=",d?(a=+a+1,l=0,c=0):(l=+l+1,c=0)):s==="<="&&(s="<",d?a=+a+1:l=+l+1),n=s+a+"."+l+"."+c):d?n=">="+a+".0.0 <"+(+a+1)+".0.0":p&&(n=">="+a+"."+l+".0 <"+a+"."+(+l+1)+".0"),V0("xRange return",n),n})}o(nSe,"replaceXRange");function iSe(e,t){return V0("replaceStars",e,t),e.trim().replace(ra[Ise],"")}o(iSe,"replaceStars");function sSe(e,t,r,n,s,a,l,c,u,f,d,p,h){return eu(r)?t="":eu(n)?t=">="+r+".0.0":eu(s)?t=">="+r+"."+n+".0":t=">="+t,eu(u)?c="":eu(f)?c="<"+(+u+1)+".0.0":eu(d)?c="<"+u+"."+(+f+1)+".0":p?c="<="+u+"."+f+"."+d+"-"+p:c="<="+c,(t+" "+c).trim()}o(sSe,"hyphenReplace");Aa.prototype.test=function(e){if(!e)return!1;typeof e=="string"&&(e=new _0(e,this.options));for(var t=0;t<this.set.length;t++)if(aSe(this.set[t],e,this.options))return!0;return!1};function aSe(e,t,r){for(var n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(n=0;n<e.length;n++)if(V0(e[n].semver),e[n].semver!==o_&&e[n].semver.prerelease.length>0){var s=e[n].semver;if(s.major===t.major&&s.minor===t.minor&&s.patch===t.patch)return!0}return!1}return!0}o(aSe,"testSet");ks.satisfies=EA;function EA(e,t,r){try{t=new Aa(t,r)}catch{return!1}return t.test(e)}o(EA,"satisfies");ks.maxSatisfying=oSe;function oSe(e,t,r){var n=null,s=null;try{var a=new Aa(t,r)}catch{return null}return e.forEach(function(l){a.test(l)&&(!n||s.compare(l)===-1)&&(n=l,s=new _0(n,r))}),n}o(oSe,"maxSatisfying");ks.minSatisfying=lSe;function lSe(e,t,r){var n=null,s=null;try{var a=new Aa(t,r)}catch{return null}return e.forEach(function(l){a.test(l)&&(!n||s.compare(l)===1)&&(n=l,s=new _0(n,r))}),n}o(lSe,"minSatisfying");ks.minVersion=cSe;function cSe(e,t){e=new Aa(e,t);var r=new _0("0.0.0");if(e.test(r)||(r=new _0("0.0.0-0"),e.test(r)))return r;r=null;for(var n=0;n<e.set.length;++n){var s=e.set[n];s.forEach(function(a){var l=new _0(a.semver.version);switch(a.operator){case">":l.prerelease.length===0?l.patch++:l.prerelease.push(0),l.raw=l.format();case"":case">=":(!r||s_(r,l))&&(r=l);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+a.operator)}})}return r&&e.test(r)?r:null}o(cSe,"minVersion");ks.validRange=uSe;function uSe(e,t){try{return new Aa(e,t).range||"*"}catch{return null}}o(uSe,"validRange");ks.ltr=fSe;function fSe(e,t,r){return HU(e,t,"<",r)}o(fSe,"ltr");ks.gtr=dSe;function dSe(e,t,r){return HU(e,t,">",r)}o(dSe,"gtr");ks.outside=HU;function HU(e,t,r,n){e=new _0(e,n),t=new Aa(t,n);var s,a,l,c,u;switch(r){case">":s=s_,a=jU,l=xA,c=">",u=">=";break;case"<":s=xA,a=qU,l=s_,c="<",u="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(EA(e,t,n))return!1;for(var f=0;f<t.set.length;++f){var d=t.set[f],p=null,h=null;if(d.forEach(function(m){m.semver===o_&&(m=new Af(">=0.0.0")),p=p||m,h=h||m,s(m.semver,p.semver,n)?p=m:l(m.semver,h.semver,n)&&(h=m)}),p.operator===c||p.operator===u||(!h.operator||h.operator===c)&&a(e,h.semver))return!1;if(h.operator===u&&l(e,h.semver))return!1}return!0}o(HU,"outside");ks.prerelease=pSe;function pSe(e,t){var r=dg(e,t);return r&&r.prerelease.length?r.prerelease:null}o(pSe,"prerelease");ks.intersects=hSe;function hSe(e,t,r){return e=new Aa(e,r),t=new Aa(t,r),e.intersects(t)}o(hSe,"intersects");ks.coerce=mSe;function mSe(e){if(e instanceof _0)return e;if(typeof e!="string")return null;var t=e.match(ra[_se]);return t==null?null:dg(t[1]+"."+(t[2]||"0")+"."+(t[3]||"0"))}o(mSe,"coerce")});var IA=k((wet,Ose)=>{"use strict";function $U(e){return typeof e=="function"}o($U,"isFunction");var tu=console.error.bind(console);function l_(e,t,r){var n=!!e[t]&&e.propertyIsEnumerable(t);Object.defineProperty(e,t,{configurable:!0,enumerable:n,writable:!0,value:r})}o(l_,"defineProperty");function c_(e){e&&e.logger&&($U(e.logger)?tu=e.logger:tu("new logger isn't a function, not replacing"))}o(c_,"shimmer");function Pse(e,t,r){if(!e||!e[t]){tu("no original function "+t+" to wrap");return}if(!r){tu("no wrapper function"),tu(new Error().stack);return}if(!$U(e[t])||!$U(r)){tu("original object and wrapper must be functions");return}var n=e[t],s=r(n,t);return l_(s,"__original",n),l_(s,"__unwrap",function(){e[t]===s&&l_(e,t,n)}),l_(s,"__wrapped",!0),l_(e,t,s),s}o(Pse,"wrap");function gSe(e,t,r){if(e)Array.isArray(e)||(e=[e]);else{tu("must provide one or more modules to patch"),tu(new Error().stack);return}if(!(t&&Array.isArray(t))){tu("must provide one or more functions to wrap on modules");return}e.forEach(function(n){t.forEach(function(s){Pse(n,s,r)})})}o(gSe,"massWrap");function Nse(e,t){if(!e||!e[t]){tu("no function to unwrap."),tu(new Error().stack);return}if(!e[t].__unwrap)tu("no original to unwrap to -- has "+t+" already been unwrapped?");else return e[t].__unwrap()}o(Nse,"unwrap");function vSe(e,t){if(e)Array.isArray(e)||(e=[e]);else{tu("must provide one or more modules to patch"),tu(new Error().stack);return}if(!(t&&Array.isArray(t))){tu("must provide one or more functions to unwrap on modules");return}e.forEach(function(r){t.forEach(function(n){Nse(r,n)})})}o(vSe,"massUnwrap");c_.wrap=Pse;c_.massWrap=gSe;c_.unwrap=Nse;c_.massUnwrap=vSe;Ose.exports=c_});var RA=k((Pet,Mse)=>{"use strict";var Lse=IA(),t6=Lse.wrap,AA=Lse.unwrap,hh="wrap@before";function wA(e,t,r){var n=!!e[t]&&e.propertyIsEnumerable(t);Object.defineProperty(e,t,{configurable:!0,enumerable:n,writable:!0,value:r})}o(wA,"defineProperty");function ySe(e,t){for(var r=t.length,n=0;n<r;n++){var s=t[n],a=e[hh];if(typeof a=="function")a(s);else if(Array.isArray(a))for(var l=a.length,c=0;c<l;c++)a[c](s)}}o(ySe,"_process");function kse(e,t){var r;return r=e._events&&e._events[t],Array.isArray(r)||(r?r=[r]:r=[]),r}o(kse,"_listeners");function _Se(e,t,r){var n=kse(e,t),s=n.filter(function(a){return r.indexOf(a)===-1});s.length>0&&ySe(e,s)}o(_Se,"_findAndProcess");function Dse(e,t){if(e){var r=e;if(typeof e=="function")r=t(e);else if(Array.isArray(e)){r=[];for(var n=0;n<e.length;n++)r[n]=t(e[n])}return r}}o(Dse,"_wrap");Mse.exports=o(function(t,r,n){if(!t||!t.on||!t.addListener||!t.removeListener||!t.emit)throw new Error("can only wrap real EEs");if(!r)throw new Error("must have function to run on listener addition");if(!n)throw new Error("must have function to wrap listeners when emitting");function s(l){return o(function(u,f){var d=kse(this,u).slice();try{var p=l.call(this,u,f);return _Se(this,u,d),p}finally{this.on.__wrapped||t6(this,"on",s),this.addListener.__wrapped||t6(this,"addListener",s)}},"added")}o(s,"adding");function a(l){return o(function(u){if(!this._events||!this._events[u])return l.apply(this,arguments);var f=this._events[u];function d(p){return o(function(){this._events[u]=f;try{return p.apply(this,arguments)}finally{f=this._events[u],this._events[u]=Dse(f,n)}},"removed")}o(d,"remover"),t6(this,"removeListener",d);try{return this._events[u]=Dse(f,n),l.apply(this,arguments)}finally{AA(this,"removeListener"),this._events[u]=f}},"emitted")}o(a,"emitting"),t[hh]?typeof t[hh]=="function"?wA(t,hh,[t[hh],r]):Array.isArray(t[hh])&&t[hh].push(r):wA(t,hh,r),t.__wrapped||(t6(t,"addListener",s),t6(t,"on",s),t6(t,"emit",a),wA(t,"__unwrap",function(){AA(t,"addListener"),AA(t,"on"),AA(t,"emit"),delete t[hh],delete t.__wrapped}),wA(t,"__wrapped",!0))},"wrapEmitter")});var qse=k((Oet,Use)=>{"use strict";var F0=require("util"),mh=require("assert"),xSe=RA(),fa=require("async_hooks"),u_="cls@contexts",f_="error@context",wa=process.env.DEBUG_CLS_HOOKED,B0=-1;Use.exports={getNamespace:Bse,createNamespace:bSe,destroyNamespace:Fse,reset:ESe,ERROR_SYMBOL:f_};function wf(e){this.name=e,this.active=null,this._set=[],this.id=null,this._contexts=new Map,this._indent=0}o(wf,"Namespace");wf.prototype.set=o(function(t,r){if(!this.active)throw new Error("No context available. ns.run() or ns.bind() must be called first.");if(this.active[t]=r,wa){let n=" ".repeat(this._indent<0?0:this._indent);_a(n+"CONTEXT-SET KEY:"+t+"="+r+" in ns:"+this.name+" currentUid:"+B0+" active:"+F0.inspect(this.active,{showHidden:!0,depth:2,colors:!0}))}return r},"set");wf.prototype.get=o(function(t){if(!this.active){if(wa){let r=fa.currentId(),n=fa.triggerAsyncId(),s=" ".repeat(this._indent<0?0:this._indent);_a(`${s}CONTEXT-GETTING KEY NO ACTIVE NS: (${this.name}) ${t}=undefined currentUid:${B0} asyncHooksCurrentId:${r} triggerId:${n} len:${this._set.length}`)}return}if(wa){let r=fa.executionAsyncId(),n=fa.triggerAsyncId(),s=" ".repeat(this._indent<0?0:this._indent);_a(s+"CONTEXT-GETTING KEY:"+t+"="+this.active[t]+" ("+this.name+") currentUid:"+B0+" active:"+F0.inspect(this.active,{showHidden:!0,depth:2,colors:!0})),_a(`${s}CONTEXT-GETTING KEY: (${this.name}) ${t}=${this.active[t]} currentUid:${B0} asyncHooksCurrentId:${r} triggerId:${n} len:${this._set.length} active:${F0.inspect(this.active)}`)}return this.active[t]},"get");wf.prototype.createContext=o(function(){let t=Object.create(this.active?this.active:Object.prototype);if(t._ns_name=this.name,t.id=B0,wa){let r=fa.executionAsyncId(),n=fa.triggerAsyncId(),s=" ".repeat(this._indent<0?0:this._indent);_a(`${s}CONTEXT-CREATED Context: (${this.name}) currentUid:${B0} asyncHooksCurrentId:${r} triggerId:${n} len:${this._set.length} context:${F0.inspect(t,{showHidden:!0,depth:2,colors:!0})}`)}return t},"createContext");wf.prototype.run=o(function(t){let r=this.createContext();this.enter(r);try{if(wa){let n=fa.triggerAsyncId(),s=fa.executionAsyncId(),a=" ".repeat(this._indent<0?0:this._indent);_a(`${a}CONTEXT-RUN BEGIN: (${this.name}) currentUid:${B0} triggerId:${n} asyncHooksCurrentId:${s} len:${this._set.length} context:${F0.inspect(r)}`)}return t(r),r}catch(n){throw n&&(n[f_]=r),n}finally{if(wa){let n=fa.triggerAsyncId(),s=fa.executionAsyncId(),a=" ".repeat(this._indent<0?0:this._indent);_a(`${a}CONTEXT-RUN END: (${this.name}) currentUid:${B0} triggerId:${n} asyncHooksCurrentId:${s} len:${this._set.length} ${F0.inspect(r)}`)}this.exit(r)}},"run");wf.prototype.runAndReturn=o(function(t){let r;return this.run(function(n){r=t(n)}),r},"runAndReturn");wf.prototype.runPromise=o(function(t){let r=this.createContext();this.enter(r);let n=t(r);if(!n||!n.then||!n.catch)throw new Error("fn must return a promise.");return wa&&_a("CONTEXT-runPromise BEFORE: ("+this.name+") currentUid:"+B0+" len:"+this._set.length+" "+F0.inspect(r)),n.then(s=>(wa&&_a("CONTEXT-runPromise AFTER then: ("+this.name+") currentUid:"+B0+" len:"+this._set.length+" "+F0.inspect(r)),this.exit(r),s)).catch(s=>{throw s[f_]=r,wa&&_a("CONTEXT-runPromise AFTER catch: ("+this.name+") currentUid:"+B0+" len:"+this._set.length+" "+F0.inspect(r)),this.exit(r),s})},"runPromise");wf.prototype.bind=o(function(t,r){r||(this.active?r=this.active:r=this.createContext());let n=this;return o(function(){n.enter(r);try{return t.apply(this,arguments)}catch(a){throw a&&(a[f_]=r),a}finally{n.exit(r)}},"clsBind")},"bindFactory");wf.prototype.enter=o(function(t){if(mh.ok(t,"context must be provided for entering"),wa){let r=fa.executionAsyncId(),n=fa.triggerAsyncId(),s=" ".repeat(this._indent<0?0:this._indent);_a(`${s}CONTEXT-ENTER: (${this.name}) currentUid:${B0} triggerId:${n} asyncHooksCurrentId:${r} len:${this._set.length} ${F0.inspect(t)}`)}this._set.push(this.active),this.active=t},"enter");wf.prototype.exit=o(function(t){if(mh.ok(t,"context must be provided for exiting"),wa){let n=fa.executionAsyncId(),s=fa.triggerAsyncId(),a=" ".repeat(this._indent<0?0:this._indent);_a(`${a}CONTEXT-EXIT: (${this.name}) currentUid:${B0} triggerId:${s} asyncHooksCurrentId:${n} len:${this._set.length} ${F0.inspect(t)}`)}if(this.active===t){mh.ok(this._set.length,"can't remove top context"),this.active=this._set.pop();return}let r=this._set.lastIndexOf(t);r<0?(wa&&_a("??ERROR?? context exiting but not entered - ignoring: "+F0.inspect(t)),mh.ok(r>=0,`context not currently entered; can't exit. 
`+F0.inspect(this)+`
`+F0.inspect(t))):(mh.ok(r,"can't remove top context"),this._set.splice(r,1))},"exit");wf.prototype.bindEmitter=o(function(t){mh.ok(t.on&&t.addListener&&t.emit,"can only bind real EEs");let r=this,n="context@"+this.name;function s(l){l&&(l[u_]||(l[u_]=Object.create(null)),l[u_][n]={namespace:r,context:r.active})}o(s,"attach");function a(l){if(!(l&&l[u_]))return l;let c=l,u=l[u_];return Object.keys(u).forEach(function(f){let d=u[f];c=d.namespace.bind(c,d.context)}),c}o(a,"bind"),xSe(t,s,a)},"bindEmitter");wf.prototype.fromException=o(function(t){return t[f_]},"fromException");function Bse(e){return process.namespaces[e]}o(Bse,"getNamespace");function bSe(e){mh.ok(e,"namespace must be given a name."),wa&&_a(`NS-CREATING NAMESPACE (${e})`);let t=new wf(e);return t.id=B0,fa.createHook({init(n,s,a,l){if(B0=fa.executionAsyncId(),t.active){if(t._contexts.set(n,t.active),wa){let c=" ".repeat(t._indent<0?0:t._indent);_a(`${c}INIT [${s}] (${e}) asyncId:${n} currentUid:${B0} triggerId:${a} active:${F0.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} resource:${l}`)}}else if(B0===0){let c=fa.triggerAsyncId(),u=t._contexts.get(c);if(u){if(t._contexts.set(n,u),wa){let f=" ".repeat(t._indent<0?0:t._indent);_a(`${f}INIT USING CONTEXT FROM TRIGGERID [${s}] (${e}) asyncId:${n} currentUid:${B0} triggerId:${c} active:${F0.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} resource:${l}`)}}else if(wa){let f=" ".repeat(t._indent<0?0:t._indent);_a(`${f}INIT MISSING CONTEXT [${s}] (${e}) asyncId:${n} currentUid:${B0} triggerId:${c} active:${F0.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} resource:${l}`)}}if(wa&&s==="PROMISE"){_a(F0.inspect(l,{showHidden:!0}));let c=l.parentId,u=" ".repeat(t._indent<0?0:t._indent);_a(`${u}INIT RESOURCE-PROMISE [${s}] (${e}) parentId:${c} asyncId:${n} currentUid:${B0} triggerId:${a} active:${F0.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} resource:${l}`)}},before(n){B0=fa.executionAsyncId();let s;if(s=t._contexts.get(n)||t._contexts.get(B0),s){if(wa){let a=fa.triggerAsyncId(),l=" ".repeat(t._indent<0?0:t._indent);_a(`${l}BEFORE (${e}) asyncId:${n} currentUid:${B0} triggerId:${a} active:${F0.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} context:${F0.inspect(s)}`),t._indent+=2}t.enter(s)}else if(wa){let a=fa.triggerAsyncId(),l=" ".repeat(t._indent<0?0:t._indent);_a(`${l}BEFORE MISSING CONTEXT (${e}) asyncId:${n} currentUid:${B0} triggerId:${a} active:${F0.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} namespace._contexts:${F0.inspect(t._contexts,{showHidden:!0,depth:2,colors:!0})}`),t._indent+=2}},after(n){B0=fa.executionAsyncId();let s;if(s=t._contexts.get(n)||t._contexts.get(B0),s){if(wa){let a=fa.triggerAsyncId();t._indent-=2;let l=" ".repeat(t._indent<0?0:t._indent);_a(`${l}AFTER (${e}) asyncId:${n} currentUid:${B0} triggerId:${a} active:${F0.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} context:${F0.inspect(s)}`)}t.exit(s)}else if(wa){let a=fa.triggerAsyncId();t._indent-=2;let l=" ".repeat(t._indent<0?0:t._indent);_a(`${l}AFTER MISSING CONTEXT (${e}) asyncId:${n} currentUid:${B0} triggerId:${a} active:${F0.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} context:${F0.inspect(s)}`)}},destroy(n){if(B0=fa.executionAsyncId(),wa){let s=fa.triggerAsyncId(),a=" ".repeat(t._indent<0?0:t._indent);_a(`${a}DESTROY (${e}) currentUid:${B0} asyncId:${n} triggerId:${s} active:${F0.inspect(t.active,{showHidden:!0,depth:2,colors:!0})} context:${F0.inspect(t._contexts.get(B0))}`)}t._contexts.delete(n)}}).enable(),process.namespaces[e]=t,t}o(bSe,"createNamespace");function Fse(e){let t=Bse(e);mh.ok(t,`can't delete nonexistent namespace! "`+e+'"'),mh.ok(t.id,"don't assign to process.namespaces directly! "+F0.inspect(t)),process.namespaces[e]=null}o(Fse,"destroyNamespace");function ESe(){process.namespaces&&Object.keys(process.namespaces).forEach(function(e){Fse(e)}),process.namespaces=Object.create(null)}o(ESe,"reset");process.namespaces={};function _a(...e){wa&&process._rawDebug(`${F0.format(...e)}`)}o(_a,"debug2")});var Hse=k((Let,jse)=>{"use strict";function TSe(){}o(TSe,"NextTickWrap");jse.exports=o(function(){let t=this._hooks,r=this._state,n=process.nextTick;process.nextTick=function(){if(!r.enabled)return n.apply(process,arguments);let s=new Array(arguments.length);for(let u=0;u<arguments.length;u++)s[u]=arguments[u];let a=s[0];if(typeof a!="function")throw new TypeError("callback is not a function");let l=new TSe,c=--r.counter;return t.init.call(l,c,0,null,null),s[0]=function(){t.pre.call(l,c);let u=!0;try{a.apply(this,arguments),u=!1}finally{u&&process.listenerCount("uncaughtException")>0&&process.once("uncaughtException",function(){t.post.call(l,c,!0),t.destroy.call(null,c)})}t.post.call(l,c,!1),t.destroy.call(null,c)},n.apply(process,s)}},"patch")});var Vse=k((Met,$se)=>{"use strict";function CSe(){}o(CSe,"PromiseWrap");$se.exports=o(function(){let t=this._hooks,r=this._state,n=global.Promise,s=n.prototype.then;n.prototype.then=u;function a(f,d,p,h){return typeof f!="function"?h?l(p):c(p):o(function(){t.pre.call(d,p);try{return f.apply(this,arguments)}finally{t.post.call(d,p,!1),t.destroy.call(null,p)}},"wrappedHandler")}o(a,"makeWrappedHandler");function l(f){return o(function(p){return t.destroy.call(null,f),p},"unhandledResolutionHandler")}o(l,"makeUnhandledResolutionHandler");function c(f){return o(function(p){throw t.destroy.call(null,f),p},"unhandledRejectedHandler")}o(c,"makeUnhandledRejectionHandler");function u(f,d){if(!r.enabled)return s.call(this,f,d);let p=new CSe,h=--r.counter;return t.init.call(p,h,0,null,null),s.call(this,a(f,p,h,!0),a(d,p,h,!1))}o(u,"wrappedThen")},"patchPromise")});var zse=k((Fet,Gse)=>{"use strict";var Ku=require("timers");function SSe(){}o(SSe,"TimeoutWrap");function ISe(){}o(ISe,"IntervalWrap");function ASe(){}o(ASe,"ImmediateWrap");var wSe=new Map,RSe=new Map,PSe=new Map,VU=null,GU=!1;Gse.exports=o(function(){zU(this._hooks,this._state,"setTimeout","clearTimeout",SSe,wSe,!0),zU(this._hooks,this._state,"setInterval","clearInterval",ISe,RSe,!1),zU(this._hooks,this._state,"setImmediate","clearImmediate",ASe,PSe,!0),global.setTimeout=Ku.setTimeout,global.setInterval=Ku.setInterval,global.setImmediate=Ku.setImmediate,global.clearTimeout=Ku.clearTimeout,global.clearInterval=Ku.clearInterval,global.clearImmediate=Ku.clearImmediate},"patch");function zU(e,t,r,n,s,a,l){let c=Ku[r],u=Ku[n];Ku[r]=function(){if(!t.enabled)return c.apply(Ku,arguments);let f=new Array(arguments.length);for(let v=0;v<arguments.length;v++)f[v]=arguments[v];let d=f[0];if(typeof d!="function")throw new TypeError('"callback" argument must be a function');let p=new s,h=--t.counter,m;return e.init.call(p,h,0,null,null),f[0]=function(){VU=m,e.pre.call(p,h);let v=!0;try{d.apply(this,arguments),v=!1}finally{v&&process.listenerCount("uncaughtException")>0&&process.once("uncaughtException",function(){e.post.call(p,h,!0),a.delete(m),e.destroy.call(null,h)})}e.post.call(p,h,!1),VU=null,(l||GU)&&(GU=!1,a.delete(m),e.destroy.call(null,h))},m=c.apply(Ku,f),a.set(m,h),m},Ku[n]=function(f){if(VU===f&&f!==null)GU=!0;else if(a.has(f)){let d=a.get(f);a.delete(f),e.destroy.call(null,d)}u.apply(Ku,arguments)}}o(zU,"patchTimer")});var KU=k((qet,NSe)=>{NSe.exports={name:"async-hook-jl",description:"Inspect the life of handle objects in node",version:"1.7.6",author:"Andreas Madsen <amwebdk@gmail.com>",main:"./index.js",scripts:{test:"node ./test/runner.js && eslint ."},repository:{type:"git",url:"git://github.com/jeff-lewis/async-hook-jl.git"},keywords:["async","async hooks","inspect","async wrap"],license:"MIT",dependencies:{"stack-chain":"^1.3.7"},devDependencies:{async:"1.5.x","cli-color":"1.1.x",eslint:"^3.4.0",endpoint:"0.4.x"},engines:{node:"^4.7 || >=6.9 || >=7.3"}}});var Yse=k((jet,Wse)=>{"use strict";var p_=process.binding("async_wrap"),OSe=p_.Providers.TIMERWRAP,Kse={nextTick:Hse(),promise:Vse(),timers:zse()},d_=new Set;function DSe(){this.enabled=!1,this.counter=0}o(DSe,"State");function WU(){let e=this.initFns=[],t=this.preFns=[],r=this.postFns=[],n=this.destroyFns=[];this.init=function(s,a,l,c){if(a===OSe){d_.add(s);return}for(let u of e)u(s,this,a,l,c)},this.pre=function(s){if(!d_.has(s))for(let a of t)a(s,this)},this.post=function(s,a){if(!d_.has(s))for(let l of r)l(s,this,a)},this.destroy=function(s){if(d_.has(s)){d_.delete(s);return}for(let a of n)a(s)}}o(WU,"Hooks");WU.prototype.add=function(e){e.init&&this.initFns.push(e.init),e.pre&&this.preFns.push(e.pre),e.post&&this.postFns.push(e.post),e.destroy&&this.destroyFns.push(e.destroy)};function PA(e,t){let r=e.indexOf(t);r!==-1&&e.splice(r,1)}o(PA,"removeElement");WU.prototype.remove=function(e){e.init&&PA(this.initFns,e.init),e.pre&&PA(this.preFns,e.pre),e.post&&PA(this.postFns,e.post),e.destroy&&PA(this.destroyFns,e.destroy)};function h_(){this._state=new DSe,this._hooks=new WU,this.version=KU().version,this.providers=p_.Providers;for(let e of Object.keys(Kse))Kse[e].call(this);process.env.hasOwnProperty("NODE_ASYNC_HOOK_WARNING")&&console.warn("warning: you are using async-hook-jl which is unstable."),p_.setupHooks({init:this._hooks.init,pre:this._hooks.pre,post:this._hooks.post,destroy:this._hooks.destroy})}o(h_,"AsyncHook");Wse.exports=h_;h_.prototype.addHooks=function(e){this._hooks.add(e)};h_.prototype.removeHooks=function(e){this._hooks.remove(e)};h_.prototype.enable=function(){this._state.enabled=!0,p_.enable()};h_.prototype.disable=function(){this._state.enabled=!1,p_.disable()}});var YU=k(($et,LSe)=>{LSe.exports={name:"stack-chain",description:"API for combining call site modifiers",version:"1.3.7",author:"Andreas Madsen <amwebdk@gmail.com>",scripts:{test:"tap ./test/simple"},repository:{type:"git",url:"git://github.com/AndreasMadsen/stack-chain.git"},keywords:["stack","chain","trace","call site","concat","format"],devDependencies:{tap:"2.x.x","uglify-js":"2.5.x"},license:"MIT"}});var Qse=k((Vet,Xse)=>{function kSe(e){try{return Error.prototype.toString.call(e)}catch(t){try{return"<error: "+t+">"}catch{return"<error>"}}}o(kSe,"FormatErrorString");Xse.exports=o(function(t,r){var n=[];n.push(kSe(t));for(var s=0;s<r.length;s++){var a=r[s],l;try{l=a.toString()}catch(c){try{l="<error: "+c+">"}catch{l="<error>"}}n.push("    at "+l)}return n.join(`
`)},"FormatStackTrace")});var t0e=k((zet,e0e)=>{var NA=Qse();function Zse(){this.extend=new m_,this.filter=new m_,this.format=new g_,this.version=YU().version}o(Zse,"stackChain");var QU=!1;Zse.prototype.callSite=o(function e(t){t||(t={}),QU=!0;var r={};Error.captureStackTrace(r,e);var n=r.stack;return QU=!1,n=n.slice(t.slice||0),t.extend&&(n=this.extend._modify(r,n)),t.filter&&(n=this.filter._modify(r,n)),n},"collectCallSites");var J5=new Zse;function m_(){this._modifiers=[]}o(m_,"TraceModifier");m_.prototype._modify=function(e,t){for(var r=0,n=this._modifiers.length;r<n;r++)t=this._modifiers[r](e,t);return t};m_.prototype.attach=function(e){this._modifiers.push(e)};m_.prototype.deattach=function(e){var t=this._modifiers.indexOf(e);return t===-1?!1:(this._modifiers.splice(t,1),!0)};function g_(){this._formater=NA,this._previous=void 0}o(g_,"StackFormater");g_.prototype.replace=function(e){e?this._formater=e:this.restore()};g_.prototype.restore=function(){this._formater=NA,this._previous=void 0};g_.prototype._backup=function(){this._previous=this._formater};g_.prototype._roolback=function(){this._previous===NA?this.replace(void 0):this.replace(this._previous),this._previous=void 0};Error.prepareStackTrace&&J5.format.replace(Error.prepareStackTrace);var XU=!1;function Jse(e,t){if(QU)return t;if(XU)return NA(e,t);var r=t.concat();r=J5.extend._modify(e,r),r=J5.filter._modify(e,r),r=r.slice(0,Error.stackTraceLimit),Object.isExtensible(e)&&Object.getOwnPropertyDescriptor(e,"callSite")===void 0&&(e.callSite={original:t,mutated:r}),XU=!0;var n=J5.format._formater(e,r);return XU=!1,n}o(Jse,"prepareStackTrace");Object.defineProperty(Error,"prepareStackTrace",{get:function(){return Jse},set:function(e){e===Jse?J5.format._roolback():(J5.format._backup(),J5.format.replace(e))}});function MSe(){return this.stack,this.callSite}o(MSe,"callSiteGetter");Object.defineProperty(Error.prototype,"callSite",{get:MSe,set:function(e){Object.defineProperty(this,"callSite",{value:e,writable:!0,configurable:!0})},configurable:!0});e0e.exports=J5});var ZU=k((Wet,JU)=>{if(global._stackChain)if(global._stackChain.version===YU().version)JU.exports=global._stackChain;else throw new Error("Conflicting version of stack-chain found");else JU.exports=global._stackChain=t0e()});var r0e=k((Yet,eq)=>{"use strict";var BSe=Yse();if(global._asyncHook)if(global._asyncHook.version===KU().version)eq.exports=global._asyncHook;else throw new Error("Conflicting version of async-hook-jl found");else ZU().filter.attach(function(t,r){return r.filter(function(n){let s=n.getFileName();return!(s&&s.slice(0,__dirname.length)===__dirname)})}),eq.exports=global._asyncHook=new BSe});var l0e=k((Xet,o0e)=>{"use strict";var Ja=require("util"),gh=require("assert"),FSe=RA(),r6=r0e(),v_="cls@contexts",y_="error@context",i0e=[];for(let e in r6.providers)i0e[r6.providers[e]]=e;var ja=process.env.DEBUG_CLS_HOOKED,ll=-1;o0e.exports={getNamespace:s0e,createNamespace:USe,destroyNamespace:a0e,reset:qSe,ERROR_SYMBOL:y_};function Rf(e){this.name=e,this.active=null,this._set=[],this.id=null,this._contexts=new Map}o(Rf,"Namespace");Rf.prototype.set=o(function(t,r){if(!this.active)throw new Error("No context available. ns.run() or ns.bind() must be called first.");return ja&&Qa("    SETTING KEY:"+t+"="+r+" in ns:"+this.name+" uid:"+ll+" active:"+Ja.inspect(this.active,!0)),this.active[t]=r,r},"set");Rf.prototype.get=o(function(t){if(!this.active){ja&&Qa("    GETTING KEY:"+t+"=undefined "+this.name+" uid:"+ll+" active:"+Ja.inspect(this.active,!0));return}return ja&&Qa("    GETTING KEY:"+t+"="+this.active[t]+" "+this.name+" uid:"+ll+" active:"+Ja.inspect(this.active,!0)),this.active[t]},"get");Rf.prototype.createContext=o(function(){ja&&Qa("   CREATING Context: "+this.name+" uid:"+ll+" len:"+this._set.length+"  active:"+Ja.inspect(this.active,!0,2,!0));let t=Object.create(this.active?this.active:Object.prototype);return t._ns_name=this.name,t.id=ll,ja&&Qa("   CREATED Context: "+this.name+" uid:"+ll+" len:"+this._set.length+"  context:"+Ja.inspect(t,!0,2,!0)),t},"createContext");Rf.prototype.run=o(function(t){let r=this.createContext();this.enter(r);try{return ja&&Qa(" BEFORE RUN: "+this.name+" uid:"+ll+" len:"+this._set.length+" "+Ja.inspect(r)),t(r),r}catch(n){throw n&&(n[y_]=r),n}finally{ja&&Qa(" AFTER RUN: "+this.name+" uid:"+ll+" len:"+this._set.length+" "+Ja.inspect(r)),this.exit(r)}},"run");Rf.prototype.runAndReturn=o(function(t){var r;return this.run(function(n){r=t(n)}),r},"runAndReturn");Rf.prototype.runPromise=o(function(t){let r=this.createContext();this.enter(r);let n=t(r);if(!n||!n.then||!n.catch)throw new Error("fn must return a promise.");return ja&&Qa(" BEFORE runPromise: "+this.name+" uid:"+ll+" len:"+this._set.length+" "+Ja.inspect(r)),n.then(s=>(ja&&Qa(" AFTER runPromise: "+this.name+" uid:"+ll+" len:"+this._set.length+" "+Ja.inspect(r)),this.exit(r),s)).catch(s=>{throw s[y_]=r,ja&&Qa(" AFTER runPromise: "+this.name+" uid:"+ll+" len:"+this._set.length+" "+Ja.inspect(r)),this.exit(r),s})},"runPromise");Rf.prototype.bind=o(function(t,r){r||(this.active?r=this.active:r=this.createContext());let n=this;return o(function(){n.enter(r);try{return t.apply(this,arguments)}catch(a){throw a&&(a[y_]=r),a}finally{n.exit(r)}},"clsBind")},"bindFactory");Rf.prototype.enter=o(function(t){gh.ok(t,"context must be provided for entering"),ja&&Qa("  ENTER "+this.name+" uid:"+ll+" len:"+this._set.length+" context: "+Ja.inspect(t)),this._set.push(this.active),this.active=t},"enter");Rf.prototype.exit=o(function(t){if(gh.ok(t,"context must be provided for exiting"),ja&&Qa("  EXIT "+this.name+" uid:"+ll+" len:"+this._set.length+" context: "+Ja.inspect(t)),this.active===t){gh.ok(this._set.length,"can't remove top context"),this.active=this._set.pop();return}let r=this._set.lastIndexOf(t);r<0?(ja&&Qa("??ERROR?? context exiting but not entered - ignoring: "+Ja.inspect(t)),gh.ok(r>=0,`context not currently entered; can't exit. 
`+Ja.inspect(this)+`
`+Ja.inspect(t))):(gh.ok(r,"can't remove top context"),this._set.splice(r,1))},"exit");Rf.prototype.bindEmitter=o(function(t){gh.ok(t.on&&t.addListener&&t.emit,"can only bind real EEs");let r=this,n="context@"+this.name;function s(l){l&&(l[v_]||(l[v_]=Object.create(null)),l[v_][n]={namespace:r,context:r.active})}o(s,"attach");function a(l){if(!(l&&l[v_]))return l;let c=l,u=l[v_];return Object.keys(u).forEach(function(f){let d=u[f];c=d.namespace.bind(c,d.context)}),c}o(a,"bind"),FSe(t,s,a)},"bindEmitter");Rf.prototype.fromException=o(function(t){return t[y_]},"fromException");function s0e(e){return process.namespaces[e]}o(s0e,"getNamespace");function USe(e){gh.ok(e,"namespace must be given a name."),ja&&Qa("CREATING NAMESPACE "+e);let t=new Rf(e);return t.id=ll,r6.addHooks({init(r,n,s,a,l){ll=r,a?(t._contexts.set(r,t._contexts.get(a)),ja&&Qa("PARENTID: "+e+" uid:"+r+" parent:"+a+" provider:"+s)):t._contexts.set(ll,t.active),ja&&Qa("INIT "+e+" uid:"+r+" parent:"+a+" provider:"+i0e[s]+" active:"+Ja.inspect(t.active,!0))},pre(r,n){ll=r;let s=t._contexts.get(r);s?(ja&&Qa(" PRE "+e+" uid:"+r+" handle:"+OA(n)+" context:"+Ja.inspect(s)),t.enter(s)):ja&&Qa(" PRE MISSING CONTEXT "+e+" uid:"+r+" handle:"+OA(n))},post(r,n){ll=r;let s=t._contexts.get(r);s?(ja&&Qa(" POST "+e+" uid:"+r+" handle:"+OA(n)+" context:"+Ja.inspect(s)),t.exit(s)):ja&&Qa(" POST MISSING CONTEXT "+e+" uid:"+r+" handle:"+OA(n))},destroy(r){ll=r,ja&&Qa("DESTROY "+e+" uid:"+r+" context:"+Ja.inspect(t._contexts.get(ll))+" active:"+Ja.inspect(t.active,!0)),t._contexts.delete(r)}}),process.namespaces[e]=t,t}o(USe,"createNamespace");function a0e(e){let t=s0e(e);gh.ok(t,`can't delete nonexistent namespace! "`+e+'"'),gh.ok(t.id,"don't assign to process.namespaces directly! "+Ja.inspect(t)),process.namespaces[e]=null}o(a0e,"destroyNamespace");function qSe(){process.namespaces&&Object.keys(process.namespaces).forEach(function(e){a0e(e)}),process.namespaces=Object.create(null)}o(qSe,"reset");process.namespaces={};r6._state&&!r6._state.enabled&&r6.enable();function Qa(e){process.env.DEBUG&&process._rawDebug(e)}o(Qa,"debug2");function OA(e){if(!e)return e;if(typeof e=="function")return e.name?e.name:(e.toString().trim().match(/^function\s*([^\s(]+)/)||[])[1];if(e.constructor&&e.constructor.name)return e.constructor.name}o(OA,"getFunctionName");if(ja){tq=ZU();for(n0e in tq.filter._modifiers)tq.filter.deattach(n0e)}var tq,n0e});var c0e=k((Jet,rq)=>{"use strict";var jSe=Rse();process&&jSe.gte(process.versions.node,"8.0.0")?rq.exports=qse():rq.exports=l0e()});var I0e=k((Ms,S0e)=>{Ms=S0e.exports=x0;var G0;typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?G0=o(function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)},"debug"):G0=o(function(){},"debug");Ms.SEMVER_SPEC_VERSION="2.0.0";var __=256,DA=Number.MAX_SAFE_INTEGER||9007199254740991,nq=16,HSe=__-6,x_=Ms.re=[],na=Ms.safeRe=[],mn=Ms.src=[],h0=0,lq="[a-zA-Z0-9-]",iq=[["\\s",1],["\\d",__],[lq,HSe]];function UA(e){for(var t=0;t<iq.length;t++){var r=iq[t][0],n=iq[t][1];e=e.split(r+"*").join(r+"{0,"+n+"}").split(r+"+").join(r+"{1,"+n+"}")}return e}o(UA,"makeSafeRe");var n6=h0++;mn[n6]="0|[1-9]\\d*";var i6=h0++;mn[i6]="\\d+";var cq=h0++;mn[cq]="\\d*[a-zA-Z-]"+lq+"*";var f0e=h0++;mn[f0e]="("+mn[n6]+")\\.("+mn[n6]+")\\.("+mn[n6]+")";var d0e=h0++;mn[d0e]="("+mn[i6]+")\\.("+mn[i6]+")\\.("+mn[i6]+")";var sq=h0++;mn[sq]="(?:"+mn[n6]+"|"+mn[cq]+")";var aq=h0++;mn[aq]="(?:"+mn[i6]+"|"+mn[cq]+")";var uq=h0++;mn[uq]="(?:-("+mn[sq]+"(?:\\."+mn[sq]+")*))";var fq=h0++;mn[fq]="(?:-?("+mn[aq]+"(?:\\."+mn[aq]+")*))";var oq=h0++;mn[oq]=lq+"+";var E_=h0++;mn[E_]="(?:\\+("+mn[oq]+"(?:\\."+mn[oq]+")*))";var dq=h0++,p0e="v?"+mn[f0e]+mn[uq]+"?"+mn[E_]+"?";mn[dq]="^"+p0e+"$";var pq="[v=\\s]*"+mn[d0e]+mn[fq]+"?"+mn[E_]+"?",hq=h0++;mn[hq]="^"+pq+"$";var c6=h0++;mn[c6]="((?:<|>)?=?)";var LA=h0++;mn[LA]=mn[i6]+"|x|X|\\*";var kA=h0++;mn[kA]=mn[n6]+"|x|X|\\*";var pg=h0++;mn[pg]="[v=\\s]*("+mn[kA]+")(?:\\.("+mn[kA]+")(?:\\.("+mn[kA]+")(?:"+mn[uq]+")?"+mn[E_]+"?)?)?";var a6=h0++;mn[a6]="[v=\\s]*("+mn[LA]+")(?:\\.("+mn[LA]+")(?:\\.("+mn[LA]+")(?:"+mn[fq]+")?"+mn[E_]+"?)?)?";var h0e=h0++;mn[h0e]="^"+mn[c6]+"\\s*"+mn[pg]+"$";var m0e=h0++;mn[m0e]="^"+mn[c6]+"\\s*"+mn[a6]+"$";var g0e=h0++;mn[g0e]="(?:^|[^\\d])(\\d{1,"+nq+"})(?:\\.(\\d{1,"+nq+"}))?(?:\\.(\\d{1,"+nq+"}))?(?:$|[^\\d])";var qA=h0++;mn[qA]="(?:~>?)";var o6=h0++;mn[o6]="(\\s*)"+mn[qA]+"\\s+";x_[o6]=new RegExp(mn[o6],"g");na[o6]=new RegExp(UA(mn[o6]),"g");var $Se="$1~",v0e=h0++;mn[v0e]="^"+mn[qA]+mn[pg]+"$";var y0e=h0++;mn[y0e]="^"+mn[qA]+mn[a6]+"$";var jA=h0++;mn[jA]="(?:\\^)";var l6=h0++;mn[l6]="(\\s*)"+mn[jA]+"\\s+";x_[l6]=new RegExp(mn[l6],"g");na[l6]=new RegExp(UA(mn[l6]),"g");var VSe="$1^",_0e=h0++;mn[_0e]="^"+mn[jA]+mn[pg]+"$";var x0e=h0++;mn[x0e]="^"+mn[jA]+mn[a6]+"$";var mq=h0++;mn[mq]="^"+mn[c6]+"\\s*("+pq+")$|^$";var gq=h0++;mn[gq]="^"+mn[c6]+"\\s*("+p0e+")$|^$";var hg=h0++;mn[hg]="(\\s*)"+mn[c6]+"\\s*("+pq+"|"+mn[pg]+")";x_[hg]=new RegExp(mn[hg],"g");na[hg]=new RegExp(UA(mn[hg]),"g");var GSe="$1$2$3",b0e=h0++;mn[b0e]="^\\s*("+mn[pg]+")\\s+-\\s+("+mn[pg]+")\\s*$";var E0e=h0++;mn[E0e]="^\\s*("+mn[a6]+")\\s+-\\s+("+mn[a6]+")\\s*$";var T0e=h0++;mn[T0e]="(<|>)?=?\\s*\\*";for(j1=0;j1<h0;j1++)G0(j1,mn[j1]),x_[j1]||(x_[j1]=new RegExp(mn[j1]),na[j1]=new RegExp(UA(mn[j1])));var j1;Ms.parse=mg;function mg(e,t){if((!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1}),e instanceof x0)return e;if(typeof e!="string"||e.length>__)return null;var r=t.loose?na[hq]:na[dq];if(!r.test(e))return null;try{return new x0(e,t)}catch{return null}}o(mg,"parse");Ms.valid=zSe;function zSe(e,t){var r=mg(e,t);return r?r.version:null}o(zSe,"valid");Ms.clean=KSe;function KSe(e,t){var r=mg(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null}o(KSe,"clean");Ms.SemVer=x0;function x0(e,t){if((!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1}),e instanceof x0){if(e.loose===t.loose)return e;e=e.version}else if(typeof e!="string")throw new TypeError("Invalid Version: "+e);if(e.length>__)throw new TypeError("version is longer than "+__+" characters");if(!(this instanceof x0))return new x0(e,t);G0("SemVer",e,t),this.options=t,this.loose=!!t.loose;var r=e.trim().match(t.loose?na[hq]:na[dq]);if(!r)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>DA||this.major<0)throw new TypeError("Invalid major version");if(this.minor>DA||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>DA||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(function(n){if(/^[0-9]+$/.test(n)){var s=+n;if(s>=0&&s<DA)return s}return n}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}o(x0,"SemVer");x0.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version};x0.prototype.toString=function(){return this.version};x0.prototype.compare=function(e){return G0("SemVer.compare",this.version,this.options,e),e instanceof x0||(e=new x0(e,this.options)),this.compareMain(e)||this.comparePre(e)};x0.prototype.compareMain=function(e){return e instanceof x0||(e=new x0(e,this.options)),s6(this.major,e.major)||s6(this.minor,e.minor)||s6(this.patch,e.patch)};x0.prototype.comparePre=function(e){if(e instanceof x0||(e=new x0(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var r=this.prerelease[t],n=e.prerelease[t];if(G0("prerelease compare",t,r,n),r===void 0&&n===void 0)return 0;if(n===void 0)return 1;if(r===void 0)return-1;if(r===n)continue;return s6(r,n)}while(++t)};x0.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",t),this.inc("pre",t);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{for(var r=this.prerelease.length;--r>=0;)typeof this.prerelease[r]=="number"&&(this.prerelease[r]++,r=-2);r===-1&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this};Ms.inc=WSe;function WSe(e,t,r,n){typeof r=="string"&&(n=r,r=void 0);try{return new x0(e,r).inc(t,n).version}catch{return null}}o(WSe,"inc");Ms.diff=YSe;function YSe(e,t){if(vq(e,t))return null;var r=mg(e),n=mg(t),s="";if(r.prerelease.length||n.prerelease.length){s="pre";var a="prerelease"}for(var l in r)if((l==="major"||l==="minor"||l==="patch")&&r[l]!==n[l])return s+l;return a}o(YSe,"diff");Ms.compareIdentifiers=s6;var u0e=/^[0-9]+$/;function s6(e,t){var r=u0e.test(e),n=u0e.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1}o(s6,"compareIdentifiers");Ms.rcompareIdentifiers=XSe;function XSe(e,t){return s6(t,e)}o(XSe,"rcompareIdentifiers");Ms.major=QSe;function QSe(e,t){return new x0(e,t).major}o(QSe,"major");Ms.minor=JSe;function JSe(e,t){return new x0(e,t).minor}o(JSe,"minor");Ms.patch=ZSe;function ZSe(e,t){return new x0(e,t).patch}o(ZSe,"patch");Ms.compare=vh;function vh(e,t,r){return new x0(e,r).compare(new x0(t,r))}o(vh,"compare");Ms.compareLoose=eIe;function eIe(e,t){return vh(e,t,!0)}o(eIe,"compareLoose");Ms.rcompare=tIe;function tIe(e,t,r){return vh(t,e,r)}o(tIe,"rcompare");Ms.sort=rIe;function rIe(e,t){return e.sort(function(r,n){return Ms.compare(r,n,t)})}o(rIe,"sort");Ms.rsort=nIe;function nIe(e,t){return e.sort(function(r,n){return Ms.rcompare(r,n,t)})}o(nIe,"rsort");Ms.gt=b_;function b_(e,t,r){return vh(e,t,r)>0}o(b_,"gt");Ms.lt=MA;function MA(e,t,r){return vh(e,t,r)<0}o(MA,"lt");Ms.eq=vq;function vq(e,t,r){return vh(e,t,r)===0}o(vq,"eq");Ms.neq=C0e;function C0e(e,t,r){return vh(e,t,r)!==0}o(C0e,"neq");Ms.gte=yq;function yq(e,t,r){return vh(e,t,r)>=0}o(yq,"gte");Ms.lte=_q;function _q(e,t,r){return vh(e,t,r)<=0}o(_q,"lte");Ms.cmp=BA;function BA(e,t,r,n){switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e===r;case"!==":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e!==r;case"":case"=":case"==":return vq(e,r,n);case"!=":return C0e(e,r,n);case">":return b_(e,r,n);case">=":return yq(e,r,n);case"<":return MA(e,r,n);case"<=":return _q(e,r,n);default:throw new TypeError("Invalid operator: "+t)}}o(BA,"cmp");Ms.Comparator=Pf;function Pf(e,t){if((!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1}),e instanceof Pf){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof Pf))return new Pf(e,t);e=e.trim().split(/\s+/).join(" "),G0("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===T_?this.value="":this.value=this.operator+this.semver.version,G0("comp",this)}o(Pf,"Comparator");var T_={};Pf.prototype.parse=function(e){var t=this.options.loose?na[mq]:na[gq],r=e.match(t);if(!r)throw new TypeError("Invalid comparator: "+e);this.operator=r[1],this.operator==="="&&(this.operator=""),r[2]?this.semver=new x0(r[2],this.options.loose):this.semver=T_};Pf.prototype.toString=function(){return this.value};Pf.prototype.test=function(e){return G0("Comparator.test",e,this.options.loose),this.semver===T_?!0:(typeof e=="string"&&(e=new x0(e,this.options)),BA(e,this.operator,this.semver,this.options))};Pf.prototype.intersects=function(e,t){if(!(e instanceof Pf))throw new TypeError("a Comparator is required");(!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1});var r;if(this.operator==="")return r=new Ra(e.value,t),FA(this.value,r,t);if(e.operator==="")return r=new Ra(this.value,t),FA(e.semver,r,t);var n=(this.operator===">="||this.operator===">")&&(e.operator===">="||e.operator===">"),s=(this.operator==="<="||this.operator==="<")&&(e.operator==="<="||e.operator==="<"),a=this.semver.version===e.semver.version,l=(this.operator===">="||this.operator==="<=")&&(e.operator===">="||e.operator==="<="),c=BA(this.semver,"<",e.semver,t)&&(this.operator===">="||this.operator===">")&&(e.operator==="<="||e.operator==="<"),u=BA(this.semver,">",e.semver,t)&&(this.operator==="<="||this.operator==="<")&&(e.operator===">="||e.operator===">");return n||s||a&&l||c||u};Ms.Range=Ra;function Ra(e,t){if((!t||typeof t!="object")&&(t={loose:!!t,includePrerelease:!1}),e instanceof Ra)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new Ra(e.raw,t);if(e instanceof Pf)return new Ra(e.value,t);if(!(this instanceof Ra))return new Ra(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(function(r){return this.parseRange(r.trim())},this).filter(function(r){return r.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+this.raw);this.format()}o(Ra,"Range");Ra.prototype.format=function(){return this.range=this.set.map(function(e){return e.join(" ").trim()}).join("||").trim(),this.range};Ra.prototype.toString=function(){return this.range};Ra.prototype.parseRange=function(e){var t=this.options.loose,r=t?na[E0e]:na[b0e];e=e.replace(r,pIe),G0("hyphen replace",e),e=e.replace(na[hg],GSe),G0("comparator trim",e,na[hg]),e=e.replace(na[o6],$Se),e=e.replace(na[l6],VSe);var n=t?na[mq]:na[gq],s=e.split(" ").map(function(a){return sIe(a,this.options)},this).join(" ").split(/\s+/);return this.options.loose&&(s=s.filter(function(a){return!!a.match(n)})),s=s.map(function(a){return new Pf(a,this.options)},this),s};Ra.prototype.intersects=function(e,t){if(!(e instanceof Ra))throw new TypeError("a Range is required");return this.set.some(function(r){return r.every(function(n){return e.set.some(function(s){return s.every(function(a){return n.intersects(a,t)})})})})};Ms.toComparators=iIe;function iIe(e,t){return new Ra(e,t).set.map(function(r){return r.map(function(n){return n.value}).join(" ").trim().split(" ")})}o(iIe,"toComparators");function sIe(e,t){return G0("comp",e,t),e=lIe(e,t),G0("caret",e),e=aIe(e,t),G0("tildes",e),e=uIe(e,t),G0("xrange",e),e=dIe(e,t),G0("stars",e),e}o(sIe,"parseComparator");function ru(e){return!e||e.toLowerCase()==="x"||e==="*"}o(ru,"isX");function aIe(e,t){return e.trim().split(/\s+/).map(function(r){return oIe(r,t)}).join(" ")}o(aIe,"replaceTildes");function oIe(e,t){var r=t.loose?na[y0e]:na[v0e];return e.replace(r,function(n,s,a,l,c){G0("tilde",e,n,s,a,l,c);var u;return ru(s)?u="":ru(a)?u=">="+s+".0.0 <"+(+s+1)+".0.0":ru(l)?u=">="+s+"."+a+".0 <"+s+"."+(+a+1)+".0":c?(G0("replaceTilde pr",c),u=">="+s+"."+a+"."+l+"-"+c+" <"+s+"."+(+a+1)+".0"):u=">="+s+"."+a+"."+l+" <"+s+"."+(+a+1)+".0",G0("tilde return",u),u})}o(oIe,"replaceTilde");function lIe(e,t){return e.trim().split(/\s+/).map(function(r){return cIe(r,t)}).join(" ")}o(lIe,"replaceCarets");function cIe(e,t){G0("caret",e,t);var r=t.loose?na[x0e]:na[_0e];return e.replace(r,function(n,s,a,l,c){G0("caret",e,n,s,a,l,c);var u;return ru(s)?u="":ru(a)?u=">="+s+".0.0 <"+(+s+1)+".0.0":ru(l)?s==="0"?u=">="+s+"."+a+".0 <"+s+"."+(+a+1)+".0":u=">="+s+"."+a+".0 <"+(+s+1)+".0.0":c?(G0("replaceCaret pr",c),s==="0"?a==="0"?u=">="+s+"."+a+"."+l+"-"+c+" <"+s+"."+a+"."+(+l+1):u=">="+s+"."+a+"."+l+"-"+c+" <"+s+"."+(+a+1)+".0":u=">="+s+"."+a+"."+l+"-"+c+" <"+(+s+1)+".0.0"):(G0("no pr"),s==="0"?a==="0"?u=">="+s+"."+a+"."+l+" <"+s+"."+a+"."+(+l+1):u=">="+s+"."+a+"."+l+" <"+s+"."+(+a+1)+".0":u=">="+s+"."+a+"."+l+" <"+(+s+1)+".0.0"),G0("caret return",u),u})}o(cIe,"replaceCaret");function uIe(e,t){return G0("replaceXRanges",e,t),e.split(/\s+/).map(function(r){return fIe(r,t)}).join(" ")}o(uIe,"replaceXRanges");function fIe(e,t){e=e.trim();var r=t.loose?na[m0e]:na[h0e];return e.replace(r,function(n,s,a,l,c,u){G0("xRange",e,n,s,a,l,c,u);var f=ru(a),d=f||ru(l),p=d||ru(c),h=p;return s==="="&&h&&(s=""),f?s===">"||s==="<"?n="<0.0.0":n="*":s&&h?(d&&(l=0),c=0,s===">"?(s=">=",d?(a=+a+1,l=0,c=0):(l=+l+1,c=0)):s==="<="&&(s="<",d?a=+a+1:l=+l+1),n=s+a+"."+l+"."+c):d?n=">="+a+".0.0 <"+(+a+1)+".0.0":p&&(n=">="+a+"."+l+".0 <"+a+"."+(+l+1)+".0"),G0("xRange return",n),n})}o(fIe,"replaceXRange");function dIe(e,t){return G0("replaceStars",e,t),e.trim().replace(na[T0e],"")}o(dIe,"replaceStars");function pIe(e,t,r,n,s,a,l,c,u,f,d,p,h){return ru(r)?t="":ru(n)?t=">="+r+".0.0":ru(s)?t=">="+r+"."+n+".0":t=">="+t,ru(u)?c="":ru(f)?c="<"+(+u+1)+".0.0":ru(d)?c="<"+u+"."+(+f+1)+".0":p?c="<="+u+"."+f+"."+d+"-"+p:c="<="+c,(t+" "+c).trim()}o(pIe,"hyphenReplace");Ra.prototype.test=function(e){if(!e)return!1;typeof e=="string"&&(e=new x0(e,this.options));for(var t=0;t<this.set.length;t++)if(hIe(this.set[t],e,this.options))return!0;return!1};function hIe(e,t,r){for(var n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(n=0;n<e.length;n++)if(G0(e[n].semver),e[n].semver!==T_&&e[n].semver.prerelease.length>0){var s=e[n].semver;if(s.major===t.major&&s.minor===t.minor&&s.patch===t.patch)return!0}return!1}return!0}o(hIe,"testSet");Ms.satisfies=FA;function FA(e,t,r){try{t=new Ra(t,r)}catch{return!1}return t.test(e)}o(FA,"satisfies");Ms.maxSatisfying=mIe;function mIe(e,t,r){var n=null,s=null;try{var a=new Ra(t,r)}catch{return null}return e.forEach(function(l){a.test(l)&&(!n||s.compare(l)===-1)&&(n=l,s=new x0(n,r))}),n}o(mIe,"maxSatisfying");Ms.minSatisfying=gIe;function gIe(e,t,r){var n=null,s=null;try{var a=new Ra(t,r)}catch{return null}return e.forEach(function(l){a.test(l)&&(!n||s.compare(l)===1)&&(n=l,s=new x0(n,r))}),n}o(gIe,"minSatisfying");Ms.minVersion=vIe;function vIe(e,t){e=new Ra(e,t);var r=new x0("0.0.0");if(e.test(r)||(r=new x0("0.0.0-0"),e.test(r)))return r;r=null;for(var n=0;n<e.set.length;++n){var s=e.set[n];s.forEach(function(a){var l=new x0(a.semver.version);switch(a.operator){case">":l.prerelease.length===0?l.patch++:l.prerelease.push(0),l.raw=l.format();case"":case">=":(!r||b_(r,l))&&(r=l);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+a.operator)}})}return r&&e.test(r)?r:null}o(vIe,"minVersion");Ms.validRange=yIe;function yIe(e,t){try{return new Ra(e,t).range||"*"}catch{return null}}o(yIe,"validRange");Ms.ltr=_Ie;function _Ie(e,t,r){return xq(e,t,"<",r)}o(_Ie,"ltr");Ms.gtr=xIe;function xIe(e,t,r){return xq(e,t,">",r)}o(xIe,"gtr");Ms.outside=xq;function xq(e,t,r,n){e=new x0(e,n),t=new Ra(t,n);var s,a,l,c,u;switch(r){case">":s=b_,a=_q,l=MA,c=">",u=">=";break;case"<":s=MA,a=yq,l=b_,c="<",u="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(FA(e,t,n))return!1;for(var f=0;f<t.set.length;++f){var d=t.set[f],p=null,h=null;if(d.forEach(function(m){m.semver===T_&&(m=new Pf(">=0.0.0")),p=p||m,h=h||m,s(m.semver,p.semver,n)?p=m:l(m.semver,h.semver,n)&&(h=m)}),p.operator===c||p.operator===u||(!h.operator||h.operator===c)&&a(e,h.semver))return!1;if(h.operator===u&&l(e,h.semver))return!1}return!0}o(xq,"outside");Ms.prerelease=bIe;function bIe(e,t){var r=mg(e,t);return r&&r.prerelease.length?r.prerelease:null}o(bIe,"prerelease");Ms.intersects=EIe;function EIe(e,t,r){return e=new Ra(e,r),t=new Ra(t,r),e.intersects(t)}o(EIe,"intersects");Ms.coerce=TIe;function TIe(e){if(e instanceof x0)return e;if(typeof e!="string")return null;var t=e.match(na[g0e]);return t==null?null:mg(t[1]+"."+(t[2]||"0")+"."+(t[3]||"0"))}o(TIe,"coerce")});var R0e=k((ett,w0e)=>{var CIe=IA().wrap,Eq=1,Tq=2,Cq=4,$A=8,Q0=[],SIe=0,Lc=!1,Z5=[],u6,Sq;function Iq(e,t){var r=e.length,n=t.length,s=[];if(r===0&&n===0)return s;for(var a=0;a<r;a++)s[a]=e[a];if(n===0)return s;for(var l=0;l<n;l++){var c=!0;for(a=0;a<r;a++)if(e[a].uid===t[l].uid){c=!1;break}c&&s.push(t[l])}return s}o(Iq,"union");process._fatalException?(HA=!1,u6=o(function(t){var r=Q0.length;if(HA||r===0)return!1;var n=!1;HA=!0;for(var s=0;s<r;++s){var a=Q0[s];if(a.flags&$A){var l=f6&&f6[a.uid];n=a.error(l,t)||n}}return HA=!1,Z5.length>0&&(Q0=Z5.pop()),f6=void 0,n&&!Lc},"asyncCatcher"),Sq=o(function(t,r,n){var s=[];Lc=!0;for(var a=0;a<n;++a){var l=r[a];if(s[l.uid]=l.data,!!(l.flags&Eq)){var c=l.create(l.data);c!==void 0&&(s[l.uid]=c)}}return Lc=!1,function(){f6=s,Z5.push(Q0),Q0=Iq(r,Q0),Lc=!0;for(var u=0;u<n;++u)(r[u].flags&Tq)>0&&r[u].before(this,s[r[u].uid]);Lc=!1;var f=t.apply(this,arguments);for(Lc=!0,u=0;u<n;++u)(r[u].flags&Cq)>0&&r[u].after(this,s[r[u].uid]);return Lc=!1,Q0=Z5.pop(),f6=void 0,f}},"asyncWrap"),CIe(process,"_fatalException",function(e){return o(function(r){return u6(r)||e(r)},"_asyncFatalException")})):(bq=!1,u6=o(function(t){if(bq)throw t;for(var r=!1,n=Q0.length,s=0;s<n;++s){var a=Q0[s];a.flags&$A&&(r=a.error(null,t)||r)}if(!r&&Lc)throw t},"uncaughtCatcher"),Sq=o(function(t,r,n){var s=[];Lc=!0;for(var a=0;a<n;++a){var l=r[a];if(s[l.uid]=l.data,!!(l.flags&Eq)){var c=l.create(l.data);c!==void 0&&(s[l.uid]=c)}}return Lc=!1,function(){var u=!1,f=!1;Z5.push(Q0),Q0=Iq(r,Q0),Lc=!0;for(var d=0;d<n;++d)(r[d].flags&Tq)>0&&r[d].before(this,s[r[d].uid]);Lc=!1;var p;try{p=t.apply(this,arguments)}catch(h){u=!0;for(var d=0;d<n;++d)if(Q0[d].flags&$A)try{f=Q0[d].error(s[r[d].uid],h)||f}catch(v){throw bq=!0,v}if(!f)throw process.removeListener("uncaughtException",u6),process._originalNextTick(function(){process.addListener("uncaughtException",u6)}),h}finally{if(!u||f){for(Lc=!0,d=0;d<n;++d)(r[d].flags&Cq)>0&&r[d].after(this,s[r[d].uid]);Lc=!1}Q0=Z5.pop()}return p}},"asyncWrap"),process.addListener("uncaughtException",u6));var HA,f6,bq;function IIe(e,t,r){Lc=!0;for(var n=0;n<r;++n){var s=t[n];s.create&&s.create(s.data)}return Lc=!1,function(){Z5.push(Q0),Q0=Iq(t,Q0);var a=e.apply(this,arguments);return Q0=Z5.pop(),a}}o(IIe,"simpleWrap");function AIe(e){var t=Q0.length;if(t===0)return e;for(var r=Q0.slice(),n=0;n<t;++n)if(r[n].flags>0)return Sq(e,r,t);return IIe(e,r,t)}o(AIe,"wrapCallback");function H1(e,t){typeof e.create=="function"&&(this.create=e.create,this.flags|=Eq),typeof e.before=="function"&&(this.before=e.before,this.flags|=Tq),typeof e.after=="function"&&(this.after=e.after,this.flags|=Cq),typeof e.error=="function"&&(this.error=e.error,this.flags|=$A),this.uid=++SIe,this.data=t===void 0?null:t}o(H1,"AsyncListener");H1.prototype.create=void 0;H1.prototype.before=void 0;H1.prototype.after=void 0;H1.prototype.error=void 0;H1.prototype.data=void 0;H1.prototype.uid=0;H1.prototype.flags=0;function A0e(e,t){if(typeof e!="object"||!e)throw new TypeError("callbacks argument must be an object");return e instanceof H1?e:new H1(e,t)}o(A0e,"createAsyncListener");function wIe(e,t){var r;e instanceof H1?r=e:r=A0e(e,t);for(var n=!1,s=0;s<Q0.length;s++)if(r===Q0[s]){n=!0;break}return n||Q0.push(r),r}o(wIe,"addAsyncListener");function RIe(e){for(var t=0;t<Q0.length;t++)if(e===Q0[t]){Q0.splice(t,1);break}}o(RIe,"removeAsyncListener");process.createAsyncListener=A0e;process.addAsyncListener=wIe;process.removeAsyncListener=RIe;w0e.exports=AIe});var N0e=k((rtt,P0e)=>{"use strict";P0e.exports=(e,t)=>{var r;return r=class extends e{constructor(s){var a,l;super(u);var c=this;try{s.apply(a,l)}catch(f){l[1](f)}return c;function u(f,d){a=this,l=[p,h];function p(m){return t(c,!1),f(m)}o(p,"wrappedResolve");function h(m){return t(c,!1),d(m)}o(h,"wrappedReject")}}},o(r,"WrappedPromise"),r}});var F0e=k(()=>{"use strict";if(process.addAsyncListener)throw new Error("Don't require polyfill unless needed");var k0e=IA(),GA=I0e(),Cu=k0e.wrap,e3=k0e.massWrap,Pa=R0e(),PIe=require("util"),NIe=GA.gte(process.version,"6.0.0"),Rq=GA.gte(process.version,"7.0.0"),OIe=GA.gte(process.version,"8.0.0"),DIe=GA.gte(process.version,"11.0.0"),$1=require("net");Rq&&!$1._normalizeArgs?$1._normalizeArgs=function(e){if(e.length===0)return[{},null];var t=e[0],r={};typeof t=="object"&&t!==null?r=t:FIe(t)?r.path=t:(r.port=t,e.length>1&&typeof e[1]=="string"&&(r.host=e[1]));var n=e[e.length-1];return typeof n!="function"?[r,null]:[r,n]}:!Rq&&!$1._normalizeConnectArgs&&($1._normalizeConnectArgs=function(e){var t={};function r(s){return(s=Number(s))>=0?s:!1}o(r,"toNumber"),typeof e[0]=="object"&&e[0]!==null?t=e[0]:typeof e[0]=="string"&&r(e[0])===!1?t.path=e[0]:(t.port=e[0],typeof e[1]=="string"&&(t.host=e[1]));var n=e[e.length-1];return typeof n=="function"?[t,n]:[t]});"_setUpListenHandle"in $1.Server.prototype?Cu($1.Server.prototype,"_setUpListenHandle",O0e):Cu($1.Server.prototype,"_listen2",O0e);function O0e(e){return function(){this.on("connection",function(t){t._handle&&(t._handle.onread=Pa(t._handle.onread))});try{return e.apply(this,arguments)}finally{this._handle&&this._handle.onconnection&&(this._handle.onconnection=Pa(this._handle.onconnection))}}}o(O0e,"wrapSetUpListenHandle");function M0e(e){if(e&&e._handle){var t=e._handle;t._originalOnread||(t._originalOnread=t.onread),t.onread=Pa(t._originalOnread)}}o(M0e,"patchOnRead");Cu($1.Socket.prototype,"connect",function(e){return function(){var t;OIe&&Array.isArray(arguments[0])&&Object.getOwnPropertySymbols(arguments[0]).length>0?t=arguments[0]:t=Rq?$1._normalizeArgs(arguments):$1._normalizeConnectArgs(arguments),t[1]&&(t[1]=Pa(t[1]));var r=e.apply(this,t);return M0e(this),r}});var LIe=require("http");Cu(LIe.Agent.prototype,"addRequest",function(e){return function(t){var r=t.onSocket;return t.onSocket=Pa(function(n){return M0e(n),r.apply(this,arguments)}),e.apply(this,arguments)}});var Aq=require("child_process");function D0e(e){Array.isArray(e.stdio)&&e.stdio.forEach(function(t){t&&t._handle&&(t._handle.onread=Pa(t._handle.onread),Cu(t._handle,"close",zA))}),e._handle&&(e._handle.onexit=Pa(e._handle.onexit))}o(D0e,"wrapChildProcess");Aq.ChildProcess?Cu(Aq.ChildProcess.prototype,"spawn",function(e){return function(){var t=e.apply(this,arguments);return D0e(this),t}}):e3(Aq,["execFile","fork","spawn"],function(e){return function(){var t=e.apply(this,arguments);return D0e(t),t}});process._fatalException||(process._originalNextTick=process.nextTick);var Oq=[];process._nextDomainTick&&Oq.push("_nextDomainTick");process._tickDomainCallback&&Oq.push("_tickDomainCallback");e3(process,Oq,V1);Cu(process,"nextTick",zA);var Dq=["setTimeout","setInterval"];global.setImmediate&&Dq.push("setImmediate");var B0e=require("timers"),kIe=global.setTimeout===B0e.setTimeout;e3(B0e,Dq,zA);kIe&&e3(global,Dq,zA);var Pq=require("dns");e3(Pq,["lookup","resolve","resolve4","resolve6","resolveCname","resolveMx","resolveNs","resolveTxt","resolveSrv","reverse"],V1);Pq.resolveNaptr&&Cu(Pq,"resolveNaptr",V1);var vg=require("fs");e3(vg,["watch","rename","truncate","chown","fchown","chmod","fchmod","stat","lstat","fstat","link","symlink","readlink","realpath","unlink","rmdir","mkdir","readdir","close","open","utimes","futimes","fsync","write","read","readFile","writeFile","appendFile","watchFile","unwatchFile","exists"],V1);vg.lchown&&Cu(vg,"lchown",V1);vg.lchmod&&Cu(vg,"lchmod",V1);vg.ftruncate&&Cu(vg,"ftruncate",V1);var C_;try{C_=require("zlib")}catch{}C_&&C_.Deflate&&C_.Deflate.prototype&&(gg=Object.getPrototypeOf(C_.Deflate.prototype),gg._transform?Cu(gg,"_transform",V1):gg.write&&gg.flush&&gg.end&&e3(gg,["write","flush","end"],V1));var gg,Nq;try{Nq=require("crypto")}catch{}Nq&&(wq=["pbkdf2","randomBytes"],DIe||wq.push("pseudoRandomBytes"),e3(Nq,wq,V1));var wq,VA=!!global.Promise&&Promise.toString()==="function Promise() { [native code] }"&&Promise.toString.toString()==="function toString() { [native code] }";VA&&(L0e=process.addAsyncListener({create:o(function(){VA=!1},"create")}),global.Promise.resolve(!0).then(o(function(){VA=!1},"notSync")),process.removeAsyncListener(L0e));var L0e;VA&&MIe();function MIe(){var e=global.Promise;function t(l){if(!(this instanceof t))return e(l);if(typeof l!="function")return new e(l);var c,u,f=new e(d);f.__proto__=t.prototype;try{l.apply(c,u)}catch(p){u[1](p)}return f;function d(p,h){c=this,u=[m,v];function m(_){return n(f,!1),p(_)}o(m,"wrappedResolve");function v(_){return n(f,!1),h(_)}o(v,"wrappedReject")}}if(o(t,"wrappedPromise"),PIe.inherits(t,e),Cu(e.prototype,"then",a),e.prototype.chain&&Cu(e.prototype,"chain",a),NIe)global.Promise=N0e()(e,n);else{var r=["all","race","reject","resolve","accept","defer"];r.forEach(function(l){typeof e[l]=="function"&&(t[l]=e[l])}),global.Promise=t}function n(l,c){(!l.__asl_wrapper||c)&&(l.__asl_wrapper=Pa(s))}o(n,"ensureAslWrapper");function s(l,c,u,f){var d;try{return d=c.call(l,u),{returnVal:d,error:!1}}catch(p){return{errorVal:p,error:!0}}finally{d instanceof e?f.__asl_wrapper=o(function(){var h=d.__asl_wrapper||s;return h.apply(this,arguments)},"proxyWrapper"):n(f,!0)}}o(s,"propagateAslWrapper");function a(l){return o(function(){var u=this,f=l.apply(u,Array.prototype.map.call(arguments,d));return f.__asl_wrapper=o(function(h,m,v,_){return u.__asl_wrapper?(u.__asl_wrapper(h,function(){},null,f),f.__asl_wrapper(h,m,v,_)):s(h,m,v,_)},"proxyWrapper"),f;function d(p){return typeof p!="function"?p:Pa(function(h){var m=(u.__asl_wrapper||s)(this,p,h,f);if(m.error)throw m.errorVal;return m.returnVal})}o(d,"bind")},"wrappedThen")}o(a,"wrapThen")}o(MIe,"wrapPromise");function V1(e){var t=o(function(){var r,n=arguments.length-1;if(typeof arguments[n]=="function"){r=Array(arguments.length);for(var s=0;s<arguments.length-1;s++)r[s]=arguments[s];r[n]=Pa(arguments[n])}return e.apply(this,r||arguments)},"fallback");switch(e.length){case 1:return function(r){return arguments.length!==1?t.apply(this,arguments):(typeof r=="function"&&(r=Pa(r)),e.call(this,r))};case 2:return function(r,n){return arguments.length!==2?t.apply(this,arguments):(typeof n=="function"&&(n=Pa(n)),e.call(this,r,n))};case 3:return function(r,n,s){return arguments.length!==3?t.apply(this,arguments):(typeof s=="function"&&(s=Pa(s)),e.call(this,r,n,s))};case 4:return function(r,n,s,a){return arguments.length!==4?t.apply(this,arguments):(typeof a=="function"&&(a=Pa(a)),e.call(this,r,n,s,a))};case 5:return function(r,n,s,a,l){return arguments.length!==5?t.apply(this,arguments):(typeof l=="function"&&(l=Pa(l)),e.call(this,r,n,s,a,l))};case 6:return function(r,n,s,a,l,c){return arguments.length!==6?t.apply(this,arguments):(typeof c=="function"&&(c=Pa(c)),e.call(this,r,n,s,a,l,c))};default:return t}}o(V1,"activator");function zA(e){var t=o(function(){var r;if(typeof arguments[0]=="function"){r=Array(arguments.length),r[0]=Pa(arguments[0]);for(var n=1;n<arguments.length;n++)r[n]=arguments[n]}return e.apply(this,r||arguments)},"fallback");switch(e.length){case 1:return function(r){return arguments.length!==1?t.apply(this,arguments):(typeof r=="function"&&(r=Pa(r)),e.call(this,r))};case 2:return function(r,n){return arguments.length!==2?t.apply(this,arguments):(typeof r=="function"&&(r=Pa(r)),e.call(this,r,n))};case 3:return function(r,n,s){return arguments.length!==3?t.apply(this,arguments):(typeof r=="function"&&(r=Pa(r)),e.call(this,r,n,s))};case 4:return function(r,n,s,a){return arguments.length!==4?t.apply(this,arguments):(typeof r=="function"&&(r=Pa(r)),e.call(this,r,n,s,a))};case 5:return function(r,n,s,a,l){return arguments.length!==5?t.apply(this,arguments):(typeof r=="function"&&(r=Pa(r)),e.call(this,r,n,s,a,l))};case 6:return function(r,n,s,a,l,c){return arguments.length!==6?t.apply(this,arguments):(typeof r=="function"&&(r=Pa(r)),e.call(this,r,n,s,a,l,c))};default:return t}}o(zA,"activatorFirst");function BIe(e){return(e=Number(e))>=0?e:!1}o(BIe,"toNumber");function FIe(e){return typeof e=="string"&&BIe(e)===!1}o(FIe,"isPipeName")});var $0e=k((ott,H0e)=>{"use strict";var yh=require("assert"),UIe=RA(),S_="cls@contexts",Lq="error@context";process.addAsyncListener||F0e();function Pd(e){this.name=e,this.active=null,this._set=[],this.id=null}o(Pd,"Namespace");Pd.prototype.set=function(e,t){if(!this.active)throw new Error("No context available. ns.run() or ns.bind() must be called first.");return this.active[e]=t,t};Pd.prototype.get=function(e){if(this.active)return this.active[e]};Pd.prototype.createContext=function(){return Object.create(this.active)};Pd.prototype.run=function(e){var t=this.createContext();this.enter(t);try{return e(t),t}catch(r){throw r&&(r[Lq]=t),r}finally{this.exit(t)}};Pd.prototype.runAndReturn=function(e){var t;return this.run(function(r){t=e(r)}),t};Pd.prototype.bind=function(e,t){t||(this.active?t=this.active:t=this.createContext());var r=this;return function(){r.enter(t);try{return e.apply(this,arguments)}catch(n){throw n&&(n[Lq]=t),n}finally{r.exit(t)}}};Pd.prototype.enter=function(e){yh.ok(e,"context must be provided for entering"),this._set.push(this.active),this.active=e};Pd.prototype.exit=function(e){if(yh.ok(e,"context must be provided for exiting"),this.active===e){yh.ok(this._set.length,"can't remove top context"),this.active=this._set.pop();return}var t=this._set.lastIndexOf(e);yh.ok(t>=0,"context not currently entered; can't exit"),yh.ok(t,"can't remove top context"),this._set.splice(t,1)};Pd.prototype.bindEmitter=function(e){yh.ok(e.on&&e.addListener&&e.emit,"can only bind real EEs");var t=this,r="context@"+this.name;function n(a){a&&(a[S_]||(a[S_]=Object.create(null)),a[S_][r]={namespace:t,context:t.active})}o(n,"attach");function s(a){if(!(a&&a[S_]))return a;var l=a,c=a[S_];return Object.keys(c).forEach(function(u){var f=c[u];l=f.namespace.bind(l,f.context)}),l}o(s,"bind"),UIe(e,n,s)};Pd.prototype.fromException=function(e){return e[Lq]};function U0e(e){return process.namespaces[e]}o(U0e,"get");function qIe(e){yh.ok(e,"namespace must be given a name!");var t=new Pd(e);return t.id=process.addAsyncListener({create:function(){return t.active},before:function(r,n){n&&t.enter(n)},after:function(r,n){n&&t.exit(n)},error:function(r){r&&t.exit(r)}}),process.namespaces[e]=t,t}o(qIe,"create");function q0e(e){var t=U0e(e);yh.ok(t,"can't delete nonexistent namespace!"),yh.ok(t.id,"don't assign to process.namespaces directly!"),process.removeAsyncListener(t.id),process.namespaces[e]=null}o(q0e,"destroy");function j0e(){process.namespaces&&Object.keys(process.namespaces).forEach(function(e){q0e(e)}),process.namespaces=Object.create(null)}o(j0e,"reset");process.namespaces||j0e();H0e.exports={getNamespace:U0e,createNamespace:qIe,destroyNamespace:q0e,reset:j0e}});var t3=k(WA=>{"use strict";Object.defineProperty(WA,"__esModule",{value:!0});WA.CorrelationContextManager=void 0;var d6=ya(),jIe=pA(),yg=hA(),kq=sU(),V0e=CU(),KA=Fl(),HIe=function(){function e(){}return o(e,"CorrelationContextManager"),e.getCurrentContext=function(){if(!e.enabled)return null;var t=e.session.get(e.CONTEXT_NAME);return t===void 0?null:t},e.generateContextObject=function(t,r,n,s,a,l){return r=r||t,this.enabled?{operation:{name:n,id:t,parentId:r,traceparent:a,tracestate:l},customProperties:new $Ie(s)}:null},e.spanToContextObject=function(t,r,n){var s=new yg;return s.traceId=t.traceId,s.spanId=t.spanId,s.traceFlag=yg.formatOpenTelemetryTraceFlags(t.traceFlags)||yg.DEFAULT_TRACE_FLAG,s.parentId=r,e.generateContextObject(s.traceId,s.parentId,n,null,s)},e.runWithContext=function(t,r){var n;if(e.enabled)try{return e.session.bind(r,(n={},n[e.CONTEXT_NAME]=t,n))()}catch(s){d6.warn("Error binding to session context",KA.dumpObj(s))}return r()},e.wrapEmitter=function(t){if(e.enabled)try{e.session.bindEmitter(t)}catch(r){d6.warn("Error binding to session context",KA.dumpObj(r))}},e.wrapCallback=function(t,r){var n;if(e.enabled)try{return e.session.bind(t,r?(n={},n[e.CONTEXT_NAME]=r,n):void 0)}catch(s){d6.warn("Error binding to session context",KA.dumpObj(s))}return t},e.enable=function(t){if(!this.enabled){if(!this.isNodeVersionCompatible()){this.enabled=!1;return}e.hasEverEnabled||(this.forceClsHooked=t,this.hasEverEnabled=!0,typeof this.cls>"u"&&(e.forceClsHooked===!0||e.forceClsHooked===void 0&&e.shouldUseClsHooked()?this.cls=c0e():this.cls=$0e()),e.session=this.cls.createNamespace("AI-CLS-Session"),jIe.registerContextPreservation(function(r){try{return e.session.bind(r)}catch(n){d6.warn("Error binding to session context",KA.dumpObj(n))}})),this.enabled=!0}},e.startOperation=function(t,r){var n=t&&t.traceContext||null,s=t&&t.spanContext?t:null,a=t&&t.traceId?t:null,l=t&&t.headers;if(s)return this.spanToContextObject(s.spanContext(),s.parentSpanId,s.name);if(a)return this.spanToContextObject(a,"|"+a.traceId+"."+a.spanId+".",typeof r=="string"?r:"");var c=typeof r=="string"?r:"";if(n){var u=null,f=null;if(c=n.attributes.OperationName||c,r){var d=r;d.headers&&(d.headers.traceparent?u=new yg(d.headers.traceparent):d.headers["request-id"]&&(u=new yg(null,d.headers["request-id"])),d.headers.tracestate&&(f=new kq(d.headers.tracestate)))}u||(u=new yg(n.traceparent)),f||(f=new kq(n.tracestate));var p=void 0;if(typeof r=="object"){var h=new V0e(r);p=h.getCorrelationContextHeader(),c=h.getOperationName({})}var m=e.generateContextObject(u.traceId,u.parentId,c,p,u,f);return m}if(l){var u=new yg(l.traceparent?l.traceparent.toString():null),f=new kq(l.tracestate?l.tracestate.toString():null),h=new V0e(t),m=e.generateContextObject(u.traceId,u.parentId,h.getOperationName({}),h.getCorrelationContextHeader(),u,f);return m}return d6.warn("startOperation was called with invalid arguments",arguments),null},e.disable=function(){this.enabled=!1},e.reset=function(){e.hasEverEnabled&&(e.session=null,e.session=this.cls.createNamespace("AI-CLS-Session"))},e.isNodeVersionCompatible=function(){var t=process.versions.node.split(".");return parseInt(t[0])>3||parseInt(t[0])>2&&parseInt(t[1])>2},e.shouldUseClsHooked=function(){var t=process.versions.node.split(".");return parseInt(t[0])>8||parseInt(t[0])>=8&&parseInt(t[1])>=2},e.canUseClsHooked=function(){var t=process.versions.node.split("."),r=parseInt(t[0])>8||parseInt(t[0])>=8&&parseInt(t[1])>=0,n=parseInt(t[0])<8||parseInt(t[0])<=8&&parseInt(t[1])<2,s=parseInt(t[0])>4||parseInt(t[0])>=4&&parseInt(t[1])>=7;return!(r&&n)&&s},e.enabled=!1,e.hasEverEnabled=!1,e.forceClsHooked=void 0,e.CONTEXT_NAME="ApplicationInsights-Context",e}();WA.CorrelationContextManager=HIe;var $Ie=function(){function e(t){this.props=[],this.addHeaderData(t)}return o(e,"CustomPropertiesImpl"),e.prototype.addHeaderData=function(t){var r=t?t.split(", "):[];this.props=r.map(function(n){var s=n.split("=");return{key:s[0],value:s[1]}}).concat(this.props)},e.prototype.serializeToHeader=function(){return this.props.map(function(t){return t.key+"="+t.value}).join(", ")},e.prototype.getProperty=function(t){for(var r=0;r<this.props.length;++r){var n=this.props[r];if(n.key===t)return n.value}},e.prototype.setProperty=function(t,r){if(e.bannedCharacters.test(t)||e.bannedCharacters.test(r)){d6.warn("Correlation context property keys and values must not contain ',' or '='. setProperty was called with key: "+t+" and value: "+r);return}for(var n=0;n<this.props.length;++n){var s=this.props[n];if(s.key===t){s.value=r;return}}this.props.push({key:t,value:r})},e.bannedCharacters=/[,=]/,e}()});var Ha=k(ei=>{"use strict";var Nd;Object.defineProperty(ei,"__esModule",{value:!0});ei.WEB_INSTRUMENTATION_DEPRECATED_SOURCE=ei.WEB_INSTRUMENTATION_DEFAULT_SOURCE=ei.TIME_SINCE_ENQUEUED=ei.ENQUEUED_TIME=ei.MessageBusDestination=ei.MicrosoftEventHub=ei.AzNamespace=ei.StatsbeatNetworkCategory=ei.StatsbeatFeatureType=ei.StatsbeatInstrumentation=ei.StatsbeatFeature=ei.StatsbeatCounter=ei.StatsbeatAttach=ei.StatsbeatResourceProvider=ei.StatsbeatTelemetryName=ei.HeartBeatMetricName=ei.DependencyTypeName=ei.TelemetryTypeStringToQuickPulseDocumentType=ei.TelemetryTypeStringToQuickPulseType=ei.QuickPulseType=ei.QuickPulseDocumentType=ei.PerformanceToQuickPulseCounter=ei.MetricId=ei.PerformanceCounter=ei.QuickPulseCounter=ei.DEFAULT_LIVEMETRICS_HOST=ei.DEFAULT_LIVEMETRICS_ENDPOINT=ei.DEFAULT_BREEZE_ENDPOINT=ei.APPLICATION_INSIGHTS_SDK_VERSION=void 0;ei.APPLICATION_INSIGHTS_SDK_VERSION="2.7.3";ei.DEFAULT_BREEZE_ENDPOINT="https://dc.services.visualstudio.com";ei.DEFAULT_LIVEMETRICS_ENDPOINT="https://rt.services.visualstudio.com";ei.DEFAULT_LIVEMETRICS_HOST="rt.services.visualstudio.com";var kc;(function(e){e.COMMITTED_BYTES="\\Memory\\Committed Bytes",e.PROCESSOR_TIME="\\Processor(_Total)\\% Processor Time",e.REQUEST_RATE="\\ApplicationInsights\\Requests/Sec",e.REQUEST_FAILURE_RATE="\\ApplicationInsights\\Requests Failed/Sec",e.REQUEST_DURATION="\\ApplicationInsights\\Request Duration",e.DEPENDENCY_RATE="\\ApplicationInsights\\Dependency Calls/Sec",e.DEPENDENCY_FAILURE_RATE="\\ApplicationInsights\\Dependency Calls Failed/Sec",e.DEPENDENCY_DURATION="\\ApplicationInsights\\Dependency Call Duration",e.EXCEPTION_RATE="\\ApplicationInsights\\Exceptions/Sec"})(kc=ei.QuickPulseCounter||(ei.QuickPulseCounter={}));var YA;(function(e){e.PRIVATE_BYTES="\\Process(??APP_WIN32_PROC??)\\Private Bytes",e.AVAILABLE_BYTES="\\Memory\\Available Bytes",e.PROCESSOR_TIME="\\Processor(_Total)\\% Processor Time",e.PROCESS_TIME="\\Process(??APP_WIN32_PROC??)\\% Processor Time",e.REQUEST_RATE="\\ASP.NET Applications(??APP_W3SVC_PROC??)\\Requests/Sec",e.REQUEST_DURATION="\\ASP.NET Applications(??APP_W3SVC_PROC??)\\Request Execution Time"})(YA=ei.PerformanceCounter||(ei.PerformanceCounter={}));var VIe;(function(e){e.REQUESTS_DURATION="requests/duration",e.DEPENDENCIES_DURATION="dependencies/duration",e.EXCEPTIONS_COUNT="exceptions/count",e.TRACES_COUNT="traces/count"})(VIe=ei.MetricId||(ei.MetricId={}));ei.PerformanceToQuickPulseCounter=(Nd={},Nd[YA.PROCESSOR_TIME]=kc.PROCESSOR_TIME,Nd[YA.REQUEST_RATE]=kc.REQUEST_RATE,Nd[YA.REQUEST_DURATION]=kc.REQUEST_DURATION,Nd[kc.COMMITTED_BYTES]=kc.COMMITTED_BYTES,Nd[kc.REQUEST_FAILURE_RATE]=kc.REQUEST_FAILURE_RATE,Nd[kc.DEPENDENCY_RATE]=kc.DEPENDENCY_RATE,Nd[kc.DEPENDENCY_FAILURE_RATE]=kc.DEPENDENCY_FAILURE_RATE,Nd[kc.DEPENDENCY_DURATION]=kc.DEPENDENCY_DURATION,Nd[kc.EXCEPTION_RATE]=kc.EXCEPTION_RATE,Nd);ei.QuickPulseDocumentType={Event:"Event",Exception:"Exception",Trace:"Trace",Metric:"Metric",Request:"Request",Dependency:"RemoteDependency",Availability:"Availability",PageView:"PageView"};ei.QuickPulseType={Event:"EventTelemetryDocument",Exception:"ExceptionTelemetryDocument",Trace:"TraceTelemetryDocument",Metric:"MetricTelemetryDocument",Request:"RequestTelemetryDocument",Dependency:"DependencyTelemetryDocument",Availability:"AvailabilityTelemetryDocument",PageView:"PageViewTelemetryDocument"};ei.TelemetryTypeStringToQuickPulseType={EventData:ei.QuickPulseType.Event,ExceptionData:ei.QuickPulseType.Exception,MessageData:ei.QuickPulseType.Trace,MetricData:ei.QuickPulseType.Metric,RequestData:ei.QuickPulseType.Request,RemoteDependencyData:ei.QuickPulseType.Dependency,AvailabilityData:ei.QuickPulseType.Availability,PageViewData:ei.QuickPulseType.PageView};ei.TelemetryTypeStringToQuickPulseDocumentType={EventData:ei.QuickPulseDocumentType.Event,ExceptionData:ei.QuickPulseDocumentType.Exception,MessageData:ei.QuickPulseDocumentType.Trace,MetricData:ei.QuickPulseDocumentType.Metric,RequestData:ei.QuickPulseDocumentType.Request,RemoteDependencyData:ei.QuickPulseDocumentType.Dependency,AvailabilityData:ei.QuickPulseDocumentType.Availability,PageViewData:ei.QuickPulseDocumentType.PageView};ei.DependencyTypeName={Grpc:"GRPC",Http:"HTTP",InProc:"InProc",Sql:"SQL",QueueMessage:"Queue Message"};ei.HeartBeatMetricName="HeartbeatState";ei.StatsbeatTelemetryName="Statsbeat";ei.StatsbeatResourceProvider={appsvc:"appsvc",functions:"functions",vm:"vm",unknown:"unknown"};ei.StatsbeatAttach={codeless:"codeless",sdk:"sdk"};ei.StatsbeatCounter={REQUEST_SUCCESS:"Request Success Count",REQUEST_FAILURE:"Request Failure Count",REQUEST_DURATION:"Request Duration",RETRY_COUNT:"Retry Count",THROTTLE_COUNT:"Throttle Count",EXCEPTION_COUNT:"Exception Count",ATTACH:"Attach",FEATURE:"Feature"};var GIe;(function(e){e[e.NONE=0]="NONE",e[e.DISK_RETRY=1]="DISK_RETRY",e[e.AAD_HANDLING=2]="AAD_HANDLING",e[e.WEB_SNIPPET=4]="WEB_SNIPPET"})(GIe=ei.StatsbeatFeature||(ei.StatsbeatFeature={}));var zIe;(function(e){e[e.NONE=0]="NONE",e[e.AZURE_CORE_TRACING=1]="AZURE_CORE_TRACING",e[e.MONGODB=2]="MONGODB",e[e.MYSQL=4]="MYSQL",e[e.REDIS=8]="REDIS",e[e.POSTGRES=16]="POSTGRES",e[e.BUNYAN=32]="BUNYAN",e[e.WINSTON=64]="WINSTON",e[e.CONSOLE=128]="CONSOLE"})(zIe=ei.StatsbeatInstrumentation||(ei.StatsbeatInstrumentation={}));var KIe;(function(e){e[e.Feature=0]="Feature",e[e.Instrumentation=1]="Instrumentation"})(KIe=ei.StatsbeatFeatureType||(ei.StatsbeatFeatureType={}));var WIe;(function(e){e[e.Breeze=0]="Breeze",e[e.Quickpulse=1]="Quickpulse"})(WIe=ei.StatsbeatNetworkCategory||(ei.StatsbeatNetworkCategory={}));ei.AzNamespace="az.namespace";ei.MicrosoftEventHub="Microsoft.EventHub";ei.MessageBusDestination="message_bus.destination";ei.ENQUEUED_TIME="enqueuedTime";ei.TIME_SINCE_ENQUEUED="timeSinceEnqueued";ei.WEB_INSTRUMENTATION_DEFAULT_SOURCE="https://js.monitor.azure.com/scripts/b/ai";ei.WEB_INSTRUMENTATION_DEPRECATED_SOURCE="https://az416426.vo.msecnd.net/scripts/b/ai"});var G0e=k(p6=>{"use strict";Object.defineProperty(p6,"__esModule",{value:!0});p6.dispose=p6.enable=void 0;var XA=Dc(),YIe=Ha(),QA=qa(),r3=[],Mq=o(function(e){var t=e.data.message;r3.forEach(function(r){t instanceof Error&&!r.config.enableLoggerErrorToTrace?r.trackException({exception:t}):t instanceof Error?r.trackTrace({message:t.toString(),severity:e.data.stderr?XA.SeverityLevel.Error:XA.SeverityLevel.Information}):(t.lastIndexOf(`
`)==t.length-1&&(t=t.substring(0,t.length-1)),r.trackTrace({message:t,severity:e.data.stderr?XA.SeverityLevel.Warning:XA.SeverityLevel.Information}))})},"subscriber");function XIe(e,t){if(e){var r=r3.find(function(n){return n==t});if(r)return;r3.length===0&&QA.channel.subscribe("console",Mq,QA.trueFilter,function(n,s){var a=t.getStatsbeat();a&&a.addInstrumentation(YIe.StatsbeatInstrumentation.CONSOLE)}),r3.push(t)}else r3=r3.filter(function(n){return n!=t}),r3.length===0&&QA.channel.unsubscribe("console",Mq)}o(XIe,"enable");p6.enable=XIe;function QIe(){QA.channel.unsubscribe("console",Mq),r3=[]}o(QIe,"dispose");p6.dispose=QIe});var z0e=k(m6=>{"use strict";Object.defineProperty(m6,"__esModule",{value:!0});m6.dispose=m6.enable=void 0;var h6=Dc(),JIe=Ha(),JA=qa(),n3=[],ZIe={10:h6.SeverityLevel.Verbose,20:h6.SeverityLevel.Verbose,30:h6.SeverityLevel.Information,40:h6.SeverityLevel.Warning,50:h6.SeverityLevel.Error,60:h6.SeverityLevel.Critical},Bq=o(function(e){var t=e.data.result,r=ZIe[e.data.level];n3.forEach(function(n){try{var s=JSON.parse(t);if(s.err){var a=new Error(s.err.message);if(a.name=s.err.name,a.stack=s.err.stack,n.config.enableLoggerErrorToTrace){n.trackTrace({message:t,severity:r});return}n.trackException({exception:a});return}}catch{}n.trackTrace({message:t,severity:r})})},"subscriber");function eAe(e,t){if(e){var r=n3.find(function(n){return n==t});if(r)return;n3.length===0&&JA.channel.subscribe("bunyan",Bq,JA.trueFilter,function(n,s){var a=t.getStatsbeat();a&&a.addInstrumentation(JIe.StatsbeatInstrumentation.BUNYAN)}),n3.push(t)}else n3=n3.filter(function(n){return n!=t}),n3.length===0&&JA.channel.unsubscribe("bunyan",Bq)}o(eAe,"enable");m6.enable=eAe;function tAe(){JA.channel.unsubscribe("bunyan",Bq),n3=[]}o(tAe,"dispose");m6.dispose=tAe});var K0e=k(g6=>{"use strict";Object.defineProperty(g6,"__esModule",{value:!0});g6.dispose=g6.enable=void 0;var rAe=Ha(),fc=Dc(),ZA=qa(),i3=[],nAe={syslog:function(e){var t={emerg:fc.SeverityLevel.Critical,alert:fc.SeverityLevel.Critical,crit:fc.SeverityLevel.Critical,error:fc.SeverityLevel.Error,warning:fc.SeverityLevel.Warning,notice:fc.SeverityLevel.Information,info:fc.SeverityLevel.Information,debug:fc.SeverityLevel.Verbose};return t[e]===void 0?fc.SeverityLevel.Information:t[e]},npm:function(e){var t={error:fc.SeverityLevel.Error,warn:fc.SeverityLevel.Warning,info:fc.SeverityLevel.Information,verbose:fc.SeverityLevel.Verbose,debug:fc.SeverityLevel.Verbose,silly:fc.SeverityLevel.Verbose};return t[e]===void 0?fc.SeverityLevel.Information:t[e]},unknown:function(e){return fc.SeverityLevel.Information}},Fq=o(function(e){var t=e.data.message,r=nAe[e.data.levelKind](e.data.level);i3.forEach(function(n){t instanceof Error&&!n.config.enableLoggerErrorToTrace?n.trackException({exception:t,properties:e.data.meta}):t instanceof Error?n.trackTrace({message:t.toString(),severity:r,properties:e.data.meta}):n.trackTrace({message:t,severity:r,properties:e.data.meta})})},"subscriber");function iAe(e,t){if(e){var r=i3.find(function(n){return n==t});if(r)return;i3.length===0&&ZA.channel.subscribe("winston",Fq,ZA.trueFilter,function(n,s){var a=t.getStatsbeat();a&&a.addInstrumentation(rAe.StatsbeatInstrumentation.WINSTON)}),i3.push(t)}else i3=i3.filter(function(n){return n!=t}),i3.length===0&&ZA.channel.unsubscribe("winston",Fq)}o(iAe,"enable");g6.enable=iAe;function sAe(){ZA.channel.unsubscribe("winston",Fq),i3=[]}o(sAe,"dispose");g6.dispose=sAe});var Y0e=k((ytt,W0e)=>{"use strict";var aAe=pA(),oAe=function(){function e(t){if(e.INSTANCE)throw new Error("Console logging adapter tracking should be configured from the applicationInsights object");this._client=t,e.INSTANCE=this}return o(e,"AutoCollectConsole"),e.prototype.enable=function(t,r){aAe.IsInitialized&&(G0e().enable(t&&r,this._client),z0e().enable(t,this._client),K0e().enable(t,this._client))},e.prototype.isInitialized=function(){return this._isInitialized},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1,!1)},e._methodNames=["debug","info","log","warn","error"],e}();W0e.exports=oAe});var Q0e=k((xtt,X0e)=>{"use strict";var lAe=function(){function e(t){if(e.INSTANCE)throw new Error("Exception tracking should be configured from the applicationInsights object");e.INSTANCE=this,this._client=t;var r=process.versions.node.split(".");e._canUseUncaughtExceptionMonitor=parseInt(r[0])>13||parseInt(r[0])===13&&parseInt(r[1])>=7}return o(e,"AutoCollectExceptions"),e.prototype.isInitialized=function(){return this._isInitialized},e.prototype.enable=function(t){var r=this;if(t){if(this._isInitialized=!0,!this._exceptionListenerHandle){var n=o(function(s,a,l){l===void 0&&(l=new Error(e._FALLBACK_ERROR_MESSAGE));var c={exception:l};c.contextObjects={},c.contextObjects.Error=l,r._client.trackException(c),r._client.flush({isAppCrashing:!0}),s&&a&&process.listeners(a).length===1&&(console.error(l),process.exit(1))},"handle");e._canUseUncaughtExceptionMonitor?(this._exceptionListenerHandle=n.bind(this,!1,void 0),process.on(e.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME,this._exceptionListenerHandle)):(this._exceptionListenerHandle=n.bind(this,!0,e.UNCAUGHT_EXCEPTION_HANDLER_NAME),this._rejectionListenerHandle=n.bind(this,!1,void 0),process.on(e.UNCAUGHT_EXCEPTION_HANDLER_NAME,this._exceptionListenerHandle),process.on(e.UNHANDLED_REJECTION_HANDLER_NAME,this._rejectionListenerHandle))}}else this._exceptionListenerHandle&&(e._canUseUncaughtExceptionMonitor?process.removeListener(e.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME,this._exceptionListenerHandle):(process.removeListener(e.UNCAUGHT_EXCEPTION_HANDLER_NAME,this._exceptionListenerHandle),process.removeListener(e.UNHANDLED_REJECTION_HANDLER_NAME,this._rejectionListenerHandle)),this._exceptionListenerHandle=void 0,this._rejectionListenerHandle=void 0,delete this._exceptionListenerHandle,delete this._rejectionListenerHandle)},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1},e.INSTANCE=null,e.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME="uncaughtExceptionMonitor",e.UNCAUGHT_EXCEPTION_HANDLER_NAME="uncaughtException",e.UNHANDLED_REJECTION_HANDLER_NAME="unhandledRejection",e._RETHROW_EXIT_MESSAGE="Application Insights Rethrow Exception Handler",e._FALLBACK_ERROR_MESSAGE="A promise was rejected without providing an error. Application Insights generated this error stack for you.",e._canUseUncaughtExceptionMonitor=!1,e}();X0e.exports=lAe});var tw=k((Ett,J0e)=>{"use strict";var ew=require("os"),Nf=Ha(),cAe=function(){function e(t,r,n){r===void 0&&(r=6e4),n===void 0&&(n=!1),this._lastIntervalRequestExecutionTime=0,this._lastIntervalDependencyExecutionTime=0,e.INSTANCE||(e.INSTANCE=this),this._lastRequests={totalRequestCount:0,totalFailedRequestCount:0,time:0},this._lastDependencies={totalDependencyCount:0,totalFailedDependencyCount:0,time:0},this._lastExceptions={totalExceptionCount:0,time:0},this._isInitialized=!1,this._client=t,this._collectionInterval=r,this._enableLiveMetricsCounters=n}return o(e,"AutoCollectPerformance"),e.prototype.enable=function(t,r){var n=this;this._isEnabled=t,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),t?this._handle||(this._lastCpus=ew.cpus(),this._lastRequests={totalRequestCount:e._totalRequestCount,totalFailedRequestCount:e._totalFailedRequestCount,time:+new Date},this._lastDependencies={totalDependencyCount:e._totalDependencyCount,totalFailedDependencyCount:e._totalFailedDependencyCount,time:+new Date},this._lastExceptions={totalExceptionCount:e._totalExceptionCount,time:+new Date},typeof process.cpuUsage=="function"&&(this._lastAppCpuUsage=process.cpuUsage()),this._lastHrtime=process.hrtime(),this._collectionInterval=r||this._collectionInterval,this._handle=setInterval(function(){return n.trackPerformance()},this._collectionInterval),this._handle.unref()):this._handle&&(clearInterval(this._handle),this._handle=void 0)},e.countRequest=function(t,r){var n;if(e.isEnabled()){if(typeof t=="string")n=+new Date("1970-01-01T"+t+"Z");else if(typeof t=="number")n=t;else return;e._intervalRequestExecutionTime+=n,r===!1&&e._totalFailedRequestCount++,e._totalRequestCount++}},e.countException=function(){e._totalExceptionCount++},e.countDependency=function(t,r){var n;if(e.isEnabled()){if(typeof t=="string")n=+new Date("1970-01-01T"+t+"Z");else if(typeof t=="number")n=t;else return;e._intervalDependencyExecutionTime+=n,r===!1&&e._totalFailedDependencyCount++,e._totalDependencyCount++}},e.prototype.isInitialized=function(){return this._isInitialized},e.isEnabled=function(){return e.INSTANCE&&e.INSTANCE._isEnabled},e.prototype.trackPerformance=function(){this._trackCpu(),this._trackMemory(),this._trackNetwork(),this._trackDependencyRate(),this._trackExceptionRate()},e.prototype._trackCpu=function(){var t=ew.cpus();if(t&&t.length&&this._lastCpus&&t.length===this._lastCpus.length){for(var r=0,n=0,s=0,a=0,l=0,c=0;t&&c<t.length;c++){var u=t[c],f=this._lastCpus[c],d="% cpu("+c+") ",p=u.model,h=u.speed,m=u.times,v=f.times,_=m.user-v.user||0;r+=_;var b=m.sys-v.sys||0;n+=b;var S=m.nice-v.nice||0;s+=S;var A=m.idle-v.idle||0;a+=A;var O=m.irq-v.irq||0;l+=O}var L=void 0;if(typeof process.cpuUsage=="function"){var D=process.cpuUsage(),$=process.hrtime(),de=D.user-this._lastAppCpuUsage.user+(D.system-this._lastAppCpuUsage.system)||0;if(typeof this._lastHrtime<"u"&&this._lastHrtime.length===2){var ue=($[0]-this._lastHrtime[0])*1e6+($[1]-this._lastHrtime[1])/1e3||0;L=100*de/(ue*t.length)}this._lastAppCpuUsage=D,this._lastHrtime=$}var Ze=r+n+s+a+l||1;this._client.trackMetric({name:Nf.PerformanceCounter.PROCESSOR_TIME,value:(Ze-a)/Ze*100}),this._client.trackMetric({name:Nf.PerformanceCounter.PROCESS_TIME,value:L||r/Ze*100})}this._lastCpus=t},e.prototype._trackMemory=function(){var t=ew.freemem(),r=process.memoryUsage().rss,n=ew.totalmem()-t;this._client.trackMetric({name:Nf.PerformanceCounter.PRIVATE_BYTES,value:r}),this._client.trackMetric({name:Nf.PerformanceCounter.AVAILABLE_BYTES,value:t}),this._enableLiveMetricsCounters&&this._client.trackMetric({name:Nf.QuickPulseCounter.COMMITTED_BYTES,value:n})},e.prototype._trackNetwork=function(){var t=this._lastRequests,r={totalRequestCount:e._totalRequestCount,totalFailedRequestCount:e._totalFailedRequestCount,time:+new Date},n=r.totalRequestCount-t.totalRequestCount||0,s=r.totalFailedRequestCount-t.totalFailedRequestCount||0,a=r.time-t.time,l=a/1e3,c=(e._intervalRequestExecutionTime-this._lastIntervalRequestExecutionTime)/n||0;if(this._lastIntervalRequestExecutionTime=e._intervalRequestExecutionTime,a>0){var u=n/l,f=s/l;this._client.trackMetric({name:Nf.PerformanceCounter.REQUEST_RATE,value:u}),(!this._enableLiveMetricsCounters||n>0)&&this._client.trackMetric({name:Nf.PerformanceCounter.REQUEST_DURATION,value:c}),this._enableLiveMetricsCounters&&this._client.trackMetric({name:Nf.QuickPulseCounter.REQUEST_FAILURE_RATE,value:f})}this._lastRequests=r},e.prototype._trackDependencyRate=function(){if(this._enableLiveMetricsCounters){var t=this._lastDependencies,r={totalDependencyCount:e._totalDependencyCount,totalFailedDependencyCount:e._totalFailedDependencyCount,time:+new Date},n=r.totalDependencyCount-t.totalDependencyCount||0,s=r.totalFailedDependencyCount-t.totalFailedDependencyCount||0,a=r.time-t.time,l=a/1e3,c=(e._intervalDependencyExecutionTime-this._lastIntervalDependencyExecutionTime)/n||0;if(this._lastIntervalDependencyExecutionTime=e._intervalDependencyExecutionTime,a>0){var u=n/l,f=s/l;this._client.trackMetric({name:Nf.QuickPulseCounter.DEPENDENCY_RATE,value:u}),this._client.trackMetric({name:Nf.QuickPulseCounter.DEPENDENCY_FAILURE_RATE,value:f}),(!this._enableLiveMetricsCounters||n>0)&&this._client.trackMetric({name:Nf.QuickPulseCounter.DEPENDENCY_DURATION,value:c})}this._lastDependencies=r}},e.prototype._trackExceptionRate=function(){if(this._enableLiveMetricsCounters){var t=this._lastExceptions,r={totalExceptionCount:e._totalExceptionCount,time:+new Date},n=r.totalExceptionCount-t.totalExceptionCount||0,s=r.time-t.time,a=s/1e3;if(s>0){var l=n/a;this._client.trackMetric({name:Nf.QuickPulseCounter.EXCEPTION_RATE,value:l})}this._lastExceptions=r}},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1},e._totalRequestCount=0,e._totalFailedRequestCount=0,e._totalDependencyCount=0,e._totalFailedDependencyCount=0,e._totalExceptionCount=0,e._intervalDependencyExecutionTime=0,e._intervalRequestExecutionTime=0,e}();J0e.exports=cAe});var Z0e=k(rw=>{"use strict";Object.defineProperty(rw,"__esModule",{value:!0});rw.AggregatedMetricCounter=void 0;var uAe=function(){function e(t){this.dimensions=t,this.totalCount=0,this.lastTotalCount=0,this.intervalExecutionTime=0,this.lastTime=+new Date,this.lastIntervalExecutionTime=0}return o(e,"AggregatedMetricCounter"),e}();rw.AggregatedMetricCounter=uAe});var eae=k(nw=>{"use strict";Object.defineProperty(nw,"__esModule",{value:!0});nw.PreaggregatedMetricPropertyNames=void 0;nw.PreaggregatedMetricPropertyNames={cloudRoleInstance:"cloud/roleInstance",cloudRoleName:"cloud/roleName",operationSynthetic:"operation/synthetic",requestSuccess:"Request.Success",requestResultCode:"request/resultCode",dependencyType:"Dependency.Type",dependencyTarget:"dependency/target",dependencySuccess:"Dependency.Success",dependencyResultCode:"dependency/resultCode",traceSeverityLevel:"trace/severityLevel"}});var qq=k((Uq,tae)=>{"use strict";var sw=Uq&&Uq.__assign||function(){return sw=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},sw.apply(this,arguments)},iw=Ha(),fAe=Z0e(),dAe=eae(),pAe=function(){function e(t,r){r===void 0&&(r=6e4),e.INSTANCE||(e.INSTANCE=this),this._isInitialized=!1,e._dependencyCountersCollection=[],e._requestCountersCollection=[],e._exceptionCountersCollection=[],e._traceCountersCollection=[],this._client=t,this._collectionInterval=r}return o(e,"AutoCollectPreAggregatedMetrics"),e.prototype.enable=function(t,r){var n=this;this._isEnabled=t,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),t?this._handle||(this._collectionInterval=r||this._collectionInterval,this._handle=setInterval(function(){return n.trackPreAggregatedMetrics()},this._collectionInterval),this._handle.unref()):this._handle&&(clearInterval(this._handle),this._handle=void 0)},e.countException=function(t){if(e.isEnabled()){var r=e._getAggregatedCounter(t,this._exceptionCountersCollection);r.totalCount++}},e.countTrace=function(t){if(e.isEnabled()){var r=e._getAggregatedCounter(t,this._traceCountersCollection);r.totalCount++}},e.countRequest=function(t,r){if(e.isEnabled()){var n,s=e._getAggregatedCounter(r,this._requestCountersCollection);if(typeof t=="string")n=+new Date("1970-01-01T"+t+"Z");else if(typeof t=="number")n=t;else return;s.intervalExecutionTime+=n,s.totalCount++}},e.countDependency=function(t,r){if(e.isEnabled()){var n=e._getAggregatedCounter(r,this._dependencyCountersCollection),s;if(typeof t=="string")s=+new Date("1970-01-01T"+t+"Z");else if(typeof t=="number")s=t;else return;n.intervalExecutionTime+=s,n.totalCount++}},e.prototype.isInitialized=function(){return this._isInitialized},e.isEnabled=function(){return e.INSTANCE&&e.INSTANCE._isEnabled},e.prototype.trackPreAggregatedMetrics=function(){this._trackRequestMetrics(),this._trackDependencyMetrics(),this._trackExceptionMetrics(),this._trackTraceMetrics()},e._getAggregatedCounter=function(t,r){for(var n=!1,s=0;s<r.length;s++){if(t===r[s].dimensions)return r[s];if(Object.keys(t).length===Object.keys(r[s].dimensions).length){for(var a in t)if(t[a]!=r[s].dimensions[a]){n=!0;break}if(!n)return r[s];n=!1}}var l=new fAe.AggregatedMetricCounter(t);return r.push(l),l},e.prototype._trackRequestMetrics=function(){for(var t=0;t<e._requestCountersCollection.length;t++){var r=e._requestCountersCollection[t];r.time=+new Date;var n=r.totalCount-r.lastTotalCount||0,s=r.time-r.lastTime,a=(r.intervalExecutionTime-r.lastIntervalExecutionTime)/n||0;r.lastIntervalExecutionTime=r.intervalExecutionTime,s>0&&n>0&&this._trackPreAggregatedMetric({name:"Server response time",dimensions:r.dimensions,value:a,count:n,aggregationInterval:s,metricType:iw.MetricId.REQUESTS_DURATION}),r.lastTotalCount=r.totalCount,r.lastTime=r.time}},e.prototype._trackDependencyMetrics=function(){for(var t=0;t<e._dependencyCountersCollection.length;t++){var r=e._dependencyCountersCollection[t];r.time=+new Date;var n=r.totalCount-r.lastTotalCount||0,s=r.time-r.lastTime,a=(r.intervalExecutionTime-r.lastIntervalExecutionTime)/n||0;r.lastIntervalExecutionTime=r.intervalExecutionTime,s>0&&n>0&&this._trackPreAggregatedMetric({name:"Dependency duration",dimensions:r.dimensions,value:a,count:n,aggregationInterval:s,metricType:iw.MetricId.DEPENDENCIES_DURATION}),r.lastTotalCount=r.totalCount,r.lastTime=r.time}},e.prototype._trackExceptionMetrics=function(){for(var t=0;t<e._exceptionCountersCollection.length;t++){var r=e._exceptionCountersCollection[t];r.time=+new Date;var n=r.totalCount-r.lastTotalCount||0,s=r.time-r.lastTime;s>0&&n>0&&this._trackPreAggregatedMetric({name:"Exceptions",dimensions:r.dimensions,value:n,count:n,aggregationInterval:s,metricType:iw.MetricId.EXCEPTIONS_COUNT}),r.lastTotalCount=r.totalCount,r.lastTime=r.time}},e.prototype._trackTraceMetrics=function(){for(var t=0;t<e._traceCountersCollection.length;t++){var r=e._traceCountersCollection[t];r.time=+new Date;var n=r.totalCount-r.lastTotalCount||0,s=r.time-r.lastTime;s>0&&n>0&&this._trackPreAggregatedMetric({name:"Traces",dimensions:r.dimensions,value:n,count:n,aggregationInterval:s,metricType:iw.MetricId.TRACES_COUNT}),r.lastTotalCount=r.totalCount,r.lastTime=r.time}},e.prototype._trackPreAggregatedMetric=function(t){var r={};for(var n in t.dimensions)r[dAe.PreaggregatedMetricPropertyNames[n]]=t.dimensions[n];r=sw(sw({},r),{"_MS.MetricId":t.metricType,"_MS.AggregationIntervalMs":String(t.aggregationInterval),"_MS.IsAutocollected":"True"});var s={name:t.name,value:t.value,count:t.count,properties:r,kind:"Aggregation"};this._client.trackMetric(s)},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1},e}();tae.exports=pAe});var v6=k((wtt,rae)=>{"use strict";var _h=require("os"),hAe=require("fs"),mAe=require("path"),gAe=Dc(),vAe=Ha(),yAe=ya(),_Ae=function(){function e(t){this.keys=new gAe.ContextTagKeys,this.tags={},this._loadApplicationContext(t),this._loadDeviceContext(),this._loadInternalContext()}return o(e,"Context"),e.prototype._loadApplicationContext=function(t){try{if(t=t||mAe.resolve(__dirname,"../../../../package.json"),!e.appVersion[t]){e.appVersion[t]="unknown";var r=JSON.parse(hAe.readFileSync(t,"utf8"));r&&typeof r.version=="string"&&(e.appVersion[t]=r.version)}this.tags[this.keys.applicationVersion]=e.appVersion[t]}catch(n){yAe.info("Failed to read app version: ",n)}},e.prototype._loadDeviceContext=function(){var t=_h&&_h.hostname(),r=e.DefaultRoleName;process.env.WEBSITE_SITE_NAME&&(r=process.env.WEBSITE_SITE_NAME),process.env.WEBSITE_INSTANCE_ID&&(t=process.env.WEBSITE_INSTANCE_ID),this.tags[this.keys.deviceId]="",this.tags[this.keys.cloudRoleInstance]=t,this.tags[this.keys.deviceOSVersion]=_h&&_h.type()+" "+_h.release(),this.tags[this.keys.cloudRole]=r,this.tags["ai.device.osArchitecture"]=_h&&_h.arch(),this.tags["ai.device.osPlatform"]=_h&&_h.platform()},e.prototype._loadInternalContext=function(){e.sdkVersion=vAe.APPLICATION_INSIGHTS_SDK_VERSION,this.tags[this.keys.internalSdkVersion]="node:"+e.sdkVersion},e.DefaultRoleName="Web",e.appVersion={},e.sdkVersion=null,e}();rae.exports=_Ae});var sae=k((Ptt,iae)=>{"use strict";var xAe=require("crypto"),nae=require("os"),bAe=Ha(),EAe=v6(),TAe=function(){function e(t){this._collectionInterval=9e5,e.INSTANCE||(e.INSTANCE=this),this._isInitialized=!1,this._client=t}return o(e,"HeartBeat"),e.prototype.enable=function(t){var r=this;this._isEnabled=t,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),t?this._handle||(this._handle=setInterval(function(){return r.trackHeartBeat(r._client.config,function(){})},this._collectionInterval),this._handle.unref()):this._handle&&(clearInterval(this._handle),this._handle=null)},e.prototype.isInitialized=function(){return this._isInitialized},e.isEnabled=function(){return e.INSTANCE&&e.INSTANCE._isEnabled},e.prototype.trackHeartBeat=function(t,r){var n={},s=EAe.sdkVersion;n.sdkVersion=s,n.osType=nae.type(),n.osVersion=nae.release(),this._uniqueProcessId||(this._uniqueProcessId=xAe.randomBytes(16).toString("hex")),n.processSessionId=this._uniqueProcessId,process.env.WEBSITE_SITE_NAME&&(n.appSrv_SiteName=process.env.WEBSITE_SITE_NAME),process.env.WEBSITE_HOME_STAMPNAME&&(n.appSrv_wsStamp=process.env.WEBSITE_HOME_STAMPNAME),process.env.WEBSITE_HOSTNAME&&(n.appSrv_wsHost=process.env.WEBSITE_HOSTNAME),process.env.WEBSITE_OWNER_NAME&&(n.appSrv_wsOwner=process.env.WEBSITE_OWNER_NAME),process.env.WEBSITE_RESOURCE_GROUP&&(n.appSrv_ResourceGroup=process.env.WEBSITE_RESOURCE_GROUP),process.env.WEBSITE_SLOT_NAME&&(n.appSrv_SlotName=process.env.WEBSITE_SLOT_NAME),this._client.trackMetric({name:bAe.HeartBeatMetricName,value:0,properties:n}),r()},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1},e}();iae.exports=TAe});var aae=k(Bs=>{"use strict";Object.defineProperty(Bs,"__esModule",{value:!0});Bs.isContentTypeHeaderHtml=Bs.insertSnippetByIndex=Bs.getContentEncodingFromHeaders=Bs.isSupportedContentEncoding=Bs.findBufferEncodingType=Bs.isBufferType=Bs.getBrotliDecompressSync=Bs.getBrotliDecompressAsync=Bs.getBrotliCompressSync=Bs.getBrotliCompressAsync=Bs.inflateAsync=Bs.deflateAsync=Bs.gunzipAsync=Bs.gzipAsync=Bs.isBrotliSupperted=Bs.bufferEncodingTypes=Bs.contentEncodingMethod=void 0;var ow=require("zlib"),y6=require("util"),aw;(function(e){e.GZIP="gzip",e.DEFLATE="deflate",e.BR="br"})(aw=Bs.contentEncodingMethod||(Bs.contentEncodingMethod={}));Bs.bufferEncodingTypes=["utf8","utf16le","latin1","base64","hex","ascii","binary","ucs2"];var CAe=o(function(){var e=process.versions.node.split(".")[0];return parseInt(e)>=10},"isBrotliSupperted");Bs.isBrotliSupperted=CAe;Bs.gzipAsync=y6.promisify(ow.gzip);Bs.gunzipAsync=y6.promisify(ow.gunzip);Bs.deflateAsync=y6.promisify(ow.deflate);Bs.inflateAsync=y6.promisify(ow.inflate);var SAe=o(function(e){var t=Bs.isBrotliSupperted();return t&&typeof e.brotliCompress=="function"?y6.promisify(e.brotliCompress):null},"getBrotliCompressAsync");Bs.getBrotliCompressAsync=SAe;var IAe=o(function(e){var t=Bs.isBrotliSupperted();return t&&typeof e.brotliCompressSync=="function"?e.brotliCompressSync:null},"getBrotliCompressSync");Bs.getBrotliCompressSync=IAe;var AAe=o(function(e){var t=Bs.isBrotliSupperted();return t&&typeof e.brotliDecompress=="function"?y6.promisify(e.brotliDecompress):null},"getBrotliDecompressAsync");Bs.getBrotliDecompressAsync=AAe;var wAe=o(function(e){var t=Bs.isBrotliSupperted();return t&&typeof e.brotliDecompressSync=="function"?e.brotliDecompressSync:null},"getBrotliDecompressSync");Bs.getBrotliDecompressSync=wAe;var RAe=o(function(e,t){var r=t||"utf8",n=!1;if(Buffer.isEncoding(r)){var s=Buffer.from(e.toString(r),r);n=s.toJSON().data.toString()===e.toJSON().data.toString()}return n},"isBufferType");Bs.isBufferType=RAe;var PAe=o(function(e){var t=null;for(var r in Bs.bufferEncodingTypes){var n=Bs.bufferEncodingTypes[r];if(Buffer.isEncoding(n)&&Bs.isBufferType(e,n)){t=n;break}}return t},"findBufferEncodingType");Bs.findBufferEncodingType=PAe;var NAe=o(function(e){var t=null;switch(e){case"gzip":t=aw.GZIP;break;case"br":t=aw.BR;break;case"deflate":t=aw.DEFLATE;break;default:}return t},"isSupportedContentEncoding");Bs.isSupportedContentEncoding=NAe;var OAe=o(function(e){var t=[],r=e.getHeader("Content-Encoding");if(!r)return null;if(typeof r=="string"){var n=Bs.isSupportedContentEncoding(r);n&&t.push(n)}return t},"getContentEncodingFromHeaders");Bs.getContentEncodingFromHeaders=OAe;var DAe=o(function(e,t,r){if(e<0)return null;var n=null,s=t.substring(0,e),a=t.substring(e);return n=s+'<script type="text/javascript">'+r+"</script>"+a,n},"insertSnippetByIndex");Bs.insertSnippetByIndex=DAe;var LAe=o(function(e){var t=!1,r=e.getHeader("Content-Type");return r&&(typeof r=="string"?t=r.indexOf("html")>=0:t=r.toString().indexOf("html")>=0),t},"isContentTypeHeaderHtml");Bs.isContentTypeHeaderHtml=LAe});var oae=k(Ul=>{"use strict";Object.defineProperty(Ul,"__esModule",{value:!0});Ul.getResourceProvider=Ul.getOsPrefix=Ul.isFunctionApp=Ul.isWebApp=Ul.isLinux=Ul.isWindows=void 0;var kAe=o(function(){return process.platform==="win32"},"isWindows");Ul.isWindows=kAe;var MAe=o(function(){return process.platform==="linux"},"isLinux");Ul.isLinux=MAe;var BAe=o(function(){return!!process.env.WEBSITE_SITE_NAME},"isWebApp");Ul.isWebApp=BAe;var FAe=o(function(){return!!process.env.FUNCTIONS_WORKER_RUNTIME},"isFunctionApp");Ul.isFunctionApp=FAe;var UAe=o(function(){return Ul.isWindows()?"w":Ul.isLinux()?"l":"u"},"getOsPrefix");Ul.getOsPrefix=UAe;var qAe=o(function(){return Ul.isWebApp()?"a":Ul.isFunctionApp()?"f":"u"},"getResourceProvider");Ul.getResourceProvider=qAe});var jq=k((Mtt,cae)=>{"use strict";var lae=Ha(),jAe=function(){function e(){}return o(e,"ConnectionStringParser"),e.parse=function(t){if(!t)return{};var r=t.split(e._FIELDS_SEPARATOR),n=r.reduce(function(a,l){var c=l.split(e._FIELD_KEY_VALUE_SEPARATOR);if(c.length===2){var u=c[0].toLowerCase(),f=c[1];a[u]=f}return a},{});if(Object.keys(n).length>0){if(n.endpointsuffix){var s=n.location?n.location+".":"";n.ingestionendpoint=n.ingestionendpoint||"https://"+s+"dc."+n.endpointsuffix,n.liveendpoint=n.liveendpoint||"https://"+s+"live."+n.endpointsuffix}n.ingestionendpoint=n.ingestionendpoint||lae.DEFAULT_BREEZE_ENDPOINT,n.liveendpoint=n.liveendpoint||lae.DEFAULT_LIVEMETRICS_ENDPOINT}return n},e.isIkeyValid=function(t){if(!t||t=="")return!1;var r="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",n=new RegExp(r);return n.test(t)},e._FIELDS_SEPARATOR=";",e._FIELD_KEY_VALUE_SEPARATOR="=",e}();cae.exports=jAe});var fae=k((lw,uae)=>{(function(e,t){typeof lw=="object"&&typeof uae<"u"?t(lw):typeof define=="function"&&define.amd?define(["exports"],t):(e=typeof globalThis<"u"?globalThis:e||self,t((e.Microsoft=e.Microsoft||{},e.Microsoft["ApplicationInsights-Web-Snippet"]=e.Microsoft["ApplicationInsights-Web-Snippet"]||{})))})(lw,function(e){"use strict";var t=`!function(T,l,y){var S=T.location,k="script",D="instrumentationKey",C="ingestionendpoint",I="disableExceptionTracking",E="ai.device.",b="toLowerCase",w="crossOrigin",N="POST",e="appInsightsSDK",t=y.name||"appInsights";(y.name||T[e])&&(T[e]=t);var n=T[t]||function(d){var g=!1,f=!1,m={initialize:!0,queue:[],sv:"5",version:2,config:d};function v(e,t){var n={},a="Browser";return n[E+"id"]=a[b](),n[E+"type"]=a,n["ai.operation.name"]=S&&S.pathname||"_unknown_",n["ai.internal.sdkVersion"]="javascript:snippet_"+(m.sv||m.version),{time:function(){var e=new Date;function t(e){var t=""+e;return 1===t.length&&(t="0"+t),t}return e.getUTCFullYear()+"-"+t(1+e.getUTCMonth())+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"."+((e.getUTCMilliseconds()/1e3).toFixed(3)+"").slice(2,5)+"Z"}(),iKey:e,name:"Microsoft.ApplicationInsights."+e.replace(/-/g,"")+"."+t,sampleRate:100,tags:n,data:{baseData:{ver:2}}}}var h=d.url||y.src;if(h){function a(e){var t,n,a,i,r,o,s,c,u,p,l;g=!0,m.queue=[],f||(f=!0,t=h,s=function(){var e={},t=d.connectionString;if(t)for(var n=t.split(";"),a=0;a<n.length;a++){var i=n[a].split("=");2===i.length&&(e[i[0][b]()]=i[1])}if(!e[C]){var r=e.endpointsuffix,o=r?e.location:null;e[C]="https://"+(o?o+".":"")+"dc."+(r||"services.visualstudio.com")}return e}(),c=s[D]||d[D]||"",u=s[C],p=u?u+"/v2/track":d.endpointUrl,(l=[]).push((n="SDK LOAD Failure: Failed to load Application Insights SDK script (See stack for details)",a=t,i=p,(o=(r=v(c,"Exception")).data).baseType="ExceptionData",o.baseData.exceptions=[{typeName:"SDKLoadFailed",message:n.replace(/\\./g,"-"),hasFullStack:!1,stack:n+"\\nSnippet failed to load ["+a+"] -- Telemetry is disabled\\nHelp Link: https://go.microsoft.com/fwlink/?linkid=2128109\\nHost: "+(S&&S.pathname||"_unknown_")+"\\nEndpoint: "+i,parsedStack:[]}],r)),l.push(function(e,t,n,a){var i=v(c,"Message"),r=i.data;r.baseType="MessageData";var o=r.baseData;return o.message='AI (Internal): 99 message:"'+("SDK LOAD Failure: Failed to load Application Insights SDK script (See stack for details) ("+n+")").replace(/\\"/g,"")+'"',o.properties={endpoint:a},i}(0,0,t,p)),function(e,t){if(JSON){var n=T.fetch;if(n&&!y.useXhr)n(t,{method:N,body:JSON.stringify(e),mode:"cors"});else if(XMLHttpRequest){var a=new XMLHttpRequest;a.open(N,t),a.setRequestHeader("Content-type","application/json"),a.send(JSON.stringify(e))}}}(l,p))}function i(e,t){f||setTimeout(function(){!t&&m.core||a()},500)}var e=function(){var n=l.createElement(k);n.src=h;var e=y[w];return!e&&""!==e||"undefined"==n[w]||(n[w]=e),n.onload=i,n.onerror=a,n.onreadystatechange=function(e,t){"loaded"!==n.readyState&&"complete"!==n.readyState||i(0,t)},n}();y.ld<0?l.getElementsByTagName("head")[0].appendChild(e):setTimeout(function(){l.getElementsByTagName(k)[0].parentNode.appendChild(e)},y.ld||0)}try{m.cookie=l.cookie}catch(p){}function t(e){for(;e.length;)!function(t){m[t]=function(){var e=arguments;g||m.queue.push(function(){m[t].apply(m,e)})}}(e.pop())}var n="track",r="TrackPage",o="TrackEvent";t([n+"Event",n+"PageView",n+"Exception",n+"Trace",n+"DependencyData",n+"Metric",n+"PageViewPerformance","start"+r,"stop"+r,"start"+o,"stop"+o,"addTelemetryInitializer","setAuthenticatedUserContext","clearAuthenticatedUserContext","flush"]),m.SeverityLevel={Verbose:0,Information:1,Warning:2,Error:3,Critical:4};var s=(d.extensionConfig||{}).ApplicationInsightsAnalytics||{};if(!0!==d[I]&&!0!==s[I]){var c="onerror";t(["_"+c]);var u=T[c];T[c]=function(e,t,n,a,i){var r=u&&u(e,t,n,a,i);return!0!==r&&m["_"+c]({message:e,url:t,lineNumber:n,columnNumber:a,error:i}),r},d.autoExceptionInstrumented=!0}return m}(y.cfg);function a(){y.onInit&&y.onInit(n)}(T[t]=n).queue&&0===n.queue.length?(n.queue.push(a),n.trackPageView({})):a()}(window,document,{\r
src: "https://js.monitor.azure.com/scripts/b/ai.2.min.js", // The SDK URL Source\r
// name: "appInsights", // Global SDK Instance name defaults to "appInsights" when not supplied\r
// ld: 0, // Defines the load delay (in ms) before attempting to load the sdk. -1 = block page load and add to head. (default) = 0ms load after timeout,\r
// useXhr: 1, // Use XHR instead of fetch to report failures (if available),\r
// crossOrigin: "anonymous", // When supplied this will add the provided value as the cross origin attribute on the script tag\r
// onInit: null, // Once the application insights instance has loaded and initialized this callback function will be called with 1 argument -- the sdk instance (DO NOT ADD anything to the sdk.queue -- As they won't get called)\r
cfg: { // Application Insights Configuration\r
    instrumentationKey: "INSTRUMENTATION_KEY"\r
}});`;e.webSnippet=t,Object.defineProperty(e,"__esModule",{value:!0})})});var vae=k((Ftt,gae)=>{"use strict";var dae=require("http"),pae=require("https"),_6=require("zlib"),G1=ya(),Of=aae(),hae=oae(),I_=Ha(),mae=jq(),HAe=fae(),$Ae=function(){function e(t){var r;if(this._isIkeyValid=!0,e.INSTANCE)throw new Error("Web snippet injection should be configured from the applicationInsights object");e.INSTANCE=this,e._aiUrl=I_.WEB_INSTRUMENTATION_DEFAULT_SOURCE,e._aiDeprecatedUrl=I_.WEB_INSTRUMENTATION_DEPRECATED_SOURCE;var n=this._getWebSnippetIkey((r=t.config)===null||r===void 0?void 0:r.webInstrumentationConnectionString);this._webInstrumentationIkey=n||t.config.instrumentationKey,this._clientWebInstrumentationConfig=t.config.webInstrumentationConfig,this._clientWebInstrumentationSrc=t.config.webInstrumentationSrc,this._statsbeat=t.getStatsbeat()}return o(e,"WebSnippet"),e.prototype.enable=function(t,r){this._isEnabled=t,this._webInstrumentationIkey=this._getWebSnippetIkey(r)||this._webInstrumentationIkey,e._snippet=this._getWebInstrumentationReplacedStr(),this._isEnabled&&!this._isInitialized&&this._isIkeyValid?(this._statsbeat&&this._statsbeat.addFeature(I_.StatsbeatFeature.WEB_SNIPPET),this._initialize()):this._isEnabled||this._statsbeat&&this._statsbeat.removeFeature(I_.StatsbeatFeature.WEB_SNIPPET)},e.prototype.isInitialized=function(){return this._isInitialized},e.prototype._getWebSnippetIkey=function(t){var r=null;try{var n=mae.parse(t),s=n.instrumentationkey||"";mae.isIkeyValid(s)?(this._isIkeyValid=!0,r=s):(this._isIkeyValid=!1,G1.info("Invalid web Instrumentation connection string, web Instrumentation is not enabled."))}catch(a){G1.info("get web snippet ikey error: "+a)}return r},e.prototype._getWebInstrumentationReplacedStr=function(){var t=this._getClientWebInstrumentationConfigStr(this._clientWebInstrumentationConfig),r=hae.getOsPrefix(),n=hae.getResourceProvider(),s=this._webInstrumentationIkey+`",\r
`+t+` disableIkeyDeprecationMessage: true,\r
 sdkExtension: "`+n+r+"d_n_",a=HAe.webSnippet.replace("INSTRUMENTATION_KEY",s);return this._clientWebInstrumentationSrc?a.replace(I_.WEB_INSTRUMENTATION_DEFAULT_SOURCE+".2.min.js",this._clientWebInstrumentationSrc):a},e.prototype._getClientWebInstrumentationConfigStr=function(t){var r="";try{t!=null&&t.length>0&&t.forEach(function(n){var s=n.name;if(s!==void 0){var a=n.value,l="";switch(typeof a){case"function":break;case"object":break;case"string":l=" "+s+': "'+a+`",\r
`,r+=l;break;default:l=" "+s+": "+a+`,\r
`,r+=l;break}}})}catch{this._isEnabled=!1,G1.info("Parse client web instrumentation error. Web Instrumentation is disabled")}return r},e.prototype._initialize=function(){this._isInitialized=!0;var t=dae.createServer,r=pae.createServer,n=this._isEnabled;dae.createServer=function(s){var a=s;return a&&(s=o(function(l,c){var u=c.write,f=l.method=="GET";c.write=o(function(h,m,v){try{if(n&&f){var _=Of.getContentEncodingFromHeaders(c),b=void 0;if(typeof m=="string"&&(b=m),_==null)e.INSTANCE.ValidateInjection(c,h)&&(arguments[0]=e.INSTANCE.InjectWebSnippet(c,h,void 0,b));else if(_.length){var S=_[0];arguments[0]=e.INSTANCE.InjectWebSnippet(c,h,S)}}}catch(A){G1.warn("Inject snippet error: "+A)}return u.apply(c,arguments)},"wrap");var d=c.end;return c.end=o(function(h,m,v){if(n&&f)try{if(n&&f){var _=Of.getContentEncodingFromHeaders(c),b=void 0;if(typeof m=="string"&&(b=m),_==null)e.INSTANCE.ValidateInjection(c,h)&&(arguments[0]=e.INSTANCE.InjectWebSnippet(c,h,void 0,b));else if(_.length){var S=_[0];arguments[0]=e.INSTANCE.InjectWebSnippet(c,h,S)}}}catch(A){G1.warn("Inject snipet error: "+A)}return d.apply(c,arguments)},"wrap"),a(l,c)},"requestListener")),t(s)},pae.createServer=function(s,a){var l=a;if(l)return a=o(function(c,u){var f=c.method=="GET",d=u.write,p=u.end;return u.write=o(function(m,v,_){try{if(n&&f){var b=Of.getContentEncodingFromHeaders(u),S=void 0;if(typeof v=="string"&&(S=v),b==null)e.INSTANCE.ValidateInjection(u,m)&&(arguments[0]=this.InjectWebSnippet(u,m,void 0,S));else if(b.length){var A=b[0];arguments[0]=e.INSTANCE.InjectWebSnippet(u,m,A)}}}catch(O){G1.warn("Inject snippet error: "+O)}return d.apply(u,arguments)},"wrap"),u.end=o(function(m,v,_){try{if(n&&f){var b=Of.getContentEncodingFromHeaders(u),S=void 0;if(typeof v=="string"&&(S=v),b==null)e.INSTANCE.ValidateInjection(u,m)&&(arguments[0]=e.INSTANCE.InjectWebSnippet(u,m,void 0,S));else if(b.length){var A=b[0];arguments[0]=e.INSTANCE.InjectWebSnippet(u,m,A)}}}catch(O){G1.warn("Inject snippet error: "+O)}return p.apply(u,arguments)},"wrap"),l(c,u)},"httpsRequestListener"),r(s,a)}},e.prototype.ValidateInjection=function(t,r){try{if(!t||!r||t.statusCode!=200)return!1;var n=Of.isContentTypeHeaderHtml(t);if(!n)return!1;var s=r.slice().toString();if(s.indexOf("<head>")>=0&&s.indexOf("</head>")>=0&&s.indexOf(e._aiUrl)<0&&s.indexOf(e._aiDeprecatedUrl)<0)return!0}catch(a){G1.info("validate injections error: "+a)}return!1},e.prototype.InjectWebSnippet=function(t,r,n,s){try{var a=!!n;if(a)t.removeHeader("Content-Length"),r=this._getInjectedCompressBuffer(t,r,n),t.setHeader("Content-Length",r.length);else{var l=r.toString(),c=l.indexOf("</head>");if(c<0)return r;var u=Of.insertSnippetByIndex(c,l,e._snippet);if(typeof r=="string")t.removeHeader("Content-Length"),r=u,t.setHeader("Content-Length",Buffer.byteLength(r));else if(Buffer.isBuffer(r)){var f=s||"utf8",d=Of.isBufferType(r,f);if(d){t.removeHeader("Content-Length");var p=Buffer.from(u).toString(f);r=Buffer.from(p,f),t.setHeader("Content-Length",r.length)}}}}catch(h){G1.warn("Failed to inject web snippet and change content-lenght headers. Exception:"+h)}return r},e.prototype._getInjectedCompressBuffer=function(t,r,n){try{switch(n){case Of.contentEncodingMethod.GZIP:var s=_6.gunzipSync(r);if(this.ValidateInjection(t,s)){var a=this.InjectWebSnippet(t,s);r=_6.gzipSync(a)}break;case Of.contentEncodingMethod.DEFLATE:var l=_6.inflateSync(r);if(this.ValidateInjection(t,l)){var c=this.InjectWebSnippet(t,l);r=_6.deflateSync(c)}break;case Of.contentEncodingMethod.BR:var u=Of.getBrotliDecompressSync(_6),f=Of.getBrotliCompressSync(_6);if(u&&f){var d=u(r);if(this.ValidateInjection(t,d)){var p=this.InjectWebSnippet(t,d);r=f(p)}break}}}catch(h){G1.info("get web injection compress buffer error: "+h)}return r},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1},e}();gae.exports=$Ae});var _ae=k(($q,yae)=>{"use strict";var VAe=$q&&$q.__extends||function(){var e=o(function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(n[a]=s[a])},e(t,r)},"extendStatics");return function(t,r){e(t,r);function n(){this.constructor=t}o(n,"__"),t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Df=require("url"),Hq=Dc(),GAe=Fl(),zAe=Gv(),KAe=bU(),WAe=lg(),YAe=function(e){VAe(t,e);function t(r,n){var s=e.call(this)||this;return n&&n.method&&r&&(s.method=n.method,s.url=t._getUrlFromRequestOptions(r,n),s.startTime=+new Date),s}return o(t,"HttpDependencyParser"),t.prototype.onError=function(r){this._setStatus(void 0,r)},t.prototype.onResponse=function(r){this._setStatus(r.statusCode,void 0),this.correlationId=GAe.getCorrelationContextTarget(r,zAe.requestContextTargetKey)},t.prototype.getDependencyTelemetry=function(r,n){var s=this.method.toUpperCase(),a=Hq.RemoteDependencyDataConstants.TYPE_HTTP,l="";try{var c=new Df.URL(this.url);c.search=void 0,c.hash=void 0,s+=" "+c.pathname,l=c.hostname,c.port&&(l+=":"+c.port)}catch{}this.correlationId?(a=Hq.RemoteDependencyDataConstants.TYPE_AI,this.correlationId!==WAe.correlationIdPrefix&&(l+=" | "+this.correlationId)):a=Hq.RemoteDependencyDataConstants.TYPE_HTTP;var u={id:n,name:s,data:this.url,duration:this.duration,success:this._isSuccess(),resultCode:this.statusCode?this.statusCode.toString():null,properties:this.properties||{},dependencyTypeName:a,target:l};if(r&&r.time?u.time=r.time:this.startTime&&(u.time=new Date(this.startTime)),r){for(var f in r)u[f]||(u[f]=r[f]);if(r.properties)for(var f in r.properties)u.properties[f]=r.properties[f]}return u},t._getUrlFromRequestOptions=function(r,n){if(typeof r=="string")if(r.indexOf("http://")===0||r.indexOf("https://")===0)try{r=new Df.URL(r)}catch{}else try{var s=new Df.URL("http://"+r);s.port==="443"?r=new Df.URL("https://"+r):r=new Df.URL("http://"+r)}catch{}else{if(r&&typeof Df.URL=="function"&&r instanceof Df.URL)return Df.format(r);var a=r;r={},a&&Object.keys(a).forEach(function(u){r[u]=a[u]})}if(r.path&&r.host)try{var l=new Df.URL(r.path,"http://"+r.host+r.path);r.pathname=l.pathname,r.search=l.search}catch{}if(r.path&&r.hostname&&!r.host)try{var l=new Df.URL(r.path,"http://"+r.hostname+r.path);r.pathname=l.pathname,r.search=l.search}catch{}if(r.host&&r.port)try{var c=new Df.URL("http://"+r.host);!c.port&&r.port&&(r.hostname=r.host,delete r.host)}catch{}return r.protocol=r.protocol||n.agent&&n.agent.protocol||n.protocol||void 0,r.hostname=r.hostname||"localhost",Df.format(r)},t}(KAe);yae.exports=YAe});var xae=k(x6=>{"use strict";var cw=x6&&x6.__assign||function(){return cw=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},cw.apply(this,arguments)};Object.defineProperty(x6,"__esModule",{value:!0});x6.parseEventHubSpan=void 0;var Vq=o0(),XAe=Jc(),QAe=Id(),A_=Ha(),JAe=o(function(e){var t=0,r=0,n=XAe.hrTimeToMilliseconds(e.startTime);return e.links.forEach(function(s){var a=s.attributes,l=a==null?void 0:a[A_.ENQUEUED_TIME];l&&(t+=1,r+=n-(parseFloat(l.toString())||0))}),Math.max(r/(t||1),0)},"getTimeSinceEnqueued"),ZAe=o(function(e,t){var r,n=e.attributes[A_.AzNamespace],s=(e.attributes[QAe.SemanticAttributes.NET_PEER_NAME]||e.attributes["peer.address"]||"unknown").replace(/\/$/g,""),a=e.attributes[A_.MessageBusDestination]||"unknown";switch(e.kind){case Vq.SpanKind.CLIENT:t.dependencyTypeName=n,t.target=s+"/"+a;break;case Vq.SpanKind.PRODUCER:t.dependencyTypeName=A_.DependencyTypeName.QueueMessage+" | "+n,t.target=s+"/"+a;break;case Vq.SpanKind.CONSUMER:t.source=s+"/"+a,t.measurements=cw(cw({},t.measurements),(r={},r[A_.TIME_SINCE_ENQUEUED]=JAe(e),r));break;default:}},"parseEventHubSpan");x6.parseEventHubSpan=ZAe});var Tae=k(uw=>{"use strict";Object.defineProperty(uw,"__esModule",{value:!0});uw.spanToTelemetryContract=void 0;var bae=require("url"),Od=o0(),Xs=Id(),xh=Ha(),ewe=xae(),twe=Fl();function rwe(e){for(var t={},r=0,n=Object.keys(e.attributes);r<n.length;r++){var s=n[r];s.startsWith("http.")||s.startsWith("rpc.")||s.startsWith("db.")||s.startsWith("peer.")||s.startsWith("net.")||(t[s]=e.attributes[s])}var a=e.links.map(function(l){return{operation_Id:l.context.traceId,id:l.context.spanId}});return a.length>0&&(t["_MS.links"]=twe.stringify(a)),t}o(rwe,"createPropertiesFromSpan");function nwe(e){return e===Xs.DbSystemValues.DB2||e===Xs.DbSystemValues.DERBY||e===Xs.DbSystemValues.MARIADB||e===Xs.DbSystemValues.MSSQL||e===Xs.DbSystemValues.ORACLE||e===Xs.DbSystemValues.SQLITE||e===Xs.DbSystemValues.OTHER_SQL||e===Xs.DbSystemValues.HSQLDB||e===Xs.DbSystemValues.H2}o(nwe,"isSqlDB");function Eae(e){var t=e.attributes[Xs.SemanticAttributes.HTTP_METHOD];if(t){var r=e.attributes[Xs.SemanticAttributes.HTTP_URL];if(r)return String(r);var n=e.attributes[Xs.SemanticAttributes.HTTP_SCHEME],s=e.attributes[Xs.SemanticAttributes.HTTP_TARGET];if(n&&s){var a=e.attributes[Xs.SemanticAttributes.HTTP_HOST];if(a)return n+"://"+a+s;var l=e.attributes[Xs.SemanticAttributes.NET_PEER_PORT];if(l){var c=e.attributes[Xs.SemanticAttributes.NET_PEER_NAME];if(c)return n+"://"+c+":"+l+s;var u=e.attributes[Xs.SemanticAttributes.NET_PEER_IP];if(u)return n+"://"+u+":"+l+s}}}return""}o(Eae,"getUrl");function Gq(e){var t=e.attributes[Xs.SemanticAttributes.PEER_SERVICE],r=e.attributes[Xs.SemanticAttributes.HTTP_HOST],n=e.attributes[Xs.SemanticAttributes.HTTP_URL],s=e.attributes[Xs.SemanticAttributes.NET_PEER_NAME],a=e.attributes[Xs.SemanticAttributes.NET_PEER_IP];return t?String(t):r?String(r):n?String(n):s?String(s):a?String(a):""}o(Gq,"getDependencyTarget");function iwe(e){var t={name:e.name,success:e.status.code!=Od.SpanStatusCode.ERROR,resultCode:"0",duration:0,data:"",dependencyTypeName:""};e.kind===Od.SpanKind.PRODUCER&&(t.dependencyTypeName=xh.DependencyTypeName.QueueMessage),e.kind===Od.SpanKind.INTERNAL&&e.parentSpanId&&(t.dependencyTypeName=xh.DependencyTypeName.InProc);var r=e.attributes[Xs.SemanticAttributes.HTTP_METHOD],n=e.attributes[Xs.SemanticAttributes.DB_SYSTEM],s=e.attributes[Xs.SemanticAttributes.RPC_SYSTEM];if(r){t.dependencyTypeName=xh.DependencyTypeName.Http;var a=e.attributes[Xs.SemanticAttributes.HTTP_URL];if(a){var l="";try{var c=new bae.URL(String(a));l=c.pathname}catch{}t.name=r+" "+l}t.data=Eae(e);var u=e.attributes[Xs.SemanticAttributes.HTTP_STATUS_CODE];u&&(t.resultCode=String(u));var f=Gq(e);if(f){try{var d=new RegExp(/(https?)(:\/\/.*)(:\d+)(\S*)/),p=d.exec(f);if(p!=null){var h=p[1],m=p[3];(h=="https"&&m==":443"||h=="http"&&m==":80")&&(f=p[1]+p[2]+p[4])}}catch{}t.target=""+f}}else if(n){String(n)===Xs.DbSystemValues.MYSQL?t.dependencyTypeName="mysql":String(n)===Xs.DbSystemValues.POSTGRESQL?t.dependencyTypeName="postgresql":String(n)===Xs.DbSystemValues.MONGODB?t.dependencyTypeName="mongodb":String(n)===Xs.DbSystemValues.REDIS?t.dependencyTypeName="redis":nwe(String(n))?t.dependencyTypeName="SQL":t.dependencyTypeName=String(n);var v=e.attributes[Xs.SemanticAttributes.DB_STATEMENT],_=e.attributes[Xs.SemanticAttributes.DB_OPERATION];v?t.data=String(v):_&&(t.data=String(_));var f=Gq(e),b=e.attributes[Xs.SemanticAttributes.DB_NAME];f?t.target=b?f+"|"+b:""+f:t.target=b?""+b:""+n}else if(s){t.dependencyTypeName=xh.DependencyTypeName.Grpc;var S=e.attributes[Xs.SemanticAttributes.RPC_GRPC_STATUS_CODE];S&&(t.resultCode=String(S));var f=Gq(e);f?t.target=""+f:s&&(t.target=String(s))}return t}o(iwe,"createDependencyData");function swe(e){var t={name:e.name,success:e.status.code!=Od.SpanStatusCode.ERROR,resultCode:"0",duration:0,url:"",source:void 0},r=e.attributes[Xs.SemanticAttributes.HTTP_METHOD],n=e.attributes[Xs.SemanticAttributes.RPC_GRPC_STATUS_CODE];if(r){if(e.kind==Od.SpanKind.SERVER){var s=e.attributes[Xs.SemanticAttributes.HTTP_ROUTE],a=e.attributes[Xs.SemanticAttributes.HTTP_URL];if(s)t.name=r+" "+s;else if(a)try{var l=new bae.URL(String(a));t.name=r+" "+l.pathname}catch{}}t.url=Eae(e);var c=e.attributes[Xs.SemanticAttributes.HTTP_STATUS_CODE];c&&(t.resultCode=String(c))}else n&&(t.resultCode=String(n));return t}o(swe,"createRequestData");function awe(e){var t;switch(e.kind){case Od.SpanKind.CLIENT:case Od.SpanKind.PRODUCER:case Od.SpanKind.INTERNAL:t=iwe(e);break;case Od.SpanKind.SERVER:case Od.SpanKind.CONSUMER:t=swe(e);break}var r=e.spanContext?e.spanContext():e.context(),n=""+r.spanId,s=Math.round(e.duration[0]*1e3+e.duration[1]/1e6);return t.id=n,t.duration=s,t.properties=rwe(e),e.attributes[xh.AzNamespace]&&(e.kind===Od.SpanKind.INTERNAL&&(t.dependencyTypeName=xh.DependencyTypeName.InProc+" | "+e.attributes[xh.AzNamespace]),e.attributes[xh.AzNamespace]===xh.MicrosoftEventHub&&ewe.parseEventHubSpan(e,t)),t}o(awe,"spanToTelemetryContract");uw.spanToTelemetryContract=awe});var Sae=k(a3=>{"use strict";var b6=a3&&a3.__assign||function(){return b6=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},b6.apply(this,arguments)};Object.defineProperty(a3,"__esModule",{value:!0});a3.AsyncScopeManager=a3.OpenTelemetryScopeManagerWrapper=void 0;var s3=t3(),owe=require("events"),Cae=function(){function e(){}return o(e,"OpenTelemetryScopeManagerWrapper"),e.prototype.active=function(){var t=this,r=s3.CorrelationContextManager.getCurrentContext();return b6(b6({},r),{getValue:function(n){return t._activeSymbol?n===t._activeSymbol?r:!1:(t._activeSymbol=n,r)},setValue:function(){}})},e.prototype.with=function(t,r){var n=t.parentSpanId,s=t.name,a=e._spanToContext(t,n,s);return s3.CorrelationContextManager.runWithContext(a,r)()},e.prototype.bind=function(t){return typeof t=="function"?s3.CorrelationContextManager.wrapCallback(t):(t instanceof owe.EventEmitter&&s3.CorrelationContextManager.wrapEmitter(t),t)},e.prototype.enable=function(){return s3.CorrelationContextManager.enable(),this},e.prototype.disable=function(){return s3.CorrelationContextManager.disable(),this},e._spanToContext=function(t,r,n){var s=t.spanContext?t.spanContext():t.context(),a=b6(b6({},t.spanContext()),{traceFlags:t.spanContext().traceFlags}),l=r?"|"+s.traceId+"."+r+".":s.traceId,c=s3.CorrelationContextManager.getCurrentContext();c&&(a.traceId=c.operation.id,r||(l=c.operation.parentId));var u=s3.CorrelationContextManager.spanToContextObject(a,l,n);return u},e}();a3.OpenTelemetryScopeManagerWrapper=Cae;a3.AsyncScopeManager=new Cae});var Iae=k(o3=>{"use strict";Object.defineProperty(o3,"__esModule",{value:!0});o3.enable=o3.subscriber=void 0;var w_=o0(),lwe=Ha(),zq=qa(),cwe=Tae(),uwe=Sae(),_g=[],fwe=o(function(e){try{var t=e.data,r=cwe.spanToTelemetryContract(t);uwe.AsyncScopeManager.with(t,function(){_g.forEach(function(n){t.kind===w_.SpanKind.SERVER||t.kind===w_.SpanKind.CONSUMER?n.trackRequest(r):(t.kind===w_.SpanKind.CLIENT||t.kind===w_.SpanKind.INTERNAL||t.kind===w_.SpanKind.PRODUCER)&&n.trackDependency(r)})})}catch{}},"subscriber");o3.subscriber=fwe;function dwe(e,t){if(e){var r=_g.find(function(n){return n==t});if(r)return;_g.length===0&&zq.channel.subscribe("azure-coretracing",o3.subscriber,zq.trueFilter,function(n,s){var a=t.getStatsbeat();a&&a.addInstrumentation(lwe.StatsbeatInstrumentation.AZURE_CORE_TRACING)}),_g.push(t)}else _g=_g.filter(function(n){return n!=t}),_g.length===0&&zq.channel.unsubscribe("azure-coretracing",o3.subscriber)}o(dwe,"enable");o3.enable=dwe});var Aae=k(l3=>{"use strict";Object.defineProperty(l3,"__esModule",{value:!0});l3.enable=l3.subscriber=void 0;var pwe=Ha(),Kq=qa(),xg=[],hwe=o(function(e){e.data.event.commandName!=="ismaster"&&xg.forEach(function(t){var r=e.data.startedData&&e.data.startedData.databaseName||"Unknown database";t.trackDependency({target:r,data:e.data.event.commandName,name:e.data.event.commandName,duration:e.data.event.duration,success:e.data.succeeded,resultCode:e.data.succeeded?"0":"1",time:e.data.startedData.time,dependencyTypeName:"mongodb"})})},"subscriber");l3.subscriber=hwe;function mwe(e,t){if(e){var r=xg.find(function(n){return n==t});if(r)return;xg.length===0&&Kq.channel.subscribe("mongodb",l3.subscriber,Kq.trueFilter,function(n,s){var a=t.getStatsbeat();a&&a.addInstrumentation(pwe.StatsbeatInstrumentation.MONGODB)}),xg.push(t)}else xg=xg.filter(function(n){return n!=t}),xg.length===0&&Kq.channel.unsubscribe("mongodb",l3.subscriber)}o(mwe,"enable");l3.enable=mwe});var wae=k(c3=>{"use strict";Object.defineProperty(c3,"__esModule",{value:!0});c3.enable=c3.subscriber=void 0;var gwe=Ha(),Wq=qa(),bg=[],vwe=o(function(e){bg.forEach(function(t){var r=e.data.query||{},n=r.sql||"Unknown query",s=!e.data.err,a=r._connection||{},l=a.config||{},c=l.socketPath?l.socketPath:(l.host||"localhost")+":"+l.port;t.trackDependency({target:c,data:n,name:n,duration:e.data.duration,success:s,resultCode:s?"0":"1",time:e.data.time,dependencyTypeName:"mysql"})})},"subscriber");c3.subscriber=vwe;function ywe(e,t){if(e){var r=bg.find(function(n){return n==t});if(r)return;bg.length===0&&Wq.channel.subscribe("mysql",c3.subscriber,Wq.trueFilter,function(n,s){var a=t.getStatsbeat();a&&a.addInstrumentation(gwe.StatsbeatInstrumentation.MYSQL)}),bg.push(t)}else bg=bg.filter(function(n){return n!=t}),bg.length===0&&Wq.channel.unsubscribe("mysql",c3.subscriber)}o(ywe,"enable");c3.enable=ywe});var Rae=k(u3=>{"use strict";Object.defineProperty(u3,"__esModule",{value:!0});u3.enable=u3.subscriber=void 0;var _we=Ha(),Yq=qa(),Eg=[],xwe=o(function(e){Eg.forEach(function(t){e.data.commandObj.command!=="info"&&t.trackDependency({target:e.data.address,name:e.data.commandObj.command,data:e.data.commandObj.command,duration:e.data.duration,success:!e.data.err,resultCode:e.data.err?"1":"0",time:e.data.time,dependencyTypeName:"redis"})})},"subscriber");u3.subscriber=xwe;function bwe(e,t){if(e){var r=Eg.find(function(n){return n==t});if(r)return;Eg.length===0&&Yq.channel.subscribe("redis",u3.subscriber,Yq.trueFilter,function(n,s){var a=t.getStatsbeat();a&&a.addInstrumentation(_we.StatsbeatInstrumentation.REDIS)}),Eg.push(t)}else Eg=Eg.filter(function(n){return n!=t}),Eg.length===0&&Yq.channel.unsubscribe("redis",u3.subscriber)}o(bwe,"enable");u3.enable=bwe});var Pae=k(f3=>{"use strict";Object.defineProperty(f3,"__esModule",{value:!0});f3.enable=f3.subscriber=void 0;var Ewe=Ha(),Xq=qa(),Tg=[],Twe=o(function(e){Tg.forEach(function(t){var r=e.data.query,n=r.preparable&&r.preparable.text||r.plan||r.text||"unknown query",s=!e.data.error,a=e.data.database.host+":"+e.data.database.port;t.trackDependency({target:a,data:n,name:n,duration:e.data.duration,success:s,resultCode:s?"0":"1",time:e.data.time,dependencyTypeName:"postgres"})})},"subscriber");f3.subscriber=Twe;function Cwe(e,t){if(e){var r=Tg.find(function(n){return n==t});if(r)return;Tg.length===0&&Xq.channel.subscribe("postgres",f3.subscriber,Xq.trueFilter,function(n,s){var a=t.getStatsbeat();a&&a.addInstrumentation(Ewe.StatsbeatInstrumentation.POSTGRES)}),Tg.push(t)}else Tg=Tg.filter(function(n){return n!=t}),Tg.length===0&&Xq.channel.unsubscribe("postgres",f3.subscriber)}o(Cwe,"enable");f3.enable=Cwe});var C6=k((Jq,Nae)=>{"use strict";var fw=Jq&&Jq.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),s=0,t=0;t<r;t++)for(var a=arguments[t],l=0,c=a.length;l<c;l++,s++)n[s]=a[l];return n},E6=require("http"),T6=require("https"),dw=ya(),Qq=Fl(),d3=Gv(),Swe=_ae(),R_=t3(),pw=hA(),Iwe=pA(),P_=lg(),Awe=function(){function e(t){if(e.INSTANCE)throw new Error("Client request tracking should be configured from the applicationInsights object");e.INSTANCE=this,this._client=t}return o(e,"AutoCollectHttpDependencies"),e.prototype.enable=function(t){this._isEnabled=t,this._isEnabled&&!this._isInitialized&&this._initialize(),Iwe.IsInitialized&&(Iae().enable(t,this._client),Aae().enable(t,this._client),wae().enable(t,this._client),Rae().enable(t,this._client),Pae().enable(t,this._client))},e.prototype.isInitialized=function(){return this._isInitialized},e.prototype._initialize=function(){var t=this;this._isInitialized=!0;var r=E6.request,n=T6.request,s=o(function(a,l){try{var c=!l[e.disableCollectionRequestOption]&&!a[e.alreadyAutoCollectedFlag],u=null;if(l.headers&&(u=l.headers["User-Agent"]||l.headers["user-agent"],u&&u.toString().indexOf("azsdk-js")!==-1&&(c=!1)),a&&l&&c&&(R_.CorrelationContextManager.wrapEmitter(a),t._isEnabled))if(a[e.alreadyAutoCollectedFlag]=!0,R_.CorrelationContextManager.getCurrentContext())e.trackRequest(t._client,{options:l,request:a});else{var f=null;if(P_.w3cEnabled){var d=new pw;f=d.traceId}else{var p=P_.generateRequestId(null);f=P_.getRootId(p)}var h=R_.CorrelationContextManager.generateContextObject(f);R_.CorrelationContextManager.runWithContext(h,function(){e.trackRequest(t._client,{options:l,request:a})})}}catch(m){dw.warn("Failed to generate dependency telemetry.",Qq.dumpObj(m))}},"clientRequestPatch");E6.request=function(a){for(var l=[],c=1;c<arguments.length;c++)l[c-1]=arguments[c];var u=r.call.apply(r,fw([E6,a],l));return s(u,a),u},T6.request=function(a){for(var l=[],c=1;c<arguments.length;c++)l[c-1]=arguments[c];var u=n.call.apply(n,fw([T6,a],l));return s(u,a),u},E6.get=function(a){for(var l,c=[],u=1;u<arguments.length;u++)c[u-1]=arguments[u];var f=(l=E6.request).call.apply(l,fw([E6,a],c));return f.end(),f},T6.get=function(a){for(var l,c=[],u=1;u<arguments.length;u++)c[u-1]=arguments[u];var f=(l=T6.request).call.apply(l,fw([T6,a],c));return f.end(),f}},e.trackRequest=function(t,r){if(!r.options||!r.request||!t){dw.info("AutoCollectHttpDependencies.trackRequest was called with invalid parameters: ",!r.options,!r.request,!t);return}var n=new Swe(r.options,r.request),s=R_.CorrelationContextManager.getCurrentContext(),a,l;if(s&&s.operation&&s.operation.traceparent&&pw.isValidTraceId(s.operation.traceparent.traceId))s.operation.traceparent.updateSpanId(),a=s.operation.traceparent.getBackCompatRequestId();else if(P_.w3cEnabled){var c=new pw;l=c.toString(),a=c.getBackCompatRequestId()}else a=s&&s.operation&&s.operation.parentId+e.requestNumber+++".";if(Qq.canIncludeCorrelationHeader(t,n.getUrl())&&r.request.getHeader&&r.request.setHeader&&t.config&&t.config.correlationId){var u=r.request.getHeader(d3.requestContextHeader);try{Qq.safeIncludeCorrelationHeader(t,r.request,u)}catch(p){dw.warn("Request-Context header could not be set. Correlation of requests may be lost",p)}if(s&&s.operation)try{if(r.request.setHeader(d3.requestIdHeader,a),t.config.ignoreLegacyHeaders||(r.request.setHeader(d3.parentIdHeader,s.operation.id),r.request.setHeader(d3.rootIdHeader,a)),l||s.operation.traceparent)r.request.setHeader(d3.traceparentHeader,l||s.operation.traceparent.toString());else if(P_.w3cEnabled){var c=new pw().toString();r.request.setHeader(d3.traceparentHeader,c)}if(s.operation.tracestate){var f=s.operation.tracestate.toString();f&&r.request.setHeader(d3.traceStateHeader,f)}var d=s.customProperties.serializeToHeader();d&&r.request.setHeader(d3.correlationContextHeader,d)}catch(p){dw.warn("Correlation headers could not be set. Correlation of requests may be lost.",p)}}r.request.on&&(r.request.on("response",function(p){if(!r.isProcessed){r.isProcessed=!0,n.onResponse(p);var h=n.getDependencyTelemetry(r,a);h.contextObjects=h.contextObjects||{},h.contextObjects["http.RequestOptions"]=r.options,h.contextObjects["http.ClientRequest"]=r.request,h.contextObjects["http.ClientResponse"]=p,t.trackDependency(h)}}),r.request.on("error",function(p){if(!r.isProcessed){r.isProcessed=!0,n.onError(p);var h=n.getDependencyTelemetry(r,a);h.contextObjects=h.contextObjects||{},h.contextObjects["http.RequestOptions"]=r.options,h.contextObjects["http.ClientRequest"]=r.request,h.contextObjects.Error=p,t.trackDependency(h)}}),r.request.on("abort",function(){if(!r.isProcessed){r.isProcessed=!0,n.onError(new Error("The request has been aborted and the network socket has closed."));var p=n.getDependencyTelemetry(r,a);p.contextObjects=p.contextObjects||{},p.contextObjects["http.RequestOptions"]=r.options,p.contextObjects["http.ClientRequest"]=r.request,t.trackDependency(p)}}))},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1},e.disableCollectionRequestOption="disableAppInsightsAutoCollection",e.requestNumber=1,e.alreadyAutoCollectedFlag="_appInsightsAutoCollected",e}();Nae.exports=Awe});var ej=k((irt,Mae)=>{"use strict";var Oae=require("http"),Dae=require("https"),Lae=ya(),kae=Fl(),wwe=Gv(),Zq=CU(),bh=t3(),Rwe=tw(),Pwe=function(){function e(t){if(e.INSTANCE)throw new Error("Server request tracking should be configured from the applicationInsights object");e.INSTANCE=this,this._client=t}return o(e,"AutoCollectHttpRequests"),e.prototype.enable=function(t){this._isEnabled=t,(this._isAutoCorrelating||this._isEnabled||Rwe.isEnabled())&&!this._isInitialized&&(this.useAutoCorrelation(this._isAutoCorrelating),this._initialize())},e.prototype.useAutoCorrelation=function(t,r){t&&!this._isAutoCorrelating?bh.CorrelationContextManager.enable(r):!t&&this._isAutoCorrelating&&bh.CorrelationContextManager.disable(),this._isAutoCorrelating=t},e.prototype.isInitialized=function(){return this._isInitialized},e.prototype.isAutoCorrelating=function(){return this._isAutoCorrelating},e.prototype._generateCorrelationContext=function(t){if(this._isAutoCorrelating)return bh.CorrelationContextManager.generateContextObject(t.getOperationId(this._client.context.tags),t.getRequestId(),t.getOperationName(this._client.context.tags),t.getCorrelationContextHeader(),t.getTraceparent(),t.getTracestate())},e.prototype._registerRequest=function(t,r,n){var s=this,a=new Zq(t),l=this._generateCorrelationContext(a);bh.CorrelationContextManager.runWithContext(l,function(){s._isEnabled&&(t[e.alreadyAutoCollectedFlag]=!0,e.trackRequest(s._client,{request:t,response:r},a)),typeof n=="function"&&n(t,r)})},e.prototype._initialize=function(){if(this._isInitialized=!0,!e.HANDLER_READY){e.HANDLER_READY=!0;var t=o(function(a){if(a){if(typeof a!="function")throw new Error("onRequest handler must be a function");return function(l,c){var u;bh.CorrelationContextManager.wrapEmitter(l),bh.CorrelationContextManager.wrapEmitter(c);var f=l&&!l[e.alreadyAutoCollectedFlag];l&&f?(u=e.INSTANCE)===null||u===void 0||u._registerRequest(l,c,a):typeof a=="function"&&a(l,c)}}},"wrapOnRequestHandler"),r=o(function(a){var l=a.addListener.bind(a);a.addListener=function(c,u){switch(c){case"request":case"checkContinue":return l(c,t(u));default:return l(c,u)}},a.on=a.addListener},"wrapServerEventHandler"),n=Oae.createServer;Oae.createServer=function(a,l){if(l&&typeof l=="function"){var c=n(a,t(l));return r(c),c}else{var c=n(t(a));return r(c),c}};var s=Dae.createServer;Dae.createServer=function(a,l){var c=s(a,t(l));return r(c),c}}},e.trackRequestSync=function(t,r){if(!r.request||!r.response||!t){Lae.info("AutoCollectHttpRequests.trackRequestSync was called with invalid parameters: ",!r.request,!r.response,!t);return}r.isProcessed=!1,e.addResponseCorrelationIdHeader(t,r.response);var n=bh.CorrelationContextManager.getCurrentContext(),s=new Zq(r.request,n&&n.operation.parentId);n&&(n.operation.id=s.getOperationId(t.context.tags)||n.operation.id,n.operation.name=s.getOperationName(t.context.tags)||n.operation.name,n.operation.parentId=s.getRequestId()||n.operation.parentId,n.customProperties.addHeaderData(s.getCorrelationContextHeader())),e.endRequest(t,s,r,r.duration,r.error)},e.trackRequest=function(t,r,n){if(!r.request||!r.response||!t){Lae.info("AutoCollectHttpRequests.trackRequest was called with invalid parameters: ",!r.request,!r.response,!t);return}r.isProcessed=!1;var s=bh.CorrelationContextManager.getCurrentContext(),a=n||new Zq(r.request,s&&s.operation.parentId);kae.canIncludeCorrelationHeader(t,a.getUrl())&&e.addResponseCorrelationIdHeader(t,r.response),s&&!n&&(s.operation.id=a.getOperationId(t.context.tags)||s.operation.id,s.operation.name=a.getOperationName(t.context.tags)||s.operation.name,s.operation.parentId=a.getOperationParentId(t.context.tags)||s.operation.parentId,s.customProperties.addHeaderData(a.getCorrelationContextHeader())),r.response.once&&r.response.once("finish",function(){e.endRequest(t,a,r,null,null)}),r.request.on&&r.request.on("error",function(l){e.endRequest(t,a,r,null,l)}),r.request.on&&r.request.on("aborted",function(){var l="The request has been aborted and the network socket has closed.";e.endRequest(t,a,r,null,l)})},e.addResponseCorrelationIdHeader=function(t,r){if(t.config&&t.config.correlationId&&r.getHeader&&r.setHeader&&!r.headersSent){var n=r.getHeader(wwe.requestContextHeader);kae.safeIncludeCorrelationHeader(t,r,n)}},e.endRequest=function(t,r,n,s,a){if(!n.isProcessed){n.isProcessed=!0,a?r.onError(a,s):r.onResponse(n.response,s);var l=r.getRequestTelemetry(n);if(l.tagOverrides=r.getRequestTags(t.context.tags),n.tagOverrides)for(var c in n.tagOverrides)l.tagOverrides[c]=n.tagOverrides[c];var u=r.getLegacyRootId();u&&(l.properties.ai_legacyRootId=u),l.contextObjects=l.contextObjects||{},l.contextObjects["http.ServerRequest"]=n.request,l.contextObjects["http.ServerResponse"]=n.response,t.trackRequest(l)}},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1,bh.CorrelationContextManager.disable(),this._isAutoCorrelating=!1},e.HANDLER_READY=!1,e.alreadyAutoCollectedFlag="_appInsightsAutoCollected",e}();Mae.exports=Pwe});var Uae=k((rj,Fae)=>{"use strict";var Lf=rj&&rj.__assign||function(){return Lf=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Lf.apply(this,arguments)},tj=require("os"),Cg=Dc(),Bae=Ha(),Nwe=Fl(),Owe=ya(),Dwe=Nwe.w3cTraceId(),Lwe=function(){function e(){}return o(e,"QuickPulseEnvelopeFactory"),e.createQuickPulseEnvelope=function(t,r,n,s){var a=tj&&typeof tj.hostname=="function"&&tj.hostname()||"Unknown",l=s.tags&&s.keys&&s.keys.cloudRoleInstance&&s.tags[s.keys.cloudRoleInstance]||a,c=s.tags&&s.keys&&s.keys.cloudRole&&s.tags[s.keys.cloudRole]||null,u={Documents:r.length>0?r:null,InstrumentationKey:n.instrumentationKey||"",Metrics:t.length>0?t:null,InvariantVersion:1,Timestamp:"/Date("+Date.now()+")/",Version:s.tags[s.keys.internalSdkVersion],StreamId:Dwe,MachineName:a,Instance:l,RoleName:c};return u},e.createQuickPulseMetric=function(t){var r;return r={Name:t.name,Value:t.value,Weight:t.count||1},r},e.telemetryEnvelopeToQuickPulseDocument=function(t){switch(t.data.baseType){case Cg.TelemetryTypeString.Event:return e.createQuickPulseEventDocument(t);case Cg.TelemetryTypeString.Exception:return e.createQuickPulseExceptionDocument(t);case Cg.TelemetryTypeString.Trace:return e.createQuickPulseTraceDocument(t);case Cg.TelemetryTypeString.Dependency:return e.createQuickPulseDependencyDocument(t);case Cg.TelemetryTypeString.Request:return e.createQuickPulseRequestDocument(t)}return null},e.createQuickPulseEventDocument=function(t){var r=e.createQuickPulseDocument(t),n=t.data.baseData.name,s=Lf(Lf({},r),{Name:n});return s},e.createQuickPulseTraceDocument=function(t){var r=e.createQuickPulseDocument(t),n=t.data.baseData.severityLevel||0,s=Lf(Lf({},r),{Message:t.data.baseData.message,SeverityLevel:Cg.SeverityLevel[n]});return s},e.createQuickPulseExceptionDocument=function(t){var r=e.createQuickPulseDocument(t),n=t.data.baseData.exceptions,s="",a="",l="";n&&n.length>0&&(n[0].parsedStack&&n[0].parsedStack.length>0?n[0].parsedStack.forEach(function(u){s+=u.assembly+`
`}):n[0].stack&&n[0].stack.length>0&&(s=n[0].stack),a=n[0].message,l=n[0].typeName);var c=Lf(Lf({},r),{Exception:s,ExceptionMessage:a,ExceptionType:l});return c},e.createQuickPulseRequestDocument=function(t){var r=e.createQuickPulseDocument(t),n=t.data.baseData,s=Lf(Lf({},r),{Name:n.name,Success:n.success,Duration:n.duration,ResponseCode:n.responseCode,OperationName:n.name});return s},e.createQuickPulseDependencyDocument=function(t){var r=e.createQuickPulseDocument(t),n=t.data.baseData,s=Lf(Lf({},r),{Name:n.name,Target:n.target,Success:n.success,Duration:n.duration,ResultCode:n.resultCode,CommandName:n.data,OperationName:r.OperationId,DependencyTypeName:n.type});return s},e.createQuickPulseDocument=function(t){var r,n,s,a;t.data.baseType?(n=Bae.TelemetryTypeStringToQuickPulseType[t.data.baseType],r=Bae.TelemetryTypeStringToQuickPulseDocumentType[t.data.baseType]):Owe.warn("Document type invalid; not sending live metric document",t.data.baseType),s=t.tags[e.keys.operationId],a=e.aggregateProperties(t);var l={DocumentType:r,__type:n,OperationId:s,Version:"1.0",Properties:a};return l},e.aggregateProperties=function(t){var r=[],n=t.data.baseData.measurements||{};for(var s in n)if(n.hasOwnProperty(s)){var a=n[s],l={key:s,value:a};r.push(l)}var c=t.data.baseData.properties||{};for(var s in c)if(c.hasOwnProperty(s)){var a=c[s],l={key:s,value:a};r.push(l)}return r},e.keys=new Cg.ContextTagKeys,e}();Fae.exports=Lwe});var jae=k((ort,qae)=>{"use strict";var kwe=o(function(){return(Date.now()+621355968e5)*1e4},"getTransmissionTime");qae.exports={getTransmissionTime:kwe}});var Gae=k((N_,Vae)=>{"use strict";var Hae=N_&&N_.__awaiter||function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(l){l(a)})}return o(s,"adopt"),new(r||(r=Promise))(function(a,l){function c(d){try{f(n.next(d))}catch(p){l(p)}}o(c,"fulfilled");function u(d){try{f(n.throw(d))}catch(p){l(p)}}o(u,"rejected");function f(d){d.done?a(d.value):s(d.value).then(c,u)}o(f,"step"),f((n=n.apply(e,t||[])).next())})},$ae=N_&&N_.__generator||function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,s,a,l;return l={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function c(f){return function(d){return u([f,d])}}function u(f){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,s&&(a=f[0]&2?s.return:f[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,f[1])).done)return a;switch(s=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return r.label++,{value:f[1],done:!1};case 5:r.label++,s=f[1],f=[0];continue;case 7:f=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){r=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){r.label=f[1];break}if(f[0]===6&&r.label<a[1]){r.label=a[1],a=f;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(f);break}a[2]&&r.ops.pop(),r.trys.pop();continue}f=t.call(e,r)}catch(d){f=[6,d],s=0}finally{n=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},Mwe=require("https"),Bwe=C6(),nj=ya(),Fwe=jae(),ij=Fl(),Uwe=require("url"),kf={method:"POST",time:"x-ms-qps-transmission-time",pollingIntervalHint:"x-ms-qps-service-polling-interval-hint",endpointRedirect:"x-ms-qps-service-endpoint-redirect-v2",instanceName:"x-ms-qps-instance-name",streamId:"x-ms-qps-stream-id",machineName:"x-ms-qps-machine-name",roleName:"x-ms-qps-role-name",streamid:"x-ms-qps-stream-id",invariantVersion:"x-ms-qps-invariant-version",subscribed:"x-ms-qps-subscribed"},qwe=function(){function e(t,r){this._config=t,this._consecutiveErrors=0,this._getAuthorizationHandler=r}return o(e,"QuickPulseSender"),e.prototype.ping=function(t,r,n){var s=[{name:kf.streamId,value:t.StreamId},{name:kf.machineName,value:t.MachineName},{name:kf.roleName,value:t.RoleName},{name:kf.instanceName,value:t.Instance},{name:kf.invariantVersion,value:t.InvariantVersion.toString()}];this._submitData(t,r,n,"ping",s)},e.prototype.post=function(t,r,n){return Hae(this,void 0,void 0,function(){return $ae(this,function(s){switch(s.label){case 0:return[4,this._submitData([t],r,n,"post")];case 1:return s.sent(),[2]}})})},e.prototype._submitData=function(t,r,n,s,a){return Hae(this,void 0,void 0,function(){var l,c,u,f,d,p,h,m,v=this;return $ae(this,function(_){switch(_.label){case 0:if(l=ij.stringify(t),c=(h={},h[Bwe.disableCollectionRequestOption]=!0,h.host=r&&r.length>0?r:this._config.quickPulseHost,h.method=kf.method,h.path="/QuickPulseService.svc/"+s+"?ikey="+this._config.instrumentationKey,h.headers=(m={Expect:"100-continue"},m[kf.time]=Fwe.getTransmissionTime(),m["Content-Type"]="application/json",m["Content-Length"]=Buffer.byteLength(l),m),h),a&&a.length>0&&a.forEach(function(b){return c.headers[b.name]=b.value}),s!=="post")return[3,4];if(u=this._getAuthorizationHandler?this._getAuthorizationHandler(this._config):null,!u)return[3,4];_.label=1;case 1:return _.trys.push([1,3,,4]),[4,u.addAuthorizationHeader(c)];case 2:return _.sent(),[3,4];case 3:return f=_.sent(),d="Failed to get AAD bearer token for the Application. Error:",nj.info(e.TAG,d,f),[2];case 4:return this._config.httpsAgent?c.agent=this._config.httpsAgent:c.agent=ij.tlsRestrictedAgent,p=Mwe.request(c,function(b){if(b.statusCode==200){var S=b.headers[kf.subscribed]==="true",A=null;try{A=b.headers[kf.endpointRedirect]?new Uwe.URL(b.headers[kf.endpointRedirect].toString()).host:null}catch(L){v._onError("Failed to parse redirect header from QuickPulse: "+ij.dumpObj(L))}var O=b.headers[kf.pollingIntervalHint]?parseInt(b.headers[kf.pollingIntervalHint].toString()):null;v._consecutiveErrors=0,n(S,b,A,O)}else v._onError("StatusCode:"+b.statusCode+" StatusMessage:"+b.statusMessage),n()}),p.on("error",function(b){v._onError(b),n()}),p.write(l),p.end(),[2]}})})},e.prototype._onError=function(t){this._consecutiveErrors++;var r="Transient error connecting to the Live Metrics endpoint. This packet will not appear in your Live Metrics Stream. Error:";this._consecutiveErrors%e.MAX_QPS_FAILURES_BEFORE_WARN===0?(r="Live Metrics endpoint could not be reached "+this._consecutiveErrors+" consecutive times. Most recent error:",nj.warn(e.TAG,r,t)):nj.info(e.TAG,r,t)},e.TAG="QuickPulseSender",e.MAX_QPS_FAILURES_BEFORE_WARN=25,e}();Vae.exports=qwe});var Xae=k((O_,Yae)=>{"use strict";var zae=O_&&O_.__awaiter||function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(l){l(a)})}return o(s,"adopt"),new(r||(r=Promise))(function(a,l){function c(d){try{f(n.next(d))}catch(p){l(p)}}o(c,"fulfilled");function u(d){try{f(n.throw(d))}catch(p){l(p)}}o(u,"rejected");function f(d){d.done?a(d.value):s(d.value).then(c,u)}o(f,"step"),f((n=n.apply(e,t||[])).next())})},Kae=O_&&O_.__generator||function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,s,a,l;return l={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function c(f){return function(d){return u([f,d])}}function u(f){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,s&&(a=f[0]&2?s.return:f[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,f[1])).done)return a;switch(s=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return r.label++,{value:f[1],done:!1};case 5:r.label++,s=f[1],f=[0];continue;case 7:f=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){r=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){r.label=f[1];break}if(f[0]===6&&r.label<a[1]){r.label=a[1],a=f;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(f);break}a[2]&&r.ops.pop(),r.trys.pop();continue}f=t.call(e,r)}catch(d){f=[6,d],s=0}finally{n=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},Wae=ya(),sj=Uae(),jwe=Gae(),Hwe=Ha(),$we=v6(),Vwe=function(){function e(t,r,n){this._isCollectingData=!1,this._lastSuccessTime=Date.now(),this._lastSendSucceeded=!0,this._metrics={},this._documents=[],this._collectors=[],this._redirectedHost=null,this._pollingIntervalHint=-1,this.config=t,this.context=r||new $we,this._sender=new jwe(this.config,n),this._isEnabled=!1}return o(e,"QuickPulseStateManager"),e.prototype.addCollector=function(t){this._collectors.push(t)},e.prototype.trackMetric=function(t){this._addMetric(t)},e.prototype.addDocument=function(t){if(this._isCollectingData){var r=sj.telemetryEnvelopeToQuickPulseDocument(t);r&&this._documents.push(r)}},e.prototype.enable=function(t){t&&!this._isEnabled?(this._isEnabled=!0,this._goQuickPulse()):!t&&this._isEnabled&&(this._isEnabled=!1,clearTimeout(this._handle),this._handle=void 0)},e.prototype.enableCollectors=function(t){this._collectors.forEach(function(r){r.enable(t)})},e.prototype._addMetric=function(t){var r=t.value,n=t.count||1,s=Hwe.PerformanceToQuickPulseCounter[t.name];s&&(this._metrics[s]?(this._metrics[s].Value=(this._metrics[s].Value*this._metrics[s].Weight+r*n)/(this._metrics[s].Weight+n),this._metrics[s].Weight+=n):(this._metrics[s]=sj.createQuickPulseMetric(t),this._metrics[s].Name=s,this._metrics[s].Weight=1))},e.prototype._resetQuickPulseBuffer=function(){delete this._metrics,this._metrics={},this._documents.length=0},e.prototype._goQuickPulse=function(){return zae(this,void 0,void 0,function(){var t,r,n,s,a=this;return Kae(this,function(l){switch(l.label){case 0:return t=Object.keys(this._metrics).map(function(c){return a._metrics[c]}),r=sj.createQuickPulseEnvelope(t,this._documents.slice(),this.config,this.context),this._resetQuickPulseBuffer(),this._isCollectingData?[4,this._post(r)]:[3,2];case 1:return l.sent(),[3,3];case 2:this._ping(r),l.label=3;case 3:return n=this._pollingIntervalHint>0?this._pollingIntervalHint:e.PING_INTERVAL,s=this._isCollectingData?e.POST_INTERVAL:n,this._isCollectingData&&Date.now()-this._lastSuccessTime>=e.MAX_POST_WAIT_TIME&&!this._lastSendSucceeded?(this._isCollectingData=!1,s=e.FALLBACK_INTERVAL):!this._isCollectingData&&Date.now()-this._lastSuccessTime>=e.MAX_PING_WAIT_TIME&&!this._lastSendSucceeded&&(s=e.FALLBACK_INTERVAL),this._lastSendSucceeded=null,this._handle=setTimeout(this._goQuickPulse.bind(this),s),this._handle.unref(),[2]}})})},e.prototype._ping=function(t){this._sender.ping(t,this._redirectedHost,this._quickPulseDone.bind(this))},e.prototype._post=function(t){return zae(this,void 0,void 0,function(){return Kae(this,function(r){switch(r.label){case 0:return[4,this._sender.post(t,this._redirectedHost,this._quickPulseDone.bind(this))];case 1:return r.sent(),[2]}})})},e.prototype._quickPulseDone=function(t,r,n,s){t!=null?(this._isCollectingData!==t&&(Wae.info("Live Metrics sending data",t),this.enableCollectors(t)),this._isCollectingData=t,n&&n.length>0&&(this._redirectedHost=n,Wae.info("Redirecting endpoint to: ",n)),s&&s>0&&(this._pollingIntervalHint=s),r&&r.statusCode<300&&r.statusCode>=200?(this._lastSuccessTime=Date.now(),this._lastSendSucceeded=!0):this._lastSendSucceeded=!1):this._lastSendSucceeded=!1},e.MAX_POST_WAIT_TIME=2e4,e.MAX_PING_WAIT_TIME=6e4,e.FALLBACK_INTERVAL=6e4,e.PING_INTERVAL=5e3,e.POST_INTERVAL=1e3,e}();Yae.exports=Vwe});var Qae=k(S6=>{"use strict";var hw=S6&&S6.__assign||function(){return hw=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},hw.apply(this,arguments)};Object.defineProperty(S6,"__esModule",{value:!0});S6.AutoCollectNativePerformance=void 0;var D_=v6(),Gwe=ya(),zwe=function(){function e(t){this._disabledMetrics={},e.INSTANCE&&e.INSTANCE.dispose(),e.INSTANCE=this,this._client=t}return o(e,"AutoCollectNativePerformance"),e.prototype.enable=function(t,r,n){var s=this;if(r===void 0&&(r={}),n===void 0&&(n=6e4),e._metricsAvailable==null&&t&&!this._isInitialized)try{var a=require("applicationinsights-native-metrics");e._emitter=new a,e._metricsAvailable=!0,Gwe.info("Native metrics module successfully loaded!")}catch{e._metricsAvailable=!1;return}this._isEnabled=t,this._disabledMetrics=r,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),this._isEnabled&&e._emitter?(e._emitter.enable(!0,n),this._handle||(this._handle=setInterval(function(){return s._trackNativeMetrics()},n),this._handle.unref())):e._emitter&&(e._emitter.enable(!1),this._handle&&(clearInterval(this._handle),this._handle=void 0))},e.prototype.dispose=function(){this.enable(!1)},e.parseEnabled=function(t,r){var n=r.disableAllExtendedMetrics,s=r.extendedMetricDisablers;if(n)return{isEnabled:!1,disabledMetrics:{}};if(s){var a=s.split(","),l={};if(a.length>0)for(var c=0,u=a;c<u.length;c++){var f=u[c];l[f]=!0}return typeof t=="object"?{isEnabled:!0,disabledMetrics:hw(hw({},t),l)}:{isEnabled:t,disabledMetrics:l}}return typeof t=="boolean"?{isEnabled:t,disabledMetrics:{}}:{isEnabled:!0,disabledMetrics:t}},e.prototype._trackNativeMetrics=function(){var t=!0;typeof this._isEnabled!="object"&&(t=this._isEnabled),t&&(this._trackGarbageCollection(),this._trackEventLoop(),this._trackHeapUsage())},e.prototype._trackGarbageCollection=function(){var t;if(!this._disabledMetrics.gc){var r=e._emitter.getGCData();for(var n in r){var s=r[n].metrics,a=n+" Garbage Collection Duration",l=Math.sqrt(s.sumSquares/s.count-Math.pow(s.total/s.count,2))||0;this._client.trackMetric({name:a,value:s.total,count:s.count,max:s.max,min:s.min,stdDev:l,tagOverrides:(t={},t[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+D_.sdkVersion,t)})}}},e.prototype._trackEventLoop=function(){var t;if(!this._disabledMetrics.loop){var r=e._emitter.getLoopData(),n=r.loopUsage;if(n.count!=0){var s="Event Loop CPU Time",a=Math.sqrt(n.sumSquares/n.count-Math.pow(n.total/n.count,2))||0;this._client.trackMetric({name:s,value:n.total,count:n.count,min:n.min,max:n.max,stdDev:a,tagOverrides:(t={},t[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+D_.sdkVersion,t)})}}},e.prototype._trackHeapUsage=function(){var t,r,n;if(!this._disabledMetrics.heap){var s=process.memoryUsage(),a=s.heapUsed,l=s.heapTotal,c=s.rss;this._client.trackMetric({name:"Memory Usage (Heap)",value:a,count:1,tagOverrides:(t={},t[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+D_.sdkVersion,t)}),this._client.trackMetric({name:"Memory Total (Heap)",value:l,count:1,tagOverrides:(r={},r[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+D_.sdkVersion,r)}),this._client.trackMetric({name:"Memory Usage (Non-Heap)",value:c-l,count:1,tagOverrides:(n={},n[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+D_.sdkVersion,n)})}},e}();S6.AutoCollectNativePerformance=zwe});var eoe=k(p3=>{"use strict";var Jae=p3&&p3.__awaiter||function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(l){l(a)})}return o(s,"adopt"),new(r||(r=Promise))(function(a,l){function c(d){try{f(n.next(d))}catch(p){l(p)}}o(c,"fulfilled");function u(d){try{f(n.throw(d))}catch(p){l(p)}}o(u,"rejected");function f(d){d.done?a(d.value):s(d.value).then(c,u)}o(f,"step"),f((n=n.apply(e,t||[])).next())})},Zae=p3&&p3.__generator||function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,s,a,l;return l={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function c(f){return function(d){return u([f,d])}}function u(f){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,s&&(a=f[0]&2?s.return:f[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,f[1])).done)return a;switch(s=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return r.label++,{value:f[1],done:!1};case 5:r.label++,s=f[1],f=[0];continue;case 7:f=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){r=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){r.label=f[1];break}if(f[0]===6&&r.label<a[1]){r.label=a[1],a=f;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(f);break}a[2]&&r.ops.pop(),r.trys.pop();continue}f=t.call(e,r)}catch(d){f=[6,d],s=0}finally{n=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}};Object.defineProperty(p3,"__esModule",{value:!0});p3.AzureFunctionsHook=void 0;var mw=ya(),aj=t3(),Kwe=function(){function e(t){this._client=t,this._autoGenerateIncomingRequests=!1;try{this._functionsCoreModule=require("@azure/functions-core");var r=this._functionsCoreModule.getProgrammingModel();r.name==="@azure/functions"&&r.version.startsWith("3.")?(this._addPreInvocationHook(),this._addPostInvocationHook()):mw.warn('AzureFunctionsHook does not support model "'+r.name+'" version "'+r.version+'"')}catch{mw.info("AzureFunctionsHook failed to load, not running in Azure Functions")}}return o(e,"AzureFunctionsHook"),e.prototype.enable=function(t){this._autoGenerateIncomingRequests=t},e.prototype.dispose=function(){this.enable(!1),this._removeInvocationHooks(),this._functionsCoreModule=void 0},e.prototype._addPreInvocationHook=function(){var t=this;this._preInvocationHook||(this._preInvocationHook=this._functionsCoreModule.registerHook("preInvocation",function(r){return Jae(t,void 0,void 0,function(){var n,s;return Zae(this,function(a){n=r.invocationContext;try{s=aj.CorrelationContextManager.startOperation(n),s&&(s.customProperties.setProperty("InvocationId",n.invocationId),n.traceContext.attributes&&(s.customProperties.setProperty("ProcessId",n.traceContext.attributes.ProcessId),s.customProperties.setProperty("LogLevel",n.traceContext.attributes.LogLevel),s.customProperties.setProperty("Category",n.traceContext.attributes.Category),s.customProperties.setProperty("HostInstanceId",n.traceContext.attributes.HostInstanceId),s.customProperties.setProperty("AzFuncLiveLogsSessionId",n.traceContext.attributes["#AzFuncLiveLogsSessionId"])),r.functionCallback=aj.CorrelationContextManager.wrapCallback(r.functionCallback,s),this._isHttpTrigger(n)&&this._autoGenerateIncomingRequests&&(r.hookData.appInsightsExtractedContext=s,r.hookData.appInsightsStartTime=Date.now()))}catch(l){return mw.warn("Failed to propagate context in Azure Functions",l),[2]}return[2]})})}))},e.prototype._addPostInvocationHook=function(){var t=this;this._postInvocationHook||(this._postInvocationHook=this._functionsCoreModule.registerHook("postInvocation",function(r){return Jae(t,void 0,void 0,function(){var n,s,a,l,c,u=this;return Zae(this,function(f){try{this._autoGenerateIncomingRequests&&(n=r.invocationContext,this._isHttpTrigger(n)&&(s=r.inputs[0],s&&(a=r.hookData.appInsightsStartTime||Date.now(),l=this._getAzureFunctionResponse(r,n),c=r.hookData.appInsightsExtractedContext,c?aj.CorrelationContextManager.runWithContext(c,function(){u._createIncomingRequestTelemetry(s,l,a,c.operation.parentId)}):this._createIncomingRequestTelemetry(s,l,a,null))))}catch(d){mw.warn("Error creating automatic incoming request in Azure Functions",d)}return[2]})})}))},e.prototype._createIncomingRequestTelemetry=function(t,r,n,s){var a=200;if(r)for(var l=0,c=[r.statusCode,r.status];l<c.length;l++){var u=c[l];if(typeof u=="number"&&Number.isInteger(u)){a=u;break}else if(typeof u=="string"){var f=parseInt(u);if(!isNaN(f)){a=f;break}}}else a=void 0;this._client.trackRequest({name:t.method+" "+t.url,resultCode:a,success:typeof a=="number"?0<a&&a<400:void 0,url:t.url,time:new Date(n),duration:Date.now()-n,id:s}),this._client.flush()},e.prototype._getAzureFunctionResponse=function(t,r){var n=r.bindingDefinitions.find(function(s){return s.direction==="out"&&s.type.toLowerCase()==="http"});return(n==null?void 0:n.name)==="$return"?t.result:n&&r.bindings&&r.bindings[n.name]!==void 0?r.bindings[n.name]:r.res},e.prototype._isHttpTrigger=function(t){return t.bindingDefinitions.find(function(r){var n;return((n=r.type)===null||n===void 0?void 0:n.toLowerCase())==="httptrigger"})},e.prototype._removeInvocationHooks=function(){this._preInvocationHook&&(this._preInvocationHook.dispose(),this._preInvocationHook=void 0),this._postInvocationHook&&(this._postInvocationHook.dispose(),this._postInvocationHook=void 0)},e}();p3.AzureFunctionsHook=Kwe});var oj=k((mrt,noe)=>{"use strict";var Wwe=lg(),toe=jq(),Ywe=ya(),roe=Ha(),Xwe=require("url"),Qwe=NC(),Jwe=function(){function e(t){this._endpointBase=roe.DEFAULT_BREEZE_ENDPOINT,this._mergeConfig();var r=this._connectionString,n=toe.parse(t),s=toe.parse(r),a=!n.instrumentationkey&&Object.keys(n).length>0?null:t,l=this._instrumentationKey;this.instrumentationKey=n.instrumentationkey||a||s.instrumentationkey||l;var c=""+(this.endpointUrl||n.ingestionendpoint||s.ingestionendpoint||this._endpointBase);c.endsWith("/")&&(c=c.slice(0,-1)),this.endpointUrl=c+"/v2.1/track",this.maxBatchSize=this.maxBatchSize||250,this.maxBatchIntervalMs=this.maxBatchIntervalMs||15e3,this.disableAppInsights=this.disableAppInsights||!1,this.samplingPercentage=this.samplingPercentage||100,this.correlationIdRetryIntervalMs=this.correlationIdRetryIntervalMs||30*1e3,this.enableWebInstrumentation=this.enableWebInstrumentation||this.enableAutoWebSnippetInjection||!1,this.webInstrumentationConfig=this.webInstrumentationConfig||null,this.enableAutoWebSnippetInjection=this.enableWebInstrumentation,this.correlationHeaderExcludedDomains=this.correlationHeaderExcludedDomains||["*.core.windows.net","*.core.chinacloudapi.cn","*.core.cloudapi.de","*.core.usgovcloudapi.net","*.core.microsoft.scloud","*.core.eaglex.ic.gov"],this.ignoreLegacyHeaders=this.ignoreLegacyHeaders||!1,this.profileQueryEndpoint=n.ingestionendpoint||s.ingestionendpoint||process.env[e.ENV_profileQueryEndpoint]||this._endpointBase,this.quickPulseHost=this.quickPulseHost||n.liveendpoint||s.liveendpoint||process.env[e.ENV_quickPulseHost]||roe.DEFAULT_LIVEMETRICS_HOST,this.webInstrumentationConnectionString=this.webInstrumentationConnectionString||this._webInstrumentationConnectionString||"",this.webSnippetConnectionString=this.webInstrumentationConnectionString,this.quickPulseHost.match(/^https?:\/\//)&&(this.quickPulseHost=new Xwe.URL(this.quickPulseHost).host)}return o(e,"Config"),Object.defineProperty(e.prototype,"profileQueryEndpoint",{get:function(){return this._profileQueryEndpoint},set:function(t){this._profileQueryEndpoint=t,this.correlationId=Wwe.correlationIdPrefix},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"instrumentationKey",{get:function(){return this._instrumentationKey},set:function(t){e._validateInstrumentationKey(t)||Ywe.warn("An invalid instrumentation key was provided. There may be resulting telemetry loss",this.instrumentationKey),this._instrumentationKey=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"webSnippetConnectionString",{get:function(){return this._webInstrumentationConnectionString},set:function(t){this._webInstrumentationConnectionString=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"webInstrumentationConnectionString",{get:function(){return this._webInstrumentationConnectionString},set:function(t){this._webInstrumentationConnectionString=t},enumerable:!1,configurable:!0}),e.prototype._mergeConfig=function(){var t=Qwe.JsonConfig.getInstance();this._connectionString=t.connectionString,this._instrumentationKey=t.instrumentationKey,this.correlationHeaderExcludedDomains=t.correlationHeaderExcludedDomains,this.correlationIdRetryIntervalMs=t.correlationIdRetryIntervalMs,this.disableAllExtendedMetrics=t.disableAllExtendedMetrics,this.disableAppInsights=t.disableAppInsights,this.disableStatsbeat=t.disableStatsbeat,this.distributedTracingMode=t.distributedTracingMode,this.enableAutoCollectConsole=t.enableAutoCollectConsole,this.enableLoggerErrorToTrace=t.enableLoggerErrorToTrace,this.enableAutoCollectDependencies=t.enableAutoCollectDependencies,this.enableAutoCollectIncomingRequestAzureFunctions=t.enableAutoCollectIncomingRequestAzureFunctions,this.enableAutoCollectExceptions=t.enableAutoCollectExceptions,this.enableAutoCollectExtendedMetrics=t.enableAutoCollectExtendedMetrics,this.enableAutoCollectExternalLoggers=t.enableAutoCollectExternalLoggers,this.enableAutoCollectHeartbeat=t.enableAutoCollectHeartbeat,this.enableAutoCollectPerformance=t.enableAutoCollectPerformance,this.enableAutoCollectPreAggregatedMetrics=t.enableAutoCollectPreAggregatedMetrics,this.enableAutoCollectRequests=t.enableAutoCollectRequests,this.enableAutoDependencyCorrelation=t.enableAutoDependencyCorrelation,this.enableInternalDebugLogging=t.enableInternalDebugLogging,this.enableInternalWarningLogging=t.enableInternalWarningLogging,this.enableResendInterval=t.enableResendInterval,this.enableMaxBytesOnDisk=t.enableMaxBytesOnDisk,this.enableSendLiveMetrics=t.enableSendLiveMetrics,this.enableUseAsyncHooks=t.enableUseAsyncHooks,this.enableUseDiskRetryCaching=t.enableUseDiskRetryCaching,this.endpointUrl=t.endpointUrl,this.extendedMetricDisablers=t.extendedMetricDisablers,this.ignoreLegacyHeaders=t.ignoreLegacyHeaders,this.maxBatchIntervalMs=t.maxBatchIntervalMs,this.maxBatchSize=t.maxBatchSize,this.proxyHttpUrl=t.proxyHttpUrl,this.proxyHttpsUrl=t.proxyHttpsUrl,this.quickPulseHost=t.quickPulseHost,this.samplingPercentage=t.samplingPercentage,this.enableWebInstrumentation=t.enableWebInstrumentation,this._webInstrumentationConnectionString=t.webInstrumentationConnectionString,this.webInstrumentationConfig=t.webInstrumentationConfig,this.webInstrumentationSrc=t.webInstrumentationSrc},e._validateInstrumentationKey=function(t){var r="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",n=new RegExp(r);return n.test(t)},e.ENV_azurePrefix="APPSETTING_",e.ENV_iKey="APPINSIGHTS_INSTRUMENTATIONKEY",e.legacy_ENV_iKey="APPINSIGHTS_INSTRUMENTATION_KEY",e.ENV_profileQueryEndpoint="APPINSIGHTS_PROFILE_QUERY_ENDPOINT",e.ENV_quickPulseHost="APPINSIGHTS_QUICKPULSE_HOST",e}();noe.exports=Jwe});var poe=k(A6=>{"use strict";Object.defineProperty(A6,"__esModule",{value:!0});function Zwe(e){return e&&typeof e=="object"&&"default"in e?e.default:e}o(Zwe,"_interopDefault");var eRe=Zwe(require("util")),tRe=require("os");function rRe(e,...t){process.stderr.write(`${eRe.format(e,...t)}${tRe.EOL}`)}o(rRe,"log");var ioe=typeof process<"u"&&process.env&&process.env.DEBUG||void 0,aoe,lj=[],cj=[],yw=[];ioe&&uj(ioe);var I6=Object.assign(e=>ooe(e),{enable:uj,enabled:fj,disable:nRe,log:rRe});function uj(e){aoe=e,lj=[],cj=[];let t=/\*/g,r=e.split(",").map(n=>n.trim().replace(t,".*?"));for(let n of r)n.startsWith("-")?cj.push(new RegExp(`^${n.substr(1)}$`)):lj.push(new RegExp(`^${n}$`));for(let n of yw)n.enabled=fj(n.namespace)}o(uj,"enable");function fj(e){if(e.endsWith("*"))return!0;for(let t of cj)if(t.test(e))return!1;for(let t of lj)if(t.test(e))return!0;return!1}o(fj,"enabled");function nRe(){let e=aoe||"";return uj(""),e}o(nRe,"disable");function ooe(e){let t=Object.assign(r,{enabled:fj(e),destroy:iRe,log:I6.log,namespace:e,extend:sRe});function r(...n){t.enabled&&(n.length>0&&(n[0]=`${e} ${n[0]}`),t.log(...n))}return o(r,"debug"),yw.push(t),t}o(ooe,"createDebugger");function iRe(){let e=yw.indexOf(this);return e>=0?(yw.splice(e,1),!0):!1}o(iRe,"destroy");function sRe(e){let t=ooe(`${this.namespace}:${e}`);return t.log=this.log,t}o(sRe,"extend");var loe=new Set,gw=typeof process<"u"&&process.env&&process.env.AZURE_LOG_LEVEL||void 0,_w,xw=I6("azure");xw.log=(...e)=>{I6.log(...e)};var dj=["verbose","info","warning","error"];gw&&(doe(gw)?coe(gw):console.error(`AZURE_LOG_LEVEL set to unknown log level '${gw}'; logging is not enabled. Acceptable values: ${dj.join(", ")}.`));function coe(e){if(e&&!doe(e))throw new Error(`Unknown log level '${e}'. Acceptable values: ${dj.join(",")}`);_w=e;let t=[];for(let r of loe)foe(r)&&t.push(r.namespace);I6.enable(t.join(","))}o(coe,"setLogLevel");function aRe(){return _w}o(aRe,"getLogLevel");var soe={verbose:400,info:300,warning:200,error:100};function oRe(e){let t=xw.extend(e);return uoe(xw,t),{error:vw(t,"error"),warning:vw(t,"warning"),info:vw(t,"info"),verbose:vw(t,"verbose")}}o(oRe,"createClientLogger");function uoe(e,t){t.log=(...r)=>{e.log(...r)}}o(uoe,"patchLogMethod");function vw(e,t){let r=Object.assign(e.extend(t),{level:t});if(uoe(e,r),foe(r)){let n=I6.disable();I6.enable(n+","+r.namespace)}return loe.add(r),r}o(vw,"createLogger");function foe(e){return!!(_w&&soe[e.level]<=soe[_w])}o(foe,"shouldEnable");function doe(e){return dj.includes(e)}o(doe,"isAzureLogLevel");A6.AzureLogger=xw;A6.createClientLogger=oRe;A6.getLogLevel=aRe;A6.setLogLevel=coe});var vj=k(k_=>{"use strict";Object.defineProperty(k_,"__esModule",{value:!0});var w6=new WeakMap,bw=new WeakMap,Ew=class Ew{constructor(){this.onabort=null,w6.set(this,[]),bw.set(this,!1)}get aborted(){if(!bw.has(this))throw new TypeError("Expected `this` to be an instance of AbortSignal.");return bw.get(this)}static get none(){return new Ew}addEventListener(t,r){if(!w6.has(this))throw new TypeError("Expected `this` to be an instance of AbortSignal.");w6.get(this).push(r)}removeEventListener(t,r){if(!w6.has(this))throw new TypeError("Expected `this` to be an instance of AbortSignal.");let n=w6.get(this),s=n.indexOf(r);s>-1&&n.splice(s,1)}dispatchEvent(t){throw new Error("This is a stub dispatchEvent implementation that should not be used.  It only exists for type-checking purposes.")}};o(Ew,"AbortSignal");var L_=Ew;function hoe(e){if(e.aborted)return;e.onabort&&e.onabort.call(e);let t=w6.get(e);t&&t.slice().forEach(r=>{r.call(e,{type:"abort"})}),bw.set(e,!0)}o(hoe,"abortSignal");var mj=class mj extends Error{constructor(t){super(t),this.name="AbortError"}};o(mj,"AbortError");var pj=mj,gj=class gj{constructor(t){if(this._signal=new L_,!!t){Array.isArray(t)||(t=arguments);for(let r of t)r.aborted?this.abort():r.addEventListener("abort",()=>{this.abort()})}}get signal(){return this._signal}abort(){hoe(this._signal)}static timeout(t){let r=new L_,n=setTimeout(hoe,t,r);return typeof n.unref=="function"&&n.unref(),r}};o(gj,"AbortController");var hj=gj;k_.AbortController=hj;k_.AbortError=pj;k_.AbortSignal=L_});var xoe=k(Su=>{"use strict";Object.defineProperty(Su,"__esModule",{value:!0});var lRe=vj(),moe=require("crypto"),yj,cRe=typeof process<"u"&&!!process.version&&!!(!((yj=process.versions)===null||yj===void 0)&&yj.node);function goe(e,t){let{cleanupBeforeAbort:r,abortSignal:n,abortErrorMsg:s}=t!=null?t:{};return new Promise((a,l)=>{function c(){l(new lRe.AbortError(s!=null?s:"The operation was aborted."))}o(c,"rejectOnAbort");function u(){n==null||n.removeEventListener("abort",f)}o(u,"removeListeners");function f(){r==null||r(),u(),c()}if(o(f,"onAbort"),n!=null&&n.aborted)return c();try{e(d=>{u(),a(d)},d=>{u(),l(d)})}catch(d){l(d)}n==null||n.addEventListener("abort",f)})}o(goe,"createAbortablePromise");var uRe="The delay was aborted.";function fRe(e,t){let r,{abortSignal:n,abortErrorMsg:s}=t!=null?t:{};return goe(a=>{r=setTimeout(a,e)},{cleanupBeforeAbort:()=>clearTimeout(r),abortSignal:n,abortErrorMsg:s!=null?s:uRe})}o(fRe,"delay");function dRe(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}o(dRe,"getRandomIntegerInclusive");function voe(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)&&!(e instanceof RegExp)&&!(e instanceof Date)}o(voe,"isObject");function yoe(e){if(voe(e)){let t=typeof e.name=="string",r=typeof e.message=="string";return t&&r}return!1}o(yoe,"isError");function pRe(e){if(yoe(e))return e.message;{let t;try{typeof e=="object"&&e?t=JSON.stringify(e):t=String(e)}catch{t="[unable to stringify input]"}return`Unknown error ${t}`}}o(pRe,"getErrorMessage");async function hRe(e,t,r){let n=Buffer.from(e,"base64");return moe.createHmac("sha256",n).update(t).digest(r)}o(hRe,"computeSha256Hmac");async function mRe(e,t){return moe.createHash("sha256").update(e).digest(t)}o(mRe,"computeSha256Hash");function _j(e){return typeof e<"u"&&e!==null}o(_j,"isDefined");function gRe(e,t){if(!_j(e)||typeof e!="object")return!1;for(let r of t)if(!_oe(e,r))return!1;return!0}o(gRe,"isObjectWithProperties");function _oe(e,t){return _j(e)&&typeof e=="object"&&t in e}o(_oe,"objectHasProperty");Su.computeSha256Hash=mRe;Su.computeSha256Hmac=hRe;Su.createAbortablePromise=goe;Su.delay=fRe;Su.getErrorMessage=pRe;Su.getRandomIntegerInclusive=dRe;Su.isDefined=_j;Su.isError=yoe;Su.isNode=cRe;Su.isObject=voe;Su.isObjectWithProperties=gRe;Su.objectHasProperty=_oe});var Toe=k((Trt,Eoe)=>{var boe=require("stream").Stream,vRe=require("util");Eoe.exports=Dd;function Dd(){this.source=null,this.dataSize=0,this.maxDataSize=1024*1024,this.pauseStream=!0,this._maxDataSizeExceeded=!1,this._released=!1,this._bufferedEvents=[]}o(Dd,"DelayedStream");vRe.inherits(Dd,boe);Dd.create=function(e,t){var r=new this;t=t||{};for(var n in t)r[n]=t[n];r.source=e;var s=e.emit;return e.emit=function(){return r._handleEmit(arguments),s.apply(e,arguments)},e.on("error",function(){}),r.pauseStream&&e.pause(),r};Object.defineProperty(Dd.prototype,"readable",{configurable:!0,enumerable:!0,get:function(){return this.source.readable}});Dd.prototype.setEncoding=function(){return this.source.setEncoding.apply(this.source,arguments)};Dd.prototype.resume=function(){this._released||this.release(),this.source.resume()};Dd.prototype.pause=function(){this.source.pause()};Dd.prototype.release=function(){this._released=!0,this._bufferedEvents.forEach(function(e){this.emit.apply(this,e)}.bind(this)),this._bufferedEvents=[]};Dd.prototype.pipe=function(){var e=boe.prototype.pipe.apply(this,arguments);return this.resume(),e};Dd.prototype._handleEmit=function(e){if(this._released){this.emit.apply(this,e);return}e[0]==="data"&&(this.dataSize+=e[1].length,this._checkIfMaxDataSizeExceeded()),this._bufferedEvents.push(e)};Dd.prototype._checkIfMaxDataSizeExceeded=function(){if(!this._maxDataSizeExceeded&&!(this.dataSize<=this.maxDataSize)){this._maxDataSizeExceeded=!0;var e="DelayedStream#maxDataSize of "+this.maxDataSize+" bytes exceeded.";this.emit("error",new Error(e))}}});var Aoe=k((Srt,Ioe)=>{var yRe=require("util"),Soe=require("stream").Stream,Coe=Toe();Ioe.exports=Va;function Va(){this.writable=!1,this.readable=!0,this.dataSize=0,this.maxDataSize=2*1024*1024,this.pauseStreams=!0,this._released=!1,this._streams=[],this._currentStream=null,this._insideLoop=!1,this._pendingNext=!1}o(Va,"CombinedStream");yRe.inherits(Va,Soe);Va.create=function(e){var t=new this;e=e||{};for(var r in e)t[r]=e[r];return t};Va.isStreamLike=function(e){return typeof e!="function"&&typeof e!="string"&&typeof e!="boolean"&&typeof e!="number"&&!Buffer.isBuffer(e)};Va.prototype.append=function(e){var t=Va.isStreamLike(e);if(t){if(!(e instanceof Coe)){var r=Coe.create(e,{maxDataSize:1/0,pauseStream:this.pauseStreams});e.on("data",this._checkDataSize.bind(this)),e=r}this._handleErrors(e),this.pauseStreams&&e.pause()}return this._streams.push(e),this};Va.prototype.pipe=function(e,t){return Soe.prototype.pipe.call(this,e,t),this.resume(),e};Va.prototype._getNext=function(){if(this._currentStream=null,this._insideLoop){this._pendingNext=!0;return}this._insideLoop=!0;try{do this._pendingNext=!1,this._realGetNext();while(this._pendingNext)}finally{this._insideLoop=!1}};Va.prototype._realGetNext=function(){var e=this._streams.shift();if(typeof e>"u"){this.end();return}if(typeof e!="function"){this._pipeNext(e);return}var t=e;t(function(r){var n=Va.isStreamLike(r);n&&(r.on("data",this._checkDataSize.bind(this)),this._handleErrors(r)),this._pipeNext(r)}.bind(this))};Va.prototype._pipeNext=function(e){this._currentStream=e;var t=Va.isStreamLike(e);if(t){e.on("end",this._getNext.bind(this)),e.pipe(this,{end:!1});return}var r=e;this.write(r),this._getNext()};Va.prototype._handleErrors=function(e){var t=this;e.on("error",function(r){t._emitError(r)})};Va.prototype.write=function(e){this.emit("data",e)};Va.prototype.pause=function(){this.pauseStreams&&(this.pauseStreams&&this._currentStream&&typeof this._currentStream.pause=="function"&&this._currentStream.pause(),this.emit("pause"))};Va.prototype.resume=function(){this._released||(this._released=!0,this.writable=!0,this._getNext()),this.pauseStreams&&this._currentStream&&typeof this._currentStream.resume=="function"&&this._currentStream.resume(),this.emit("resume")};Va.prototype.end=function(){this._reset(),this.emit("end")};Va.prototype.destroy=function(){this._reset(),this.emit("close")};Va.prototype._reset=function(){this.writable=!1,this._streams=[],this._currentStream=null};Va.prototype._checkDataSize=function(){if(this._updateDataSize(),!(this.dataSize<=this.maxDataSize)){var e="DelayedStream#maxDataSize of "+this.maxDataSize+" bytes exceeded.";this._emitError(new Error(e))}};Va.prototype._updateDataSize=function(){this.dataSize=0;var e=this;this._streams.forEach(function(t){t.dataSize&&(e.dataSize+=t.dataSize)}),this._currentStream&&this._currentStream.dataSize&&(this.dataSize+=this._currentStream.dataSize)};Va.prototype._emitError=function(e){this._reset(),this.emit("error",e)}});var woe=k((Art,_Re)=>{_Re.exports={"application/1d-interleaved-parityfec":{source:"iana"},"application/3gpdash-qoe-report+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/3gpp-ims+xml":{source:"iana",compressible:!0},"application/a2l":{source:"iana"},"application/activemessage":{source:"iana"},"application/activity+json":{source:"iana",compressible:!0},"application/alto-costmap+json":{source:"iana",compressible:!0},"application/alto-costmapfilter+json":{source:"iana",compressible:!0},"application/alto-directory+json":{source:"iana",compressible:!0},"application/alto-endpointcost+json":{source:"iana",compressible:!0},"application/alto-endpointcostparams+json":{source:"iana",compressible:!0},"application/alto-endpointprop+json":{source:"iana",compressible:!0},"application/alto-endpointpropparams+json":{source:"iana",compressible:!0},"application/alto-error+json":{source:"iana",compressible:!0},"application/alto-networkmap+json":{source:"iana",compressible:!0},"application/alto-networkmapfilter+json":{source:"iana",compressible:!0},"application/alto-updatestreamcontrol+json":{source:"iana",compressible:!0},"application/alto-updatestreamparams+json":{source:"iana",compressible:!0},"application/aml":{source:"iana"},"application/andrew-inset":{source:"iana",extensions:["ez"]},"application/applefile":{source:"iana"},"application/applixware":{source:"apache",extensions:["aw"]},"application/atf":{source:"iana"},"application/atfx":{source:"iana"},"application/atom+xml":{source:"iana",compressible:!0,extensions:["atom"]},"application/atomcat+xml":{source:"iana",compressible:!0,extensions:["atomcat"]},"application/atomdeleted+xml":{source:"iana",compressible:!0,extensions:["atomdeleted"]},"application/atomicmail":{source:"iana"},"application/atomsvc+xml":{source:"iana",compressible:!0,extensions:["atomsvc"]},"application/atsc-dwd+xml":{source:"iana",compressible:!0,extensions:["dwd"]},"application/atsc-dynamic-event-message":{source:"iana"},"application/atsc-held+xml":{source:"iana",compressible:!0,extensions:["held"]},"application/atsc-rdt+json":{source:"iana",compressible:!0},"application/atsc-rsat+xml":{source:"iana",compressible:!0,extensions:["rsat"]},"application/atxml":{source:"iana"},"application/auth-policy+xml":{source:"iana",compressible:!0},"application/bacnet-xdd+zip":{source:"iana",compressible:!1},"application/batch-smtp":{source:"iana"},"application/bdoc":{compressible:!1,extensions:["bdoc"]},"application/beep+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/calendar+json":{source:"iana",compressible:!0},"application/calendar+xml":{source:"iana",compressible:!0,extensions:["xcs"]},"application/call-completion":{source:"iana"},"application/cals-1840":{source:"iana"},"application/captive+json":{source:"iana",compressible:!0},"application/cbor":{source:"iana"},"application/cbor-seq":{source:"iana"},"application/cccex":{source:"iana"},"application/ccmp+xml":{source:"iana",compressible:!0},"application/ccxml+xml":{source:"iana",compressible:!0,extensions:["ccxml"]},"application/cdfx+xml":{source:"iana",compressible:!0,extensions:["cdfx"]},"application/cdmi-capability":{source:"iana",extensions:["cdmia"]},"application/cdmi-container":{source:"iana",extensions:["cdmic"]},"application/cdmi-domain":{source:"iana",extensions:["cdmid"]},"application/cdmi-object":{source:"iana",extensions:["cdmio"]},"application/cdmi-queue":{source:"iana",extensions:["cdmiq"]},"application/cdni":{source:"iana"},"application/cea":{source:"iana"},"application/cea-2018+xml":{source:"iana",compressible:!0},"application/cellml+xml":{source:"iana",compressible:!0},"application/cfw":{source:"iana"},"application/clr":{source:"iana"},"application/clue+xml":{source:"iana",compressible:!0},"application/clue_info+xml":{source:"iana",compressible:!0},"application/cms":{source:"iana"},"application/cnrp+xml":{source:"iana",compressible:!0},"application/coap-group+json":{source:"iana",compressible:!0},"application/coap-payload":{source:"iana"},"application/commonground":{source:"iana"},"application/conference-info+xml":{source:"iana",compressible:!0},"application/cose":{source:"iana"},"application/cose-key":{source:"iana"},"application/cose-key-set":{source:"iana"},"application/cpl+xml":{source:"iana",compressible:!0},"application/csrattrs":{source:"iana"},"application/csta+xml":{source:"iana",compressible:!0},"application/cstadata+xml":{source:"iana",compressible:!0},"application/csvm+json":{source:"iana",compressible:!0},"application/cu-seeme":{source:"apache",extensions:["cu"]},"application/cwt":{source:"iana"},"application/cybercash":{source:"iana"},"application/dart":{compressible:!0},"application/dash+xml":{source:"iana",compressible:!0,extensions:["mpd"]},"application/dashdelta":{source:"iana"},"application/davmount+xml":{source:"iana",compressible:!0,extensions:["davmount"]},"application/dca-rft":{source:"iana"},"application/dcd":{source:"iana"},"application/dec-dx":{source:"iana"},"application/dialog-info+xml":{source:"iana",compressible:!0},"application/dicom":{source:"iana"},"application/dicom+json":{source:"iana",compressible:!0},"application/dicom+xml":{source:"iana",compressible:!0},"application/dii":{source:"iana"},"application/dit":{source:"iana"},"application/dns":{source:"iana"},"application/dns+json":{source:"iana",compressible:!0},"application/dns-message":{source:"iana"},"application/docbook+xml":{source:"apache",compressible:!0,extensions:["dbk"]},"application/dots+cbor":{source:"iana"},"application/dskpp+xml":{source:"iana",compressible:!0},"application/dssc+der":{source:"iana",extensions:["dssc"]},"application/dssc+xml":{source:"iana",compressible:!0,extensions:["xdssc"]},"application/dvcs":{source:"iana"},"application/ecmascript":{source:"iana",compressible:!0,extensions:["ecma","es"]},"application/edi-consent":{source:"iana"},"application/edi-x12":{source:"iana",compressible:!1},"application/edifact":{source:"iana",compressible:!1},"application/efi":{source:"iana"},"application/elm+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/elm+xml":{source:"iana",compressible:!0},"application/emergencycalldata.cap+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/emergencycalldata.comment+xml":{source:"iana",compressible:!0},"application/emergencycalldata.control+xml":{source:"iana",compressible:!0},"application/emergencycalldata.deviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.ecall.msd":{source:"iana"},"application/emergencycalldata.providerinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.serviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.subscriberinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.veds+xml":{source:"iana",compressible:!0},"application/emma+xml":{source:"iana",compressible:!0,extensions:["emma"]},"application/emotionml+xml":{source:"iana",compressible:!0,extensions:["emotionml"]},"application/encaprtp":{source:"iana"},"application/epp+xml":{source:"iana",compressible:!0},"application/epub+zip":{source:"iana",compressible:!1,extensions:["epub"]},"application/eshop":{source:"iana"},"application/exi":{source:"iana",extensions:["exi"]},"application/expect-ct-report+json":{source:"iana",compressible:!0},"application/fastinfoset":{source:"iana"},"application/fastsoap":{source:"iana"},"application/fdt+xml":{source:"iana",compressible:!0,extensions:["fdt"]},"application/fhir+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/fhir+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/fido.trusted-apps+json":{compressible:!0},"application/fits":{source:"iana"},"application/flexfec":{source:"iana"},"application/font-sfnt":{source:"iana"},"application/font-tdpfr":{source:"iana",extensions:["pfr"]},"application/font-woff":{source:"iana",compressible:!1},"application/framework-attributes+xml":{source:"iana",compressible:!0},"application/geo+json":{source:"iana",compressible:!0,extensions:["geojson"]},"application/geo+json-seq":{source:"iana"},"application/geopackage+sqlite3":{source:"iana"},"application/geoxacml+xml":{source:"iana",compressible:!0},"application/gltf-buffer":{source:"iana"},"application/gml+xml":{source:"iana",compressible:!0,extensions:["gml"]},"application/gpx+xml":{source:"apache",compressible:!0,extensions:["gpx"]},"application/gxf":{source:"apache",extensions:["gxf"]},"application/gzip":{source:"iana",compressible:!1,extensions:["gz"]},"application/h224":{source:"iana"},"application/held+xml":{source:"iana",compressible:!0},"application/hjson":{extensions:["hjson"]},"application/http":{source:"iana"},"application/hyperstudio":{source:"iana",extensions:["stk"]},"application/ibe-key-request+xml":{source:"iana",compressible:!0},"application/ibe-pkg-reply+xml":{source:"iana",compressible:!0},"application/ibe-pp-data":{source:"iana"},"application/iges":{source:"iana"},"application/im-iscomposing+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/index":{source:"iana"},"application/index.cmd":{source:"iana"},"application/index.obj":{source:"iana"},"application/index.response":{source:"iana"},"application/index.vnd":{source:"iana"},"application/inkml+xml":{source:"iana",compressible:!0,extensions:["ink","inkml"]},"application/iotp":{source:"iana"},"application/ipfix":{source:"iana",extensions:["ipfix"]},"application/ipp":{source:"iana"},"application/isup":{source:"iana"},"application/its+xml":{source:"iana",compressible:!0,extensions:["its"]},"application/java-archive":{source:"apache",compressible:!1,extensions:["jar","war","ear"]},"application/java-serialized-object":{source:"apache",compressible:!1,extensions:["ser"]},"application/java-vm":{source:"apache",compressible:!1,extensions:["class"]},"application/javascript":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["js","mjs"]},"application/jf2feed+json":{source:"iana",compressible:!0},"application/jose":{source:"iana"},"application/jose+json":{source:"iana",compressible:!0},"application/jrd+json":{source:"iana",compressible:!0},"application/jscalendar+json":{source:"iana",compressible:!0},"application/json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["json","map"]},"application/json-patch+json":{source:"iana",compressible:!0},"application/json-seq":{source:"iana"},"application/json5":{extensions:["json5"]},"application/jsonml+json":{source:"apache",compressible:!0,extensions:["jsonml"]},"application/jwk+json":{source:"iana",compressible:!0},"application/jwk-set+json":{source:"iana",compressible:!0},"application/jwt":{source:"iana"},"application/kpml-request+xml":{source:"iana",compressible:!0},"application/kpml-response+xml":{source:"iana",compressible:!0},"application/ld+json":{source:"iana",compressible:!0,extensions:["jsonld"]},"application/lgr+xml":{source:"iana",compressible:!0,extensions:["lgr"]},"application/link-format":{source:"iana"},"application/load-control+xml":{source:"iana",compressible:!0},"application/lost+xml":{source:"iana",compressible:!0,extensions:["lostxml"]},"application/lostsync+xml":{source:"iana",compressible:!0},"application/lpf+zip":{source:"iana",compressible:!1},"application/lxf":{source:"iana"},"application/mac-binhex40":{source:"iana",extensions:["hqx"]},"application/mac-compactpro":{source:"apache",extensions:["cpt"]},"application/macwriteii":{source:"iana"},"application/mads+xml":{source:"iana",compressible:!0,extensions:["mads"]},"application/manifest+json":{charset:"UTF-8",compressible:!0,extensions:["webmanifest"]},"application/marc":{source:"iana",extensions:["mrc"]},"application/marcxml+xml":{source:"iana",compressible:!0,extensions:["mrcx"]},"application/mathematica":{source:"iana",extensions:["ma","nb","mb"]},"application/mathml+xml":{source:"iana",compressible:!0,extensions:["mathml"]},"application/mathml-content+xml":{source:"iana",compressible:!0},"application/mathml-presentation+xml":{source:"iana",compressible:!0},"application/mbms-associated-procedure-description+xml":{source:"iana",compressible:!0},"application/mbms-deregister+xml":{source:"iana",compressible:!0},"application/mbms-envelope+xml":{source:"iana",compressible:!0},"application/mbms-msk+xml":{source:"iana",compressible:!0},"application/mbms-msk-response+xml":{source:"iana",compressible:!0},"application/mbms-protection-description+xml":{source:"iana",compressible:!0},"application/mbms-reception-report+xml":{source:"iana",compressible:!0},"application/mbms-register+xml":{source:"iana",compressible:!0},"application/mbms-register-response+xml":{source:"iana",compressible:!0},"application/mbms-schedule+xml":{source:"iana",compressible:!0},"application/mbms-user-service-description+xml":{source:"iana",compressible:!0},"application/mbox":{source:"iana",extensions:["mbox"]},"application/media-policy-dataset+xml":{source:"iana",compressible:!0},"application/media_control+xml":{source:"iana",compressible:!0},"application/mediaservercontrol+xml":{source:"iana",compressible:!0,extensions:["mscml"]},"application/merge-patch+json":{source:"iana",compressible:!0},"application/metalink+xml":{source:"apache",compressible:!0,extensions:["metalink"]},"application/metalink4+xml":{source:"iana",compressible:!0,extensions:["meta4"]},"application/mets+xml":{source:"iana",compressible:!0,extensions:["mets"]},"application/mf4":{source:"iana"},"application/mikey":{source:"iana"},"application/mipc":{source:"iana"},"application/mmt-aei+xml":{source:"iana",compressible:!0,extensions:["maei"]},"application/mmt-usd+xml":{source:"iana",compressible:!0,extensions:["musd"]},"application/mods+xml":{source:"iana",compressible:!0,extensions:["mods"]},"application/moss-keys":{source:"iana"},"application/moss-signature":{source:"iana"},"application/mosskey-data":{source:"iana"},"application/mosskey-request":{source:"iana"},"application/mp21":{source:"iana",extensions:["m21","mp21"]},"application/mp4":{source:"iana",extensions:["mp4s","m4p"]},"application/mpeg4-generic":{source:"iana"},"application/mpeg4-iod":{source:"iana"},"application/mpeg4-iod-xmt":{source:"iana"},"application/mrb-consumer+xml":{source:"iana",compressible:!0,extensions:["xdf"]},"application/mrb-publish+xml":{source:"iana",compressible:!0,extensions:["xdf"]},"application/msc-ivr+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msc-mixer+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msword":{source:"iana",compressible:!1,extensions:["doc","dot"]},"application/mud+json":{source:"iana",compressible:!0},"application/multipart-core":{source:"iana"},"application/mxf":{source:"iana",extensions:["mxf"]},"application/n-quads":{source:"iana",extensions:["nq"]},"application/n-triples":{source:"iana",extensions:["nt"]},"application/nasdata":{source:"iana"},"application/news-checkgroups":{source:"iana",charset:"US-ASCII"},"application/news-groupinfo":{source:"iana",charset:"US-ASCII"},"application/news-transmission":{source:"iana"},"application/nlsml+xml":{source:"iana",compressible:!0},"application/node":{source:"iana",extensions:["cjs"]},"application/nss":{source:"iana"},"application/ocsp-request":{source:"iana"},"application/ocsp-response":{source:"iana"},"application/octet-stream":{source:"iana",compressible:!1,extensions:["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{source:"iana",extensions:["oda"]},"application/odm+xml":{source:"iana",compressible:!0},"application/odx":{source:"iana"},"application/oebps-package+xml":{source:"iana",compressible:!0,extensions:["opf"]},"application/ogg":{source:"iana",compressible:!1,extensions:["ogx"]},"application/omdoc+xml":{source:"apache",compressible:!0,extensions:["omdoc"]},"application/onenote":{source:"apache",extensions:["onetoc","onetoc2","onetmp","onepkg"]},"application/opc-nodeset+xml":{source:"iana",compressible:!0},"application/oscore":{source:"iana"},"application/oxps":{source:"iana",extensions:["oxps"]},"application/p2p-overlay+xml":{source:"iana",compressible:!0,extensions:["relo"]},"application/parityfec":{source:"iana"},"application/passport":{source:"iana"},"application/patch-ops-error+xml":{source:"iana",compressible:!0,extensions:["xer"]},"application/pdf":{source:"iana",compressible:!1,extensions:["pdf"]},"application/pdx":{source:"iana"},"application/pem-certificate-chain":{source:"iana"},"application/pgp-encrypted":{source:"iana",compressible:!1,extensions:["pgp"]},"application/pgp-keys":{source:"iana"},"application/pgp-signature":{source:"iana",extensions:["asc","sig"]},"application/pics-rules":{source:"apache",extensions:["prf"]},"application/pidf+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pidf-diff+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pkcs10":{source:"iana",extensions:["p10"]},"application/pkcs12":{source:"iana"},"application/pkcs7-mime":{source:"iana",extensions:["p7m","p7c"]},"application/pkcs7-signature":{source:"iana",extensions:["p7s"]},"application/pkcs8":{source:"iana",extensions:["p8"]},"application/pkcs8-encrypted":{source:"iana"},"application/pkix-attr-cert":{source:"iana",extensions:["ac"]},"application/pkix-cert":{source:"iana",extensions:["cer"]},"application/pkix-crl":{source:"iana",extensions:["crl"]},"application/pkix-pkipath":{source:"iana",extensions:["pkipath"]},"application/pkixcmp":{source:"iana",extensions:["pki"]},"application/pls+xml":{source:"iana",compressible:!0,extensions:["pls"]},"application/poc-settings+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/postscript":{source:"iana",compressible:!0,extensions:["ai","eps","ps"]},"application/ppsp-tracker+json":{source:"iana",compressible:!0},"application/problem+json":{source:"iana",compressible:!0},"application/problem+xml":{source:"iana",compressible:!0},"application/provenance+xml":{source:"iana",compressible:!0,extensions:["provx"]},"application/prs.alvestrand.titrax-sheet":{source:"iana"},"application/prs.cww":{source:"iana",extensions:["cww"]},"application/prs.cyn":{source:"iana",charset:"7-BIT"},"application/prs.hpub+zip":{source:"iana",compressible:!1},"application/prs.nprend":{source:"iana"},"application/prs.plucker":{source:"iana"},"application/prs.rdf-xml-crypt":{source:"iana"},"application/prs.xsf+xml":{source:"iana",compressible:!0},"application/pskc+xml":{source:"iana",compressible:!0,extensions:["pskcxml"]},"application/pvd+json":{source:"iana",compressible:!0},"application/qsig":{source:"iana"},"application/raml+yaml":{compressible:!0,extensions:["raml"]},"application/raptorfec":{source:"iana"},"application/rdap+json":{source:"iana",compressible:!0},"application/rdf+xml":{source:"iana",compressible:!0,extensions:["rdf","owl"]},"application/reginfo+xml":{source:"iana",compressible:!0,extensions:["rif"]},"application/relax-ng-compact-syntax":{source:"iana",extensions:["rnc"]},"application/remote-printing":{source:"iana"},"application/reputon+json":{source:"iana",compressible:!0},"application/resource-lists+xml":{source:"iana",compressible:!0,extensions:["rl"]},"application/resource-lists-diff+xml":{source:"iana",compressible:!0,extensions:["rld"]},"application/rfc+xml":{source:"iana",compressible:!0},"application/riscos":{source:"iana"},"application/rlmi+xml":{source:"iana",compressible:!0},"application/rls-services+xml":{source:"iana",compressible:!0,extensions:["rs"]},"application/route-apd+xml":{source:"iana",compressible:!0,extensions:["rapd"]},"application/route-s-tsid+xml":{source:"iana",compressible:!0,extensions:["sls"]},"application/route-usd+xml":{source:"iana",compressible:!0,extensions:["rusd"]},"application/rpki-ghostbusters":{source:"iana",extensions:["gbr"]},"application/rpki-manifest":{source:"iana",extensions:["mft"]},"application/rpki-publication":{source:"iana"},"application/rpki-roa":{source:"iana",extensions:["roa"]},"application/rpki-updown":{source:"iana"},"application/rsd+xml":{source:"apache",compressible:!0,extensions:["rsd"]},"application/rss+xml":{source:"apache",compressible:!0,extensions:["rss"]},"application/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"application/rtploopback":{source:"iana"},"application/rtx":{source:"iana"},"application/samlassertion+xml":{source:"iana",compressible:!0},"application/samlmetadata+xml":{source:"iana",compressible:!0},"application/sarif+json":{source:"iana",compressible:!0},"application/sbe":{source:"iana"},"application/sbml+xml":{source:"iana",compressible:!0,extensions:["sbml"]},"application/scaip+xml":{source:"iana",compressible:!0},"application/scim+json":{source:"iana",compressible:!0},"application/scvp-cv-request":{source:"iana",extensions:["scq"]},"application/scvp-cv-response":{source:"iana",extensions:["scs"]},"application/scvp-vp-request":{source:"iana",extensions:["spq"]},"application/scvp-vp-response":{source:"iana",extensions:["spp"]},"application/sdp":{source:"iana",extensions:["sdp"]},"application/secevent+jwt":{source:"iana"},"application/senml+cbor":{source:"iana"},"application/senml+json":{source:"iana",compressible:!0},"application/senml+xml":{source:"iana",compressible:!0,extensions:["senmlx"]},"application/senml-etch+cbor":{source:"iana"},"application/senml-etch+json":{source:"iana",compressible:!0},"application/senml-exi":{source:"iana"},"application/sensml+cbor":{source:"iana"},"application/sensml+json":{source:"iana",compressible:!0},"application/sensml+xml":{source:"iana",compressible:!0,extensions:["sensmlx"]},"application/sensml-exi":{source:"iana"},"application/sep+xml":{source:"iana",compressible:!0},"application/sep-exi":{source:"iana"},"application/session-info":{source:"iana"},"application/set-payment":{source:"iana"},"application/set-payment-initiation":{source:"iana",extensions:["setpay"]},"application/set-registration":{source:"iana"},"application/set-registration-initiation":{source:"iana",extensions:["setreg"]},"application/sgml":{source:"iana"},"application/sgml-open-catalog":{source:"iana"},"application/shf+xml":{source:"iana",compressible:!0,extensions:["shf"]},"application/sieve":{source:"iana",extensions:["siv","sieve"]},"application/simple-filter+xml":{source:"iana",compressible:!0},"application/simple-message-summary":{source:"iana"},"application/simplesymbolcontainer":{source:"iana"},"application/sipc":{source:"iana"},"application/slate":{source:"iana"},"application/smil":{source:"iana"},"application/smil+xml":{source:"iana",compressible:!0,extensions:["smi","smil"]},"application/smpte336m":{source:"iana"},"application/soap+fastinfoset":{source:"iana"},"application/soap+xml":{source:"iana",compressible:!0},"application/sparql-query":{source:"iana",extensions:["rq"]},"application/sparql-results+xml":{source:"iana",compressible:!0,extensions:["srx"]},"application/spirits-event+xml":{source:"iana",compressible:!0},"application/sql":{source:"iana"},"application/srgs":{source:"iana",extensions:["gram"]},"application/srgs+xml":{source:"iana",compressible:!0,extensions:["grxml"]},"application/sru+xml":{source:"iana",compressible:!0,extensions:["sru"]},"application/ssdl+xml":{source:"apache",compressible:!0,extensions:["ssdl"]},"application/ssml+xml":{source:"iana",compressible:!0,extensions:["ssml"]},"application/stix+json":{source:"iana",compressible:!0},"application/swid+xml":{source:"iana",compressible:!0,extensions:["swidtag"]},"application/tamp-apex-update":{source:"iana"},"application/tamp-apex-update-confirm":{source:"iana"},"application/tamp-community-update":{source:"iana"},"application/tamp-community-update-confirm":{source:"iana"},"application/tamp-error":{source:"iana"},"application/tamp-sequence-adjust":{source:"iana"},"application/tamp-sequence-adjust-confirm":{source:"iana"},"application/tamp-status-query":{source:"iana"},"application/tamp-status-response":{source:"iana"},"application/tamp-update":{source:"iana"},"application/tamp-update-confirm":{source:"iana"},"application/tar":{compressible:!0},"application/taxii+json":{source:"iana",compressible:!0},"application/td+json":{source:"iana",compressible:!0},"application/tei+xml":{source:"iana",compressible:!0,extensions:["tei","teicorpus"]},"application/tetra_isi":{source:"iana"},"application/thraud+xml":{source:"iana",compressible:!0,extensions:["tfi"]},"application/timestamp-query":{source:"iana"},"application/timestamp-reply":{source:"iana"},"application/timestamped-data":{source:"iana",extensions:["tsd"]},"application/tlsrpt+gzip":{source:"iana"},"application/tlsrpt+json":{source:"iana",compressible:!0},"application/tnauthlist":{source:"iana"},"application/toml":{compressible:!0,extensions:["toml"]},"application/trickle-ice-sdpfrag":{source:"iana"},"application/trig":{source:"iana"},"application/ttml+xml":{source:"iana",compressible:!0,extensions:["ttml"]},"application/tve-trigger":{source:"iana"},"application/tzif":{source:"iana"},"application/tzif-leap":{source:"iana"},"application/ubjson":{compressible:!1,extensions:["ubj"]},"application/ulpfec":{source:"iana"},"application/urc-grpsheet+xml":{source:"iana",compressible:!0},"application/urc-ressheet+xml":{source:"iana",compressible:!0,extensions:["rsheet"]},"application/urc-targetdesc+xml":{source:"iana",compressible:!0,extensions:["td"]},"application/urc-uisocketdesc+xml":{source:"iana",compressible:!0},"application/vcard+json":{source:"iana",compressible:!0},"application/vcard+xml":{source:"iana",compressible:!0},"application/vemmi":{source:"iana"},"application/vividence.scriptfile":{source:"apache"},"application/vnd.1000minds.decision-model+xml":{source:"iana",compressible:!0,extensions:["1km"]},"application/vnd.3gpp-prose+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-prose-pc3ch+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-v2x-local-service-information":{source:"iana"},"application/vnd.3gpp.access-transfer-events+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.bsf+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gmop+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.interworking-data":{source:"iana"},"application/vnd.3gpp.mc-signalling-ear":{source:"iana"},"application/vnd.3gpp.mcdata-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-payload":{source:"iana"},"application/vnd.3gpp.mcdata-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-signalling":{source:"iana"},"application/vnd.3gpp.mcdata-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-floor-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-signed+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-init-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-transmission-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mid-call+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.pic-bw-large":{source:"iana",extensions:["plb"]},"application/vnd.3gpp.pic-bw-small":{source:"iana",extensions:["psb"]},"application/vnd.3gpp.pic-bw-var":{source:"iana",extensions:["pvb"]},"application/vnd.3gpp.sms":{source:"iana"},"application/vnd.3gpp.sms+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-ext+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.state-and-event-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ussd+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.bcmcsinfo+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.sms":{source:"iana"},"application/vnd.3gpp2.tcap":{source:"iana",extensions:["tcap"]},"application/vnd.3lightssoftware.imagescal":{source:"iana"},"application/vnd.3m.post-it-notes":{source:"iana",extensions:["pwn"]},"application/vnd.accpac.simply.aso":{source:"iana",extensions:["aso"]},"application/vnd.accpac.simply.imp":{source:"iana",extensions:["imp"]},"application/vnd.acucobol":{source:"iana",extensions:["acu"]},"application/vnd.acucorp":{source:"iana",extensions:["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{source:"apache",compressible:!1,extensions:["air"]},"application/vnd.adobe.flash.movie":{source:"iana"},"application/vnd.adobe.formscentral.fcdt":{source:"iana",extensions:["fcdt"]},"application/vnd.adobe.fxp":{source:"iana",extensions:["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{source:"iana"},"application/vnd.adobe.xdp+xml":{source:"iana",compressible:!0,extensions:["xdp"]},"application/vnd.adobe.xfdf":{source:"iana",extensions:["xfdf"]},"application/vnd.aether.imp":{source:"iana"},"application/vnd.afpc.afplinedata":{source:"iana"},"application/vnd.afpc.afplinedata-pagedef":{source:"iana"},"application/vnd.afpc.cmoca-cmresource":{source:"iana"},"application/vnd.afpc.foca-charset":{source:"iana"},"application/vnd.afpc.foca-codedfont":{source:"iana"},"application/vnd.afpc.foca-codepage":{source:"iana"},"application/vnd.afpc.modca":{source:"iana"},"application/vnd.afpc.modca-cmtable":{source:"iana"},"application/vnd.afpc.modca-formdef":{source:"iana"},"application/vnd.afpc.modca-mediummap":{source:"iana"},"application/vnd.afpc.modca-objectcontainer":{source:"iana"},"application/vnd.afpc.modca-overlay":{source:"iana"},"application/vnd.afpc.modca-pagesegment":{source:"iana"},"application/vnd.ah-barcode":{source:"iana"},"application/vnd.ahead.space":{source:"iana",extensions:["ahead"]},"application/vnd.airzip.filesecure.azf":{source:"iana",extensions:["azf"]},"application/vnd.airzip.filesecure.azs":{source:"iana",extensions:["azs"]},"application/vnd.amadeus+json":{source:"iana",compressible:!0},"application/vnd.amazon.ebook":{source:"apache",extensions:["azw"]},"application/vnd.amazon.mobi8-ebook":{source:"iana"},"application/vnd.americandynamics.acc":{source:"iana",extensions:["acc"]},"application/vnd.amiga.ami":{source:"iana",extensions:["ami"]},"application/vnd.amundsen.maze+xml":{source:"iana",compressible:!0},"application/vnd.android.ota":{source:"iana"},"application/vnd.android.package-archive":{source:"apache",compressible:!1,extensions:["apk"]},"application/vnd.anki":{source:"iana"},"application/vnd.anser-web-certificate-issue-initiation":{source:"iana",extensions:["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{source:"apache",extensions:["fti"]},"application/vnd.antix.game-component":{source:"iana",extensions:["atx"]},"application/vnd.apache.thrift.binary":{source:"iana"},"application/vnd.apache.thrift.compact":{source:"iana"},"application/vnd.apache.thrift.json":{source:"iana"},"application/vnd.api+json":{source:"iana",compressible:!0},"application/vnd.aplextor.warrp+json":{source:"iana",compressible:!0},"application/vnd.apothekende.reservation+json":{source:"iana",compressible:!0},"application/vnd.apple.installer+xml":{source:"iana",compressible:!0,extensions:["mpkg"]},"application/vnd.apple.keynote":{source:"iana",extensions:["key"]},"application/vnd.apple.mpegurl":{source:"iana",extensions:["m3u8"]},"application/vnd.apple.numbers":{source:"iana",extensions:["numbers"]},"application/vnd.apple.pages":{source:"iana",extensions:["pages"]},"application/vnd.apple.pkpass":{compressible:!1,extensions:["pkpass"]},"application/vnd.arastra.swi":{source:"iana"},"application/vnd.aristanetworks.swi":{source:"iana",extensions:["swi"]},"application/vnd.artisan+json":{source:"iana",compressible:!0},"application/vnd.artsquare":{source:"iana"},"application/vnd.astraea-software.iota":{source:"iana",extensions:["iota"]},"application/vnd.audiograph":{source:"iana",extensions:["aep"]},"application/vnd.autopackage":{source:"iana"},"application/vnd.avalon+json":{source:"iana",compressible:!0},"application/vnd.avistar+xml":{source:"iana",compressible:!0},"application/vnd.balsamiq.bmml+xml":{source:"iana",compressible:!0,extensions:["bmml"]},"application/vnd.balsamiq.bmpr":{source:"iana"},"application/vnd.banana-accounting":{source:"iana"},"application/vnd.bbf.usp.error":{source:"iana"},"application/vnd.bbf.usp.msg":{source:"iana"},"application/vnd.bbf.usp.msg+json":{source:"iana",compressible:!0},"application/vnd.bekitzur-stech+json":{source:"iana",compressible:!0},"application/vnd.bint.med-content":{source:"iana"},"application/vnd.biopax.rdf+xml":{source:"iana",compressible:!0},"application/vnd.blink-idb-value-wrapper":{source:"iana"},"application/vnd.blueice.multipass":{source:"iana",extensions:["mpm"]},"application/vnd.bluetooth.ep.oob":{source:"iana"},"application/vnd.bluetooth.le.oob":{source:"iana"},"application/vnd.bmi":{source:"iana",extensions:["bmi"]},"application/vnd.bpf":{source:"iana"},"application/vnd.bpf3":{source:"iana"},"application/vnd.businessobjects":{source:"iana",extensions:["rep"]},"application/vnd.byu.uapi+json":{source:"iana",compressible:!0},"application/vnd.cab-jscript":{source:"iana"},"application/vnd.canon-cpdl":{source:"iana"},"application/vnd.canon-lips":{source:"iana"},"application/vnd.capasystems-pg+json":{source:"iana",compressible:!0},"application/vnd.cendio.thinlinc.clientconf":{source:"iana"},"application/vnd.century-systems.tcp_stream":{source:"iana"},"application/vnd.chemdraw+xml":{source:"iana",compressible:!0,extensions:["cdxml"]},"application/vnd.chess-pgn":{source:"iana"},"application/vnd.chipnuts.karaoke-mmd":{source:"iana",extensions:["mmd"]},"application/vnd.ciedi":{source:"iana"},"application/vnd.cinderella":{source:"iana",extensions:["cdy"]},"application/vnd.cirpack.isdn-ext":{source:"iana"},"application/vnd.citationstyles.style+xml":{source:"iana",compressible:!0,extensions:["csl"]},"application/vnd.claymore":{source:"iana",extensions:["cla"]},"application/vnd.cloanto.rp9":{source:"iana",extensions:["rp9"]},"application/vnd.clonk.c4group":{source:"iana",extensions:["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{source:"iana",extensions:["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{source:"iana",extensions:["c11amz"]},"application/vnd.coffeescript":{source:"iana"},"application/vnd.collabio.xodocuments.document":{source:"iana"},"application/vnd.collabio.xodocuments.document-template":{source:"iana"},"application/vnd.collabio.xodocuments.presentation":{source:"iana"},"application/vnd.collabio.xodocuments.presentation-template":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet-template":{source:"iana"},"application/vnd.collection+json":{source:"iana",compressible:!0},"application/vnd.collection.doc+json":{source:"iana",compressible:!0},"application/vnd.collection.next+json":{source:"iana",compressible:!0},"application/vnd.comicbook+zip":{source:"iana",compressible:!1},"application/vnd.comicbook-rar":{source:"iana"},"application/vnd.commerce-battelle":{source:"iana"},"application/vnd.commonspace":{source:"iana",extensions:["csp"]},"application/vnd.contact.cmsg":{source:"iana",extensions:["cdbcmsg"]},"application/vnd.coreos.ignition+json":{source:"iana",compressible:!0},"application/vnd.cosmocaller":{source:"iana",extensions:["cmc"]},"application/vnd.crick.clicker":{source:"iana",extensions:["clkx"]},"application/vnd.crick.clicker.keyboard":{source:"iana",extensions:["clkk"]},"application/vnd.crick.clicker.palette":{source:"iana",extensions:["clkp"]},"application/vnd.crick.clicker.template":{source:"iana",extensions:["clkt"]},"application/vnd.crick.clicker.wordbank":{source:"iana",extensions:["clkw"]},"application/vnd.criticaltools.wbs+xml":{source:"iana",compressible:!0,extensions:["wbs"]},"application/vnd.cryptii.pipe+json":{source:"iana",compressible:!0},"application/vnd.crypto-shade-file":{source:"iana"},"application/vnd.ctc-posml":{source:"iana",extensions:["pml"]},"application/vnd.ctct.ws+xml":{source:"iana",compressible:!0},"application/vnd.cups-pdf":{source:"iana"},"application/vnd.cups-postscript":{source:"iana"},"application/vnd.cups-ppd":{source:"iana",extensions:["ppd"]},"application/vnd.cups-raster":{source:"iana"},"application/vnd.cups-raw":{source:"iana"},"application/vnd.curl":{source:"iana"},"application/vnd.curl.car":{source:"apache",extensions:["car"]},"application/vnd.curl.pcurl":{source:"apache",extensions:["pcurl"]},"application/vnd.cyan.dean.root+xml":{source:"iana",compressible:!0},"application/vnd.cybank":{source:"iana"},"application/vnd.cyclonedx+json":{source:"iana",compressible:!0},"application/vnd.cyclonedx+xml":{source:"iana",compressible:!0},"application/vnd.d2l.coursepackage1p0+zip":{source:"iana",compressible:!1},"application/vnd.d3m-dataset":{source:"iana"},"application/vnd.d3m-problem":{source:"iana"},"application/vnd.dart":{source:"iana",compressible:!0,extensions:["dart"]},"application/vnd.data-vision.rdz":{source:"iana",extensions:["rdz"]},"application/vnd.datapackage+json":{source:"iana",compressible:!0},"application/vnd.dataresource+json":{source:"iana",compressible:!0},"application/vnd.dbf":{source:"iana",extensions:["dbf"]},"application/vnd.debian.binary-package":{source:"iana"},"application/vnd.dece.data":{source:"iana",extensions:["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{source:"iana",compressible:!0,extensions:["uvt","uvvt"]},"application/vnd.dece.unspecified":{source:"iana",extensions:["uvx","uvvx"]},"application/vnd.dece.zip":{source:"iana",extensions:["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{source:"iana",extensions:["fe_launch"]},"application/vnd.desmume.movie":{source:"iana"},"application/vnd.dir-bi.plate-dl-nosuffix":{source:"iana"},"application/vnd.dm.delegation+xml":{source:"iana",compressible:!0},"application/vnd.dna":{source:"iana",extensions:["dna"]},"application/vnd.document+json":{source:"iana",compressible:!0},"application/vnd.dolby.mlp":{source:"apache",extensions:["mlp"]},"application/vnd.dolby.mobile.1":{source:"iana"},"application/vnd.dolby.mobile.2":{source:"iana"},"application/vnd.doremir.scorecloud-binary-document":{source:"iana"},"application/vnd.dpgraph":{source:"iana",extensions:["dpg"]},"application/vnd.dreamfactory":{source:"iana",extensions:["dfac"]},"application/vnd.drive+json":{source:"iana",compressible:!0},"application/vnd.ds-keypoint":{source:"apache",extensions:["kpxx"]},"application/vnd.dtg.local":{source:"iana"},"application/vnd.dtg.local.flash":{source:"iana"},"application/vnd.dtg.local.html":{source:"iana"},"application/vnd.dvb.ait":{source:"iana",extensions:["ait"]},"application/vnd.dvb.dvbisl+xml":{source:"iana",compressible:!0},"application/vnd.dvb.dvbj":{source:"iana"},"application/vnd.dvb.esgcontainer":{source:"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess2":{source:"iana"},"application/vnd.dvb.ipdcesgpdd":{source:"iana"},"application/vnd.dvb.ipdcroaming":{source:"iana"},"application/vnd.dvb.iptv.alfec-base":{source:"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{source:"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-container+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-generic+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-msglist+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-request+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-response+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-init+xml":{source:"iana",compressible:!0},"application/vnd.dvb.pfr":{source:"iana"},"application/vnd.dvb.service":{source:"iana",extensions:["svc"]},"application/vnd.dxr":{source:"iana"},"application/vnd.dynageo":{source:"iana",extensions:["geo"]},"application/vnd.dzr":{source:"iana"},"application/vnd.easykaraoke.cdgdownload":{source:"iana"},"application/vnd.ecdis-update":{source:"iana"},"application/vnd.ecip.rlp":{source:"iana"},"application/vnd.ecowin.chart":{source:"iana",extensions:["mag"]},"application/vnd.ecowin.filerequest":{source:"iana"},"application/vnd.ecowin.fileupdate":{source:"iana"},"application/vnd.ecowin.series":{source:"iana"},"application/vnd.ecowin.seriesrequest":{source:"iana"},"application/vnd.ecowin.seriesupdate":{source:"iana"},"application/vnd.efi.img":{source:"iana"},"application/vnd.efi.iso":{source:"iana"},"application/vnd.emclient.accessrequest+xml":{source:"iana",compressible:!0},"application/vnd.enliven":{source:"iana",extensions:["nml"]},"application/vnd.enphase.envoy":{source:"iana"},"application/vnd.eprints.data+xml":{source:"iana",compressible:!0},"application/vnd.epson.esf":{source:"iana",extensions:["esf"]},"application/vnd.epson.msf":{source:"iana",extensions:["msf"]},"application/vnd.epson.quickanime":{source:"iana",extensions:["qam"]},"application/vnd.epson.salt":{source:"iana",extensions:["slt"]},"application/vnd.epson.ssf":{source:"iana",extensions:["ssf"]},"application/vnd.ericsson.quickcall":{source:"iana"},"application/vnd.espass-espass+zip":{source:"iana",compressible:!1},"application/vnd.eszigno3+xml":{source:"iana",compressible:!0,extensions:["es3","et3"]},"application/vnd.etsi.aoc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.asic-e+zip":{source:"iana",compressible:!1},"application/vnd.etsi.asic-s+zip":{source:"iana",compressible:!1},"application/vnd.etsi.cug+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvcommand+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-bc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-cod+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-npvr+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvservice+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsync+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvueprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mcid+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mheg5":{source:"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{source:"iana",compressible:!0},"application/vnd.etsi.pstn+xml":{source:"iana",compressible:!0},"application/vnd.etsi.sci+xml":{source:"iana",compressible:!0},"application/vnd.etsi.simservs+xml":{source:"iana",compressible:!0},"application/vnd.etsi.timestamp-token":{source:"iana"},"application/vnd.etsi.tsl+xml":{source:"iana",compressible:!0},"application/vnd.etsi.tsl.der":{source:"iana"},"application/vnd.eudora.data":{source:"iana"},"application/vnd.evolv.ecig.profile":{source:"iana"},"application/vnd.evolv.ecig.settings":{source:"iana"},"application/vnd.evolv.ecig.theme":{source:"iana"},"application/vnd.exstream-empower+zip":{source:"iana",compressible:!1},"application/vnd.exstream-package":{source:"iana"},"application/vnd.ezpix-album":{source:"iana",extensions:["ez2"]},"application/vnd.ezpix-package":{source:"iana",extensions:["ez3"]},"application/vnd.f-secure.mobile":{source:"iana"},"application/vnd.fastcopy-disk-image":{source:"iana"},"application/vnd.fdf":{source:"iana",extensions:["fdf"]},"application/vnd.fdsn.mseed":{source:"iana",extensions:["mseed"]},"application/vnd.fdsn.seed":{source:"iana",extensions:["seed","dataless"]},"application/vnd.ffsns":{source:"iana"},"application/vnd.ficlab.flb+zip":{source:"iana",compressible:!1},"application/vnd.filmit.zfc":{source:"iana"},"application/vnd.fints":{source:"iana"},"application/vnd.firemonkeys.cloudcell":{source:"iana"},"application/vnd.flographit":{source:"iana",extensions:["gph"]},"application/vnd.fluxtime.clip":{source:"iana",extensions:["ftc"]},"application/vnd.font-fontforge-sfd":{source:"iana"},"application/vnd.framemaker":{source:"iana",extensions:["fm","frame","maker","book"]},"application/vnd.frogans.fnc":{source:"iana",extensions:["fnc"]},"application/vnd.frogans.ltf":{source:"iana",extensions:["ltf"]},"application/vnd.fsc.weblaunch":{source:"iana",extensions:["fsc"]},"application/vnd.fujitsu.oasys":{source:"iana",extensions:["oas"]},"application/vnd.fujitsu.oasys2":{source:"iana",extensions:["oa2"]},"application/vnd.fujitsu.oasys3":{source:"iana",extensions:["oa3"]},"application/vnd.fujitsu.oasysgp":{source:"iana",extensions:["fg5"]},"application/vnd.fujitsu.oasysprs":{source:"iana",extensions:["bh2"]},"application/vnd.fujixerox.art-ex":{source:"iana"},"application/vnd.fujixerox.art4":{source:"iana"},"application/vnd.fujixerox.ddd":{source:"iana",extensions:["ddd"]},"application/vnd.fujixerox.docuworks":{source:"iana",extensions:["xdw"]},"application/vnd.fujixerox.docuworks.binder":{source:"iana",extensions:["xbd"]},"application/vnd.fujixerox.docuworks.container":{source:"iana"},"application/vnd.fujixerox.hbpl":{source:"iana"},"application/vnd.fut-misnet":{source:"iana"},"application/vnd.futoin+cbor":{source:"iana"},"application/vnd.futoin+json":{source:"iana",compressible:!0},"application/vnd.fuzzysheet":{source:"iana",extensions:["fzs"]},"application/vnd.genomatix.tuxedo":{source:"iana",extensions:["txd"]},"application/vnd.gentics.grd+json":{source:"iana",compressible:!0},"application/vnd.geo+json":{source:"iana",compressible:!0},"application/vnd.geocube+xml":{source:"iana",compressible:!0},"application/vnd.geogebra.file":{source:"iana",extensions:["ggb"]},"application/vnd.geogebra.slides":{source:"iana"},"application/vnd.geogebra.tool":{source:"iana",extensions:["ggt"]},"application/vnd.geometry-explorer":{source:"iana",extensions:["gex","gre"]},"application/vnd.geonext":{source:"iana",extensions:["gxt"]},"application/vnd.geoplan":{source:"iana",extensions:["g2w"]},"application/vnd.geospace":{source:"iana",extensions:["g3w"]},"application/vnd.gerber":{source:"iana"},"application/vnd.globalplatform.card-content-mgt":{source:"iana"},"application/vnd.globalplatform.card-content-mgt-response":{source:"iana"},"application/vnd.gmx":{source:"iana",extensions:["gmx"]},"application/vnd.google-apps.document":{compressible:!1,extensions:["gdoc"]},"application/vnd.google-apps.presentation":{compressible:!1,extensions:["gslides"]},"application/vnd.google-apps.spreadsheet":{compressible:!1,extensions:["gsheet"]},"application/vnd.google-earth.kml+xml":{source:"iana",compressible:!0,extensions:["kml"]},"application/vnd.google-earth.kmz":{source:"iana",compressible:!1,extensions:["kmz"]},"application/vnd.gov.sk.e-form+xml":{source:"iana",compressible:!0},"application/vnd.gov.sk.e-form+zip":{source:"iana",compressible:!1},"application/vnd.gov.sk.xmldatacontainer+xml":{source:"iana",compressible:!0},"application/vnd.grafeq":{source:"iana",extensions:["gqf","gqs"]},"application/vnd.gridmp":{source:"iana"},"application/vnd.groove-account":{source:"iana",extensions:["gac"]},"application/vnd.groove-help":{source:"iana",extensions:["ghf"]},"application/vnd.groove-identity-message":{source:"iana",extensions:["gim"]},"application/vnd.groove-injector":{source:"iana",extensions:["grv"]},"application/vnd.groove-tool-message":{source:"iana",extensions:["gtm"]},"application/vnd.groove-tool-template":{source:"iana",extensions:["tpl"]},"application/vnd.groove-vcard":{source:"iana",extensions:["vcg"]},"application/vnd.hal+json":{source:"iana",compressible:!0},"application/vnd.hal+xml":{source:"iana",compressible:!0,extensions:["hal"]},"application/vnd.handheld-entertainment+xml":{source:"iana",compressible:!0,extensions:["zmm"]},"application/vnd.hbci":{source:"iana",extensions:["hbci"]},"application/vnd.hc+json":{source:"iana",compressible:!0},"application/vnd.hcl-bireports":{source:"iana"},"application/vnd.hdt":{source:"iana"},"application/vnd.heroku+json":{source:"iana",compressible:!0},"application/vnd.hhe.lesson-player":{source:"iana",extensions:["les"]},"application/vnd.hp-hpgl":{source:"iana",extensions:["hpgl"]},"application/vnd.hp-hpid":{source:"iana",extensions:["hpid"]},"application/vnd.hp-hps":{source:"iana",extensions:["hps"]},"application/vnd.hp-jlyt":{source:"iana",extensions:["jlt"]},"application/vnd.hp-pcl":{source:"iana",extensions:["pcl"]},"application/vnd.hp-pclxl":{source:"iana",extensions:["pclxl"]},"application/vnd.httphone":{source:"iana"},"application/vnd.hydrostatix.sof-data":{source:"iana",extensions:["sfd-hdstx"]},"application/vnd.hyper+json":{source:"iana",compressible:!0},"application/vnd.hyper-item+json":{source:"iana",compressible:!0},"application/vnd.hyperdrive+json":{source:"iana",compressible:!0},"application/vnd.hzn-3d-crossword":{source:"iana"},"application/vnd.ibm.afplinedata":{source:"iana"},"application/vnd.ibm.electronic-media":{source:"iana"},"application/vnd.ibm.minipay":{source:"iana",extensions:["mpy"]},"application/vnd.ibm.modcap":{source:"iana",extensions:["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{source:"iana",extensions:["irm"]},"application/vnd.ibm.secure-container":{source:"iana",extensions:["sc"]},"application/vnd.iccprofile":{source:"iana",extensions:["icc","icm"]},"application/vnd.ieee.1905":{source:"iana"},"application/vnd.igloader":{source:"iana",extensions:["igl"]},"application/vnd.imagemeter.folder+zip":{source:"iana",compressible:!1},"application/vnd.imagemeter.image+zip":{source:"iana",compressible:!1},"application/vnd.immervision-ivp":{source:"iana",extensions:["ivp"]},"application/vnd.immervision-ivu":{source:"iana",extensions:["ivu"]},"application/vnd.ims.imsccv1p1":{source:"iana"},"application/vnd.ims.imsccv1p2":{source:"iana"},"application/vnd.ims.imsccv1p3":{source:"iana"},"application/vnd.ims.lis.v2.result+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy.id+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings.simple+json":{source:"iana",compressible:!0},"application/vnd.informedcontrol.rms+xml":{source:"iana",compressible:!0},"application/vnd.informix-visionary":{source:"iana"},"application/vnd.infotech.project":{source:"iana"},"application/vnd.infotech.project+xml":{source:"iana",compressible:!0},"application/vnd.innopath.wamp.notification":{source:"iana"},"application/vnd.insors.igm":{source:"iana",extensions:["igm"]},"application/vnd.intercon.formnet":{source:"iana",extensions:["xpw","xpx"]},"application/vnd.intergeo":{source:"iana",extensions:["i2g"]},"application/vnd.intertrust.digibox":{source:"iana"},"application/vnd.intertrust.nncp":{source:"iana"},"application/vnd.intu.qbo":{source:"iana",extensions:["qbo"]},"application/vnd.intu.qfx":{source:"iana",extensions:["qfx"]},"application/vnd.iptc.g2.catalogitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.conceptitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.knowledgeitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsmessage+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.packageitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.planningitem+xml":{source:"iana",compressible:!0},"application/vnd.ipunplugged.rcprofile":{source:"iana",extensions:["rcprofile"]},"application/vnd.irepository.package+xml":{source:"iana",compressible:!0,extensions:["irp"]},"application/vnd.is-xpr":{source:"iana",extensions:["xpr"]},"application/vnd.isac.fcs":{source:"iana",extensions:["fcs"]},"application/vnd.iso11783-10+zip":{source:"iana",compressible:!1},"application/vnd.jam":{source:"iana",extensions:["jam"]},"application/vnd.japannet-directory-service":{source:"iana"},"application/vnd.japannet-jpnstore-wakeup":{source:"iana"},"application/vnd.japannet-payment-wakeup":{source:"iana"},"application/vnd.japannet-registration":{source:"iana"},"application/vnd.japannet-registration-wakeup":{source:"iana"},"application/vnd.japannet-setstore-wakeup":{source:"iana"},"application/vnd.japannet-verification":{source:"iana"},"application/vnd.japannet-verification-wakeup":{source:"iana"},"application/vnd.jcp.javame.midlet-rms":{source:"iana",extensions:["rms"]},"application/vnd.jisp":{source:"iana",extensions:["jisp"]},"application/vnd.joost.joda-archive":{source:"iana",extensions:["joda"]},"application/vnd.jsk.isdn-ngn":{source:"iana"},"application/vnd.kahootz":{source:"iana",extensions:["ktz","ktr"]},"application/vnd.kde.karbon":{source:"iana",extensions:["karbon"]},"application/vnd.kde.kchart":{source:"iana",extensions:["chrt"]},"application/vnd.kde.kformula":{source:"iana",extensions:["kfo"]},"application/vnd.kde.kivio":{source:"iana",extensions:["flw"]},"application/vnd.kde.kontour":{source:"iana",extensions:["kon"]},"application/vnd.kde.kpresenter":{source:"iana",extensions:["kpr","kpt"]},"application/vnd.kde.kspread":{source:"iana",extensions:["ksp"]},"application/vnd.kde.kword":{source:"iana",extensions:["kwd","kwt"]},"application/vnd.kenameaapp":{source:"iana",extensions:["htke"]},"application/vnd.kidspiration":{source:"iana",extensions:["kia"]},"application/vnd.kinar":{source:"iana",extensions:["kne","knp"]},"application/vnd.koan":{source:"iana",extensions:["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{source:"iana",extensions:["sse"]},"application/vnd.las":{source:"iana"},"application/vnd.las.las+json":{source:"iana",compressible:!0},"application/vnd.las.las+xml":{source:"iana",compressible:!0,extensions:["lasxml"]},"application/vnd.laszip":{source:"iana"},"application/vnd.leap+json":{source:"iana",compressible:!0},"application/vnd.liberty-request+xml":{source:"iana",compressible:!0},"application/vnd.llamagraphics.life-balance.desktop":{source:"iana",extensions:["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{source:"iana",compressible:!0,extensions:["lbe"]},"application/vnd.logipipe.circuit+zip":{source:"iana",compressible:!1},"application/vnd.loom":{source:"iana"},"application/vnd.lotus-1-2-3":{source:"iana",extensions:["123"]},"application/vnd.lotus-approach":{source:"iana",extensions:["apr"]},"application/vnd.lotus-freelance":{source:"iana",extensions:["pre"]},"application/vnd.lotus-notes":{source:"iana",extensions:["nsf"]},"application/vnd.lotus-organizer":{source:"iana",extensions:["org"]},"application/vnd.lotus-screencam":{source:"iana",extensions:["scm"]},"application/vnd.lotus-wordpro":{source:"iana",extensions:["lwp"]},"application/vnd.macports.portpkg":{source:"iana",extensions:["portpkg"]},"application/vnd.mapbox-vector-tile":{source:"iana"},"application/vnd.marlin.drm.actiontoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.conftoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.license+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.mdcf":{source:"iana"},"application/vnd.mason+json":{source:"iana",compressible:!0},"application/vnd.maxmind.maxmind-db":{source:"iana"},"application/vnd.mcd":{source:"iana",extensions:["mcd"]},"application/vnd.medcalcdata":{source:"iana",extensions:["mc1"]},"application/vnd.mediastation.cdkey":{source:"iana",extensions:["cdkey"]},"application/vnd.meridian-slingshot":{source:"iana"},"application/vnd.mfer":{source:"iana",extensions:["mwf"]},"application/vnd.mfmp":{source:"iana",extensions:["mfm"]},"application/vnd.micro+json":{source:"iana",compressible:!0},"application/vnd.micrografx.flo":{source:"iana",extensions:["flo"]},"application/vnd.micrografx.igx":{source:"iana",extensions:["igx"]},"application/vnd.microsoft.portable-executable":{source:"iana"},"application/vnd.microsoft.windows.thumbnail-cache":{source:"iana"},"application/vnd.miele+json":{source:"iana",compressible:!0},"application/vnd.mif":{source:"iana",extensions:["mif"]},"application/vnd.minisoft-hp3000-save":{source:"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{source:"iana"},"application/vnd.mobius.daf":{source:"iana",extensions:["daf"]},"application/vnd.mobius.dis":{source:"iana",extensions:["dis"]},"application/vnd.mobius.mbk":{source:"iana",extensions:["mbk"]},"application/vnd.mobius.mqy":{source:"iana",extensions:["mqy"]},"application/vnd.mobius.msl":{source:"iana",extensions:["msl"]},"application/vnd.mobius.plc":{source:"iana",extensions:["plc"]},"application/vnd.mobius.txf":{source:"iana",extensions:["txf"]},"application/vnd.mophun.application":{source:"iana",extensions:["mpn"]},"application/vnd.mophun.certificate":{source:"iana",extensions:["mpc"]},"application/vnd.motorola.flexsuite":{source:"iana"},"application/vnd.motorola.flexsuite.adsi":{source:"iana"},"application/vnd.motorola.flexsuite.fis":{source:"iana"},"application/vnd.motorola.flexsuite.gotap":{source:"iana"},"application/vnd.motorola.flexsuite.kmr":{source:"iana"},"application/vnd.motorola.flexsuite.ttc":{source:"iana"},"application/vnd.motorola.flexsuite.wem":{source:"iana"},"application/vnd.motorola.iprm":{source:"iana"},"application/vnd.mozilla.xul+xml":{source:"iana",compressible:!0,extensions:["xul"]},"application/vnd.ms-3mfdocument":{source:"iana"},"application/vnd.ms-artgalry":{source:"iana",extensions:["cil"]},"application/vnd.ms-asf":{source:"iana"},"application/vnd.ms-cab-compressed":{source:"iana",extensions:["cab"]},"application/vnd.ms-color.iccprofile":{source:"apache"},"application/vnd.ms-excel":{source:"iana",compressible:!1,extensions:["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{source:"iana",extensions:["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{source:"iana",extensions:["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{source:"iana",extensions:["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{source:"iana",extensions:["xltm"]},"application/vnd.ms-fontobject":{source:"iana",compressible:!0,extensions:["eot"]},"application/vnd.ms-htmlhelp":{source:"iana",extensions:["chm"]},"application/vnd.ms-ims":{source:"iana",extensions:["ims"]},"application/vnd.ms-lrm":{source:"iana",extensions:["lrm"]},"application/vnd.ms-office.activex+xml":{source:"iana",compressible:!0},"application/vnd.ms-officetheme":{source:"iana",extensions:["thmx"]},"application/vnd.ms-opentype":{source:"apache",compressible:!0},"application/vnd.ms-outlook":{compressible:!1,extensions:["msg"]},"application/vnd.ms-package.obfuscated-opentype":{source:"apache"},"application/vnd.ms-pki.seccat":{source:"apache",extensions:["cat"]},"application/vnd.ms-pki.stl":{source:"apache",extensions:["stl"]},"application/vnd.ms-playready.initiator+xml":{source:"iana",compressible:!0},"application/vnd.ms-powerpoint":{source:"iana",compressible:!1,extensions:["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{source:"iana",extensions:["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{source:"iana",extensions:["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{source:"iana",extensions:["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{source:"iana",extensions:["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{source:"iana",extensions:["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{source:"iana",compressible:!0},"application/vnd.ms-printing.printticket+xml":{source:"apache",compressible:!0},"application/vnd.ms-printschematicket+xml":{source:"iana",compressible:!0},"application/vnd.ms-project":{source:"iana",extensions:["mpp","mpt"]},"application/vnd.ms-tnef":{source:"iana"},"application/vnd.ms-windows.devicepairing":{source:"iana"},"application/vnd.ms-windows.nwprinting.oob":{source:"iana"},"application/vnd.ms-windows.printerpairing":{source:"iana"},"application/vnd.ms-windows.wsd.oob":{source:"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.lic-resp":{source:"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.meter-resp":{source:"iana"},"application/vnd.ms-word.document.macroenabled.12":{source:"iana",extensions:["docm"]},"application/vnd.ms-word.template.macroenabled.12":{source:"iana",extensions:["dotm"]},"application/vnd.ms-works":{source:"iana",extensions:["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{source:"iana",extensions:["wpl"]},"application/vnd.ms-xpsdocument":{source:"iana",compressible:!1,extensions:["xps"]},"application/vnd.msa-disk-image":{source:"iana"},"application/vnd.mseq":{source:"iana",extensions:["mseq"]},"application/vnd.msign":{source:"iana"},"application/vnd.multiad.creator":{source:"iana"},"application/vnd.multiad.creator.cif":{source:"iana"},"application/vnd.music-niff":{source:"iana"},"application/vnd.musician":{source:"iana",extensions:["mus"]},"application/vnd.muvee.style":{source:"iana",extensions:["msty"]},"application/vnd.mynfc":{source:"iana",extensions:["taglet"]},"application/vnd.ncd.control":{source:"iana"},"application/vnd.ncd.reference":{source:"iana"},"application/vnd.nearst.inv+json":{source:"iana",compressible:!0},"application/vnd.nervana":{source:"iana"},"application/vnd.netfpx":{source:"iana"},"application/vnd.neurolanguage.nlu":{source:"iana",extensions:["nlu"]},"application/vnd.nimn":{source:"iana"},"application/vnd.nintendo.nitro.rom":{source:"iana"},"application/vnd.nintendo.snes.rom":{source:"iana"},"application/vnd.nitf":{source:"iana",extensions:["ntf","nitf"]},"application/vnd.noblenet-directory":{source:"iana",extensions:["nnd"]},"application/vnd.noblenet-sealer":{source:"iana",extensions:["nns"]},"application/vnd.noblenet-web":{source:"iana",extensions:["nnw"]},"application/vnd.nokia.catalogs":{source:"iana"},"application/vnd.nokia.conml+wbxml":{source:"iana"},"application/vnd.nokia.conml+xml":{source:"iana",compressible:!0},"application/vnd.nokia.iptv.config+xml":{source:"iana",compressible:!0},"application/vnd.nokia.isds-radio-presets":{source:"iana"},"application/vnd.nokia.landmark+wbxml":{source:"iana"},"application/vnd.nokia.landmark+xml":{source:"iana",compressible:!0},"application/vnd.nokia.landmarkcollection+xml":{source:"iana",compressible:!0},"application/vnd.nokia.n-gage.ac+xml":{source:"iana",compressible:!0,extensions:["ac"]},"application/vnd.nokia.n-gage.data":{source:"iana",extensions:["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{source:"iana",extensions:["n-gage"]},"application/vnd.nokia.ncd":{source:"iana"},"application/vnd.nokia.pcd+wbxml":{source:"iana"},"application/vnd.nokia.pcd+xml":{source:"iana",compressible:!0},"application/vnd.nokia.radio-preset":{source:"iana",extensions:["rpst"]},"application/vnd.nokia.radio-presets":{source:"iana",extensions:["rpss"]},"application/vnd.novadigm.edm":{source:"iana",extensions:["edm"]},"application/vnd.novadigm.edx":{source:"iana",extensions:["edx"]},"application/vnd.novadigm.ext":{source:"iana",extensions:["ext"]},"application/vnd.ntt-local.content-share":{source:"iana"},"application/vnd.ntt-local.file-transfer":{source:"iana"},"application/vnd.ntt-local.ogw_remote-access":{source:"iana"},"application/vnd.ntt-local.sip-ta_remote":{source:"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{source:"iana"},"application/vnd.oasis.opendocument.chart":{source:"iana",extensions:["odc"]},"application/vnd.oasis.opendocument.chart-template":{source:"iana",extensions:["otc"]},"application/vnd.oasis.opendocument.database":{source:"iana",extensions:["odb"]},"application/vnd.oasis.opendocument.formula":{source:"iana",extensions:["odf"]},"application/vnd.oasis.opendocument.formula-template":{source:"iana",extensions:["odft"]},"application/vnd.oasis.opendocument.graphics":{source:"iana",compressible:!1,extensions:["odg"]},"application/vnd.oasis.opendocument.graphics-template":{source:"iana",extensions:["otg"]},"application/vnd.oasis.opendocument.image":{source:"iana",extensions:["odi"]},"application/vnd.oasis.opendocument.image-template":{source:"iana",extensions:["oti"]},"application/vnd.oasis.opendocument.presentation":{source:"iana",compressible:!1,extensions:["odp"]},"application/vnd.oasis.opendocument.presentation-template":{source:"iana",extensions:["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{source:"iana",compressible:!1,extensions:["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{source:"iana",extensions:["ots"]},"application/vnd.oasis.opendocument.text":{source:"iana",compressible:!1,extensions:["odt"]},"application/vnd.oasis.opendocument.text-master":{source:"iana",extensions:["odm"]},"application/vnd.oasis.opendocument.text-template":{source:"iana",extensions:["ott"]},"application/vnd.oasis.opendocument.text-web":{source:"iana",extensions:["oth"]},"application/vnd.obn":{source:"iana"},"application/vnd.ocf+cbor":{source:"iana"},"application/vnd.oci.image.manifest.v1+json":{source:"iana",compressible:!0},"application/vnd.oftn.l10n+json":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessdownload+xml":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessstreaming+xml":{source:"iana",compressible:!0},"application/vnd.oipf.cspg-hexbinary":{source:"iana"},"application/vnd.oipf.dae.svg+xml":{source:"iana",compressible:!0},"application/vnd.oipf.dae.xhtml+xml":{source:"iana",compressible:!0},"application/vnd.oipf.mippvcontrolmessage+xml":{source:"iana",compressible:!0},"application/vnd.oipf.pae.gem":{source:"iana"},"application/vnd.oipf.spdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.oipf.spdlist+xml":{source:"iana",compressible:!0},"application/vnd.oipf.ueprofile+xml":{source:"iana",compressible:!0},"application/vnd.oipf.userprofile+xml":{source:"iana",compressible:!0},"application/vnd.olpc-sugar":{source:"iana",extensions:["xo"]},"application/vnd.oma-scws-config":{source:"iana"},"application/vnd.oma-scws-http-request":{source:"iana"},"application/vnd.oma-scws-http-response":{source:"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.drm-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.imd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.ltkm":{source:"iana"},"application/vnd.oma.bcast.notification+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.provisioningtrigger":{source:"iana"},"application/vnd.oma.bcast.sgboot":{source:"iana"},"application/vnd.oma.bcast.sgdd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sgdu":{source:"iana"},"application/vnd.oma.bcast.simple-symbol-container":{source:"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sprov+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.stkm":{source:"iana"},"application/vnd.oma.cab-address-book+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-feature-handler+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-pcc+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-subs-invite+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-user-prefs+xml":{source:"iana",compressible:!0},"application/vnd.oma.dcd":{source:"iana"},"application/vnd.oma.dcdc":{source:"iana"},"application/vnd.oma.dd2+xml":{source:"iana",compressible:!0,extensions:["dd2"]},"application/vnd.oma.drm.risd+xml":{source:"iana",compressible:!0},"application/vnd.oma.group-usage-list+xml":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+cbor":{source:"iana"},"application/vnd.oma.lwm2m+json":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+tlv":{source:"iana"},"application/vnd.oma.pal+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.detailed-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.final-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.groups+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.invocation-descriptor+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.optimized-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.push":{source:"iana"},"application/vnd.oma.scidm.messages+xml":{source:"iana",compressible:!0},"application/vnd.oma.xcap-directory+xml":{source:"iana",compressible:!0},"application/vnd.omads-email+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-file+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-folder+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omaloc-supl-init":{source:"iana"},"application/vnd.onepager":{source:"iana"},"application/vnd.onepagertamp":{source:"iana"},"application/vnd.onepagertamx":{source:"iana"},"application/vnd.onepagertat":{source:"iana"},"application/vnd.onepagertatp":{source:"iana"},"application/vnd.onepagertatx":{source:"iana"},"application/vnd.openblox.game+xml":{source:"iana",compressible:!0,extensions:["obgx"]},"application/vnd.openblox.game-binary":{source:"iana"},"application/vnd.openeye.oeb":{source:"iana"},"application/vnd.openofficeorg.extension":{source:"apache",extensions:["oxt"]},"application/vnd.openstreetmap.data+xml":{source:"iana",compressible:!0,extensions:["osm"]},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawing+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{source:"iana",compressible:!1,extensions:["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slide":{source:"iana",extensions:["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{source:"iana",extensions:["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.template":{source:"iana",extensions:["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{source:"iana",compressible:!1,extensions:["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{source:"iana",extensions:["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.theme+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.vmldrawing":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{source:"iana",compressible:!1,extensions:["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{source:"iana",extensions:["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.core-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.relationships+xml":{source:"iana",compressible:!0},"application/vnd.oracle.resource+json":{source:"iana",compressible:!0},"application/vnd.orange.indata":{source:"iana"},"application/vnd.osa.netdeploy":{source:"iana"},"application/vnd.osgeo.mapguide.package":{source:"iana",extensions:["mgp"]},"application/vnd.osgi.bundle":{source:"iana"},"application/vnd.osgi.dp":{source:"iana",extensions:["dp"]},"application/vnd.osgi.subsystem":{source:"iana",extensions:["esa"]},"application/vnd.otps.ct-kip+xml":{source:"iana",compressible:!0},"application/vnd.oxli.countgraph":{source:"iana"},"application/vnd.pagerduty+json":{source:"iana",compressible:!0},"application/vnd.palm":{source:"iana",extensions:["pdb","pqa","oprc"]},"application/vnd.panoply":{source:"iana"},"application/vnd.paos.xml":{source:"iana"},"application/vnd.patentdive":{source:"iana"},"application/vnd.patientecommsdoc":{source:"iana"},"application/vnd.pawaafile":{source:"iana",extensions:["paw"]},"application/vnd.pcos":{source:"iana"},"application/vnd.pg.format":{source:"iana",extensions:["str"]},"application/vnd.pg.osasli":{source:"iana",extensions:["ei6"]},"application/vnd.piaccess.application-licence":{source:"iana"},"application/vnd.picsel":{source:"iana",extensions:["efif"]},"application/vnd.pmi.widget":{source:"iana",extensions:["wg"]},"application/vnd.poc.group-advertisement+xml":{source:"iana",compressible:!0},"application/vnd.pocketlearn":{source:"iana",extensions:["plf"]},"application/vnd.powerbuilder6":{source:"iana",extensions:["pbd"]},"application/vnd.powerbuilder6-s":{source:"iana"},"application/vnd.powerbuilder7":{source:"iana"},"application/vnd.powerbuilder7-s":{source:"iana"},"application/vnd.powerbuilder75":{source:"iana"},"application/vnd.powerbuilder75-s":{source:"iana"},"application/vnd.preminet":{source:"iana"},"application/vnd.previewsystems.box":{source:"iana",extensions:["box"]},"application/vnd.proteus.magazine":{source:"iana",extensions:["mgz"]},"application/vnd.psfs":{source:"iana"},"application/vnd.publishare-delta-tree":{source:"iana",extensions:["qps"]},"application/vnd.pvi.ptid1":{source:"iana",extensions:["ptid"]},"application/vnd.pwg-multiplexed":{source:"iana"},"application/vnd.pwg-xhtml-print+xml":{source:"iana",compressible:!0},"application/vnd.qualcomm.brew-app-res":{source:"iana"},"application/vnd.quarantainenet":{source:"iana"},"application/vnd.quark.quarkxpress":{source:"iana",extensions:["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{source:"iana"},"application/vnd.radisys.moml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conn+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-stream+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-base+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-detect+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-group+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-speech+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-transform+xml":{source:"iana",compressible:!0},"application/vnd.rainstor.data":{source:"iana"},"application/vnd.rapid":{source:"iana"},"application/vnd.rar":{source:"iana",extensions:["rar"]},"application/vnd.realvnc.bed":{source:"iana",extensions:["bed"]},"application/vnd.recordare.musicxml":{source:"iana",extensions:["mxl"]},"application/vnd.recordare.musicxml+xml":{source:"iana",compressible:!0,extensions:["musicxml"]},"application/vnd.renlearn.rlprint":{source:"iana"},"application/vnd.restful+json":{source:"iana",compressible:!0},"application/vnd.rig.cryptonote":{source:"iana",extensions:["cryptonote"]},"application/vnd.rim.cod":{source:"apache",extensions:["cod"]},"application/vnd.rn-realmedia":{source:"apache",extensions:["rm"]},"application/vnd.rn-realmedia-vbr":{source:"apache",extensions:["rmvb"]},"application/vnd.route66.link66+xml":{source:"iana",compressible:!0,extensions:["link66"]},"application/vnd.rs-274x":{source:"iana"},"application/vnd.ruckus.download":{source:"iana"},"application/vnd.s3sms":{source:"iana"},"application/vnd.sailingtracker.track":{source:"iana",extensions:["st"]},"application/vnd.sar":{source:"iana"},"application/vnd.sbm.cid":{source:"iana"},"application/vnd.sbm.mid2":{source:"iana"},"application/vnd.scribus":{source:"iana"},"application/vnd.sealed.3df":{source:"iana"},"application/vnd.sealed.csf":{source:"iana"},"application/vnd.sealed.doc":{source:"iana"},"application/vnd.sealed.eml":{source:"iana"},"application/vnd.sealed.mht":{source:"iana"},"application/vnd.sealed.net":{source:"iana"},"application/vnd.sealed.ppt":{source:"iana"},"application/vnd.sealed.tiff":{source:"iana"},"application/vnd.sealed.xls":{source:"iana"},"application/vnd.sealedmedia.softseal.html":{source:"iana"},"application/vnd.sealedmedia.softseal.pdf":{source:"iana"},"application/vnd.seemail":{source:"iana",extensions:["see"]},"application/vnd.seis+json":{source:"iana",compressible:!0},"application/vnd.sema":{source:"iana",extensions:["sema"]},"application/vnd.semd":{source:"iana",extensions:["semd"]},"application/vnd.semf":{source:"iana",extensions:["semf"]},"application/vnd.shade-save-file":{source:"iana"},"application/vnd.shana.informed.formdata":{source:"iana",extensions:["ifm"]},"application/vnd.shana.informed.formtemplate":{source:"iana",extensions:["itp"]},"application/vnd.shana.informed.interchange":{source:"iana",extensions:["iif"]},"application/vnd.shana.informed.package":{source:"iana",extensions:["ipk"]},"application/vnd.shootproof+json":{source:"iana",compressible:!0},"application/vnd.shopkick+json":{source:"iana",compressible:!0},"application/vnd.shp":{source:"iana"},"application/vnd.shx":{source:"iana"},"application/vnd.sigrok.session":{source:"iana"},"application/vnd.simtech-mindmapper":{source:"iana",extensions:["twd","twds"]},"application/vnd.siren+json":{source:"iana",compressible:!0},"application/vnd.smaf":{source:"iana",extensions:["mmf"]},"application/vnd.smart.notebook":{source:"iana"},"application/vnd.smart.teacher":{source:"iana",extensions:["teacher"]},"application/vnd.snesdev-page-table":{source:"iana"},"application/vnd.software602.filler.form+xml":{source:"iana",compressible:!0,extensions:["fo"]},"application/vnd.software602.filler.form-xml-zip":{source:"iana"},"application/vnd.solent.sdkm+xml":{source:"iana",compressible:!0,extensions:["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{source:"iana",extensions:["dxp"]},"application/vnd.spotfire.sfs":{source:"iana",extensions:["sfs"]},"application/vnd.sqlite3":{source:"iana"},"application/vnd.sss-cod":{source:"iana"},"application/vnd.sss-dtf":{source:"iana"},"application/vnd.sss-ntf":{source:"iana"},"application/vnd.stardivision.calc":{source:"apache",extensions:["sdc"]},"application/vnd.stardivision.draw":{source:"apache",extensions:["sda"]},"application/vnd.stardivision.impress":{source:"apache",extensions:["sdd"]},"application/vnd.stardivision.math":{source:"apache",extensions:["smf"]},"application/vnd.stardivision.writer":{source:"apache",extensions:["sdw","vor"]},"application/vnd.stardivision.writer-global":{source:"apache",extensions:["sgl"]},"application/vnd.stepmania.package":{source:"iana",extensions:["smzip"]},"application/vnd.stepmania.stepchart":{source:"iana",extensions:["sm"]},"application/vnd.street-stream":{source:"iana"},"application/vnd.sun.wadl+xml":{source:"iana",compressible:!0,extensions:["wadl"]},"application/vnd.sun.xml.calc":{source:"apache",extensions:["sxc"]},"application/vnd.sun.xml.calc.template":{source:"apache",extensions:["stc"]},"application/vnd.sun.xml.draw":{source:"apache",extensions:["sxd"]},"application/vnd.sun.xml.draw.template":{source:"apache",extensions:["std"]},"application/vnd.sun.xml.impress":{source:"apache",extensions:["sxi"]},"application/vnd.sun.xml.impress.template":{source:"apache",extensions:["sti"]},"application/vnd.sun.xml.math":{source:"apache",extensions:["sxm"]},"application/vnd.sun.xml.writer":{source:"apache",extensions:["sxw"]},"application/vnd.sun.xml.writer.global":{source:"apache",extensions:["sxg"]},"application/vnd.sun.xml.writer.template":{source:"apache",extensions:["stw"]},"application/vnd.sus-calendar":{source:"iana",extensions:["sus","susp"]},"application/vnd.svd":{source:"iana",extensions:["svd"]},"application/vnd.swiftview-ics":{source:"iana"},"application/vnd.sycle+xml":{source:"iana",compressible:!0},"application/vnd.symbian.install":{source:"apache",extensions:["sis","sisx"]},"application/vnd.syncml+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xsm"]},"application/vnd.syncml.dm+wbxml":{source:"iana",charset:"UTF-8",extensions:["bdm"]},"application/vnd.syncml.dm+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xdm"]},"application/vnd.syncml.dm.notification":{source:"iana"},"application/vnd.syncml.dmddf+wbxml":{source:"iana"},"application/vnd.syncml.dmddf+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["ddf"]},"application/vnd.syncml.dmtnds+wbxml":{source:"iana"},"application/vnd.syncml.dmtnds+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.syncml.ds.notification":{source:"iana"},"application/vnd.tableschema+json":{source:"iana",compressible:!0},"application/vnd.tao.intent-module-archive":{source:"iana",extensions:["tao"]},"application/vnd.tcpdump.pcap":{source:"iana",extensions:["pcap","cap","dmp"]},"application/vnd.think-cell.ppttc+json":{source:"iana",compressible:!0},"application/vnd.tmd.mediaflex.api+xml":{source:"iana",compressible:!0},"application/vnd.tml":{source:"iana"},"application/vnd.tmobile-livetv":{source:"iana",extensions:["tmo"]},"application/vnd.tri.onesource":{source:"iana"},"application/vnd.trid.tpt":{source:"iana",extensions:["tpt"]},"application/vnd.triscape.mxs":{source:"iana",extensions:["mxs"]},"application/vnd.trueapp":{source:"iana",extensions:["tra"]},"application/vnd.truedoc":{source:"iana"},"application/vnd.ubisoft.webplayer":{source:"iana"},"application/vnd.ufdl":{source:"iana",extensions:["ufd","ufdl"]},"application/vnd.uiq.theme":{source:"iana",extensions:["utz"]},"application/vnd.umajin":{source:"iana",extensions:["umj"]},"application/vnd.unity":{source:"iana",extensions:["unityweb"]},"application/vnd.uoml+xml":{source:"iana",compressible:!0,extensions:["uoml"]},"application/vnd.uplanet.alert":{source:"iana"},"application/vnd.uplanet.alert-wbxml":{source:"iana"},"application/vnd.uplanet.bearer-choice":{source:"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{source:"iana"},"application/vnd.uplanet.cacheop":{source:"iana"},"application/vnd.uplanet.cacheop-wbxml":{source:"iana"},"application/vnd.uplanet.channel":{source:"iana"},"application/vnd.uplanet.channel-wbxml":{source:"iana"},"application/vnd.uplanet.list":{source:"iana"},"application/vnd.uplanet.list-wbxml":{source:"iana"},"application/vnd.uplanet.listcmd":{source:"iana"},"application/vnd.uplanet.listcmd-wbxml":{source:"iana"},"application/vnd.uplanet.signal":{source:"iana"},"application/vnd.uri-map":{source:"iana"},"application/vnd.valve.source.material":{source:"iana"},"application/vnd.vcx":{source:"iana",extensions:["vcx"]},"application/vnd.vd-study":{source:"iana"},"application/vnd.vectorworks":{source:"iana"},"application/vnd.vel+json":{source:"iana",compressible:!0},"application/vnd.verimatrix.vcas":{source:"iana"},"application/vnd.veryant.thin":{source:"iana"},"application/vnd.ves.encrypted":{source:"iana"},"application/vnd.vidsoft.vidconference":{source:"iana"},"application/vnd.visio":{source:"iana",extensions:["vsd","vst","vss","vsw"]},"application/vnd.visionary":{source:"iana",extensions:["vis"]},"application/vnd.vividence.scriptfile":{source:"iana"},"application/vnd.vsf":{source:"iana",extensions:["vsf"]},"application/vnd.wap.sic":{source:"iana"},"application/vnd.wap.slc":{source:"iana"},"application/vnd.wap.wbxml":{source:"iana",charset:"UTF-8",extensions:["wbxml"]},"application/vnd.wap.wmlc":{source:"iana",extensions:["wmlc"]},"application/vnd.wap.wmlscriptc":{source:"iana",extensions:["wmlsc"]},"application/vnd.webturbo":{source:"iana",extensions:["wtb"]},"application/vnd.wfa.dpp":{source:"iana"},"application/vnd.wfa.p2p":{source:"iana"},"application/vnd.wfa.wsc":{source:"iana"},"application/vnd.windows.devicepairing":{source:"iana"},"application/vnd.wmc":{source:"iana"},"application/vnd.wmf.bootstrap":{source:"iana"},"application/vnd.wolfram.mathematica":{source:"iana"},"application/vnd.wolfram.mathematica.package":{source:"iana"},"application/vnd.wolfram.player":{source:"iana",extensions:["nbp"]},"application/vnd.wordperfect":{source:"iana",extensions:["wpd"]},"application/vnd.wqd":{source:"iana",extensions:["wqd"]},"application/vnd.wrq-hp3000-labelled":{source:"iana"},"application/vnd.wt.stf":{source:"iana",extensions:["stf"]},"application/vnd.wv.csp+wbxml":{source:"iana"},"application/vnd.wv.csp+xml":{source:"iana",compressible:!0},"application/vnd.wv.ssp+xml":{source:"iana",compressible:!0},"application/vnd.xacml+json":{source:"iana",compressible:!0},"application/vnd.xara":{source:"iana",extensions:["xar"]},"application/vnd.xfdl":{source:"iana",extensions:["xfdl"]},"application/vnd.xfdl.webform":{source:"iana"},"application/vnd.xmi+xml":{source:"iana",compressible:!0},"application/vnd.xmpie.cpkg":{source:"iana"},"application/vnd.xmpie.dpkg":{source:"iana"},"application/vnd.xmpie.plan":{source:"iana"},"application/vnd.xmpie.ppkg":{source:"iana"},"application/vnd.xmpie.xlim":{source:"iana"},"application/vnd.yamaha.hv-dic":{source:"iana",extensions:["hvd"]},"application/vnd.yamaha.hv-script":{source:"iana",extensions:["hvs"]},"application/vnd.yamaha.hv-voice":{source:"iana",extensions:["hvp"]},"application/vnd.yamaha.openscoreformat":{source:"iana",extensions:["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{source:"iana",compressible:!0,extensions:["osfpvg"]},"application/vnd.yamaha.remote-setup":{source:"iana"},"application/vnd.yamaha.smaf-audio":{source:"iana",extensions:["saf"]},"application/vnd.yamaha.smaf-phrase":{source:"iana",extensions:["spf"]},"application/vnd.yamaha.through-ngn":{source:"iana"},"application/vnd.yamaha.tunnel-udpencap":{source:"iana"},"application/vnd.yaoweme":{source:"iana"},"application/vnd.yellowriver-custom-menu":{source:"iana",extensions:["cmp"]},"application/vnd.youtube.yt":{source:"iana"},"application/vnd.zul":{source:"iana",extensions:["zir","zirz"]},"application/vnd.zzazz.deck+xml":{source:"iana",compressible:!0,extensions:["zaz"]},"application/voicexml+xml":{source:"iana",compressible:!0,extensions:["vxml"]},"application/voucher-cms+json":{source:"iana",compressible:!0},"application/vq-rtcpxr":{source:"iana"},"application/wasm":{compressible:!0,extensions:["wasm"]},"application/watcherinfo+xml":{source:"iana",compressible:!0},"application/webpush-options+json":{source:"iana",compressible:!0},"application/whoispp-query":{source:"iana"},"application/whoispp-response":{source:"iana"},"application/widget":{source:"iana",extensions:["wgt"]},"application/winhlp":{source:"apache",extensions:["hlp"]},"application/wita":{source:"iana"},"application/wordperfect5.1":{source:"iana"},"application/wsdl+xml":{source:"iana",compressible:!0,extensions:["wsdl"]},"application/wspolicy+xml":{source:"iana",compressible:!0,extensions:["wspolicy"]},"application/x-7z-compressed":{source:"apache",compressible:!1,extensions:["7z"]},"application/x-abiword":{source:"apache",extensions:["abw"]},"application/x-ace-compressed":{source:"apache",extensions:["ace"]},"application/x-amf":{source:"apache"},"application/x-apple-diskimage":{source:"apache",extensions:["dmg"]},"application/x-arj":{compressible:!1,extensions:["arj"]},"application/x-authorware-bin":{source:"apache",extensions:["aab","x32","u32","vox"]},"application/x-authorware-map":{source:"apache",extensions:["aam"]},"application/x-authorware-seg":{source:"apache",extensions:["aas"]},"application/x-bcpio":{source:"apache",extensions:["bcpio"]},"application/x-bdoc":{compressible:!1,extensions:["bdoc"]},"application/x-bittorrent":{source:"apache",extensions:["torrent"]},"application/x-blorb":{source:"apache",extensions:["blb","blorb"]},"application/x-bzip":{source:"apache",compressible:!1,extensions:["bz"]},"application/x-bzip2":{source:"apache",compressible:!1,extensions:["bz2","boz"]},"application/x-cbr":{source:"apache",extensions:["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{source:"apache",extensions:["vcd"]},"application/x-cfs-compressed":{source:"apache",extensions:["cfs"]},"application/x-chat":{source:"apache",extensions:["chat"]},"application/x-chess-pgn":{source:"apache",extensions:["pgn"]},"application/x-chrome-extension":{extensions:["crx"]},"application/x-cocoa":{source:"nginx",extensions:["cco"]},"application/x-compress":{source:"apache"},"application/x-conference":{source:"apache",extensions:["nsc"]},"application/x-cpio":{source:"apache",extensions:["cpio"]},"application/x-csh":{source:"apache",extensions:["csh"]},"application/x-deb":{compressible:!1},"application/x-debian-package":{source:"apache",extensions:["deb","udeb"]},"application/x-dgc-compressed":{source:"apache",extensions:["dgc"]},"application/x-director":{source:"apache",extensions:["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{source:"apache",extensions:["wad"]},"application/x-dtbncx+xml":{source:"apache",compressible:!0,extensions:["ncx"]},"application/x-dtbook+xml":{source:"apache",compressible:!0,extensions:["dtb"]},"application/x-dtbresource+xml":{source:"apache",compressible:!0,extensions:["res"]},"application/x-dvi":{source:"apache",compressible:!1,extensions:["dvi"]},"application/x-envoy":{source:"apache",extensions:["evy"]},"application/x-eva":{source:"apache",extensions:["eva"]},"application/x-font-bdf":{source:"apache",extensions:["bdf"]},"application/x-font-dos":{source:"apache"},"application/x-font-framemaker":{source:"apache"},"application/x-font-ghostscript":{source:"apache",extensions:["gsf"]},"application/x-font-libgrx":{source:"apache"},"application/x-font-linux-psf":{source:"apache",extensions:["psf"]},"application/x-font-pcf":{source:"apache",extensions:["pcf"]},"application/x-font-snf":{source:"apache",extensions:["snf"]},"application/x-font-speedo":{source:"apache"},"application/x-font-sunos-news":{source:"apache"},"application/x-font-type1":{source:"apache",extensions:["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{source:"apache"},"application/x-freearc":{source:"apache",extensions:["arc"]},"application/x-futuresplash":{source:"apache",extensions:["spl"]},"application/x-gca-compressed":{source:"apache",extensions:["gca"]},"application/x-glulx":{source:"apache",extensions:["ulx"]},"application/x-gnumeric":{source:"apache",extensions:["gnumeric"]},"application/x-gramps-xml":{source:"apache",extensions:["gramps"]},"application/x-gtar":{source:"apache",extensions:["gtar"]},"application/x-gzip":{source:"apache"},"application/x-hdf":{source:"apache",extensions:["hdf"]},"application/x-httpd-php":{compressible:!0,extensions:["php"]},"application/x-install-instructions":{source:"apache",extensions:["install"]},"application/x-iso9660-image":{source:"apache",extensions:["iso"]},"application/x-java-archive-diff":{source:"nginx",extensions:["jardiff"]},"application/x-java-jnlp-file":{source:"apache",compressible:!1,extensions:["jnlp"]},"application/x-javascript":{compressible:!0},"application/x-keepass2":{extensions:["kdbx"]},"application/x-latex":{source:"apache",compressible:!1,extensions:["latex"]},"application/x-lua-bytecode":{extensions:["luac"]},"application/x-lzh-compressed":{source:"apache",extensions:["lzh","lha"]},"application/x-makeself":{source:"nginx",extensions:["run"]},"application/x-mie":{source:"apache",extensions:["mie"]},"application/x-mobipocket-ebook":{source:"apache",extensions:["prc","mobi"]},"application/x-mpegurl":{compressible:!1},"application/x-ms-application":{source:"apache",extensions:["application"]},"application/x-ms-shortcut":{source:"apache",extensions:["lnk"]},"application/x-ms-wmd":{source:"apache",extensions:["wmd"]},"application/x-ms-wmz":{source:"apache",extensions:["wmz"]},"application/x-ms-xbap":{source:"apache",extensions:["xbap"]},"application/x-msaccess":{source:"apache",extensions:["mdb"]},"application/x-msbinder":{source:"apache",extensions:["obd"]},"application/x-mscardfile":{source:"apache",extensions:["crd"]},"application/x-msclip":{source:"apache",extensions:["clp"]},"application/x-msdos-program":{extensions:["exe"]},"application/x-msdownload":{source:"apache",extensions:["exe","dll","com","bat","msi"]},"application/x-msmediaview":{source:"apache",extensions:["mvb","m13","m14"]},"application/x-msmetafile":{source:"apache",extensions:["wmf","wmz","emf","emz"]},"application/x-msmoney":{source:"apache",extensions:["mny"]},"application/x-mspublisher":{source:"apache",extensions:["pub"]},"application/x-msschedule":{source:"apache",extensions:["scd"]},"application/x-msterminal":{source:"apache",extensions:["trm"]},"application/x-mswrite":{source:"apache",extensions:["wri"]},"application/x-netcdf":{source:"apache",extensions:["nc","cdf"]},"application/x-ns-proxy-autoconfig":{compressible:!0,extensions:["pac"]},"application/x-nzb":{source:"apache",extensions:["nzb"]},"application/x-perl":{source:"nginx",extensions:["pl","pm"]},"application/x-pilot":{source:"nginx",extensions:["prc","pdb"]},"application/x-pkcs12":{source:"apache",compressible:!1,extensions:["p12","pfx"]},"application/x-pkcs7-certificates":{source:"apache",extensions:["p7b","spc"]},"application/x-pkcs7-certreqresp":{source:"apache",extensions:["p7r"]},"application/x-pki-message":{source:"iana"},"application/x-rar-compressed":{source:"apache",compressible:!1,extensions:["rar"]},"application/x-redhat-package-manager":{source:"nginx",extensions:["rpm"]},"application/x-research-info-systems":{source:"apache",extensions:["ris"]},"application/x-sea":{source:"nginx",extensions:["sea"]},"application/x-sh":{source:"apache",compressible:!0,extensions:["sh"]},"application/x-shar":{source:"apache",extensions:["shar"]},"application/x-shockwave-flash":{source:"apache",compressible:!1,extensions:["swf"]},"application/x-silverlight-app":{source:"apache",extensions:["xap"]},"application/x-sql":{source:"apache",extensions:["sql"]},"application/x-stuffit":{source:"apache",compressible:!1,extensions:["sit"]},"application/x-stuffitx":{source:"apache",extensions:["sitx"]},"application/x-subrip":{source:"apache",extensions:["srt"]},"application/x-sv4cpio":{source:"apache",extensions:["sv4cpio"]},"application/x-sv4crc":{source:"apache",extensions:["sv4crc"]},"application/x-t3vm-image":{source:"apache",extensions:["t3"]},"application/x-tads":{source:"apache",extensions:["gam"]},"application/x-tar":{source:"apache",compressible:!0,extensions:["tar"]},"application/x-tcl":{source:"apache",extensions:["tcl","tk"]},"application/x-tex":{source:"apache",extensions:["tex"]},"application/x-tex-tfm":{source:"apache",extensions:["tfm"]},"application/x-texinfo":{source:"apache",extensions:["texinfo","texi"]},"application/x-tgif":{source:"apache",extensions:["obj"]},"application/x-ustar":{source:"apache",extensions:["ustar"]},"application/x-virtualbox-hdd":{compressible:!0,extensions:["hdd"]},"application/x-virtualbox-ova":{compressible:!0,extensions:["ova"]},"application/x-virtualbox-ovf":{compressible:!0,extensions:["ovf"]},"application/x-virtualbox-vbox":{compressible:!0,extensions:["vbox"]},"application/x-virtualbox-vbox-extpack":{compressible:!1,extensions:["vbox-extpack"]},"application/x-virtualbox-vdi":{compressible:!0,extensions:["vdi"]},"application/x-virtualbox-vhd":{compressible:!0,extensions:["vhd"]},"application/x-virtualbox-vmdk":{compressible:!0,extensions:["vmdk"]},"application/x-wais-source":{source:"apache",extensions:["src"]},"application/x-web-app-manifest+json":{compressible:!0,extensions:["webapp"]},"application/x-www-form-urlencoded":{source:"iana",compressible:!0},"application/x-x509-ca-cert":{source:"iana",extensions:["der","crt","pem"]},"application/x-x509-ca-ra-cert":{source:"iana"},"application/x-x509-next-ca-cert":{source:"iana"},"application/x-xfig":{source:"apache",extensions:["fig"]},"application/x-xliff+xml":{source:"apache",compressible:!0,extensions:["xlf"]},"application/x-xpinstall":{source:"apache",compressible:!1,extensions:["xpi"]},"application/x-xz":{source:"apache",extensions:["xz"]},"application/x-zmachine":{source:"apache",extensions:["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{source:"iana"},"application/xacml+xml":{source:"iana",compressible:!0},"application/xaml+xml":{source:"apache",compressible:!0,extensions:["xaml"]},"application/xcap-att+xml":{source:"iana",compressible:!0,extensions:["xav"]},"application/xcap-caps+xml":{source:"iana",compressible:!0,extensions:["xca"]},"application/xcap-diff+xml":{source:"iana",compressible:!0,extensions:["xdf"]},"application/xcap-el+xml":{source:"iana",compressible:!0,extensions:["xel"]},"application/xcap-error+xml":{source:"iana",compressible:!0,extensions:["xer"]},"application/xcap-ns+xml":{source:"iana",compressible:!0,extensions:["xns"]},"application/xcon-conference-info+xml":{source:"iana",compressible:!0},"application/xcon-conference-info-diff+xml":{source:"iana",compressible:!0},"application/xenc+xml":{source:"iana",compressible:!0,extensions:["xenc"]},"application/xhtml+xml":{source:"iana",compressible:!0,extensions:["xhtml","xht"]},"application/xhtml-voice+xml":{source:"apache",compressible:!0},"application/xliff+xml":{source:"iana",compressible:!0,extensions:["xlf"]},"application/xml":{source:"iana",compressible:!0,extensions:["xml","xsl","xsd","rng"]},"application/xml-dtd":{source:"iana",compressible:!0,extensions:["dtd"]},"application/xml-external-parsed-entity":{source:"iana"},"application/xml-patch+xml":{source:"iana",compressible:!0},"application/xmpp+xml":{source:"iana",compressible:!0},"application/xop+xml":{source:"iana",compressible:!0,extensions:["xop"]},"application/xproc+xml":{source:"apache",compressible:!0,extensions:["xpl"]},"application/xslt+xml":{source:"iana",compressible:!0,extensions:["xsl","xslt"]},"application/xspf+xml":{source:"apache",compressible:!0,extensions:["xspf"]},"application/xv+xml":{source:"iana",compressible:!0,extensions:["mxml","xhvml","xvml","xvm"]},"application/yang":{source:"iana",extensions:["yang"]},"application/yang-data+json":{source:"iana",compressible:!0},"application/yang-data+xml":{source:"iana",compressible:!0},"application/yang-patch+json":{source:"iana",compressible:!0},"application/yang-patch+xml":{source:"iana",compressible:!0},"application/yin+xml":{source:"iana",compressible:!0,extensions:["yin"]},"application/zip":{source:"iana",compressible:!1,extensions:["zip"]},"application/zlib":{source:"iana"},"application/zstd":{source:"iana"},"audio/1d-interleaved-parityfec":{source:"iana"},"audio/32kadpcm":{source:"iana"},"audio/3gpp":{source:"iana",compressible:!1,extensions:["3gpp"]},"audio/3gpp2":{source:"iana"},"audio/aac":{source:"iana"},"audio/ac3":{source:"iana"},"audio/adpcm":{source:"apache",extensions:["adp"]},"audio/amr":{source:"iana",extensions:["amr"]},"audio/amr-wb":{source:"iana"},"audio/amr-wb+":{source:"iana"},"audio/aptx":{source:"iana"},"audio/asc":{source:"iana"},"audio/atrac-advanced-lossless":{source:"iana"},"audio/atrac-x":{source:"iana"},"audio/atrac3":{source:"iana"},"audio/basic":{source:"iana",compressible:!1,extensions:["au","snd"]},"audio/bv16":{source:"iana"},"audio/bv32":{source:"iana"},"audio/clearmode":{source:"iana"},"audio/cn":{source:"iana"},"audio/dat12":{source:"iana"},"audio/dls":{source:"iana"},"audio/dsr-es201108":{source:"iana"},"audio/dsr-es202050":{source:"iana"},"audio/dsr-es202211":{source:"iana"},"audio/dsr-es202212":{source:"iana"},"audio/dv":{source:"iana"},"audio/dvi4":{source:"iana"},"audio/eac3":{source:"iana"},"audio/encaprtp":{source:"iana"},"audio/evrc":{source:"iana"},"audio/evrc-qcp":{source:"iana"},"audio/evrc0":{source:"iana"},"audio/evrc1":{source:"iana"},"audio/evrcb":{source:"iana"},"audio/evrcb0":{source:"iana"},"audio/evrcb1":{source:"iana"},"audio/evrcnw":{source:"iana"},"audio/evrcnw0":{source:"iana"},"audio/evrcnw1":{source:"iana"},"audio/evrcwb":{source:"iana"},"audio/evrcwb0":{source:"iana"},"audio/evrcwb1":{source:"iana"},"audio/evs":{source:"iana"},"audio/flexfec":{source:"iana"},"audio/fwdred":{source:"iana"},"audio/g711-0":{source:"iana"},"audio/g719":{source:"iana"},"audio/g722":{source:"iana"},"audio/g7221":{source:"iana"},"audio/g723":{source:"iana"},"audio/g726-16":{source:"iana"},"audio/g726-24":{source:"iana"},"audio/g726-32":{source:"iana"},"audio/g726-40":{source:"iana"},"audio/g728":{source:"iana"},"audio/g729":{source:"iana"},"audio/g7291":{source:"iana"},"audio/g729d":{source:"iana"},"audio/g729e":{source:"iana"},"audio/gsm":{source:"iana"},"audio/gsm-efr":{source:"iana"},"audio/gsm-hr-08":{source:"iana"},"audio/ilbc":{source:"iana"},"audio/ip-mr_v2.5":{source:"iana"},"audio/isac":{source:"apache"},"audio/l16":{source:"iana"},"audio/l20":{source:"iana"},"audio/l24":{source:"iana",compressible:!1},"audio/l8":{source:"iana"},"audio/lpc":{source:"iana"},"audio/melp":{source:"iana"},"audio/melp1200":{source:"iana"},"audio/melp2400":{source:"iana"},"audio/melp600":{source:"iana"},"audio/mhas":{source:"iana"},"audio/midi":{source:"apache",extensions:["mid","midi","kar","rmi"]},"audio/mobile-xmf":{source:"iana",extensions:["mxmf"]},"audio/mp3":{compressible:!1,extensions:["mp3"]},"audio/mp4":{source:"iana",compressible:!1,extensions:["m4a","mp4a"]},"audio/mp4a-latm":{source:"iana"},"audio/mpa":{source:"iana"},"audio/mpa-robust":{source:"iana"},"audio/mpeg":{source:"iana",compressible:!1,extensions:["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{source:"iana"},"audio/musepack":{source:"apache"},"audio/ogg":{source:"iana",compressible:!1,extensions:["oga","ogg","spx","opus"]},"audio/opus":{source:"iana"},"audio/parityfec":{source:"iana"},"audio/pcma":{source:"iana"},"audio/pcma-wb":{source:"iana"},"audio/pcmu":{source:"iana"},"audio/pcmu-wb":{source:"iana"},"audio/prs.sid":{source:"iana"},"audio/qcelp":{source:"iana"},"audio/raptorfec":{source:"iana"},"audio/red":{source:"iana"},"audio/rtp-enc-aescm128":{source:"iana"},"audio/rtp-midi":{source:"iana"},"audio/rtploopback":{source:"iana"},"audio/rtx":{source:"iana"},"audio/s3m":{source:"apache",extensions:["s3m"]},"audio/scip":{source:"iana"},"audio/silk":{source:"apache",extensions:["sil"]},"audio/smv":{source:"iana"},"audio/smv-qcp":{source:"iana"},"audio/smv0":{source:"iana"},"audio/sofa":{source:"iana"},"audio/sp-midi":{source:"iana"},"audio/speex":{source:"iana"},"audio/t140c":{source:"iana"},"audio/t38":{source:"iana"},"audio/telephone-event":{source:"iana"},"audio/tetra_acelp":{source:"iana"},"audio/tetra_acelp_bb":{source:"iana"},"audio/tone":{source:"iana"},"audio/tsvcis":{source:"iana"},"audio/uemclip":{source:"iana"},"audio/ulpfec":{source:"iana"},"audio/usac":{source:"iana"},"audio/vdvi":{source:"iana"},"audio/vmr-wb":{source:"iana"},"audio/vnd.3gpp.iufp":{source:"iana"},"audio/vnd.4sb":{source:"iana"},"audio/vnd.audiokoz":{source:"iana"},"audio/vnd.celp":{source:"iana"},"audio/vnd.cisco.nse":{source:"iana"},"audio/vnd.cmles.radio-events":{source:"iana"},"audio/vnd.cns.anp1":{source:"iana"},"audio/vnd.cns.inf1":{source:"iana"},"audio/vnd.dece.audio":{source:"iana",extensions:["uva","uvva"]},"audio/vnd.digital-winds":{source:"iana",extensions:["eol"]},"audio/vnd.dlna.adts":{source:"iana"},"audio/vnd.dolby.heaac.1":{source:"iana"},"audio/vnd.dolby.heaac.2":{source:"iana"},"audio/vnd.dolby.mlp":{source:"iana"},"audio/vnd.dolby.mps":{source:"iana"},"audio/vnd.dolby.pl2":{source:"iana"},"audio/vnd.dolby.pl2x":{source:"iana"},"audio/vnd.dolby.pl2z":{source:"iana"},"audio/vnd.dolby.pulse.1":{source:"iana"},"audio/vnd.dra":{source:"iana",extensions:["dra"]},"audio/vnd.dts":{source:"iana",extensions:["dts"]},"audio/vnd.dts.hd":{source:"iana",extensions:["dtshd"]},"audio/vnd.dts.uhd":{source:"iana"},"audio/vnd.dvb.file":{source:"iana"},"audio/vnd.everad.plj":{source:"iana"},"audio/vnd.hns.audio":{source:"iana"},"audio/vnd.lucent.voice":{source:"iana",extensions:["lvp"]},"audio/vnd.ms-playready.media.pya":{source:"iana",extensions:["pya"]},"audio/vnd.nokia.mobile-xmf":{source:"iana"},"audio/vnd.nortel.vbk":{source:"iana"},"audio/vnd.nuera.ecelp4800":{source:"iana",extensions:["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{source:"iana",extensions:["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{source:"iana",extensions:["ecelp9600"]},"audio/vnd.octel.sbc":{source:"iana"},"audio/vnd.presonus.multitrack":{source:"iana"},"audio/vnd.qcelp":{source:"iana"},"audio/vnd.rhetorex.32kadpcm":{source:"iana"},"audio/vnd.rip":{source:"iana",extensions:["rip"]},"audio/vnd.rn-realaudio":{compressible:!1},"audio/vnd.sealedmedia.softseal.mpeg":{source:"iana"},"audio/vnd.vmx.cvsd":{source:"iana"},"audio/vnd.wave":{compressible:!1},"audio/vorbis":{source:"iana",compressible:!1},"audio/vorbis-config":{source:"iana"},"audio/wav":{compressible:!1,extensions:["wav"]},"audio/wave":{compressible:!1,extensions:["wav"]},"audio/webm":{source:"apache",compressible:!1,extensions:["weba"]},"audio/x-aac":{source:"apache",compressible:!1,extensions:["aac"]},"audio/x-aiff":{source:"apache",extensions:["aif","aiff","aifc"]},"audio/x-caf":{source:"apache",compressible:!1,extensions:["caf"]},"audio/x-flac":{source:"apache",extensions:["flac"]},"audio/x-m4a":{source:"nginx",extensions:["m4a"]},"audio/x-matroska":{source:"apache",extensions:["mka"]},"audio/x-mpegurl":{source:"apache",extensions:["m3u"]},"audio/x-ms-wax":{source:"apache",extensions:["wax"]},"audio/x-ms-wma":{source:"apache",extensions:["wma"]},"audio/x-pn-realaudio":{source:"apache",extensions:["ram","ra"]},"audio/x-pn-realaudio-plugin":{source:"apache",extensions:["rmp"]},"audio/x-realaudio":{source:"nginx",extensions:["ra"]},"audio/x-tta":{source:"apache"},"audio/x-wav":{source:"apache",extensions:["wav"]},"audio/xm":{source:"apache",extensions:["xm"]},"chemical/x-cdx":{source:"apache",extensions:["cdx"]},"chemical/x-cif":{source:"apache",extensions:["cif"]},"chemical/x-cmdf":{source:"apache",extensions:["cmdf"]},"chemical/x-cml":{source:"apache",extensions:["cml"]},"chemical/x-csml":{source:"apache",extensions:["csml"]},"chemical/x-pdb":{source:"apache"},"chemical/x-xyz":{source:"apache",extensions:["xyz"]},"font/collection":{source:"iana",extensions:["ttc"]},"font/otf":{source:"iana",compressible:!0,extensions:["otf"]},"font/sfnt":{source:"iana"},"font/ttf":{source:"iana",compressible:!0,extensions:["ttf"]},"font/woff":{source:"iana",extensions:["woff"]},"font/woff2":{source:"iana",extensions:["woff2"]},"image/aces":{source:"iana",extensions:["exr"]},"image/apng":{compressible:!1,extensions:["apng"]},"image/avci":{source:"iana"},"image/avcs":{source:"iana"},"image/avif":{source:"iana",compressible:!1,extensions:["avif"]},"image/bmp":{source:"iana",compressible:!0,extensions:["bmp"]},"image/cgm":{source:"iana",extensions:["cgm"]},"image/dicom-rle":{source:"iana",extensions:["drle"]},"image/emf":{source:"iana",extensions:["emf"]},"image/fits":{source:"iana",extensions:["fits"]},"image/g3fax":{source:"iana",extensions:["g3"]},"image/gif":{source:"iana",compressible:!1,extensions:["gif"]},"image/heic":{source:"iana",extensions:["heic"]},"image/heic-sequence":{source:"iana",extensions:["heics"]},"image/heif":{source:"iana",extensions:["heif"]},"image/heif-sequence":{source:"iana",extensions:["heifs"]},"image/hej2k":{source:"iana",extensions:["hej2"]},"image/hsj2":{source:"iana",extensions:["hsj2"]},"image/ief":{source:"iana",extensions:["ief"]},"image/jls":{source:"iana",extensions:["jls"]},"image/jp2":{source:"iana",compressible:!1,extensions:["jp2","jpg2"]},"image/jpeg":{source:"iana",compressible:!1,extensions:["jpeg","jpg","jpe"]},"image/jph":{source:"iana",extensions:["jph"]},"image/jphc":{source:"iana",extensions:["jhc"]},"image/jpm":{source:"iana",compressible:!1,extensions:["jpm"]},"image/jpx":{source:"iana",compressible:!1,extensions:["jpx","jpf"]},"image/jxr":{source:"iana",extensions:["jxr"]},"image/jxra":{source:"iana",extensions:["jxra"]},"image/jxrs":{source:"iana",extensions:["jxrs"]},"image/jxs":{source:"iana",extensions:["jxs"]},"image/jxsc":{source:"iana",extensions:["jxsc"]},"image/jxsi":{source:"iana",extensions:["jxsi"]},"image/jxss":{source:"iana",extensions:["jxss"]},"image/ktx":{source:"iana",extensions:["ktx"]},"image/ktx2":{source:"iana",extensions:["ktx2"]},"image/naplps":{source:"iana"},"image/pjpeg":{compressible:!1},"image/png":{source:"iana",compressible:!1,extensions:["png"]},"image/prs.btif":{source:"iana",extensions:["btif"]},"image/prs.pti":{source:"iana",extensions:["pti"]},"image/pwg-raster":{source:"iana"},"image/sgi":{source:"apache",extensions:["sgi"]},"image/svg+xml":{source:"iana",compressible:!0,extensions:["svg","svgz"]},"image/t38":{source:"iana",extensions:["t38"]},"image/tiff":{source:"iana",compressible:!1,extensions:["tif","tiff"]},"image/tiff-fx":{source:"iana",extensions:["tfx"]},"image/vnd.adobe.photoshop":{source:"iana",compressible:!0,extensions:["psd"]},"image/vnd.airzip.accelerator.azv":{source:"iana",extensions:["azv"]},"image/vnd.cns.inf2":{source:"iana"},"image/vnd.dece.graphic":{source:"iana",extensions:["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{source:"iana",extensions:["djvu","djv"]},"image/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"image/vnd.dwg":{source:"iana",extensions:["dwg"]},"image/vnd.dxf":{source:"iana",extensions:["dxf"]},"image/vnd.fastbidsheet":{source:"iana",extensions:["fbs"]},"image/vnd.fpx":{source:"iana",extensions:["fpx"]},"image/vnd.fst":{source:"iana",extensions:["fst"]},"image/vnd.fujixerox.edmics-mmr":{source:"iana",extensions:["mmr"]},"image/vnd.fujixerox.edmics-rlc":{source:"iana",extensions:["rlc"]},"image/vnd.globalgraphics.pgb":{source:"iana"},"image/vnd.microsoft.icon":{source:"iana",extensions:["ico"]},"image/vnd.mix":{source:"iana"},"image/vnd.mozilla.apng":{source:"iana"},"image/vnd.ms-dds":{extensions:["dds"]},"image/vnd.ms-modi":{source:"iana",extensions:["mdi"]},"image/vnd.ms-photo":{source:"apache",extensions:["wdp"]},"image/vnd.net-fpx":{source:"iana",extensions:["npx"]},"image/vnd.pco.b16":{source:"iana",extensions:["b16"]},"image/vnd.radiance":{source:"iana"},"image/vnd.sealed.png":{source:"iana"},"image/vnd.sealedmedia.softseal.gif":{source:"iana"},"image/vnd.sealedmedia.softseal.jpg":{source:"iana"},"image/vnd.svf":{source:"iana"},"image/vnd.tencent.tap":{source:"iana",extensions:["tap"]},"image/vnd.valve.source.texture":{source:"iana",extensions:["vtf"]},"image/vnd.wap.wbmp":{source:"iana",extensions:["wbmp"]},"image/vnd.xiff":{source:"iana",extensions:["xif"]},"image/vnd.zbrush.pcx":{source:"iana",extensions:["pcx"]},"image/webp":{source:"apache",extensions:["webp"]},"image/wmf":{source:"iana",extensions:["wmf"]},"image/x-3ds":{source:"apache",extensions:["3ds"]},"image/x-cmu-raster":{source:"apache",extensions:["ras"]},"image/x-cmx":{source:"apache",extensions:["cmx"]},"image/x-freehand":{source:"apache",extensions:["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{source:"apache",compressible:!0,extensions:["ico"]},"image/x-jng":{source:"nginx",extensions:["jng"]},"image/x-mrsid-image":{source:"apache",extensions:["sid"]},"image/x-ms-bmp":{source:"nginx",compressible:!0,extensions:["bmp"]},"image/x-pcx":{source:"apache",extensions:["pcx"]},"image/x-pict":{source:"apache",extensions:["pic","pct"]},"image/x-portable-anymap":{source:"apache",extensions:["pnm"]},"image/x-portable-bitmap":{source:"apache",extensions:["pbm"]},"image/x-portable-graymap":{source:"apache",extensions:["pgm"]},"image/x-portable-pixmap":{source:"apache",extensions:["ppm"]},"image/x-rgb":{source:"apache",extensions:["rgb"]},"image/x-tga":{source:"apache",extensions:["tga"]},"image/x-xbitmap":{source:"apache",extensions:["xbm"]},"image/x-xcf":{compressible:!1},"image/x-xpixmap":{source:"apache",extensions:["xpm"]},"image/x-xwindowdump":{source:"apache",extensions:["xwd"]},"message/cpim":{source:"iana"},"message/delivery-status":{source:"iana"},"message/disposition-notification":{source:"iana",extensions:["disposition-notification"]},"message/external-body":{source:"iana"},"message/feedback-report":{source:"iana"},"message/global":{source:"iana",extensions:["u8msg"]},"message/global-delivery-status":{source:"iana",extensions:["u8dsn"]},"message/global-disposition-notification":{source:"iana",extensions:["u8mdn"]},"message/global-headers":{source:"iana",extensions:["u8hdr"]},"message/http":{source:"iana",compressible:!1},"message/imdn+xml":{source:"iana",compressible:!0},"message/news":{source:"iana"},"message/partial":{source:"iana",compressible:!1},"message/rfc822":{source:"iana",compressible:!0,extensions:["eml","mime"]},"message/s-http":{source:"iana"},"message/sip":{source:"iana"},"message/sipfrag":{source:"iana"},"message/tracking-status":{source:"iana"},"message/vnd.si.simp":{source:"iana"},"message/vnd.wfa.wsc":{source:"iana",extensions:["wsc"]},"model/3mf":{source:"iana",extensions:["3mf"]},"model/e57":{source:"iana"},"model/gltf+json":{source:"iana",compressible:!0,extensions:["gltf"]},"model/gltf-binary":{source:"iana",compressible:!0,extensions:["glb"]},"model/iges":{source:"iana",compressible:!1,extensions:["igs","iges"]},"model/mesh":{source:"iana",compressible:!1,extensions:["msh","mesh","silo"]},"model/mtl":{source:"iana",extensions:["mtl"]},"model/obj":{source:"iana",extensions:["obj"]},"model/stl":{source:"iana",extensions:["stl"]},"model/vnd.collada+xml":{source:"iana",compressible:!0,extensions:["dae"]},"model/vnd.dwf":{source:"iana",extensions:["dwf"]},"model/vnd.flatland.3dml":{source:"iana"},"model/vnd.gdl":{source:"iana",extensions:["gdl"]},"model/vnd.gs-gdl":{source:"apache"},"model/vnd.gs.gdl":{source:"iana"},"model/vnd.gtw":{source:"iana",extensions:["gtw"]},"model/vnd.moml+xml":{source:"iana",compressible:!0},"model/vnd.mts":{source:"iana",extensions:["mts"]},"model/vnd.opengex":{source:"iana",extensions:["ogex"]},"model/vnd.parasolid.transmit.binary":{source:"iana",extensions:["x_b"]},"model/vnd.parasolid.transmit.text":{source:"iana",extensions:["x_t"]},"model/vnd.rosette.annotated-data-model":{source:"iana"},"model/vnd.usdz+zip":{source:"iana",compressible:!1,extensions:["usdz"]},"model/vnd.valve.source.compiled-map":{source:"iana",extensions:["bsp"]},"model/vnd.vtu":{source:"iana",extensions:["vtu"]},"model/vrml":{source:"iana",compressible:!1,extensions:["wrl","vrml"]},"model/x3d+binary":{source:"apache",compressible:!1,extensions:["x3db","x3dbz"]},"model/x3d+fastinfoset":{source:"iana",extensions:["x3db"]},"model/x3d+vrml":{source:"apache",compressible:!1,extensions:["x3dv","x3dvz"]},"model/x3d+xml":{source:"iana",compressible:!0,extensions:["x3d","x3dz"]},"model/x3d-vrml":{source:"iana",extensions:["x3dv"]},"multipart/alternative":{source:"iana",compressible:!1},"multipart/appledouble":{source:"iana"},"multipart/byteranges":{source:"iana"},"multipart/digest":{source:"iana"},"multipart/encrypted":{source:"iana",compressible:!1},"multipart/form-data":{source:"iana",compressible:!1},"multipart/header-set":{source:"iana"},"multipart/mixed":{source:"iana"},"multipart/multilingual":{source:"iana"},"multipart/parallel":{source:"iana"},"multipart/related":{source:"iana",compressible:!1},"multipart/report":{source:"iana"},"multipart/signed":{source:"iana",compressible:!1},"multipart/vnd.bint.med-plus":{source:"iana"},"multipart/voice-message":{source:"iana"},"multipart/x-mixed-replace":{source:"iana"},"text/1d-interleaved-parityfec":{source:"iana"},"text/cache-manifest":{source:"iana",compressible:!0,extensions:["appcache","manifest"]},"text/calendar":{source:"iana",extensions:["ics","ifb"]},"text/calender":{compressible:!0},"text/cmd":{compressible:!0},"text/coffeescript":{extensions:["coffee","litcoffee"]},"text/cql":{source:"iana"},"text/cql-expression":{source:"iana"},"text/cql-identifier":{source:"iana"},"text/css":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["css"]},"text/csv":{source:"iana",compressible:!0,extensions:["csv"]},"text/csv-schema":{source:"iana"},"text/directory":{source:"iana"},"text/dns":{source:"iana"},"text/ecmascript":{source:"iana"},"text/encaprtp":{source:"iana"},"text/enriched":{source:"iana"},"text/fhirpath":{source:"iana"},"text/flexfec":{source:"iana"},"text/fwdred":{source:"iana"},"text/gff3":{source:"iana"},"text/grammar-ref-list":{source:"iana"},"text/html":{source:"iana",compressible:!0,extensions:["html","htm","shtml"]},"text/jade":{extensions:["jade"]},"text/javascript":{source:"iana",compressible:!0},"text/jcr-cnd":{source:"iana"},"text/jsx":{compressible:!0,extensions:["jsx"]},"text/less":{compressible:!0,extensions:["less"]},"text/markdown":{source:"iana",compressible:!0,extensions:["markdown","md"]},"text/mathml":{source:"nginx",extensions:["mml"]},"text/mdx":{compressible:!0,extensions:["mdx"]},"text/mizar":{source:"iana"},"text/n3":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["n3"]},"text/parameters":{source:"iana",charset:"UTF-8"},"text/parityfec":{source:"iana"},"text/plain":{source:"iana",compressible:!0,extensions:["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{source:"iana",charset:"UTF-8"},"text/prs.fallenstein.rst":{source:"iana"},"text/prs.lines.tag":{source:"iana",extensions:["dsc"]},"text/prs.prop.logic":{source:"iana"},"text/raptorfec":{source:"iana"},"text/red":{source:"iana"},"text/rfc822-headers":{source:"iana"},"text/richtext":{source:"iana",compressible:!0,extensions:["rtx"]},"text/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"text/rtp-enc-aescm128":{source:"iana"},"text/rtploopback":{source:"iana"},"text/rtx":{source:"iana"},"text/sgml":{source:"iana",extensions:["sgml","sgm"]},"text/shaclc":{source:"iana"},"text/shex":{extensions:["shex"]},"text/slim":{extensions:["slim","slm"]},"text/spdx":{source:"iana",extensions:["spdx"]},"text/strings":{source:"iana"},"text/stylus":{extensions:["stylus","styl"]},"text/t140":{source:"iana"},"text/tab-separated-values":{source:"iana",compressible:!0,extensions:["tsv"]},"text/troff":{source:"iana",extensions:["t","tr","roff","man","me","ms"]},"text/turtle":{source:"iana",charset:"UTF-8",extensions:["ttl"]},"text/ulpfec":{source:"iana"},"text/uri-list":{source:"iana",compressible:!0,extensions:["uri","uris","urls"]},"text/vcard":{source:"iana",compressible:!0,extensions:["vcard"]},"text/vnd.a":{source:"iana"},"text/vnd.abc":{source:"iana"},"text/vnd.ascii-art":{source:"iana"},"text/vnd.curl":{source:"iana",extensions:["curl"]},"text/vnd.curl.dcurl":{source:"apache",extensions:["dcurl"]},"text/vnd.curl.mcurl":{source:"apache",extensions:["mcurl"]},"text/vnd.curl.scurl":{source:"apache",extensions:["scurl"]},"text/vnd.debian.copyright":{source:"iana",charset:"UTF-8"},"text/vnd.dmclientscript":{source:"iana"},"text/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"text/vnd.esmertec.theme-descriptor":{source:"iana",charset:"UTF-8"},"text/vnd.ficlab.flt":{source:"iana"},"text/vnd.fly":{source:"iana",extensions:["fly"]},"text/vnd.fmi.flexstor":{source:"iana",extensions:["flx"]},"text/vnd.gml":{source:"iana"},"text/vnd.graphviz":{source:"iana",extensions:["gv"]},"text/vnd.hans":{source:"iana"},"text/vnd.hgl":{source:"iana"},"text/vnd.in3d.3dml":{source:"iana",extensions:["3dml"]},"text/vnd.in3d.spot":{source:"iana",extensions:["spot"]},"text/vnd.iptc.newsml":{source:"iana"},"text/vnd.iptc.nitf":{source:"iana"},"text/vnd.latex-z":{source:"iana"},"text/vnd.motorola.reflex":{source:"iana"},"text/vnd.ms-mediapackage":{source:"iana"},"text/vnd.net2phone.commcenter.command":{source:"iana"},"text/vnd.radisys.msml-basic-layout":{source:"iana"},"text/vnd.senx.warpscript":{source:"iana"},"text/vnd.si.uricatalogue":{source:"iana"},"text/vnd.sosi":{source:"iana"},"text/vnd.sun.j2me.app-descriptor":{source:"iana",charset:"UTF-8",extensions:["jad"]},"text/vnd.trolltech.linguist":{source:"iana",charset:"UTF-8"},"text/vnd.wap.si":{source:"iana"},"text/vnd.wap.sl":{source:"iana"},"text/vnd.wap.wml":{source:"iana",extensions:["wml"]},"text/vnd.wap.wmlscript":{source:"iana",extensions:["wmls"]},"text/vtt":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["vtt"]},"text/x-asm":{source:"apache",extensions:["s","asm"]},"text/x-c":{source:"apache",extensions:["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{source:"nginx",extensions:["htc"]},"text/x-fortran":{source:"apache",extensions:["f","for","f77","f90"]},"text/x-gwt-rpc":{compressible:!0},"text/x-handlebars-template":{extensions:["hbs"]},"text/x-java-source":{source:"apache",extensions:["java"]},"text/x-jquery-tmpl":{compressible:!0},"text/x-lua":{extensions:["lua"]},"text/x-markdown":{compressible:!0,extensions:["mkd"]},"text/x-nfo":{source:"apache",extensions:["nfo"]},"text/x-opml":{source:"apache",extensions:["opml"]},"text/x-org":{compressible:!0,extensions:["org"]},"text/x-pascal":{source:"apache",extensions:["p","pas"]},"text/x-processing":{compressible:!0,extensions:["pde"]},"text/x-sass":{extensions:["sass"]},"text/x-scss":{extensions:["scss"]},"text/x-setext":{source:"apache",extensions:["etx"]},"text/x-sfv":{source:"apache",extensions:["sfv"]},"text/x-suse-ymp":{compressible:!0,extensions:["ymp"]},"text/x-uuencode":{source:"apache",extensions:["uu"]},"text/x-vcalendar":{source:"apache",extensions:["vcs"]},"text/x-vcard":{source:"apache",extensions:["vcf"]},"text/xml":{source:"iana",compressible:!0,extensions:["xml"]},"text/xml-external-parsed-entity":{source:"iana"},"text/yaml":{extensions:["yaml","yml"]},"video/1d-interleaved-parityfec":{source:"iana"},"video/3gpp":{source:"iana",extensions:["3gp","3gpp"]},"video/3gpp-tt":{source:"iana"},"video/3gpp2":{source:"iana",extensions:["3g2"]},"video/av1":{source:"iana"},"video/bmpeg":{source:"iana"},"video/bt656":{source:"iana"},"video/celb":{source:"iana"},"video/dv":{source:"iana"},"video/encaprtp":{source:"iana"},"video/flexfec":{source:"iana"},"video/h261":{source:"iana",extensions:["h261"]},"video/h263":{source:"iana",extensions:["h263"]},"video/h263-1998":{source:"iana"},"video/h263-2000":{source:"iana"},"video/h264":{source:"iana",extensions:["h264"]},"video/h264-rcdo":{source:"iana"},"video/h264-svc":{source:"iana"},"video/h265":{source:"iana"},"video/iso.segment":{source:"iana",extensions:["m4s"]},"video/jpeg":{source:"iana",extensions:["jpgv"]},"video/jpeg2000":{source:"iana"},"video/jpm":{source:"apache",extensions:["jpm","jpgm"]},"video/mj2":{source:"iana",extensions:["mj2","mjp2"]},"video/mp1s":{source:"iana"},"video/mp2p":{source:"iana"},"video/mp2t":{source:"iana",extensions:["ts"]},"video/mp4":{source:"iana",compressible:!1,extensions:["mp4","mp4v","mpg4"]},"video/mp4v-es":{source:"iana"},"video/mpeg":{source:"iana",compressible:!1,extensions:["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{source:"iana"},"video/mpv":{source:"iana"},"video/nv":{source:"iana"},"video/ogg":{source:"iana",compressible:!1,extensions:["ogv"]},"video/parityfec":{source:"iana"},"video/pointer":{source:"iana"},"video/quicktime":{source:"iana",compressible:!1,extensions:["qt","mov"]},"video/raptorfec":{source:"iana"},"video/raw":{source:"iana"},"video/rtp-enc-aescm128":{source:"iana"},"video/rtploopback":{source:"iana"},"video/rtx":{source:"iana"},"video/scip":{source:"iana"},"video/smpte291":{source:"iana"},"video/smpte292m":{source:"iana"},"video/ulpfec":{source:"iana"},"video/vc1":{source:"iana"},"video/vc2":{source:"iana"},"video/vnd.cctv":{source:"iana"},"video/vnd.dece.hd":{source:"iana",extensions:["uvh","uvvh"]},"video/vnd.dece.mobile":{source:"iana",extensions:["uvm","uvvm"]},"video/vnd.dece.mp4":{source:"iana"},"video/vnd.dece.pd":{source:"iana",extensions:["uvp","uvvp"]},"video/vnd.dece.sd":{source:"iana",extensions:["uvs","uvvs"]},"video/vnd.dece.video":{source:"iana",extensions:["uvv","uvvv"]},"video/vnd.directv.mpeg":{source:"iana"},"video/vnd.directv.mpeg-tts":{source:"iana"},"video/vnd.dlna.mpeg-tts":{source:"iana"},"video/vnd.dvb.file":{source:"iana",extensions:["dvb"]},"video/vnd.fvt":{source:"iana",extensions:["fvt"]},"video/vnd.hns.video":{source:"iana"},"video/vnd.iptvforum.1dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.1dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.2dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.2dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.ttsavc":{source:"iana"},"video/vnd.iptvforum.ttsmpeg2":{source:"iana"},"video/vnd.motorola.video":{source:"iana"},"video/vnd.motorola.videop":{source:"iana"},"video/vnd.mpegurl":{source:"iana",extensions:["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{source:"iana",extensions:["pyv"]},"video/vnd.nokia.interleaved-multimedia":{source:"iana"},"video/vnd.nokia.mp4vr":{source:"iana"},"video/vnd.nokia.videovoip":{source:"iana"},"video/vnd.objectvideo":{source:"iana"},"video/vnd.radgamettools.bink":{source:"iana"},"video/vnd.radgamettools.smacker":{source:"iana"},"video/vnd.sealed.mpeg1":{source:"iana"},"video/vnd.sealed.mpeg4":{source:"iana"},"video/vnd.sealed.swf":{source:"iana"},"video/vnd.sealedmedia.softseal.mov":{source:"iana"},"video/vnd.uvvu.mp4":{source:"iana",extensions:["uvu","uvvu"]},"video/vnd.vivo":{source:"iana",extensions:["viv"]},"video/vnd.youtube.yt":{source:"iana"},"video/vp8":{source:"iana"},"video/webm":{source:"apache",compressible:!1,extensions:["webm"]},"video/x-f4v":{source:"apache",extensions:["f4v"]},"video/x-fli":{source:"apache",extensions:["fli"]},"video/x-flv":{source:"apache",compressible:!1,extensions:["flv"]},"video/x-m4v":{source:"apache",extensions:["m4v"]},"video/x-matroska":{source:"apache",compressible:!1,extensions:["mkv","mk3d","mks"]},"video/x-mng":{source:"apache",extensions:["mng"]},"video/x-ms-asf":{source:"apache",extensions:["asf","asx"]},"video/x-ms-vob":{source:"apache",extensions:["vob"]},"video/x-ms-wm":{source:"apache",extensions:["wm"]},"video/x-ms-wmv":{source:"apache",compressible:!1,extensions:["wmv"]},"video/x-ms-wmx":{source:"apache",extensions:["wmx"]},"video/x-ms-wvx":{source:"apache",extensions:["wvx"]},"video/x-msvideo":{source:"apache",extensions:["avi"]},"video/x-sgi-movie":{source:"apache",extensions:["movie"]},"video/x-smv":{source:"apache",extensions:["smv"]},"x-conference/x-cooltalk":{source:"apache",extensions:["ice"]},"x-shader/x-fragment":{compressible:!0},"x-shader/x-vertex":{compressible:!0}}});var Poe=k((wrt,Roe)=>{Roe.exports=woe()});var Doe=k(Iu=>{"use strict";var Tw=Poe(),xRe=require("path").extname,Noe=/^\s*([^;\s]*)(?:;|\s|$)/,bRe=/^text\//i;Iu.charset=Ooe;Iu.charsets={lookup:Ooe};Iu.contentType=ERe;Iu.extension=TRe;Iu.extensions=Object.create(null);Iu.lookup=CRe;Iu.types=Object.create(null);SRe(Iu.extensions,Iu.types);function Ooe(e){if(!e||typeof e!="string")return!1;var t=Noe.exec(e),r=t&&Tw[t[1].toLowerCase()];return r&&r.charset?r.charset:t&&bRe.test(t[1])?"UTF-8":!1}o(Ooe,"charset");function ERe(e){if(!e||typeof e!="string")return!1;var t=e.indexOf("/")===-1?Iu.lookup(e):e;if(!t)return!1;if(t.indexOf("charset")===-1){var r=Iu.charset(t);r&&(t+="; charset="+r.toLowerCase())}return t}o(ERe,"contentType");function TRe(e){if(!e||typeof e!="string")return!1;var t=Noe.exec(e),r=t&&Iu.extensions[t[1].toLowerCase()];return!r||!r.length?!1:r[0]}o(TRe,"extension");function CRe(e){if(!e||typeof e!="string")return!1;var t=xRe("x."+e).toLowerCase().substr(1);return t&&Iu.types[t]||!1}o(CRe,"lookup");function SRe(e,t){var r=["nginx","apache",void 0,"iana"];Object.keys(Tw).forEach(o(function(s){var a=Tw[s],l=a.extensions;if(!(!l||!l.length)){e[s]=l;for(var c=0;c<l.length;c++){var u=l[c];if(t[u]){var f=r.indexOf(Tw[t[u]].source),d=r.indexOf(a.source);if(t[u]!=="application/octet-stream"&&(f>d||f===d&&t[u].substr(0,12)==="application/"))continue}t[u]=s}}},"forEachMimeType"))}o(SRe,"populateMaps")});var koe=k((Nrt,Loe)=>{Loe.exports=IRe;function IRe(e){var t=typeof setImmediate=="function"?setImmediate:typeof process=="object"&&typeof process.nextTick=="function"?process.nextTick:null;t?t(e):setTimeout(e,0)}o(IRe,"defer")});var xj=k((Drt,Boe)=>{var Moe=koe();Boe.exports=ARe;function ARe(e){var t=!1;return Moe(function(){t=!0}),o(function(n,s){t?e(n,s):Moe(o(function(){e(n,s)},"nextTick_callback"))},"async_callback")}o(ARe,"async")});var bj=k((krt,Foe)=>{Foe.exports=wRe;function wRe(e){Object.keys(e.jobs).forEach(RRe.bind(e)),e.jobs={}}o(wRe,"abort");function RRe(e){typeof this.jobs[e]=="function"&&this.jobs[e]()}o(RRe,"clean")});var Ej=k((Brt,qoe)=>{var Uoe=xj(),PRe=bj();qoe.exports=NRe;function NRe(e,t,r,n){var s=r.keyedList?r.keyedList[r.index]:r.index;r.jobs[s]=ORe(t,s,e[s],function(a,l){s in r.jobs&&(delete r.jobs[s],a?PRe(r):r.results[s]=l,n(a,r.results))})}o(NRe,"iterate");function ORe(e,t,r,n){var s;return e.length==2?s=e(r,Uoe(n)):s=e(r,t,Uoe(n)),s}o(ORe,"runJob")});var Tj=k((Urt,joe)=>{joe.exports=DRe;function DRe(e,t){var r=!Array.isArray(e),n={index:0,keyedList:r||t?Object.keys(e):null,jobs:{},results:r?{}:[],size:r?Object.keys(e).length:e.length};return t&&n.keyedList.sort(r?t:function(s,a){return t(e[s],e[a])}),n}o(DRe,"state")});var Cj=k((jrt,Hoe)=>{var LRe=bj(),kRe=xj();Hoe.exports=MRe;function MRe(e){Object.keys(this.jobs).length&&(this.index=this.size,LRe(this),kRe(e)(null,this.results))}o(MRe,"terminator")});var Voe=k(($rt,$oe)=>{var BRe=Ej(),FRe=Tj(),URe=Cj();$oe.exports=qRe;function qRe(e,t,r){for(var n=FRe(e);n.index<(n.keyedList||e).length;)BRe(e,t,n,function(s,a){if(s){r(s,a);return}if(Object.keys(n.jobs).length===0){r(null,n.results);return}}),n.index++;return URe.bind(n,r)}o(qRe,"parallel")});var Sj=k((Grt,Cw)=>{var Goe=Ej(),jRe=Tj(),HRe=Cj();Cw.exports=$Re;Cw.exports.ascending=zoe;Cw.exports.descending=VRe;function $Re(e,t,r,n){var s=jRe(e,r);return Goe(e,t,s,o(function a(l,c){if(l){n(l,c);return}if(s.index++,s.index<(s.keyedList||e).length){Goe(e,t,s,a);return}n(null,s.results)},"iteratorHandler")),HRe.bind(s,n)}o($Re,"serialOrdered");function zoe(e,t){return e<t?-1:e>t?1:0}o(zoe,"ascending");function VRe(e,t){return-1*zoe(e,t)}o(VRe,"descending")});var Woe=k((Krt,Koe)=>{var GRe=Sj();Koe.exports=zRe;function zRe(e,t,r){return GRe(e,t,null,r)}o(zRe,"serial")});var Xoe=k((Yrt,Yoe)=>{Yoe.exports={parallel:Voe(),serial:Woe(),serialOrdered:Sj()}});var Joe=k((Xrt,Qoe)=>{Qoe.exports=function(e,t){return Object.keys(t).forEach(function(r){e[r]=e[r]||t[r]}),e}});var tle=k((Qrt,ele)=>{var Rj=Aoe(),Zoe=require("util"),Ij=require("path"),KRe=require("http"),WRe=require("https"),YRe=require("url").parse,XRe=require("fs"),QRe=require("stream").Stream,Aj=Doe(),JRe=Xoe(),wj=Joe();ele.exports=R0;Zoe.inherits(R0,Rj);function R0(e){if(!(this instanceof R0))return new R0(e);this._overheadLength=0,this._valueLength=0,this._valuesToMeasure=[],Rj.call(this),e=e||{};for(var t in e)this[t]=e[t]}o(R0,"FormData");R0.LINE_BREAK=`\r
`;R0.DEFAULT_CONTENT_TYPE="application/octet-stream";R0.prototype.append=function(e,t,r){r=r||{},typeof r=="string"&&(r={filename:r});var n=Rj.prototype.append.bind(this);if(typeof t=="number"&&(t=""+t),Zoe.isArray(t)){this._error(new Error("Arrays are not supported."));return}var s=this._multiPartHeader(e,t,r),a=this._multiPartFooter();n(s),n(t),n(a),this._trackLength(s,t,r)};R0.prototype._trackLength=function(e,t,r){var n=0;r.knownLength!=null?n+=+r.knownLength:Buffer.isBuffer(t)?n=t.length:typeof t=="string"&&(n=Buffer.byteLength(t)),this._valueLength+=n,this._overheadLength+=Buffer.byteLength(e)+R0.LINE_BREAK.length,!(!t||!t.path&&!(t.readable&&t.hasOwnProperty("httpVersion"))&&!(t instanceof QRe))&&(r.knownLength||this._valuesToMeasure.push(t))};R0.prototype._lengthRetriever=function(e,t){e.hasOwnProperty("fd")?e.end!=null&&e.end!=1/0&&e.start!=null?t(null,e.end+1-(e.start?e.start:0)):XRe.stat(e.path,function(r,n){var s;if(r){t(r);return}s=n.size-(e.start?e.start:0),t(null,s)}):e.hasOwnProperty("httpVersion")?t(null,+e.headers["content-length"]):e.hasOwnProperty("httpModule")?(e.on("response",function(r){e.pause(),t(null,+r.headers["content-length"])}),e.resume()):t("Unknown stream")};R0.prototype._multiPartHeader=function(e,t,r){if(typeof r.header=="string")return r.header;var n=this._getContentDisposition(t,r),s=this._getContentType(t,r),a="",l={"Content-Disposition":["form-data",'name="'+e+'"'].concat(n||[]),"Content-Type":[].concat(s||[])};typeof r.header=="object"&&wj(l,r.header);var c;for(var u in l)l.hasOwnProperty(u)&&(c=l[u],c!=null&&(Array.isArray(c)||(c=[c]),c.length&&(a+=u+": "+c.join("; ")+R0.LINE_BREAK)));return"--"+this.getBoundary()+R0.LINE_BREAK+a+R0.LINE_BREAK};R0.prototype._getContentDisposition=function(e,t){var r,n;return typeof t.filepath=="string"?r=Ij.normalize(t.filepath).replace(/\\/g,"/"):t.filename||e.name||e.path?r=Ij.basename(t.filename||e.name||e.path):e.readable&&e.hasOwnProperty("httpVersion")&&(r=Ij.basename(e.client._httpMessage.path||"")),r&&(n='filename="'+r+'"'),n};R0.prototype._getContentType=function(e,t){var r=t.contentType;return!r&&e.name&&(r=Aj.lookup(e.name)),!r&&e.path&&(r=Aj.lookup(e.path)),!r&&e.readable&&e.hasOwnProperty("httpVersion")&&(r=e.headers["content-type"]),!r&&(t.filepath||t.filename)&&(r=Aj.lookup(t.filepath||t.filename)),!r&&typeof e=="object"&&(r=R0.DEFAULT_CONTENT_TYPE),r};R0.prototype._multiPartFooter=function(){return function(e){var t=R0.LINE_BREAK,r=this._streams.length===0;r&&(t+=this._lastBoundary()),e(t)}.bind(this)};R0.prototype._lastBoundary=function(){return"--"+this.getBoundary()+"--"+R0.LINE_BREAK};R0.prototype.getHeaders=function(e){var t,r={"content-type":"multipart/form-data; boundary="+this.getBoundary()};for(t in e)e.hasOwnProperty(t)&&(r[t.toLowerCase()]=e[t]);return r};R0.prototype.setBoundary=function(e){this._boundary=e};R0.prototype.getBoundary=function(){return this._boundary||this._generateBoundary(),this._boundary};R0.prototype.getBuffer=function(){for(var e=new Buffer.alloc(0),t=this.getBoundary(),r=0,n=this._streams.length;r<n;r++)typeof this._streams[r]!="function"&&(Buffer.isBuffer(this._streams[r])?e=Buffer.concat([e,this._streams[r]]):e=Buffer.concat([e,Buffer.from(this._streams[r])]),(typeof this._streams[r]!="string"||this._streams[r].substring(2,t.length+2)!==t)&&(e=Buffer.concat([e,Buffer.from(R0.LINE_BREAK)])));return Buffer.concat([e,Buffer.from(this._lastBoundary())])};R0.prototype._generateBoundary=function(){for(var e="--------------------------",t=0;t<24;t++)e+=Math.floor(Math.random()*10).toString(16);this._boundary=e};R0.prototype.getLengthSync=function(){var e=this._overheadLength+this._valueLength;return this._streams.length&&(e+=this._lastBoundary().length),this.hasKnownLength()||this._error(new Error("Cannot calculate proper length in synchronous way.")),e};R0.prototype.hasKnownLength=function(){var e=!0;return this._valuesToMeasure.length&&(e=!1),e};R0.prototype.getLength=function(e){var t=this._overheadLength+this._valueLength;if(this._streams.length&&(t+=this._lastBoundary().length),!this._valuesToMeasure.length){process.nextTick(e.bind(this,null,t));return}JRe.parallel(this._valuesToMeasure,this._lengthRetriever,function(r,n){if(r){e(r);return}n.forEach(function(s){t+=s}),e(null,t)})};R0.prototype.submit=function(e,t){var r,n,s={method:"post"};return typeof e=="string"?(e=YRe(e),n=wj({port:e.port,path:e.pathname,host:e.hostname,protocol:e.protocol},s)):(n=wj(e,s),n.port||(n.port=n.protocol=="https:"?443:80)),n.headers=this.getHeaders(e.headers),n.protocol=="https:"?r=WRe.request(n):r=KRe.request(n),this.getLength(function(a,l){if(a&&a!=="Unknown stream"){this._error(a);return}if(l&&r.setHeader("Content-Length",l),this.pipe(r),t){var c,u=o(function(f,d){return r.removeListener("error",u),r.removeListener("response",c),t.call(this,f,d)},"callback");c=u.bind(this,null),r.on("error",u),r.on("response",c)}}.bind(this)),r};R0.prototype._error=function(e){this.error||(this.error=e,this.pause(),this.emit("error",e))};R0.prototype.toString=function(){return"[object FormData]"}});var rle=k(Pj=>{"use strict";Object.defineProperty(Pj,"__esModule",{value:!0});function ZRe(e){return function(t,r){return new Promise((n,s)=>{e.call(this,t,r,(a,l)=>{a?s(a):n(l)})})}}o(ZRe,"promisify");Pj.default=ZRe});var Dj=k((Oj,ile)=>{"use strict";var nle=Oj&&Oj.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},ePe=require("events"),tPe=nle(bd()),rPe=nle(rle()),M_=tPe.default("agent-base");function nPe(e){return!!e&&typeof e.addRequest=="function"}o(nPe,"isAgent");function Nj(){let{stack:e}=new Error;return typeof e!="string"?!1:e.split(`
`).some(t=>t.indexOf("(https.js:")!==-1||t.indexOf("node:https:")!==-1)}o(Nj,"isSecureEndpoint");function Sw(e,t){return new Sw.Agent(e,t)}o(Sw,"createAgent");(function(e){let r=class r extends ePe.EventEmitter{constructor(s,a){super();let l=a;typeof s=="function"?this.callback=s:s&&(l=s),this.timeout=null,l&&typeof l.timeout=="number"&&(this.timeout=l.timeout),this.maxFreeSockets=1,this.maxSockets=1,this.maxTotalSockets=1/0,this.sockets={},this.freeSockets={},this.requests={},this.options={}}get defaultPort(){return typeof this.explicitDefaultPort=="number"?this.explicitDefaultPort:Nj()?443:80}set defaultPort(s){this.explicitDefaultPort=s}get protocol(){return typeof this.explicitProtocol=="string"?this.explicitProtocol:Nj()?"https:":"http:"}set protocol(s){this.explicitProtocol=s}callback(s,a,l){throw new Error('"agent-base" has no default implementation, you must subclass and override `callback()`')}addRequest(s,a){let l=Object.assign({},a);typeof l.secureEndpoint!="boolean"&&(l.secureEndpoint=Nj()),l.host==null&&(l.host="localhost"),l.port==null&&(l.port=l.secureEndpoint?443:80),l.protocol==null&&(l.protocol=l.secureEndpoint?"https:":"http:"),l.host&&l.path&&delete l.path,delete l.agent,delete l.hostname,delete l._defaultAgent,delete l.defaultPort,delete l.createConnection,s._last=!0,s.shouldKeepAlive=!1;let c=!1,u=null,f=l.timeout||this.timeout,d=o(v=>{s._hadError||(s.emit("error",v),s._hadError=!0)},"onerror"),p=o(()=>{u=null,c=!0;let v=new Error(`A "socket" was not created for HTTP request before ${f}ms`);v.code="ETIMEOUT",d(v)},"ontimeout"),h=o(v=>{c||(u!==null&&(clearTimeout(u),u=null),d(v))},"callbackError"),m=o(v=>{if(c)return;if(u!=null&&(clearTimeout(u),u=null),nPe(v)){M_("Callback returned another Agent instance %o",v.constructor.name),v.addRequest(s,l);return}if(v){v.once("free",()=>{this.freeSocket(v,l)}),s.onSocket(v);return}let _=new Error(`no Duplex stream was returned to agent-base for \`${s.method} ${s.path}\``);d(_)},"onsocket");if(typeof this.callback!="function"){d(new Error("`callback` is not defined"));return}this.promisifiedCallback||(this.callback.length>=3?(M_("Converting legacy callback function to promise"),this.promisifiedCallback=rPe.default(this.callback)):this.promisifiedCallback=this.callback),typeof f=="number"&&f>0&&(u=setTimeout(p,f)),"port"in l&&typeof l.port!="number"&&(l.port=Number(l.port));try{M_("Resolving socket for %o request: %o",l.protocol,`${s.method} ${s.path}`),Promise.resolve(this.promisifiedCallback(s,l)).then(m,h)}catch(v){Promise.reject(v).catch(h)}}freeSocket(s,a){M_("Freeing socket %o %o",s.constructor.name,a),s.destroy()}destroy(){M_("Destroying agent %o",this.constructor.name)}};o(r,"Agent");let t=r;e.Agent=t,e.prototype=e.Agent.prototype})(Sw||(Sw={}));ile.exports=Sw});var sle=k(F_=>{"use strict";var iPe=F_&&F_.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(F_,"__esModule",{value:!0});var sPe=iPe(bd()),B_=sPe.default("https-proxy-agent:parse-proxy-response");function aPe(e){return new Promise((t,r)=>{let n=0,s=[];function a(){let p=e.read();p?d(p):e.once("readable",a)}o(a,"read");function l(){e.removeListener("end",u),e.removeListener("error",f),e.removeListener("close",c),e.removeListener("readable",a)}o(l,"cleanup");function c(p){B_("onclose had error %o",p)}o(c,"onclose");function u(){B_("onend")}o(u,"onend");function f(p){l(),B_("onerror %o",p),r(p)}o(f,"onerror");function d(p){s.push(p),n+=p.length;let h=Buffer.concat(s,n);if(h.indexOf(`\r
\r
`)===-1){B_("have not received end of HTTP headers yet..."),a();return}let v=h.toString("ascii",0,h.indexOf(`\r
`)),_=+v.split(" ")[1];B_("got proxy server response: %o",v),t({statusCode:_,buffered:h})}o(d,"ondata"),e.on("error",f),e.on("close",c),e.on("end",u),a()})}o(aPe,"parseProxyResponse");F_.default=aPe});var lle=k(Sg=>{"use strict";var oPe=Sg&&Sg.__awaiter||function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(l){l(a)})}return o(s,"adopt"),new(r||(r=Promise))(function(a,l){function c(d){try{f(n.next(d))}catch(p){l(p)}}o(c,"fulfilled");function u(d){try{f(n.throw(d))}catch(p){l(p)}}o(u,"rejected");function f(d){d.done?a(d.value):s(d.value).then(c,u)}o(f,"step"),f((n=n.apply(e,t||[])).next())})},R6=Sg&&Sg.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Sg,"__esModule",{value:!0});var ale=R6(require("net")),ole=R6(require("tls")),lPe=R6(require("url")),cPe=R6(require("assert")),uPe=R6(bd()),fPe=Dj(),dPe=R6(sle()),U_=uPe.default("https-proxy-agent:agent"),kj=class kj extends fPe.Agent{constructor(t){let r;if(typeof t=="string"?r=lPe.default.parse(t):r=t,!r)throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!");U_("creating new HttpsProxyAgent instance: %o",r),super(r);let n=Object.assign({},r);this.secureProxy=r.secureProxy||mPe(n.protocol),n.host=n.hostname||n.host,typeof n.port=="string"&&(n.port=parseInt(n.port,10)),!n.port&&n.host&&(n.port=this.secureProxy?443:80),this.secureProxy&&!("ALPNProtocols"in n)&&(n.ALPNProtocols=["http 1.1"]),n.host&&n.path&&(delete n.path,delete n.pathname),this.proxy=n}callback(t,r){return oPe(this,void 0,void 0,function*(){let{proxy:n,secureProxy:s}=this,a;s?(U_("Creating `tls.Socket`: %o",n),a=ole.default.connect(n)):(U_("Creating `net.Socket`: %o",n),a=ale.default.connect(n));let l=Object.assign({},n.headers),u=`CONNECT ${`${r.host}:${r.port}`} HTTP/1.1\r
`;n.auth&&(l["Proxy-Authorization"]=`Basic ${Buffer.from(n.auth).toString("base64")}`);let{host:f,port:d,secureEndpoint:p}=r;hPe(d,p)||(f+=`:${d}`),l.Host=f,l.Connection="close";for(let b of Object.keys(l))u+=`${b}: ${l[b]}\r
`;let h=dPe.default(a);a.write(`${u}\r
`);let{statusCode:m,buffered:v}=yield h;if(m===200){if(t.once("socket",pPe),r.secureEndpoint){U_("Upgrading socket connection to TLS");let b=r.servername||r.host;return ole.default.connect(Object.assign(Object.assign({},gPe(r,"host","hostname","path","port")),{socket:a,servername:b}))}return a}a.destroy();let _=new ale.default.Socket({writable:!1});return _.readable=!0,t.once("socket",b=>{U_("replaying proxy buffer for failed request"),cPe.default(b.listenerCount("data")>0),b.push(v),b.push(null)}),_})}};o(kj,"HttpsProxyAgent");var Lj=kj;Sg.default=Lj;function pPe(e){e.resume()}o(pPe,"resume");function hPe(e,t){return!!(!t&&e===80||t&&e===443)}o(hPe,"isDefaultPort");function mPe(e){return typeof e=="string"?/^https:?$/i.test(e):!1}o(mPe,"isHTTPS");function gPe(e,...t){let r={},n;for(n in e)t.includes(n)||(r[n]=e[n]);return r}o(gPe,"omit")});var ule=k((Fj,cle)=>{"use strict";var vPe=Fj&&Fj.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Mj=vPe(lle());function Bj(e){return new Mj.default(e)}o(Bj,"createHttpsProxyAgent");(function(e){e.HttpsProxyAgent=Mj.default,e.prototype=Mj.default.prototype})(Bj||(Bj={}));cle.exports=Bj});var fle=k(Uj=>{"use strict";Object.defineProperty(Uj,"__esModule",{value:!0});function yPe(e,t,{signal:r}={}){return new Promise((n,s)=>{function a(){r==null||r.removeEventListener("abort",a),e.removeListener(t,l),e.removeListener("error",c)}o(a,"cleanup");function l(...u){a(),n(u)}o(l,"onEvent");function c(u){a(),s(u)}o(c,"onError"),r==null||r.addEventListener("abort",a),e.on(t,l),e.on("error",c)})}o(yPe,"once");Uj.default=yPe});var dle=k(Ig=>{"use strict";var _Pe=Ig&&Ig.__awaiter||function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(l){l(a)})}return o(s,"adopt"),new(r||(r=Promise))(function(a,l){function c(d){try{f(n.next(d))}catch(p){l(p)}}o(c,"fulfilled");function u(d){try{f(n.throw(d))}catch(p){l(p)}}o(u,"rejected");function f(d){d.done?a(d.value):s(d.value).then(c,u)}o(f,"step"),f((n=n.apply(e,t||[])).next())})},q_=Ig&&Ig.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ig,"__esModule",{value:!0});var xPe=q_(require("net")),bPe=q_(require("tls")),qj=q_(require("url")),EPe=q_(bd()),TPe=q_(fle()),CPe=Dj(),h3=(0,EPe.default)("http-proxy-agent");function SPe(e){return typeof e=="string"?/^https:?$/i.test(e):!1}o(SPe,"isHTTPS");var Hj=class Hj extends CPe.Agent{constructor(t){let r;if(typeof t=="string"?r=qj.default.parse(t):r=t,!r)throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!");h3("Creating new HttpProxyAgent instance: %o",r),super(r);let n=Object.assign({},r);this.secureProxy=r.secureProxy||SPe(n.protocol),n.host=n.hostname||n.host,typeof n.port=="string"&&(n.port=parseInt(n.port,10)),!n.port&&n.host&&(n.port=this.secureProxy?443:80),n.host&&n.path&&(delete n.path,delete n.pathname),this.proxy=n}callback(t,r){return _Pe(this,void 0,void 0,function*(){let{proxy:n,secureProxy:s}=this,a=qj.default.parse(t.path);a.protocol||(a.protocol="http:"),a.hostname||(a.hostname=r.hostname||r.host||null),a.port==null&&typeof r.port&&(a.port=String(r.port)),a.port==="80"&&(a.port=""),t.path=qj.default.format(a),n.auth&&t.setHeader("Proxy-Authorization",`Basic ${Buffer.from(n.auth).toString("base64")}`);let l;if(s?(h3("Creating `tls.Socket`: %o",n),l=bPe.default.connect(n)):(h3("Creating `net.Socket`: %o",n),l=xPe.default.connect(n)),t._header){let c,u;h3("Regenerating stored HTTP header string for request"),t._header=null,t._implicitHeader(),t.output&&t.output.length>0?(h3("Patching connection write() output buffer with updated header"),c=t.output[0],u=c.indexOf(`\r
\r
`)+4,t.output[0]=t._header+c.substring(u),h3("Output buffer: %o",t.output)):t.outputData&&t.outputData.length>0&&(h3("Patching connection write() output buffer with updated header"),c=t.outputData[0].data,u=c.indexOf(`\r
\r
`)+4,t.outputData[0].data=t._header+c.substring(u),h3("Output buffer: %o",t.outputData[0].data))}return yield(0,TPe.default)(l,"connect"),l})}};o(Hj,"HttpProxyAgent");var jj=Hj;Ig.default=jj});var hle=k((Gj,ple)=>{"use strict";var IPe=Gj&&Gj.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},$j=IPe(dle());function Vj(e){return new $j.default(e)}o(Vj,"createHttpProxyAgent");(function(e){e.HttpProxyAgent=$j.default,e.prototype=$j.default.prototype})(Vj||(Vj={}));ple.exports=Vj});var mle=k(ww=>{"use strict";Object.defineProperty(ww,"__esModule",{value:!0});var j_={span:Symbol.for("@azure/core-tracing span"),namespace:Symbol.for("@azure/core-tracing namespace")};function APe(e={}){let t=new zj(e.parentContext);return e.span&&(t=t.setValue(j_.span,e.span)),e.namespace&&(t=t.setValue(j_.namespace,e.namespace)),t}o(APe,"createTracingContext");var P6=class P6{constructor(t){this._contextMap=t instanceof P6?new Map(t._contextMap):new Map}setValue(t,r){let n=new P6(this);return n._contextMap.set(t,r),n}getValue(t){return this._contextMap.get(t)}deleteValue(t){let r=new P6(this);return r._contextMap.delete(t),r}};o(P6,"TracingContextImpl");var zj=P6;function wPe(){return{end:()=>{},isRecording:()=>!1,recordException:()=>{},setAttribute:()=>{},setStatus:()=>{}}}o(wPe,"createDefaultTracingSpan");function RPe(){return{createRequestHeaders:()=>({}),parseTraceparentHeader:()=>{},startSpan:(e,t)=>({span:wPe(),tracingContext:APe({parentContext:t.tracingContext})}),withContext(e,t,...r){return t(...r)}}}o(RPe,"createDefaultInstrumenter");var Aw;function PPe(e){Aw=e}o(PPe,"useInstrumenter");function Iw(){return Aw||(Aw=RPe()),Aw}o(Iw,"getInstrumenter");function NPe(e){let{namespace:t,packageName:r,packageVersion:n}=e;function s(f,d,p){var h;let m=Iw().startSpan(f,Object.assign(Object.assign({},p),{packageName:r,packageVersion:n,tracingContext:(h=d==null?void 0:d.tracingOptions)===null||h===void 0?void 0:h.tracingContext})),v=m.tracingContext,_=m.span;v.getValue(j_.namespace)||(v=v.setValue(j_.namespace,t)),_.setAttribute("az.namespace",v.getValue(j_.namespace));let b=Object.assign({},d,{tracingOptions:Object.assign(Object.assign({},d==null?void 0:d.tracingOptions),{tracingContext:v})});return{span:_,updatedOptions:b}}o(s,"startSpan");async function a(f,d,p,h){let{span:m,updatedOptions:v}=s(f,d,h);try{let _=await l(v.tracingOptions.tracingContext,()=>Promise.resolve(p(v,m)));return m.setStatus({status:"success"}),_}catch(_){throw m.setStatus({status:"error",error:_}),_}finally{m.end()}}o(a,"withSpan");function l(f,d,...p){return Iw().withContext(f,d,...p)}o(l,"withContext");function c(f){return Iw().parseTraceparentHeader(f)}o(c,"parseTraceparentHeader");function u(f){return Iw().createRequestHeaders(f)}return o(u,"createRequestHeaders"),{startSpan:s,withSpan:a,withContext:l,parseTraceparentHeader:c,createRequestHeaders:u}}o(NPe,"createTracingClient");ww.createTracingClient=NPe;ww.useInstrumenter=PPe});function H_(){return Rw>Pw.length-16&&(gle.default.randomFillSync(Pw),Rw=0),Pw.slice(Rw,Rw+=16)}var gle,Pw,Rw,Kj=Gc(()=>{gle=Vs(require("crypto")),Pw=new Uint8Array(256),Rw=Pw.length;o(H_,"rng")});var vle,yle=Gc(()=>{vle=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function OPe(e){return typeof e=="string"&&vle.test(e)}var m3,$_=Gc(()=>{yle();o(OPe,"validate");m3=OPe});function DPe(e,t=0){let r=(dc[e[t+0]]+dc[e[t+1]]+dc[e[t+2]]+dc[e[t+3]]+"-"+dc[e[t+4]]+dc[e[t+5]]+"-"+dc[e[t+6]]+dc[e[t+7]]+"-"+dc[e[t+8]]+dc[e[t+9]]+"-"+dc[e[t+10]]+dc[e[t+11]]+dc[e[t+12]]+dc[e[t+13]]+dc[e[t+14]]+dc[e[t+15]]).toLowerCase();if(!m3(r))throw TypeError("Stringified UUID is invalid");return r}var dc,g3,V_=Gc(()=>{$_();dc=[];for(let e=0;e<256;++e)dc.push((e+256).toString(16).substr(1));o(DPe,"stringify");g3=DPe});function LPe(e,t,r){let n=t&&r||0,s=t||new Array(16);e=e||{};let a=e.node||_le,l=e.clockseq!==void 0?e.clockseq:Wj;if(a==null||l==null){let h=e.random||(e.rng||H_)();a==null&&(a=_le=[h[0]|1,h[1],h[2],h[3],h[4],h[5]]),l==null&&(l=Wj=(h[6]<<8|h[7])&16383)}let c=e.msecs!==void 0?e.msecs:Date.now(),u=e.nsecs!==void 0?e.nsecs:Xj+1,f=c-Yj+(u-Xj)/1e4;if(f<0&&e.clockseq===void 0&&(l=l+1&16383),(f<0||c>Yj)&&e.nsecs===void 0&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Yj=c,Xj=u,Wj=l,c+=122192928e5;let d=((c&268435455)*1e4+u)%4294967296;s[n++]=d>>>24&255,s[n++]=d>>>16&255,s[n++]=d>>>8&255,s[n++]=d&255;let p=c/4294967296*1e4&268435455;s[n++]=p>>>8&255,s[n++]=p&255,s[n++]=p>>>24&15|16,s[n++]=p>>>16&255,s[n++]=l>>>8|128,s[n++]=l&255;for(let h=0;h<6;++h)s[n+h]=a[h];return t||g3(s)}var _le,Wj,Yj,Xj,xle,ble=Gc(()=>{Kj();V_();Yj=0,Xj=0;o(LPe,"v1");xle=LPe});function kPe(e){if(!m3(e))throw TypeError("Invalid UUID");let t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}var Nw,Qj=Gc(()=>{$_();o(kPe,"parse");Nw=kPe});function MPe(e){e=unescape(encodeURIComponent(e));let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}function G_(e,t,r){function n(s,a,l,c){if(typeof s=="string"&&(s=MPe(s)),typeof a=="string"&&(a=Nw(a)),a.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let u=new Uint8Array(16+s.length);if(u.set(a),u.set(s,a.length),u=r(u),u[6]=u[6]&15|t,u[8]=u[8]&63|128,l){c=c||0;for(let f=0;f<16;++f)l[c+f]=u[f];return l}return g3(u)}o(n,"generateUUID");try{n.name=e}catch{}return n.DNS=BPe,n.URL=FPe,n}var BPe,FPe,Jj=Gc(()=>{V_();Qj();o(MPe,"stringToBytes");BPe="6ba7b810-9dad-11d1-80b4-00c04fd430c8",FPe="6ba7b811-9dad-11d1-80b4-00c04fd430c8";o(G_,"default")});function UPe(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),Ele.default.createHash("md5").update(e).digest()}var Ele,Tle,Cle=Gc(()=>{Ele=Vs(require("crypto"));o(UPe,"md5");Tle=UPe});var qPe,Sle,Ile=Gc(()=>{Jj();Cle();qPe=G_("v3",48,Tle),Sle=qPe});function jPe(e,t,r){e=e||{};let n=e.random||(e.rng||H_)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let s=0;s<16;++s)t[r+s]=n[s];return t}return g3(n)}var Ale,wle=Gc(()=>{Kj();V_();o(jPe,"v4");Ale=jPe});function HPe(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),Rle.default.createHash("sha1").update(e).digest()}var Rle,Ple,Nle=Gc(()=>{Rle=Vs(require("crypto"));o(HPe,"sha1");Ple=HPe});var $Pe,Ole,Dle=Gc(()=>{Jj();Nle();$Pe=G_("v5",80,Ple),Ole=$Pe});var Lle,kle=Gc(()=>{Lle="00000000-0000-0000-0000-000000000000"});function VPe(e){if(!m3(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}var Mle,Ble=Gc(()=>{$_();o(VPe,"version");Mle=VPe});var Fle={};s2e(Fle,{NIL:()=>Lle,parse:()=>Nw,stringify:()=>g3,v1:()=>xle,v3:()=>Sle,v4:()=>Ale,v5:()=>Ole,validate:()=>m3,version:()=>Mle});var Ule=Gc(()=>{ble();Ile();wle();Dle();kle();Ble();$_();V_();Qj()});var Rce=k(Qs=>{"use strict";Object.defineProperty(Qs,"__esModule",{value:!0});var Wle=poe(),z1=xoe(),GPe=require("os"),K_=vj(),zPe=tle(),KPe=ule(),WPe=hle(),YPe=mle(),XPe=require("util"),QPe=require("http"),JPe=require("https"),ZPe=require("zlib"),eNe=require("stream"),tNe=(Ule(),a2e(Fle));function rNe(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}o(rNe,"_interopDefaultLegacy");function Bw(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}}),t.default=e,Object.freeze(t)}o(Bw,"_interopNamespace");var Zj=Bw(GPe),nNe=rNe(zPe),eH=Bw(QPe),tH=Bw(JPe),qle=Bw(ZPe),jle=new Set(["Deserialize","Serialize","Retry","Sign"]),W_=class W_{constructor(t){var r;this._policies=[],this._policies=(r=t==null?void 0:t.slice(0))!==null&&r!==void 0?r:[],this._orderedPolicies=void 0}addPolicy(t,r={}){if(r.phase&&r.afterPhase)throw new Error("Policies inside a phase cannot specify afterPhase.");if(r.phase&&!jle.has(r.phase))throw new Error(`Invalid phase name: ${r.phase}`);if(r.afterPhase&&!jle.has(r.afterPhase))throw new Error(`Invalid afterPhase name: ${r.afterPhase}`);this._policies.push({policy:t,options:r}),this._orderedPolicies=void 0}removePolicy(t){let r=[];return this._policies=this._policies.filter(n=>t.name&&n.policy.name===t.name||t.phase&&n.options.phase===t.phase?(r.push(n.policy),!1):!0),this._orderedPolicies=void 0,r}sendRequest(t,r){return this.getOrderedPolicies().reduceRight((a,l)=>c=>l.sendRequest(c,a),a=>t.sendRequest(a))(r)}getOrderedPolicies(){return this._orderedPolicies||(this._orderedPolicies=this.orderPolicies()),this._orderedPolicies}clone(){return new W_(this._policies)}static create(){return new W_}orderPolicies(){let t=[],r=new Map;function n(v){return{name:v,policies:new Set,hasRun:!1,hasAfterPolicies:!1}}o(n,"createPhase");let s=n("Serialize"),a=n("None"),l=n("Deserialize"),c=n("Retry"),u=n("Sign"),f=[s,a,l,c,u];function d(v){return v==="Retry"?c:v==="Serialize"?s:v==="Deserialize"?l:v==="Sign"?u:a}o(d,"getPhase");for(let v of this._policies){let _=v.policy,b=v.options,S=_.name;if(r.has(S))throw new Error("Duplicate policy names not allowed in pipeline");let A={policy:_,dependsOn:new Set,dependants:new Set};b.afterPhase&&(A.afterPhase=d(b.afterPhase),A.afterPhase.hasAfterPolicies=!0),r.set(S,A),d(b.phase).policies.add(A)}for(let v of this._policies){let{policy:_,options:b}=v,S=_.name,A=r.get(S);if(!A)throw new Error(`Missing node for policy ${S}`);if(b.afterPolicies)for(let O of b.afterPolicies){let L=r.get(O);L&&(A.dependsOn.add(L),L.dependants.add(A))}if(b.beforePolicies)for(let O of b.beforePolicies){let L=r.get(O);L&&(L.dependsOn.add(A),A.dependants.add(L))}}function p(v){v.hasRun=!0;for(let _ of v.policies)if(!(_.afterPhase&&(!_.afterPhase.hasRun||_.afterPhase.policies.size))&&_.dependsOn.size===0){t.push(_.policy);for(let b of _.dependants)b.dependsOn.delete(_);r.delete(_.policy.name),v.policies.delete(_)}}o(p,"walkPhase");function h(){for(let v of f){if(p(v),v.policies.size>0&&v!==a){a.hasRun||p(a);return}v.hasAfterPolicies&&p(a)}}o(h,"walkPhases");let m=0;for(;r.size>0;){m++;let v=t.length;if(h(),t.length<=v&&m>1)throw new Error("Cannot satisfy policy dependencies due to requirements cycle.")}return t}};o(W_,"HttpPipeline");var nH=W_;function Yle(){return nH.create()}o(Yle,"createEmptyPipeline");var Mf=Wle.createClientLogger("core-rest-pipeline"),rH="REDACTED",iNe=["x-ms-client-request-id","x-ms-return-client-request-id","x-ms-useragent","x-ms-correlation-request-id","x-ms-request-id","client-request-id","ms-cv","return-client-request-id","traceparent","Access-Control-Allow-Credentials","Access-Control-Allow-Headers","Access-Control-Allow-Methods","Access-Control-Allow-Origin","Access-Control-Expose-Headers","Access-Control-Max-Age","Access-Control-Request-Headers","Access-Control-Request-Method","Origin","Accept","Accept-Encoding","Cache-Control","Connection","Content-Length","Content-Type","Date","ETag","Expires","If-Match","If-Modified-Since","If-None-Match","If-Unmodified-Since","Last-Modified","Pragma","Request-Id","Retry-After","Server","Transfer-Encoding","User-Agent","WWW-Authenticate"],sNe=["api-version"],uH=class uH{constructor({additionalAllowedHeaderNames:t=[],additionalAllowedQueryParameters:r=[]}={}){t=iNe.concat(t),r=sNe.concat(r),this.allowedHeaderNames=new Set(t.map(n=>n.toLowerCase())),this.allowedQueryParameters=new Set(r.map(n=>n.toLowerCase()))}sanitize(t){let r=new Set;return JSON.stringify(t,(n,s)=>{if(s instanceof Error)return Object.assign(Object.assign({},s),{name:s.name,message:s.message});if(n==="headers")return this.sanitizeHeaders(s);if(n==="url")return this.sanitizeUrl(s);if(n==="query")return this.sanitizeQuery(s);if(n==="body")return;if(n==="response")return;if(n==="operationSpec")return;if(Array.isArray(s)||z1.isObject(s)){if(r.has(s))return"[Circular]";r.add(s)}return s},2)}sanitizeHeaders(t){let r={};for(let n of Object.keys(t))this.allowedHeaderNames.has(n.toLowerCase())?r[n]=t[n]:r[n]=rH;return r}sanitizeQuery(t){if(typeof t!="object"||t===null)return t;let r={};for(let n of Object.keys(t))this.allowedQueryParameters.has(n.toLowerCase())?r[n]=t[n]:r[n]=rH;return r}sanitizeUrl(t){if(typeof t!="string"||t===null)return t;let r=new URL(t);if(!r.search)return t;for(let[n]of r.searchParams)this.allowedQueryParameters.has(n.toLowerCase())||r.searchParams.set(n,rH);return r.toString()}};o(uH,"Sanitizer");var Lw=uH,Xle="logPolicy";function Qle(e={}){var t;let r=(t=e.logger)!==null&&t!==void 0?t:Mf.info,n=new Lw({additionalAllowedHeaderNames:e.additionalAllowedHeaderNames,additionalAllowedQueryParameters:e.additionalAllowedQueryParameters});return{name:Xle,async sendRequest(s,a){if(!r.enabled)return a(s);r(`Request: ${n.sanitize(s)}`);let l=await a(s);return r(`Response status code: ${l.status}`),r(`Headers: ${n.sanitize(l.headers)}`),l}}}o(Qle,"logPolicy");var Jle="redirectPolicy",Hle=["GET","HEAD"];function Zle(e={}){let{maxRetries:t=20}=e;return{name:Jle,async sendRequest(r,n){let s=await n(r);return ece(n,s,t)}}}o(Zle,"redirectPolicy");async function ece(e,t,r,n=0){let{request:s,status:a,headers:l}=t,c=l.get("location");if(c&&(a===300||a===301&&Hle.includes(s.method)||a===302&&Hle.includes(s.method)||a===303&&s.method==="POST"||a===307)&&n<r){let u=new URL(c,s.url);s.url=u.toString(),a===303&&(s.method="GET",s.headers.delete("Content-Length"),delete s.body),s.headers.delete("Authorization");let f=await e(s);return ece(e,f,r,n+1)}return t}o(ece,"handleRedirect");function aNe(){return"User-Agent"}o(aNe,"getHeaderName");function oNe(e){e.set("Node",process.version),e.set("OS",`(${Zj.arch()}-${Zj.type()}-${Zj.release()})`)}o(oNe,"setPlatformSpecificData");var tce="1.10.1",N6=3;function lNe(e){let t=[];for(let[r,n]of e){let s=n?`${r}/${n}`:r;t.push(s)}return t.join(" ")}o(lNe,"getUserAgentString");function cNe(){return aNe()}o(cNe,"getUserAgentHeaderName");function rce(e){let t=new Map;t.set("core-rest-pipeline",tce),oNe(t);let r=lNe(t);return e?`${e} ${r}`:r}o(rce,"getUserAgentValue");var $le=cNe(),nce="userAgentPolicy";function ice(e={}){let t=rce(e.userAgentPrefix);return{name:nce,async sendRequest(r,n){return r.headers.has($le)||r.headers.set($le,t),n(r)}}}o(ice,"userAgentPolicy");var sce="decompressResponsePolicy";function ace(){return{name:sce,async sendRequest(e,t){return e.method!=="HEAD"&&e.headers.set("Accept-Encoding","gzip,deflate"),t(e)}}}o(ace,"decompressResponsePolicy");var uNe="The operation was aborted.";function oce(e,t,r){return new Promise((n,s)=>{let a,l,c=o(()=>s(new K_.AbortError(r!=null&&r.abortErrorMsg?r==null?void 0:r.abortErrorMsg:uNe)),"rejectOnAbort"),u=o(()=>{r!=null&&r.abortSignal&&l&&r.abortSignal.removeEventListener("abort",l)},"removeListeners");if(l=o(()=>(a&&clearTimeout(a),u(),c()),"onAborted"),r!=null&&r.abortSignal&&r.abortSignal.aborted)return c();a=setTimeout(()=>{u(),n(t)},e),r!=null&&r.abortSignal&&r.abortSignal.addEventListener("abort",l)})}o(oce,"delay");function fNe(e,t){let r=e.headers.get(t);if(!r)return;let n=Number(r);if(!Number.isNaN(n))return n}o(fNe,"parseHeaderValueAsNumber");var iH="Retry-After",dNe=["retry-after-ms","x-ms-retry-after-ms",iH];function lce(e){if(e&&[429,503].includes(e.status))try{for(let s of dNe){let a=fNe(e,s);if(a===0||a)return a*(s===iH?1e3:1)}let t=e.headers.get(iH);if(!t)return;let n=Date.parse(t)-Date.now();return Number.isFinite(n)?Math.max(0,n):void 0}catch{return}}o(lce,"getRetryAfterInMs");function pNe(e){return Number.isFinite(lce(e))}o(pNe,"isThrottlingRetryResponse");function cce(){return{name:"throttlingRetryStrategy",retry({response:e}){let t=lce(e);return Number.isFinite(t)?{retryAfterInMs:t}:{skipStrategy:!0}}}}o(cce,"throttlingRetryStrategy");var hNe=1e3,mNe=1e3*64;function lH(e={}){var t,r;let n=(t=e.retryDelayInMs)!==null&&t!==void 0?t:hNe,s=(r=e.maxRetryDelayInMs)!==null&&r!==void 0?r:mNe,a=n;return{name:"exponentialRetryStrategy",retry({retryCount:l,response:c,responseError:u}){let f=vNe(u),d=f&&e.ignoreSystemErrors,p=gNe(c),h=p&&e.ignoreHttpStatusCodes;if(c&&(pNe(c)||!p)||h||d)return{skipStrategy:!0};if(u&&!f&&!p)return{errorToThrow:u};let v=a*Math.pow(2,l),_=Math.min(s,v);return a=_/2+z1.getRandomIntegerInclusive(0,_/2),{retryAfterInMs:a}}}}o(lH,"exponentialRetryStrategy");function gNe(e){return!!(e&&e.status!==void 0&&(e.status>=500||e.status===408)&&e.status!==501&&e.status!==505)}o(gNe,"isExponentialRetryResponse");function vNe(e){return e?e.code==="ETIMEDOUT"||e.code==="ESOCKETTIMEDOUT"||e.code==="ECONNREFUSED"||e.code==="ECONNRESET"||e.code==="ENOENT":!1}o(vNe,"isSystemError");var Vle=Wle.createClientLogger("core-rest-pipeline retryPolicy"),yNe="retryPolicy";function Y_(e,t={maxRetries:N6}){let r=t.logger||Vle;return{name:yNe,async sendRequest(n,s){var a,l;let c,u,f=-1;e:for(;;){f+=1,c=void 0,u=void 0;try{r.info(`Retry ${f}: Attempting to send request`,n.requestId),c=await s(n),r.info(`Retry ${f}: Received a response from request`,n.requestId)}catch(d){if(r.error(`Retry ${f}: Received an error from request`,n.requestId),u=d,!d||u.name!=="RestError")throw d;c=u.response}if(!((a=n.abortSignal)===null||a===void 0)&&a.aborted)throw r.error(`Retry ${f}: Request aborted.`),new K_.AbortError;if(f>=((l=t.maxRetries)!==null&&l!==void 0?l:N6)){if(r.info(`Retry ${f}: Maximum retries reached. Returning the last received response, or throwing the last received error.`),u)throw u;if(c)return c;throw new Error("Maximum retries reached with no response or error to throw")}r.info(`Retry ${f}: Processing ${e.length} retry strategies.`);t:for(let d of e){let p=d.logger||Vle;p.info(`Retry ${f}: Processing retry strategy ${d.name}.`);let h=d.retry({retryCount:f,response:c,responseError:u});if(h.skipStrategy){p.info(`Retry ${f}: Skipped.`);continue t}let{errorToThrow:m,retryAfterInMs:v,redirectTo:_}=h;if(m)throw p.error(`Retry ${f}: Retry strategy ${d.name} throws error:`,m),m;if(v||v===0){p.info(`Retry ${f}: Retry strategy ${d.name} retries after ${v}`),await oce(v,void 0,{abortSignal:n.abortSignal});continue e}if(_){p.info(`Retry ${f}: Retry strategy ${d.name} redirects to ${_}`),n.url=_;continue e}}if(u)throw r.info("None of the retry strategies could work with the received error. Throwing it."),u;if(c)return r.info("None of the retry strategies could work with the received response. Returning it."),c}}}}o(Y_,"retryPolicy");var _Ne="defaultRetryPolicy";function uce(e={}){var t;return{name:_Ne,sendRequest:Y_([cce(),lH(e)],{maxRetries:(t=e.maxRetries)!==null&&t!==void 0?t:N6}).sendRequest}}o(uce,"defaultRetryPolicy");var fce="formDataPolicy";function dce(){return{name:fce,async sendRequest(e,t){if(e.formData){let r=e.headers.get("Content-Type");r&&r.indexOf("application/x-www-form-urlencoded")!==-1?(e.body=xNe(e.formData),e.formData=void 0):await bNe(e.formData,e)}return t(e)}}}o(dce,"formDataPolicy");function xNe(e){let t=new URLSearchParams;for(let[r,n]of Object.entries(e))if(Array.isArray(n))for(let s of n)t.append(r,s.toString());else t.append(r,n.toString());return t.toString()}o(xNe,"wwwFormUrlEncode");async function bNe(e,t){let r=new nNe.default;for(let s of Object.keys(e)){let a=e[s];if(Array.isArray(a))for(let l of a)r.append(s,l);else r.append(s,a)}t.body=r,t.formData=void 0;let n=t.headers.get("Content-Type");n&&n.indexOf("multipart/form-data")!==-1&&t.headers.set("Content-Type",`multipart/form-data; boundary=${r.getBoundary()}`);try{let s=await new Promise((a,l)=>{r.getLength((c,u)=>{c?l(c):a(u)})});t.headers.set("Content-Length",s)}catch{}}o(bNe,"prepareFormData");var ENe="HTTPS_PROXY",TNe="HTTP_PROXY",CNe="ALL_PROXY",SNe="NO_PROXY",pce="proxyPolicy",Gle=[],hce=!1,INe=new Map;function Dw(e){if(process.env[e])return process.env[e];if(process.env[e.toLowerCase()])return process.env[e.toLowerCase()]}o(Dw,"getEnvironmentValue");function ANe(){if(!process)return;let e=Dw(ENe),t=Dw(CNe),r=Dw(TNe);return e||t||r}o(ANe,"loadEnvironmentProxyValue");function wNe(e,t,r){if(t.length===0)return!1;let n=new URL(e).hostname;if(r!=null&&r.has(n))return r.get(n);let s=!1;for(let a of t)a[0]==="."?(n.endsWith(a)||n.length===a.length-1&&n===a.slice(1))&&(s=!0):n===a&&(s=!0);return r==null||r.set(n,s),s}o(wNe,"isBypassed");function RNe(){let e=Dw(SNe);return hce=!0,e?e.split(",").map(t=>t.trim()).filter(t=>t.length):[]}o(RNe,"loadNoProxy");function mce(e){if(!e&&(e=ANe(),!e))return;let t=new URL(e);return{host:(t.protocol?t.protocol+"//":"")+t.hostname,port:Number.parseInt(t.port||"80"),username:t.username,password:t.password}}o(mce,"getDefaultProxySettings");function zle(e,{headers:t,tlsSettings:r}){let n;try{n=new URL(e.host)}catch{throw new Error(`Expecting a valid host string in proxy settings, but found "${e.host}".`)}r&&Mf.warning("TLS settings are not supported in combination with custom Proxy, certificates provided to the client will be ignored.");let s={hostname:n.hostname,port:e.port,protocol:n.protocol,headers:t.toJSON()};return e.username&&e.password?s.auth=`${e.username}:${e.password}`:e.username&&(s.auth=`${e.username}`),s}o(zle,"getProxyAgentOptions");function PNe(e,t){if(e.agent)return;let n=new URL(e.url).protocol!=="https:",s=e.proxySettings;if(s)if(n){if(!t.httpProxyAgent){let a=zle(s,e);t.httpProxyAgent=new WPe.HttpProxyAgent(a)}e.agent=t.httpProxyAgent}else{if(!t.httpsProxyAgent){let a=zle(s,e);t.httpsProxyAgent=new KPe.HttpsProxyAgent(a)}e.agent=t.httpsProxyAgent}}o(PNe,"setProxyAgentOnRequest");function gce(e=mce(),t){hce||Gle.push(...RNe());let r={};return{name:pce,async sendRequest(n,s){var a;return!n.proxySettings&&!wNe(n.url,(a=t==null?void 0:t.customNoProxyList)!==null&&a!==void 0?a:Gle,t!=null&&t.customNoProxyList?void 0:INe)&&(n.proxySettings=e),n.proxySettings&&PNe(n,r),s(n)}}}o(gce,"proxyPolicy");var vce="setClientRequestIdPolicy";function yce(e="x-ms-client-request-id"){return{name:vce,async sendRequest(t,r){return t.headers.has(e)||t.headers.set(e,t.requestId),r(t)}}}o(yce,"setClientRequestIdPolicy");var _ce="tlsPolicy";function xce(e){return{name:_ce,sendRequest:async(t,r)=>(t.tlsSettings||(t.tlsSettings=e),r(t))}}o(xce,"tlsPolicy");var NNe=XPe.inspect.custom,ONe=new Lw,Mw=class Mw extends Error{constructor(t,r={}){super(t),this.name="RestError",this.code=r.code,this.statusCode=r.statusCode,this.request=r.request,this.response=r.response,Object.setPrototypeOf(this,Mw.prototype)}[NNe](){return`RestError: ${this.message} 
 ${ONe.sanitize(this)}`}};o(Mw,"RestError");var Ld=Mw;Ld.REQUEST_SEND_ERROR="REQUEST_SEND_ERROR";Ld.PARSE_ERROR="PARSE_ERROR";function bce(e){return e instanceof Ld?!0:z1.isError(e)&&e.name==="RestError"}o(bce,"isRestError");var Ece="tracingPolicy";function Tce(e={}){let t=rce(e.userAgentPrefix),r=DNe();return{name:Ece,async sendRequest(n,s){var a,l;if(!r||!(!((a=n.tracingOptions)===null||a===void 0)&&a.tracingContext))return s(n);let{span:c,tracingContext:u}=(l=LNe(r,n,t))!==null&&l!==void 0?l:{};if(!c||!u)return s(n);try{let f=await r.withContext(u,s,n);return MNe(c,f),f}catch(f){throw kNe(c,f),f}}}}o(Tce,"tracingPolicy");function DNe(){try{return YPe.createTracingClient({namespace:"",packageName:"@azure/core-rest-pipeline",packageVersion:tce})}catch(e){Mf.warning(`Error when creating the TracingClient: ${z1.getErrorMessage(e)}`);return}}o(DNe,"tryCreateTracingClient");function LNe(e,t,r){try{let{span:n,updatedOptions:s}=e.startSpan(`HTTP ${t.method}`,{tracingOptions:t.tracingOptions},{spanKind:"client",spanAttributes:{"http.method":t.method,"http.url":t.url,requestId:t.requestId}});if(!n.isRecording()){n.end();return}r&&n.setAttribute("http.user_agent",r);let a=e.createRequestHeaders(s.tracingOptions.tracingContext);for(let[l,c]of Object.entries(a))t.headers.set(l,c);return{span:n,tracingContext:s.tracingOptions.tracingContext}}catch(n){Mf.warning(`Skipping creating a tracing span due to an error: ${z1.getErrorMessage(n)}`);return}}o(LNe,"tryCreateSpan");function kNe(e,t){try{e.setStatus({status:"error",error:z1.isError(t)?t:void 0}),bce(t)&&t.statusCode&&e.setAttribute("http.status_code",t.statusCode),e.end()}catch(r){Mf.warning(`Skipping tracing span processing due to an error: ${z1.getErrorMessage(r)}`)}}o(kNe,"tryProcessError");function MNe(e,t){try{e.setAttribute("http.status_code",t.status);let r=t.headers.get("x-ms-request-id");r&&e.setAttribute("serviceRequestId",r),e.setStatus({status:"success"}),e.end()}catch(r){Mf.warning(`Skipping tracing span processing due to an error: ${z1.getErrorMessage(r)}`)}}o(MNe,"tryProcessResponse");function BNe(e){let t=Yle();return z1.isNode&&(e.tlsOptions&&t.addPolicy(xce(e.tlsOptions)),t.addPolicy(gce(e.proxyOptions)),t.addPolicy(ace())),t.addPolicy(dce()),t.addPolicy(ice(e.userAgentOptions)),t.addPolicy(yce()),t.addPolicy(uce(e.retryOptions),{phase:"Retry"}),t.addPolicy(Tce(e.userAgentOptions),{afterPhase:"Retry"}),z1.isNode&&t.addPolicy(Zle(e.redirectOptions),{afterPhase:"Retry"}),t.addPolicy(Qle(e.loggingOptions),{afterPhase:"Sign"}),t}o(BNe,"createPipelineFromOptions");function Ow(e){return e.toLowerCase()}o(Ow,"normalizeName");function*FNe(e){for(let t of e.values())yield[t.name,t.value]}o(FNe,"headerIterator");var fH=class fH{constructor(t){if(this._headersMap=new Map,t)for(let r of Object.keys(t))this.set(r,t[r])}set(t,r){this._headersMap.set(Ow(t),{name:t,value:String(r)})}get(t){var r;return(r=this._headersMap.get(Ow(t)))===null||r===void 0?void 0:r.value}has(t){return this._headersMap.has(Ow(t))}delete(t){this._headersMap.delete(Ow(t))}toJSON(t={}){let r={};if(t.preserveCase)for(let n of this._headersMap.values())r[n.name]=n.value;else for(let[n,s]of this._headersMap)r[n]=s.value;return r}toString(){return JSON.stringify(this.toJSON({preserveCase:!0}))}[Symbol.iterator](){return FNe(this._headersMap)}};o(fH,"HttpHeadersImpl");var sH=fH;function cH(e){return new sH(e)}o(cH,"createHttpHeaders");var UNe={};function z_(e){return e&&typeof e.pipe=="function"}o(z_,"isReadableStream");function Kle(e){return new Promise(t=>{e.on("close",t),e.on("end",t),e.on("error",t)})}o(Kle,"isStreamComplete");function Cce(e){return e&&typeof e.byteLength=="number"}o(Cce,"isArrayBuffer");var dH=class dH extends eNe.Transform{constructor(t){super(),this.loadedBytes=0,this.progressCallback=t}_transform(t,r,n){this.push(t),this.loadedBytes+=t.length;try{this.progressCallback({loadedBytes:this.loadedBytes}),n()}catch(s){n(s)}}};o(dH,"ReportTransform");var kw=dH,pH=class pH{constructor(){this.cachedHttpsAgents=new WeakMap}async sendRequest(t){var r,n,s;let a=new K_.AbortController,l;if(t.abortSignal){if(t.abortSignal.aborted)throw new K_.AbortError("The operation was aborted.");l=o(p=>{p.type==="abort"&&a.abort()},"abortListener"),t.abortSignal.addEventListener("abort",l)}t.timeout>0&&setTimeout(()=>{a.abort()},t.timeout);let c=t.headers.get("Accept-Encoding"),u=(c==null?void 0:c.includes("gzip"))||(c==null?void 0:c.includes("deflate")),f=typeof t.body=="function"?t.body():t.body;if(f&&!t.headers.has("Content-Length")){let p=$Ne(f);p!==null&&t.headers.set("Content-Length",p)}let d;try{if(f&&t.onUploadProgress){let b=t.onUploadProgress,S=new kw(b);S.on("error",A=>{Mf.error("Error in upload progress",A)}),z_(f)?f.pipe(S):S.end(f),f=S}let p=await this.makeRequest(t,a,f),h=qNe(p),v={status:(r=p.statusCode)!==null&&r!==void 0?r:0,headers:h,request:t};if(t.method==="HEAD")return p.resume(),v;d=u?jNe(p,h):p;let _=t.onDownloadProgress;if(_){let b=new kw(_);b.on("error",S=>{Mf.error("Error in download progress",S)}),d.pipe(b),d=b}return!((n=t.streamResponseStatusCodes)===null||n===void 0)&&n.has(Number.POSITIVE_INFINITY)||!((s=t.streamResponseStatusCodes)===null||s===void 0)&&s.has(v.status)?v.readableStreamBody=d:v.bodyAsText=await HNe(d),v}finally{if(t.abortSignal&&l){let p=Promise.resolve();z_(f)&&(p=Kle(f));let h=Promise.resolve();z_(d)&&(h=Kle(d)),Promise.all([p,h]).then(()=>{var m;l&&((m=t.abortSignal)===null||m===void 0||m.removeEventListener("abort",l))}).catch(m=>{Mf.warning("Error when cleaning up abortListener on httpRequest",m)})}}}makeRequest(t,r,n){var s;let a=new URL(t.url),l=a.protocol!=="https:";if(l&&!t.allowInsecureConnection)throw new Error(`Cannot connect to ${t.url} while allowInsecureConnection is false.`);let u={agent:(s=t.agent)!==null&&s!==void 0?s:this.getOrCreateAgent(t,l),hostname:a.hostname,path:`${a.pathname}${a.search}`,port:a.port,method:t.method,headers:t.headers.toJSON({preserveCase:!0})};return new Promise((f,d)=>{let p=l?eH.request(u,f):tH.request(u,f);p.once("error",h=>{var m;d(new Ld(h.message,{code:(m=h.code)!==null&&m!==void 0?m:Ld.REQUEST_SEND_ERROR,request:t}))}),r.signal.addEventListener("abort",()=>{let h=new K_.AbortError("The operation was aborted.");p.destroy(h),d(h)}),n&&z_(n)?n.pipe(p):n?typeof n=="string"||Buffer.isBuffer(n)?p.end(n):Cce(n)?p.end(ArrayBuffer.isView(n)?Buffer.from(n.buffer):Buffer.from(n)):(Mf.error("Unrecognized body type",n),d(new Ld("Unrecognized body type"))):p.end()})}getOrCreateAgent(t,r){var n;let s=t.disableKeepAlive;if(r)return s?eH.globalAgent:(this.cachedHttpAgent||(this.cachedHttpAgent=new eH.Agent({keepAlive:!0})),this.cachedHttpAgent);{if(s&&!t.tlsSettings)return tH.globalAgent;let a=(n=t.tlsSettings)!==null&&n!==void 0?n:UNe,l=this.cachedHttpsAgents.get(a);return l&&l.options.keepAlive===!s||(Mf.info("No cached TLS Agent exist, creating a new Agent"),l=new tH.Agent(Object.assign({keepAlive:!s},a)),this.cachedHttpsAgents.set(a,l)),l}}};o(pH,"NodeHttpClient");var aH=pH;function qNe(e){let t=cH();for(let r of Object.keys(e.headers)){let n=e.headers[r];Array.isArray(n)?n.length>0&&t.set(r,n[0]):n&&t.set(r,n)}return t}o(qNe,"getResponseHeaders");function jNe(e,t){let r=t.get("Content-Encoding");if(r==="gzip"){let n=qle.createGunzip();return e.pipe(n),n}else if(r==="deflate"){let n=qle.createInflate();return e.pipe(n),n}return e}o(jNe,"getDecodedResponseStream");function HNe(e){return new Promise((t,r)=>{let n=[];e.on("data",s=>{Buffer.isBuffer(s)?n.push(s):n.push(Buffer.from(s))}),e.on("end",()=>{t(Buffer.concat(n).toString("utf8"))}),e.on("error",s=>{s&&(s==null?void 0:s.name)==="AbortError"?r(s):r(new Ld(`Error reading response as text: ${s.message}`,{code:Ld.PARSE_ERROR}))})})}o(HNe,"streamToText");function $Ne(e){return e?Buffer.isBuffer(e)?e.length:z_(e)?null:Cce(e)?e.byteLength:typeof e=="string"?Buffer.from(e).length:null:0}o($Ne,"getBodyLength");function VNe(){return new aH}o(VNe,"createNodeHttpClient");function GNe(){return VNe()}o(GNe,"createDefaultHttpClient");function zNe(){return tNe.v4()}o(zNe,"generateUuid");var hH=class hH{constructor(t){var r,n,s,a,l,c,u;this.url=t.url,this.body=t.body,this.headers=(r=t.headers)!==null&&r!==void 0?r:cH(),this.method=(n=t.method)!==null&&n!==void 0?n:"GET",this.timeout=(s=t.timeout)!==null&&s!==void 0?s:0,this.formData=t.formData,this.disableKeepAlive=(a=t.disableKeepAlive)!==null&&a!==void 0?a:!1,this.proxySettings=t.proxySettings,this.streamResponseStatusCodes=t.streamResponseStatusCodes,this.withCredentials=(l=t.withCredentials)!==null&&l!==void 0?l:!1,this.abortSignal=t.abortSignal,this.tracingOptions=t.tracingOptions,this.onUploadProgress=t.onUploadProgress,this.onDownloadProgress=t.onDownloadProgress,this.requestId=t.requestId||zNe(),this.allowInsecureConnection=(c=t.allowInsecureConnection)!==null&&c!==void 0?c:!1,this.enableBrowserStreams=(u=t.enableBrowserStreams)!==null&&u!==void 0?u:!1}};o(hH,"PipelineRequestImpl");var oH=hH;function KNe(e){return new oH(e)}o(KNe,"createPipelineRequest");var WNe="exponentialRetryPolicy";function YNe(e={}){var t;return Y_([lH(Object.assign(Object.assign({},e),{ignoreSystemErrors:!0}))],{maxRetries:(t=e.maxRetries)!==null&&t!==void 0?t:N6})}o(YNe,"exponentialRetryPolicy");var Sce="systemErrorRetryPolicy";function XNe(e={}){var t;return{name:Sce,sendRequest:Y_([lH(Object.assign(Object.assign({},e),{ignoreHttpStatusCodes:!0}))],{maxRetries:(t=e.maxRetries)!==null&&t!==void 0?t:N6}).sendRequest}}o(XNe,"systemErrorRetryPolicy");var Ice="throttlingRetryPolicy";function QNe(e={}){var t;return{name:Ice,sendRequest:Y_([cce()],{maxRetries:(t=e.maxRetries)!==null&&t!==void 0?t:N6}).sendRequest}}o(QNe,"throttlingRetryPolicy");var JNe={forcedRefreshWindowInMs:1e3,retryIntervalInMs:3e3,refreshWindowInMs:1e3*60*2};async function ZNe(e,t,r){async function n(){if(Date.now()<r)try{return await e()}catch{return null}else{let a=await e();if(a===null)throw new Error("Failed to refresh access token.");return a}}o(n,"tryGetAccessToken");let s=await n();for(;s===null;)await oce(t),s=await n();return s}o(ZNe,"beginRefresh");function eOe(e,t){let r=null,n=null,s,a=Object.assign(Object.assign({},JNe),t),l={get isRefreshing(){return r!==null},get shouldRefresh(){var u;return!l.isRefreshing&&((u=n==null?void 0:n.expiresOnTimestamp)!==null&&u!==void 0?u:0)-a.refreshWindowInMs<Date.now()},get mustRefresh(){return n===null||n.expiresOnTimestamp-a.forcedRefreshWindowInMs<Date.now()}};function c(u,f){var d;return l.isRefreshing||(r=ZNe(o(()=>e.getToken(u,f),"tryGetAccessToken"),a.retryIntervalInMs,(d=n==null?void 0:n.expiresOnTimestamp)!==null&&d!==void 0?d:Date.now()).then(h=>(r=null,n=h,s=f.tenantId,n)).catch(h=>{throw r=null,n=null,s=void 0,h})),r}return o(c,"refresh"),async(u,f)=>s!==f.tenantId||!!f.claims||l.mustRefresh?c(u,f):(l.shouldRefresh&&c(u,f),n)}o(eOe,"createTokenCycler");var Ace="bearerTokenAuthenticationPolicy";async function tOe(e){let{scopes:t,getAccessToken:r,request:n}=e,s={abortSignal:n.abortSignal,tracingOptions:n.tracingOptions},a=await r(t,s);a&&e.request.headers.set("Authorization",`Bearer ${a.token}`)}o(tOe,"defaultAuthorizeRequest");function rOe(e){let t=e.headers.get("WWW-Authenticate");if(e.status===401&&t)return t}o(rOe,"getChallenge");function nOe(e){var t;let{credential:r,scopes:n,challengeCallbacks:s}=e,a=e.logger||Mf,l=Object.assign({authorizeRequest:(t=s==null?void 0:s.authorizeRequest)!==null&&t!==void 0?t:tOe,authorizeRequestOnChallenge:s==null?void 0:s.authorizeRequestOnChallenge},s),c=r?eOe(r):()=>Promise.resolve(null);return{name:Ace,async sendRequest(u,f){if(!u.url.toLowerCase().startsWith("https://"))throw new Error("Bearer token authentication is not permitted for non-TLS protected (non-https) URLs.");await l.authorizeRequest({scopes:Array.isArray(n)?n:[n],request:u,getAccessToken:c,logger:a});let d,p;try{d=await f(u)}catch(h){p=h,d=h.response}if(l.authorizeRequestOnChallenge&&(d==null?void 0:d.status)===401&&rOe(d)&&await l.authorizeRequestOnChallenge({scopes:Array.isArray(n)?n:[n],request:u,response:d,getAccessToken:c,logger:a}))return f(u);if(p)throw p;return d}}}o(nOe,"bearerTokenAuthenticationPolicy");var wce="ndJsonPolicy";function iOe(){return{name:wce,async sendRequest(e,t){if(typeof e.body=="string"&&e.body.startsWith("[")){let r=JSON.parse(e.body);Array.isArray(r)&&(e.body=r.map(n=>JSON.stringify(n)+`
`).join(""))}return t(e)}}}o(iOe,"ndJsonPolicy");Qs.RestError=Ld;Qs.bearerTokenAuthenticationPolicy=nOe;Qs.bearerTokenAuthenticationPolicyName=Ace;Qs.createDefaultHttpClient=GNe;Qs.createEmptyPipeline=Yle;Qs.createHttpHeaders=cH;Qs.createPipelineFromOptions=BNe;Qs.createPipelineRequest=KNe;Qs.decompressResponsePolicy=ace;Qs.decompressResponsePolicyName=sce;Qs.defaultRetryPolicy=uce;Qs.exponentialRetryPolicy=YNe;Qs.exponentialRetryPolicyName=WNe;Qs.formDataPolicy=dce;Qs.formDataPolicyName=fce;Qs.getDefaultProxySettings=mce;Qs.isRestError=bce;Qs.logPolicy=Qle;Qs.logPolicyName=Xle;Qs.ndJsonPolicy=iOe;Qs.ndJsonPolicyName=wce;Qs.proxyPolicy=gce;Qs.proxyPolicyName=pce;Qs.redirectPolicy=Zle;Qs.redirectPolicyName=Jle;Qs.retryPolicy=Y_;Qs.setClientRequestIdPolicy=yce;Qs.setClientRequestIdPolicyName=vce;Qs.systemErrorRetryPolicy=XNe;Qs.systemErrorRetryPolicyName=Sce;Qs.throttlingRetryPolicy=QNe;Qs.throttlingRetryPolicyName=Ice;Qs.tlsPolicy=xce;Qs.tlsPolicyName=_ce;Qs.tracingPolicy=Tce;Qs.tracingPolicyName=Ece;Qs.userAgentPolicy=ice;Qs.userAgentPolicyName=nce});var Oce=k((X_,Nce)=>{"use strict";var sOe=X_&&X_.__awaiter||function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(l){l(a)})}return o(s,"adopt"),new(r||(r=Promise))(function(a,l){function c(d){try{f(n.next(d))}catch(p){l(p)}}o(c,"fulfilled");function u(d){try{f(n.throw(d))}catch(p){l(p)}}o(u,"rejected");function f(d){d.done?a(d.value):s(d.value).then(c,u)}o(f,"step"),f((n=n.apply(e,t||[])).next())})},aOe=X_&&X_.__generator||function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,s,a,l;return l={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function c(f){return function(d){return u([f,d])}}function u(f){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,s&&(a=f[0]&2?s.return:f[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,f[1])).done)return a;switch(s=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return r.label++,{value:f[1],done:!1};case 5:r.label++,s=f[1],f=[0];continue;case 7:f=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){r=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){r.label=f[1];break}if(f[0]===6&&r.label<a[1]){r.label=a[1],a=f;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(f);break}a[2]&&r.ops.pop(),r.trys.pop();continue}f=t.call(e,r)}catch(d){f=[6,d],s=0}finally{n=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},Pce=Rce(),oOe="https://monitor.azure.com//.default";function lOe(e){return null}o(lOe,"emptySendRequest");var cOe=function(){function e(t){var r=[oOe];this._azureTokenPolicy=Pce.bearerTokenAuthenticationPolicy({credential:t,scopes:r})}return o(e,"AuthorizationHandler"),e.prototype.addAuthorizationHeader=function(t){return sOe(this,void 0,void 0,function(){var r,n;return aOe(this,function(s){switch(s.label){case 0:return r="authorization",n=Pce.createPipelineRequest({url:"https://"}),[4,this._azureTokenPolicy.sendRequest(n,lOe)];case 1:return s.sent(),t.headers[r]=n.headers.get(r),[2]}})})},e}();Nce.exports=cOe});var Lce=k((uit,Dce)=>{"use strict";var uOe=ya(),fOe=Fl(),dOe=function(){function e(t,r,n,s){this._buffer=[],this._lastSend=0,this._isDisabled=t,this._getBatchSize=r,this._getBatchIntervalMs=n,this._sender=s}return o(e,"Channel"),e.prototype.setUseDiskRetryCaching=function(t,r,n){this._sender.setDiskRetryMode(t,r,n)},e.prototype.send=function(t){var r=this;if(!this._isDisabled()){if(!t){uOe.warn("Cannot send null/undefined telemetry");return}if(this._buffer.push(t),this._buffer.length>=this._getBatchSize()){this.triggerSend(!1);return}!this._timeoutHandle&&this._buffer.length>0&&(this._timeoutHandle=setTimeout(function(){r._timeoutHandle=null,r.triggerSend(!1)},this._getBatchIntervalMs()))}},e.prototype.triggerSend=function(t,r){var n=this._buffer.length<1;n||(t||fOe.isNodeExit?(this._sender.saveOnCrash(this._buffer),typeof r=="function"&&r("data saved on crash")):this._sender.send(this._buffer,r)),this._lastSend=+new Date,this._buffer=[],clearTimeout(this._timeoutHandle),this._timeoutHandle=null,n&&typeof r=="function"&&r("no data to send")},e}();Dce.exports=dOe});var kce=k(Fw=>{"use strict";Object.defineProperty(Fw,"__esModule",{value:!0});Fw.azureRoleEnvironmentTelemetryProcessor=void 0;function pOe(e,t){}o(pOe,"azureRoleEnvironmentTelemetryProcessor");Fw.azureRoleEnvironmentTelemetryProcessor=pOe});var Fce=k(O6=>{"use strict";Object.defineProperty(O6,"__esModule",{value:!0});O6.getSamplingHashCode=O6.samplingTelemetryProcessor=void 0;var Mce=Dc();function hOe(e,t){var r=e.sampleRate,n=!1;return r==null||r>=100||e.data&&Mce.TelemetryType.Metric===Mce.baseTypeToTelemetryType(e.data.baseType)?!0:(t.correlationContext&&t.correlationContext.operation?n=Bce(t.correlationContext.operation.id)<r:n=Math.random()*100<r,n)}o(hOe,"samplingTelemetryProcessor");O6.samplingTelemetryProcessor=hOe;function Bce(e){var t=-2147483648,r=2147483647,n=5381;if(!e)return 0;for(;e.length<8;)e=e+e;for(var s=0;s<e.length;s++)n=((n<<5)+n|0)+e.charCodeAt(s)|0;return n=n<=t?r:Math.abs(n),n/r*100}o(Bce,"getSamplingHashCode");O6.getSamplingHashCode=Bce});var Uce=k(Uw=>{"use strict";Object.defineProperty(Uw,"__esModule",{value:!0});Uw.performanceMetricsTelemetryProcessor=void 0;var mH=tw(),gH=Dc();function mOe(e,t){switch(t&&t.addDocument(e),e.data.baseType){case gH.TelemetryTypeString.Exception:mH.countException();break;case gH.TelemetryTypeString.Request:var r=e.data.baseData;mH.countRequest(r.duration,r.success);break;case gH.TelemetryTypeString.Dependency:var n=e.data.baseData;mH.countDependency(n.duration,n.success);break}return!0}o(mOe,"performanceMetricsTelemetryProcessor");Uw.performanceMetricsTelemetryProcessor=mOe});var qce=k(D6=>{"use strict";var K1=D6&&D6.__assign||function(){return K1=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},K1.apply(this,arguments)};Object.defineProperty(D6,"__esModule",{value:!0});D6.preAggregatedMetricsTelemetryProcessor=void 0;var gOe=Dc(),Q_=qq(),qw=Dc();function vOe(e,t){if(Q_.isEnabled())switch(e.data.baseType){case qw.TelemetryTypeString.Exception:var r=e.data.baseData;r.properties=K1(K1({},r.properties),{"_MS.ProcessedByMetricExtractors":"(Name:'Exceptions', Ver:'1.1')"});var n={cloudRoleInstance:e.tags[t.keys.cloudRoleInstance],cloudRoleName:e.tags[t.keys.cloudRole]};Q_.countException(n);break;case qw.TelemetryTypeString.Trace:var s=e.data.baseData;s.properties=K1(K1({},s.properties),{"_MS.ProcessedByMetricExtractors":"(Name:'Traces', Ver:'1.1')"});var a={cloudRoleInstance:e.tags[t.keys.cloudRoleInstance],cloudRoleName:e.tags[t.keys.cloudRole],traceSeverityLevel:gOe.SeverityLevel[s.severity]};Q_.countTrace(a);break;case qw.TelemetryTypeString.Request:var l=e.data.baseData;l.properties=K1(K1({},l.properties),{"_MS.ProcessedByMetricExtractors":"(Name:'Requests', Ver:'1.1')"});var c={cloudRoleInstance:e.tags[t.keys.cloudRoleInstance],cloudRoleName:e.tags[t.keys.cloudRole],operationSynthetic:e.tags[t.keys.operationSyntheticSource],requestSuccess:l.success,requestResultCode:l.responseCode};Q_.countRequest(l.duration,c);break;case qw.TelemetryTypeString.Dependency:var u=e.data.baseData;u.properties=K1(K1({},u.properties),{"_MS.ProcessedByMetricExtractors":"(Name:'Dependencies', Ver:'1.1')"});var f={cloudRoleInstance:e.tags[t.keys.cloudRoleInstance],cloudRoleName:e.tags[t.keys.cloudRole],operationSynthetic:e.tags[t.keys.operationSyntheticSource],dependencySuccess:u.success,dependencyType:u.type,dependencyTarget:u.target,dependencyResultCode:u.resultCode};Q_.countDependency(u.duration,f);break}return!0}o(vOe,"preAggregatedMetricsTelemetryProcessor");D6.preAggregatedMetricsTelemetryProcessor=vOe});var jce=k(W1=>{"use strict";var yOe=W1&&W1.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),jw=W1&&W1.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&yOe(t,e,r)};Object.defineProperty(W1,"__esModule",{value:!0});jw(kce(),W1);jw(Fce(),W1);jw(Uce(),W1);jw(qce(),W1)});var vH=k((bit,Vce)=>{"use strict";var Rs=Dc(),Au=Fl(),Hce=t3(),_Oe=ya(),xOe=function(){function e(){}return o(e,"EnvelopeFactory"),e.createEnvelope=function(t,r,n,s,a){var l=null;switch(r){case Rs.TelemetryType.Trace:l=e.createTraceData(t);break;case Rs.TelemetryType.Dependency:l=e.createDependencyData(t);break;case Rs.TelemetryType.Event:l=e.createEventData(t);break;case Rs.TelemetryType.Exception:l=e.createExceptionData(t);break;case Rs.TelemetryType.Request:l=e.createRequestData(t);break;case Rs.TelemetryType.Metric:l=e.createMetricData(t);break;case Rs.TelemetryType.Availability:l=e.createAvailabilityData(t);break;case Rs.TelemetryType.PageView:l=e.createPageViewData(t);break}if(l&&l.baseData&&Rs.domainSupportsProperties(l.baseData)){if(n)if(!l.baseData.properties)l.baseData.properties=n;else for(var c in n)l.baseData.properties[c]||(l.baseData.properties[c]=n[c]);e.addAzureFunctionsCorrelationProperties(l.baseData.properties),l.baseData.properties&&(l.baseData.properties=Au.validateStringMap(l.baseData.properties))}var u=a&&a.instrumentationKey||"",f=new Rs.Envelope;return f.data=l,f.iKey=u,f.name="Microsoft.ApplicationInsights."+u.replace(/-/g,"")+"."+l.baseType.substr(0,l.baseType.length-4),f.tags=this.getTags(s,t.tagOverrides),f.time=new Date().toISOString(),f.ver=1,f.sampleRate=a?a.samplingPercentage:100,r===Rs.TelemetryType.Metric&&(f.sampleRate=100),f},e.addAzureFunctionsCorrelationProperties=function(t){var r=Hce.CorrelationContextManager.getCurrentContext();if(r&&r.customProperties&&r.customProperties.getProperty instanceof Function){t=t||{};var n=r.customProperties.getProperty("InvocationId");n&&(t.InvocationId=n),n=r.customProperties.getProperty("ProcessId"),n&&(t.ProcessId=n),n=r.customProperties.getProperty("LogLevel"),n&&(t.LogLevel=n),n=r.customProperties.getProperty("Category"),n&&(t.Category=n),n=r.customProperties.getProperty("HostInstanceId"),n&&(t.HostInstanceId=n),n=r.customProperties.getProperty("AzFuncLiveLogsSessionId"),n&&(t.AzFuncLiveLogsSessionId=n)}},e.truncateProperties=function(t){if(t.properties)try{for(var r={},n=Object.keys(t.properties),s=Object.values(t.properties),a=0;a<n.length;a++)n[a].length<=150&&(Au.isDate(s[a])||(s[a]==null&&(s[a]=""),typeof s[a]=="object"&&(s[a]=Au.stringify(s[a])),r[n[a]]=String(s[a]).substring(0,8192)),r[n[a]]=s[a]);return r}catch(l){_Oe.warn("Failed to properly truncate telemetry properties: ",l)}},e.createTraceData=function(t){var r,n=new Rs.MessageData;n.message=(r=t.message)===null||r===void 0?void 0:r.substring(0,32768),n.properties=this.truncateProperties(t),isNaN(t.severity)?n.severityLevel=Rs.SeverityLevel.Information:n.severityLevel=t.severity;var s=new Rs.Data;return s.baseType=Rs.telemetryTypeToBaseType(Rs.TelemetryType.Trace),s.baseData=n,s},e.createDependencyData=function(t){var r,n,s,a=new Rs.RemoteDependencyData;a.name=(r=t.name)===null||r===void 0?void 0:r.substring(0,1024),a.data=(n=t.data)===null||n===void 0?void 0:n.substring(0,8192),a.target=(s=t.target)===null||s===void 0?void 0:s.substring(0,1024),a.duration=Au.msToTimeSpan(t.duration),a.success=t.success,a.type=t.dependencyTypeName,a.properties=this.truncateProperties(t),a.resultCode=t.resultCode?t.resultCode.toString():"0",t.id?a.id=t.id:a.id=Au.w3cTraceId();var l=new Rs.Data;return l.baseType=Rs.telemetryTypeToBaseType(Rs.TelemetryType.Dependency),l.baseData=a,l},e.createEventData=function(t){var r,n=new Rs.EventData;n.name=(r=t.name)===null||r===void 0?void 0:r.substring(0,512),n.properties=this.truncateProperties(t),n.measurements=t.measurements;var s=new Rs.Data;return s.baseType=Rs.telemetryTypeToBaseType(Rs.TelemetryType.Event),s.baseData=n,s},e.createExceptionData=function(t){var r,n,s=new Rs.ExceptionData;s.properties=this.truncateProperties(t),isNaN(t.severity)?s.severityLevel=Rs.SeverityLevel.Error:s.severityLevel=t.severity,s.measurements=t.measurements,s.exceptions=[];var a=t.exception.stack,l=new Rs.ExceptionDetails;l.message=(r=t.exception.message)===null||r===void 0?void 0:r.substring(0,32768),l.typeName=(n=t.exception.name)===null||n===void 0?void 0:n.substring(0,1024),l.parsedStack=this.parseStack(a),l.hasFullStack=Au.isArray(l.parsedStack)&&l.parsedStack.length>0,s.exceptions.push(l);var c=new Rs.Data;return c.baseType=Rs.telemetryTypeToBaseType(Rs.TelemetryType.Exception),c.baseData=s,c},e.createRequestData=function(t){var r,n,s,a,l=new Rs.RequestData;t.id?l.id=t.id:l.id=Au.w3cTraceId(),l.name=(r=t.name)===null||r===void 0?void 0:r.substring(0,1024),l.url=(n=t.url)===null||n===void 0?void 0:n.substring(0,2048),l.source=(s=t.source)===null||s===void 0?void 0:s.substring(0,1024),l.duration=Au.msToTimeSpan(t.duration),l.responseCode=(a=t.resultCode?t.resultCode.toString():"0")===null||a===void 0?void 0:a.substring(0,1024),l.success=t.success,l.properties=this.truncateProperties(t),l.measurements=t.measurements;var c=new Rs.Data;return c.baseType=Rs.telemetryTypeToBaseType(Rs.TelemetryType.Request),c.baseData=l,c},e.createMetricData=function(t){var r,n=new Rs.MetricData;n.metrics=[];var s=new Rs.DataPoint;s.count=isNaN(t.count)?1:t.count,s.kind=Rs.DataPointType.Aggregation,s.max=isNaN(t.max)?t.value:t.max,s.min=isNaN(t.min)?t.value:t.min,s.name=(r=t.name)===null||r===void 0?void 0:r.substring(0,1024),s.stdDev=isNaN(t.stdDev)?0:t.stdDev,s.value=t.value,s.ns=t.namespace,n.metrics.push(s),n.properties=this.truncateProperties(t);var a=new Rs.Data;return a.baseType=Rs.telemetryTypeToBaseType(Rs.TelemetryType.Metric),a.baseData=n,a},e.createAvailabilityData=function(t){var r,n,s=new Rs.AvailabilityData;t.id?s.id=t.id:s.id=Au.w3cTraceId(),s.name=(r=t.name)===null||r===void 0?void 0:r.substring(0,1024),s.duration=Au.msToTimeSpan(t.duration),s.success=t.success,s.runLocation=t.runLocation,s.message=(n=t.message)===null||n===void 0?void 0:n.substring(0,8192),s.measurements=t.measurements,s.properties=this.truncateProperties(t);var a=new Rs.Data;return a.baseType=Rs.telemetryTypeToBaseType(Rs.TelemetryType.Availability),a.baseData=s,a},e.createPageViewData=function(t){var r,n,s=new Rs.PageViewData;s.name=(r=t.name)===null||r===void 0?void 0:r.substring(0,1024),s.duration=Au.msToTimeSpan(t.duration),s.url=(n=t.url)===null||n===void 0?void 0:n.substring(0,2048),s.measurements=t.measurements,s.properties=this.truncateProperties(t);var a=new Rs.Data;return a.baseType=Rs.telemetryTypeToBaseType(Rs.TelemetryType.PageView),a.baseData=s,a},e.getTags=function(t,r){var n=Hce.CorrelationContextManager.getCurrentContext(),s={};if(t&&t.tags)for(var a in t.tags)s[a]=t.tags[a];if(r)for(var a in r)s[a]=r[a];return n&&(s[t.keys.operationId]=s[t.keys.operationId]||n.operation.id,s[t.keys.operationName]=s[t.keys.operationName]||n.operation.name,s[t.keys.operationParentId]=s[t.keys.operationParentId]||n.operation.parentId),s},e.parseStack=function(t){var r=void 0;if(typeof t=="string"){var n=t.split(`
`);r=[];for(var s=0,a=0,l=0;l<=n.length;l++){var c=n[l];if($ce.regex.test(c)){var u=new $ce(n[l],s++);a+=u.sizeInBytes,r.push(u)}}var f=32*1024;if(a>f)for(var d=0,p=r.length-1,h=0,m=d,v=p;d<p;){var _=r[d].sizeInBytes,b=r[p].sizeInBytes;if(h+=_+b,h>f){var S=v-m+1;r.splice(m,S);break}m=d,v=p,d++,p--}}return r},e}(),$ce=function(){function e(t,r){this.sizeInBytes=0,this.level=r,this.method="<no_method>",this.assembly=Au.trim(t);var n=t.match(e.regex);n&&n.length>=5&&(this.method=Au.trim(n[2])||this.method,this.fileName=Au.trim(n[4])||"<no_filename>",this.line=parseInt(n[5])||0),this.sizeInBytes+=this.method.length,this.sizeInBytes+=this.fileName.length,this.sizeInBytes+=this.assembly.length,this.sizeInBytes+=e.baseSize,this.sizeInBytes+=this.level.toString().length,this.sizeInBytes+=this.line.toString().length}return o(e,"_StackFrame"),e.regex=/^(\s+at)?(.*?)(\@|\s\(|\s)([^\(\n]+):(\d+):(\d+)(\)?)$/,e.baseSize=58,e}();Vce.exports=xOe});var Gce=k(v3=>{"use strict";var bOe=v3&&v3.__awaiter||function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(l){l(a)})}return o(s,"adopt"),new(r||(r=Promise))(function(a,l){function c(d){try{f(n.next(d))}catch(p){l(p)}}o(c,"fulfilled");function u(d){try{f(n.throw(d))}catch(p){l(p)}}o(u,"rejected");function f(d){d.done?a(d.value):s(d.value).then(c,u)}o(f,"step"),f((n=n.apply(e,t||[])).next())})},EOe=v3&&v3.__generator||function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,s,a,l;return l={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function c(f){return function(d){return u([f,d])}}function u(f){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,s&&(a=f[0]&2?s.return:f[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,f[1])).done)return a;switch(s=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return r.label++,{value:f[1],done:!1};case 5:r.label++,s=f[1],f=[0];continue;case 7:f=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){r=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){r.label=f[1];break}if(f[0]===6&&r.label<a[1]){r.label=a[1],a=f;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(f);break}a[2]&&r.ops.pop(),r.trys.pop();continue}f=t.call(e,r)}catch(d){f=[6,d],s=0}finally{n=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}};Object.defineProperty(v3,"__esModule",{value:!0});v3.FileAccessControl=void 0;var TOe=require("fs"),COe=require("os"),L6=require("child_process"),SOe=ya(),IOe=function(){function e(){}return o(e,"FileAccessControl"),e.checkFileProtection=function(){if(!e.OS_PROVIDES_FILE_PROTECTION&&!e.OS_FILE_PROTECTION_CHECKED)if(e.OS_FILE_PROTECTION_CHECKED=!0,e.USE_ICACLS){try{e.OS_PROVIDES_FILE_PROTECTION=TOe.existsSync(e.ICACLS_PATH)}catch{}e.OS_PROVIDES_FILE_PROTECTION||SOe.warn(e.TAG,"Could not find ICACLS in expected location! This is necessary to use disk retry mode on Windows.")}else e.OS_PROVIDES_FILE_PROTECTION=!0},e.applyACLRules=function(t){return bOe(this,void 0,void 0,function(){var r,n;return EOe(this,function(s){switch(s.label){case 0:if(!e.USE_ICACLS)return[3,7];if(e.ACLED_DIRECTORIES[t]!==void 0)return[3,6];e.ACLED_DIRECTORIES[t]=!1,s.label=1;case 1:return s.trys.push([1,4,,5]),[4,this._getACLIdentity()];case 2:return r=s.sent(),[4,this._runICACLS(this._getACLArguments(t,r))];case 3:return s.sent(),e.ACLED_DIRECTORIES[t]=!0,[3,5];case 4:throw n=s.sent(),e.ACLED_DIRECTORIES[t]=!1,n;case 5:return[3,7];case 6:if(!e.ACLED_DIRECTORIES[t])throw new Error("Setting ACL restrictions did not succeed (cached result)");s.label=7;case 7:return[2]}})})},e.applyACLRulesSync=function(t){if(e.USE_ICACLS){if(e.ACLED_DIRECTORIES[t]===void 0){this._runICACLSSync(this._getACLArguments(t,this._getACLIdentitySync())),e.ACLED_DIRECTORIES[t]=!0;return}else if(!e.ACLED_DIRECTORIES[t])throw new Error("Setting ACL restrictions did not succeed (cached result)")}},e._runICACLS=function(t){return new Promise(function(r,n){var s=L6.spawn(e.ICACLS_PATH,t,{windowsHide:!0});s.on("error",function(a){return n(a)}),s.on("close",function(a,l){a===0?r():n(new Error("Setting ACL restrictions did not succeed (ICACLS returned code "+a+")"))})})},e._runICACLSSync=function(t){if(L6.spawnSync){var r=L6.spawnSync(e.ICACLS_PATH,t,{windowsHide:!0});if(r.error)throw r.error;if(r.status!==0)throw new Error("Setting ACL restrictions did not succeed (ICACLS returned code "+r.status+")")}else throw new Error("Could not synchronously call ICACLS under current version of Node.js")},e._getACLIdentity=function(){return new Promise(function(t,r){e.ACL_IDENTITY&&t(e.ACL_IDENTITY);var n=L6.spawn(e.POWERSHELL_PATH,["-Command","[System.Security.Principal.WindowsIdentity]::GetCurrent().Name"],{windowsHide:!0,stdio:["ignore","pipe","pipe"]}),s="";n.stdout.on("data",function(a){return s+=a}),n.on("error",function(a){return r(a)}),n.on("close",function(a,l){e.ACL_IDENTITY=s&&s.trim(),a===0?t(e.ACL_IDENTITY):r(new Error("Getting ACL identity did not succeed (PS returned code "+a+")"))})})},e._getACLIdentitySync=function(){if(e.ACL_IDENTITY)return e.ACL_IDENTITY;if(L6.spawnSync){var t=L6.spawnSync(e.POWERSHELL_PATH,["-Command","[System.Security.Principal.WindowsIdentity]::GetCurrent().Name"],{windowsHide:!0,stdio:["ignore","pipe","pipe"]});if(t.error)throw t.error;if(t.status!==0)throw new Error("Getting ACL identity did not succeed (PS returned code "+t.status+")");return e.ACL_IDENTITY=t.stdout&&t.stdout.toString().trim(),e.ACL_IDENTITY}else throw new Error("Could not synchronously get ACL identity under current version of Node.js")},e._getACLArguments=function(t,r){return[t,"/grant","*S-1-5-32-544:(OI)(CI)F","/grant",r+":(OI)(CI)F","/inheritance:r"]},e.TAG="FileAccessControl",e.ICACLS_PATH=process.env.systemdrive+"/windows/system32/icacls.exe",e.POWERSHELL_PATH=process.env.systemdrive+"/windows/system32/windowspowershell/v1.0/powershell.exe",e.ACLED_DIRECTORIES={},e.ACL_IDENTITY=null,e.OS_FILE_PROTECTION_CHECKED=!1,e.OS_PROVIDES_FILE_PROTECTION=!1,e.USE_ICACLS=COe.type()==="Windows_NT",e}();v3.FileAccessControl=IOe});var _H=k((Z_,Kce)=>{"use strict";var Hw=Z_&&Z_.__awaiter||function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(l){l(a)})}return o(s,"adopt"),new(r||(r=Promise))(function(a,l){function c(d){try{f(n.next(d))}catch(p){l(p)}}o(c,"fulfilled");function u(d){try{f(n.throw(d))}catch(p){l(p)}}o(u,"rejected");function f(d){d.done?a(d.value):s(d.value).then(c,u)}o(f,"step"),f((n=n.apply(e,t||[])).next())})},$w=Z_&&Z_.__generator||function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,s,a,l;return l={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function c(f){return function(d){return u([f,d])}}function u(f){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,s&&(a=f[0]&2?s.return:f[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,f[1])).done)return a;switch(s=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return r.label++,{value:f[1],done:!1};case 5:r.label++,s=f[1],f=[0];continue;case 7:f=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){r=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){r.label=f[1];break}if(f[0]===6&&r.label<a[1]){r.label=a[1],a=f;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(f);break}a[2]&&r.ops.pop(),r.trys.pop();continue}f=t.call(e,r)}catch(d){f=[6,d],s=0}finally{n=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},yH=require("fs"),AOe=require("os"),Ag=require("path"),wOe=require("zlib"),y3=Ha(),ROe=C6(),Eh=rk(),wu=Fl(),POe=require("url"),zce=ya(),J_=Gce(),NOe=439,OOe=402,DOe=[200,206,402,408,429,439,500],LOe=function(){function e(t,r,n,s,a,l,c){this._redirectedHost=null,this._config=t,this._onSuccess=n,this._onError=s,this._statsbeat=a,this._enableDiskRetryMode=!1,this._resendInterval=e.WAIT_BETWEEN_RESEND,this._maxBytesOnDisk=e.MAX_BYTES_ON_DISK,this._numConsecutiveFailures=0,this._numConsecutiveRedirects=0,this._resendTimer=null,this._getAuthorizationHandler=r,this._fileCleanupTimer=null,this._tempDir=Ag.join(AOe.tmpdir(),e.TEMPDIR_PREFIX+this._config.instrumentationKey),this._isStatsbeatSender=l||!1,this._shutdownStatsbeat=c,this._failedToIngestCounter=0,this._statsbeatHasReachedIngestionAtLeastOnce=!1}return o(e,"Sender"),e.prototype.setDiskRetryMode=function(t,r,n){var s=this;t&&J_.FileAccessControl.checkFileProtection(),this._enableDiskRetryMode=J_.FileAccessControl.OS_PROVIDES_FILE_PROTECTION&&t,typeof r=="number"&&r>=0&&(this._resendInterval=Math.floor(r)),typeof n=="number"&&n>=0&&(this._maxBytesOnDisk=Math.floor(n)),t&&!J_.FileAccessControl.OS_PROVIDES_FILE_PROTECTION&&(this._enableDiskRetryMode=!1,this._logWarn("Ignoring request to enable disk retry mode. Sufficient file protection capabilities were not detected.")),this._enableDiskRetryMode?(this._statsbeat&&this._statsbeat.addFeature(y3.StatsbeatFeature.DISK_RETRY),this._fileCleanupTimer||(this._fileCleanupTimer=setTimeout(function(){s._fileCleanupTask()},e.CLEANUP_TIMEOUT),this._fileCleanupTimer.unref())):(this._statsbeat&&this._statsbeat.removeFeature(y3.StatsbeatFeature.DISK_RETRY),this._fileCleanupTimer&&clearTimeout(this._fileCleanupTimer))},e.prototype.send=function(t,r){return Hw(this,void 0,void 0,function(){var n,s,a,l,c,u,f,d,p=this;return $w(this,function(h){switch(h.label){case 0:if(!t)return[3,5];if(n=this._redirectedHost||this._config.endpointUrl,s=new POe.URL(n).hostname,a={method:"POST",withCredentials:!1,headers:{"Content-Type":"application/x-json-stream"}},l=this._getAuthorizationHandler?this._getAuthorizationHandler(this._config):null,!l)return[3,4];this._statsbeat&&this._statsbeat.addFeature(y3.StatsbeatFeature.AAD_HANDLING),h.label=1;case 1:return h.trys.push([1,3,,4]),[4,l.addAuthorizationHeader(a)];case 2:return h.sent(),[3,4];case 3:return c=h.sent(),u="Failed to get AAD bearer token for the Application.",this._enableDiskRetryMode&&(u+="This batch of telemetry items will be retried. ",this._storeToDisk(t)),u+="Error:"+c.toString(),this._logWarn(u),typeof r=="function"&&r(u),[2];case 4:f="",t.forEach(function(m){var v=wu.stringify(m);typeof v=="string"&&(f+=v+`
`)}),f.length>0&&(f=f.substring(0,f.length-1)),d=Buffer.from?Buffer.from(f):new Buffer(f),wOe.gzip(d,function(m,v){var _=v;m?(p._logWarn(wu.dumpObj(m)),_=d,a.headers["Content-Length"]=d.length.toString()):(a.headers["Content-Encoding"]="gzip",a.headers["Content-Length"]=v.length.toString()),p._logInfo(wu.dumpObj(a)),a[ROe.disableCollectionRequestOption]=!0;var b=+new Date,S=o(function(O){O.setEncoding("utf-8");var L="";O.on("data",function(D){L+=D}),O.on("end",function(){var D=+new Date,$=D-b;if(p._numConsecutiveFailures=0,p._isStatsbeatSender&&!p._statsbeatHasReachedIngestionAtLeastOnce&&(DOe.includes(O.statusCode)?p._statsbeatHasReachedIngestionAtLeastOnce=!0:p._statsbeatFailedToIngest()),p._statsbeat&&(O.statusCode==OOe||O.statusCode==NOe?p._statsbeat.countThrottle(y3.StatsbeatNetworkCategory.Breeze,s,O.statusCode):p._statsbeat.countRequest(y3.StatsbeatNetworkCategory.Breeze,s,$,O.statusCode===200,O.statusCode)),p._enableDiskRetryMode){if(O.statusCode===200)p._resendTimer||(p._resendTimer=setTimeout(function(){p._resendTimer=null,p._sendFirstFileOnDisk()},p._resendInterval),p._resendTimer.unref());else if(p._isRetriable(O.statusCode))try{p._statsbeat&&p._statsbeat.countRetry(y3.StatsbeatNetworkCategory.Breeze,s,O.statusCode);var de=JSON.parse(L),ue=[];de.errors&&(de.errors.forEach(function(vt){(vt.statusCode==429||vt.statusCode==500||vt.statusCode==503)&&ue.push(t[vt.index])}),ue.length>0&&p._storeToDisk(ue))}catch{p._storeToDisk(t)}}if(O.statusCode===307||O.statusCode===308)if(p._numConsecutiveRedirects++,p._numConsecutiveRedirects<10){var Ze=O.headers.location?O.headers.location.toString():null;Ze&&(p._redirectedHost=Ze,p.send(t,r))}else{var vr={name:"Circular Redirect",message:"Error sending telemetry because of circular redirects."};p._statsbeat&&p._statsbeat.countException(y3.StatsbeatNetworkCategory.Breeze,s,vr),typeof r=="function"&&r("Error sending telemetry because of circular redirects.")}else p._numConsecutiveRedirects=0,typeof r=="function"&&r(L),p._logInfo(L),typeof p._onSuccess=="function"&&p._onSuccess(L)})},"requestCallback"),A=wu.makeRequest(p._config,n,a,S);A.setTimeout(e.HTTP_TIMEOUT,function(){p._requestTimedOut=!0,A.abort()}),A.on("error",function(O){if(p._isStatsbeatSender&&!p._statsbeatHasReachedIngestionAtLeastOnce&&p._statsbeatFailedToIngest(),p._numConsecutiveFailures++,p._statsbeat&&p._statsbeat.countException(y3.StatsbeatNetworkCategory.Breeze,s,O),!p._enableDiskRetryMode||p._numConsecutiveFailures>0&&p._numConsecutiveFailures%e.MAX_CONNECTION_FAILURES_BEFORE_WARN===0){var L="Ingestion endpoint could not be reached. This batch of telemetry items has been lost. Use Disk Retry Caching to enable resending of failed telemetry. Error:";p._enableDiskRetryMode&&(L="Ingestion endpoint could not be reached "+p._numConsecutiveFailures+" consecutive times. There may be resulting telemetry loss. Most recent error:"),p._logWarn(L,wu.dumpObj(O))}else{var L="Transient failure to reach ingestion endpoint. This batch of telemetry items will be retried. Error:";p._logInfo(L,wu.dumpObj(O))}p._onErrorHelper(O),typeof r=="function"&&(O?(p._requestTimedOut&&(O.name="telemetry timeout",O.message="telemetry request timed out"),r(wu.dumpObj(O))):r("Error sending telemetry")),p._enableDiskRetryMode&&p._storeToDisk(t)}),A.write(_),A.end()}),h.label=5;case 5:return[2]}})})},e.prototype.saveOnCrash=function(t){this._enableDiskRetryMode&&this._storeToDiskSync(wu.stringify(t))},e.prototype._isRetriable=function(t){return t===206||t===401||t===403||t===408||t===429||t===500||t===502||t===503||t===504},e.prototype._logInfo=function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this._isStatsbeatSender||zce.info(e.TAG,t,r)},e.prototype._logWarn=function(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this._isStatsbeatSender||zce.warn(e.TAG,t,r)},e.prototype._statsbeatFailedToIngest=function(){this._shutdownStatsbeat&&(this._failedToIngestCounter++,this._failedToIngestCounter>=3&&this._shutdownStatsbeat())},e.prototype._storeToDisk=function(t){return Hw(this,void 0,void 0,function(){var r,n,s,a,l,c,u;return $w(this,function(f){switch(f.label){case 0:return f.trys.push([0,2,,3]),this._logInfo("Checking existence of data storage directory: "+this._tempDir),[4,Eh.confirmDirExists(this._tempDir)];case 1:return f.sent(),[3,3];case 2:return r=f.sent(),this._logWarn("Failed to create folder to put telemetry: "+wu.dumpObj(r)),this._onErrorHelper(r),[2];case 3:return f.trys.push([3,5,,6]),[4,J_.FileAccessControl.applyACLRules(this._tempDir)];case 4:return f.sent(),[3,6];case 5:return n=f.sent(),this._logWarn("Failed to apply file access control to folder: "+wu.dumpObj(n)),this._onErrorHelper(n),[2];case 6:return f.trys.push([6,8,,9]),[4,Eh.getShallowDirectorySize(this._tempDir)];case 7:return s=f.sent(),s>this._maxBytesOnDisk?(this._logWarn("Not saving data due to max size limit being met. Directory size in bytes is: "+s),[2]):[3,9];case 8:return a=f.sent(),this._logWarn("Failed to read directory for retriable telemetry: "+wu.dumpObj(a)),this._onErrorHelper(a),[2];case 9:return f.trys.push([9,11,,12]),l=new Date().getTime()+".ai.json",c=Ag.join(this._tempDir,l),this._logInfo("saving data to disk at: "+c),[4,Eh.writeFileAsync(c,wu.stringify(t),{mode:384})];case 10:return f.sent(),[3,12];case 11:return u=f.sent(),this._logWarn("Failed to persist telemetry to disk: "+wu.dumpObj(u)),this._onErrorHelper(u),[2];case 12:return[2]}})})},e.prototype._storeToDiskSync=function(t){try{this._logInfo("Checking existence of data storage directory: "+this._tempDir),yH.existsSync(this._tempDir)||yH.mkdirSync(this._tempDir),J_.FileAccessControl.applyACLRulesSync(this._tempDir);var r=Eh.getShallowDirectorySizeSync(this._tempDir);if(r>this._maxBytesOnDisk){this._logInfo("Not saving data due to max size limit being met. Directory size in bytes is: "+r);return}var n=new Date().getTime()+".ai.json",s=Ag.join(this._tempDir,n);this._logInfo("saving data before crash to disk at: "+s),yH.writeFileSync(s,t,{mode:384})}catch(a){this._logWarn("Error while saving data to disk: "+wu.dumpObj(a)),this._onErrorHelper(a)}},e.prototype._sendFirstFileOnDisk=function(){return Hw(this,void 0,void 0,function(){var t,r,n,s,a,l;return $w(this,function(c){switch(c.label){case 0:return c.trys.push([0,6,,7]),[4,Eh.readdirAsync(this._tempDir)];case 1:return t=c.sent(),t=t.filter(function(u){return Ag.basename(u).indexOf(".ai.json")>-1}),t.length>0?(r=t[0],n=Ag.join(this._tempDir,r),[4,Eh.readFileAsync(n)]):[3,5];case 2:return s=c.sent(),[4,Eh.unlinkAsync(n)];case 3:return c.sent(),a=JSON.parse(s.toString()),[4,this.send(a)];case 4:c.sent(),c.label=5;case 5:return[3,7];case 6:return l=c.sent(),this._onErrorHelper(l),[3,7];case 7:return[2]}})})},e.prototype._onErrorHelper=function(t){typeof this._onError=="function"&&this._onError(t)},e.prototype._fileCleanupTask=function(){return Hw(this,void 0,void 0,function(){var t,r,n,s,a,l,c=this;return $w(this,function(u){switch(u.label){case 0:return u.trys.push([0,6,,7]),[4,Eh.readdirAsync(this._tempDir)];case 1:if(t=u.sent(),t=t.filter(function(f){return Ag.basename(f).indexOf(".ai.json")>-1}),!(t.length>0))return[3,5];r=0,u.label=2;case 2:return r<t.length?(n=new Date(parseInt(t[r].split(".ai.json")[0])),s=new Date(+new Date-e.FILE_RETEMPTION_PERIOD)>n,s?(a=Ag.join(this._tempDir,t[r]),[4,Eh.unlinkAsync(a).catch(function(f){c._onErrorHelper(f)})]):[3,4]):[3,5];case 3:u.sent(),u.label=4;case 4:return r++,[3,2];case 5:return[3,7];case 6:return l=u.sent(),l.code!="ENOENT"&&this._onErrorHelper(l),[3,7];case 7:return[2]}})})},e.TAG="Sender",e.WAIT_BETWEEN_RESEND=60*1e3,e.MAX_BYTES_ON_DISK=50*1024*1024,e.MAX_CONNECTION_FAILURES_BEFORE_WARN=5,e.CLEANUP_TIMEOUT=60*60*1e3,e.FILE_RETEMPTION_PERIOD=7*24*60*60*1e3,e.TEMPDIR_PREFIX="appInsights-node",e.HTTP_TIMEOUT=2e4,e}();Kce.exports=LOe});var Yce=k(Vw=>{"use strict";Object.defineProperty(Vw,"__esModule",{value:!0});Vw.AzureVirtualMachine=void 0;var Wce=ya(),kOe=Fl(),MOe=C6(),BOe="http://169.254.169.254/metadata/instance/compute",FOe="api-version=2017-12-01",UOe="format=json",qOe="UNREACH",jOe=function(){function e(){}return o(e,"AzureVirtualMachine"),e.getAzureComputeMetadata=function(t,r){var n,s=this,a={},l=BOe+"?"+FOe+"&"+UOe,c=(n={method:"GET"},n[MOe.disableCollectionRequestOption]=!0,n.headers={Metadata:"True"},n),u=kOe.makeRequest(t,l,c,function(f){if(f.statusCode===200){a.isVM=!0;var d="";f.on("data",function(p){d+=p}),f.on("end",function(){try{var p=JSON.parse(d);a.id=p.vmId||"",a.subscriptionId=p.subscriptionId||"",a.osType=p.osType||""}catch(h){Wce.info(e.TAG,h)}r(a)})}else r(a)},!1,!1);u&&(setTimeout(function(){s._requestTimedOut=!0,u.abort()},e.HTTP_TIMEOUT),u.on("error",function(f){s._requestTimedOut&&f&&(f.name="telemetry timeout",f.message="telemetry request timed out"),f&&f.message&&f.message.indexOf(qOe)>-1?a.isVM=!1:Wce.info(e.TAG,f),r(a)}),u.end())},e.HTTP_TIMEOUT=2500,e.TAG="AzureVirtualMachine",e}();Vw.AzureVirtualMachine=jOe});var Xce=k(Gw=>{"use strict";Object.defineProperty(Gw,"__esModule",{value:!0});Gw.NetworkStatsbeat=void 0;var HOe=function(){function e(t,r){this.endpoint=t,this.host=r,this.totalRequestCount=0,this.totalSuccesfulRequestCount=0,this.totalFailedRequestCount=[],this.retryCount=[],this.exceptionCount=[],this.throttleCount=[],this.intervalRequestExecutionTime=0,this.lastIntervalRequestExecutionTime=0,this.lastTime=+new Date,this.lastRequestCount=0}return o(e,"NetworkStatsbeat"),e}();Gw.NetworkStatsbeat=HOe});var tue=k((wg,eue)=>{"use strict";var Y1=wg&&wg.__assign||function(){return Y1=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Y1.apply(this,arguments)},xH=wg&&wg.__awaiter||function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(l){l(a)})}return o(s,"adopt"),new(r||(r=Promise))(function(a,l){function c(d){try{f(n.next(d))}catch(p){l(p)}}o(c,"fulfilled");function u(d){try{f(n.throw(d))}catch(p){l(p)}}o(u,"rejected");function f(d){d.done?a(d.value):s(d.value).then(c,u)}o(f,"step"),f((n=n.apply(e,t||[])).next())})},bH=wg&&wg.__generator||function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,s,a,l;return l={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function c(f){return function(d){return u([f,d])}}function u(f){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,s&&(a=f[0]&2?s.return:f[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,f[1])).done)return a;switch(s=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return r.label++,{value:f[1],done:!1};case 5:r.label++,s=f[1],f=[0];continue;case 7:f=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){r=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){r.label=f[1];break}if(f[0]===6&&r.label<a[1]){r.label=a[1],a=f;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(f);break}a[2]&&r.ops.pop(),r.trys.pop();continue}f=t.call(e,r)}catch(d){f=[6,d],s=0}finally{n=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},$Oe=require("os"),VOe=vH(),Qce=ya(),GOe=_H(),xa=Ha(),zOe=Dc(),KOe=Yce(),WOe=oj(),Jce=v6(),YOe=Xce(),Zce=Fl(),XOe="node",QOe=function(){function e(t,r){this._attach=xa.StatsbeatAttach.sdk,this._feature=xa.StatsbeatFeature.NONE,this._instrumentation=xa.StatsbeatInstrumentation.NONE,this._isInitialized=!1,this._statbeatMetrics=[],this._networkStatsbeatCollection=[],this._config=t,this._context=r||new Jce;var n=this._getConnectionString(t);this._statsbeatConfig=new WOe(n),this._statsbeatConfig.samplingPercentage=100,this._sender=new GOe(this._statsbeatConfig,null,null,null,null,!0,this._shutdownStatsbeat.bind(this))}return o(e,"Statsbeat"),e.prototype.enable=function(t){var r=this;this._isEnabled=t,this._isEnabled&&!this._isInitialized&&(this._getCustomProperties(),this._isInitialized=!0),t?(this._handle||(this._handle=setInterval(function(){r.trackShortIntervalStatsbeats()},e.STATS_COLLECTION_SHORT_INTERVAL),this._handle.unref()),this._longHandle||(this.trackLongIntervalStatsbeats(),this._longHandle=setInterval(function(){r.trackLongIntervalStatsbeats()},e.STATS_COLLECTION_LONG_INTERVAL),this._longHandle.unref())):(this._handle&&(clearInterval(this._handle),this._handle=null),this._longHandle&&(clearInterval(this._longHandle),this._longHandle=null))},e.prototype.isInitialized=function(){return this._isInitialized},e.prototype.isEnabled=function(){return this._isEnabled},e.prototype.setCodelessAttach=function(){this._attach=xa.StatsbeatAttach.codeless},e.prototype.addFeature=function(t){this._feature|=t},e.prototype.removeFeature=function(t){this._feature&=~t},e.prototype.addInstrumentation=function(t){this._instrumentation|=t},e.prototype.removeInstrumentation=function(t){this._instrumentation&=~t},e.prototype.countRequest=function(t,r,n,s,a){if(this.isEnabled()){var l=this._getNetworkStatsbeatCounter(t,r);if(l.totalRequestCount++,l.intervalRequestExecutionTime+=n,s===!1){if(!a)return;var c=l.totalFailedRequestCount.find(function(u){return a===u.statusCode});c?c.count++:l.totalFailedRequestCount.push({statusCode:a,count:1})}else l.totalSuccesfulRequestCount++}},e.prototype.countException=function(t,r,n){if(this.isEnabled()){var s=this._getNetworkStatsbeatCounter(t,r),a=s.exceptionCount.find(function(l){return n.name===l.exceptionType});a?a.count++:s.exceptionCount.push({exceptionType:n.name,count:1})}},e.prototype.countThrottle=function(t,r,n){if(this.isEnabled()){var s=this._getNetworkStatsbeatCounter(t,r),a=s.throttleCount.find(function(l){return n===l.statusCode});a?a.count++:s.throttleCount.push({statusCode:n,count:1})}},e.prototype.countRetry=function(t,r,n){if(this.isEnabled()){var s=this._getNetworkStatsbeatCounter(t,r),a=s.retryCount.find(function(l){return n===l.statusCode});a?a.count++:s.retryCount.push({statusCode:n,count:1})}},e.prototype.trackShortIntervalStatsbeats=function(){return xH(this,void 0,void 0,function(){var t,r;return bH(this,function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),[4,this._getResourceProvider()];case 1:return n.sent(),t={os:this._os,rp:this._resourceProvider,cikey:this._cikey,runtimeVersion:this._runtimeVersion,language:this._language,version:this._sdkVersion,attach:this._attach},this._trackRequestDuration(t),this._trackRequestsCount(t),[4,this._sendStatsbeats()];case 2:return n.sent(),[3,4];case 3:return r=n.sent(),Qce.info(e.TAG,"Failed to send Statsbeat metrics: "+Zce.dumpObj(r)),[3,4];case 4:return[2]}})})},e.prototype.trackLongIntervalStatsbeats=function(){return xH(this,void 0,void 0,function(){var t,r,n,s,a;return bH(this,function(l){switch(l.label){case 0:return l.trys.push([0,3,,4]),[4,this._getResourceProvider()];case 1:return l.sent(),t={os:this._os,rp:this._resourceProvider,cikey:this._cikey,runtimeVersion:this._runtimeVersion,language:this._language,version:this._sdkVersion,attach:this._attach},r=Object.assign({rpId:this._resourceIdentifier},t),this._statbeatMetrics.push({name:xa.StatsbeatCounter.ATTACH,value:1,properties:r}),this._instrumentation!=xa.StatsbeatInstrumentation.NONE&&(n=Object.assign({feature:this._instrumentation,type:xa.StatsbeatFeatureType.Instrumentation},t),this._statbeatMetrics.push({name:xa.StatsbeatCounter.FEATURE,value:1,properties:n})),this._feature!=xa.StatsbeatFeature.NONE&&(s=Object.assign({feature:this._feature,type:xa.StatsbeatFeatureType.Feature},t),this._statbeatMetrics.push({name:xa.StatsbeatCounter.FEATURE,value:1,properties:s})),[4,this._sendStatsbeats()];case 2:return l.sent(),[3,4];case 3:return a=l.sent(),Qce.info(e.TAG,"Failed to send Statsbeat metrics: "+Zce.dumpObj(a)),[3,4];case 4:return[2]}})})},e.prototype._getNetworkStatsbeatCounter=function(t,r){for(var n=this._getShortHost(r),s=0;s<this._networkStatsbeatCollection.length;s++)if(t===this._networkStatsbeatCollection[s].endpoint&&n===this._networkStatsbeatCollection[s].host)return this._networkStatsbeatCollection[s];var a=new YOe.NetworkStatsbeat(t,n);return this._networkStatsbeatCollection.push(a),a},e.prototype._trackRequestDuration=function(t){for(var r=0;r<this._networkStatsbeatCollection.length;r++){var n=this._networkStatsbeatCollection[r];n.time=+new Date;var s=n.totalRequestCount-n.lastRequestCount||0,a=n.intervalRequestExecutionTime-n.lastIntervalRequestExecutionTime,l=a>0&&a/s||0;if(n.lastIntervalRequestExecutionTime=n.intervalRequestExecutionTime,s>0){var c=Object.assign({endpoint:this._networkStatsbeatCollection[r].endpoint,host:this._networkStatsbeatCollection[r].host},t);this._statbeatMetrics.push({name:xa.StatsbeatCounter.REQUEST_DURATION,value:l,properties:c})}n.lastRequestCount=n.totalRequestCount,n.lastTime=n.time}},e.prototype._getShortHost=function(t){var r=t;try{var n=new RegExp(/^https?:\/\/(?:www\.)?([^\/.-]+)/),s=n.exec(t);s!=null&&s.length>1&&(r=s[1]),r=r.replace(".in.applicationinsights.azure.com","")}catch{}return r},e.prototype._trackRequestsCount=function(t){for(var r=this,n=o(function(c){a=s._networkStatsbeatCollection[c];var u=Object.assign({endpoint:a.endpoint,host:a.host},t);a.totalSuccesfulRequestCount>0&&(s._statbeatMetrics.push({name:xa.StatsbeatCounter.REQUEST_SUCCESS,value:a.totalSuccesfulRequestCount,properties:u}),a.totalSuccesfulRequestCount=0),a.totalFailedRequestCount.length>0&&(a.totalFailedRequestCount.forEach(function(f){u=Object.assign(Y1(Y1({},u),{statusCode:f.statusCode})),r._statbeatMetrics.push({name:xa.StatsbeatCounter.REQUEST_FAILURE,value:f.count,properties:u})}),a.totalFailedRequestCount=[]),a.retryCount.length>0&&(a.retryCount.forEach(function(f){u=Object.assign(Y1(Y1({},u),{statusCode:f.statusCode})),r._statbeatMetrics.push({name:xa.StatsbeatCounter.RETRY_COUNT,value:f.count,properties:u})}),a.retryCount=[]),a.throttleCount.length>0&&(a.throttleCount.forEach(function(f){u=Object.assign(Y1(Y1({},u),{statusCode:f.statusCode})),r._statbeatMetrics.push({name:xa.StatsbeatCounter.THROTTLE_COUNT,value:f.count,properties:u})}),a.throttleCount=[]),a.exceptionCount.length>0&&(a.exceptionCount.forEach(function(f){u=Object.assign(Y1(Y1({},u),{exceptionType:f.exceptionType})),r._statbeatMetrics.push({name:xa.StatsbeatCounter.EXCEPTION_COUNT,value:f.count,properties:u})}),a.exceptionCount=[])},"_loop_1"),s=this,a,l=0;l<this._networkStatsbeatCollection.length;l++)n(l)},e.prototype._sendStatsbeats=function(){return xH(this,void 0,void 0,function(){var t,r,n,s;return bH(this,function(a){switch(a.label){case 0:for(t=[],r=0;r<this._statbeatMetrics.length;r++)n={name:this._statbeatMetrics[r].name,value:this._statbeatMetrics[r].value,properties:this._statbeatMetrics[r].properties},s=VOe.createEnvelope(n,zOe.TelemetryType.Metric,null,this._context,this._statsbeatConfig),s.name=xa.StatsbeatTelemetryName,t.push(s);return this._statbeatMetrics=[],[4,this._sender.send(t)];case 1:return a.sent(),[2]}})})},e.prototype._getCustomProperties=function(){this._language=XOe,this._cikey=this._config.instrumentationKey,this._sdkVersion=Jce.sdkVersion,this._os=$Oe.type(),this._runtimeVersion=process.version},e.prototype._getResourceProvider=function(){var t=this;return new Promise(function(r,n){var s=!1;t._resourceProvider=xa.StatsbeatResourceProvider.unknown,t._resourceIdentifier=xa.StatsbeatResourceProvider.unknown,process.env.WEBSITE_SITE_NAME?(t._resourceProvider=xa.StatsbeatResourceProvider.appsvc,t._resourceIdentifier=process.env.WEBSITE_SITE_NAME,process.env.WEBSITE_HOME_STAMPNAME&&(t._resourceIdentifier+="/"+process.env.WEBSITE_HOME_STAMPNAME)):process.env.FUNCTIONS_WORKER_RUNTIME?(t._resourceProvider=xa.StatsbeatResourceProvider.functions,process.env.WEBSITE_HOSTNAME&&(t._resourceIdentifier=process.env.WEBSITE_HOSTNAME)):t._config&&(t._isVM===void 0||t._isVM==!0?(s=!0,KOe.AzureVirtualMachine.getAzureComputeMetadata(t._config,function(a){t._isVM=a.isVM,t._isVM&&(t._resourceProvider=xa.StatsbeatResourceProvider.vm,t._resourceIdentifier=a.id+"/"+a.subscriptionId,a.osType&&(t._os=a.osType)),r()})):t._resourceProvider=xa.StatsbeatResourceProvider.unknown),s||r()})},e.prototype._shutdownStatsbeat=function(){this.enable(!1)},e.prototype._getConnectionString=function(t){for(var r=t.endpointUrl,n=["westeurope","northeurope","francecentral","francesouth","germanywestcentral","norwayeast","norwaywest","swedencentral","switzerlandnorth","switzerlandwest","uksouth","ukwest"],s=0;s<n.length;s++)if(r.indexOf(n[s])>-1)return e.EU_CONNECTION_STRING;return e.NON_EU_CONNECTION_STRING},e.NON_EU_CONNECTION_STRING="InstrumentationKey=c4a29126-a7cb-47e5-b348-11414998b11e;IngestionEndpoint=https://westus-0.in.applicationinsights.azure.com",e.EU_CONNECTION_STRING="InstrumentationKey=7dc56bab-3c0c-4e9f-9ebb-d1acadee8d0f;IngestionEndpoint=https://westeurope-5.in.applicationinsights.azure.com",e.STATS_COLLECTION_SHORT_INTERVAL=9e5,e.STATS_COLLECTION_LONG_INTERVAL=864e5,e.TAG="Statsbeat",e}();eue.exports=QOe});var iue=k((Nit,nue)=>{"use strict";var JOe=require("url"),ZOe=oj(),eDe=Oce(),tDe=v6(),Th=Dc(),rDe=Lce(),EH=jce(),rue=t3(),nDe=tue(),iDe=_H(),TH=Fl(),zw=ya(),sDe=vH(),aDe=function(){function e(t){this._telemetryProcessors=[];var r=new ZOe(t);if(this.config=r,!this.config.instrumentationKey||this.config.instrumentationKey=="")throw new Error("Instrumentation key not found, please provide a connection string before starting Application Insights SDK.");this.context=new tDe,this.commonProperties={},this.authorizationHandler=null,this.config.disableStatsbeat||(this._statsbeat=new nDe(this.config,this.context),this._statsbeat.enable(!0));var n=new iDe(this.config,this.getAuthorizationHandler,null,null,this._statsbeat);this.channel=new rDe(function(){return r.disableAppInsights},function(){return r.maxBatchSize},function(){return r.maxBatchIntervalMs},n)}return o(e,"TelemetryClient"),e.prototype.trackAvailability=function(t){this.track(t,Th.TelemetryType.Availability)},e.prototype.trackPageView=function(t){this.track(t,Th.TelemetryType.PageView)},e.prototype.trackTrace=function(t){this.track(t,Th.TelemetryType.Trace)},e.prototype.trackMetric=function(t){this.track(t,Th.TelemetryType.Metric)},e.prototype.trackException=function(t){t&&t.exception&&!TH.isError(t.exception)&&(t.exception=new Error(t.exception.toString())),this.track(t,Th.TelemetryType.Exception)},e.prototype.trackEvent=function(t){this.track(t,Th.TelemetryType.Event)},e.prototype.trackRequest=function(t){this.track(t,Th.TelemetryType.Request)},e.prototype.trackDependency=function(t){if(t&&!t.target&&t.data)try{t.target=new JOe.URL(t.data).host}catch(r){t.target=null,zw.warn(e.TAG,"The URL object is failed to create.",r)}this.track(t,Th.TelemetryType.Dependency)},e.prototype.flush=function(t){this.channel.triggerSend(t?!!t.isAppCrashing:!1,t?t.callback:void 0)},e.prototype.track=function(t,r){if(t&&Th.telemetryTypeToBaseType(r)){var n=sDe.createEnvelope(t,r,this.commonProperties,this.context,this.config);t.time&&(n.time=t.time.toISOString());var s=this.runTelemetryProcessors(n,t.contextObjects);s=s&&EH.samplingTelemetryProcessor(n,{correlationContext:rue.CorrelationContextManager.getCurrentContext()}),EH.preAggregatedMetricsTelemetryProcessor(n,this.context),s&&(EH.performanceMetricsTelemetryProcessor(n,this.quickPulseClient),this.channel.send(n))}else zw.warn(e.TAG,"track() requires telemetry object and telemetryType to be specified.")},e.prototype.setAutoPopulateAzureProperties=function(t){},e.prototype.getAuthorizationHandler=function(t){return t&&t.aadTokenCredential?(this.authorizationHandler||(zw.info(e.TAG,"Adding authorization handler"),this.authorizationHandler=new eDe(t.aadTokenCredential)),this.authorizationHandler):null},e.prototype.addTelemetryProcessor=function(t){this._telemetryProcessors.push(t)},e.prototype.clearTelemetryProcessors=function(){this._telemetryProcessors=[]},e.prototype.runTelemetryProcessors=function(t,r){var n=!0,s=this._telemetryProcessors.length;if(s===0)return n;r=r||{},r.correlationContext=rue.CorrelationContextManager.getCurrentContext();for(var a=0;a<s;++a)try{var l=this._telemetryProcessors[a];if(l&&l.apply(null,[t,r])===!1){n=!1;break}}catch(c){n=!0,zw.warn(e.TAG,"One of telemetry processors failed, telemetry item will be sent.",c,t)}return n&&(t&&t.tags&&(t.tags=TH.validateStringMap(t.tags)),t&&t.data&&t.data.baseData&&t.data.baseData.properties&&(t.data.baseData.properties=TH.validateStringMap(t.data.baseData.properties))),n},e.prototype.getStatsbeat=function(){return this._statsbeat},e.TAG="TelemetryClient",e}();nue.exports=aDe});var oue=k((CH,aue)=>{"use strict";var oDe=CH&&CH.__extends||function(){var e=o(function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(n[a]=s[a])},e(t,r)},"extendStatics");return function(t,r){e(t,r);function n(){this.constructor=t}o(n,"__"),t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),lDe=iue(),sue=ej(),cDe=C6(),Kw=ya(),uDe=function(e){oDe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return o(t,"NodeClient"),t.prototype.trackNodeHttpRequestSync=function(r){r&&r.request&&r.response&&r.duration?sue.trackRequestSync(this,r):Kw.warn("trackNodeHttpRequestSync requires NodeHttpRequestTelemetry object with request, response and duration specified.")},t.prototype.trackNodeHttpRequest=function(r){(r.duration||r.error)&&Kw.warn("trackNodeHttpRequest will ignore supplied duration and error parameters. These values are collected from the request and response objects."),r&&r.request&&r.response?sue.trackRequest(this,r):Kw.warn("trackNodeHttpRequest requires NodeHttpRequestTelemetry object with request and response specified.")},t.prototype.trackNodeHttpDependency=function(r){r&&r.request?cDe.trackRequest(this,r):Kw.warn("trackNodeHttpDependency requires NodeHttpDependencyTelemetry object with request specified.")},t}(lDe);aue.exports=uDe});var cue=k(lue=>{"use strict";Object.defineProperty(lue,"__esModule",{value:!0})});var gue=k(bn=>{"use strict";Object.defineProperty(bn,"__esModule",{value:!0});bn.dispose=bn.Configuration=bn.wrapWithCorrelationContext=bn.startOperation=bn.getCorrelationContext=bn.start=bn.setup=bn.liveMetricsClient=bn.defaultClient=bn.DistributedTracingModes=void 0;var AH=t3(),fDe=Y0e(),dDe=Q0e(),due=tw(),pDe=qq(),hDe=sae(),mDe=vae(),gDe=C6(),vDe=ej(),pue=lg(),tx=ya(),yDe=Xae(),wH=Qae(),_De=eoe();bn.TelemetryClient=oue();bn.Contracts=Dc();bn.azureFunctionsTypes=cue();var hue;(function(e){e[e.AI=0]="AI",e[e.AI_AND_W3C=1]="AI_AND_W3C"})(hue=bn.DistributedTracingModes||(bn.DistributedTracingModes={}));var nu=xDe(),Ww=nu.isConsole(),Yw=nu.isConsoleLog(),uue=nu.isLoggerErrorToTrace(),Xw=nu.isExceptions(),Qw=nu.isPerformance(),Jw=nu.isPreAggregatedMetrics(),Zw=nu.isHeartBeat(),eR=nu.isRequests(),tR=nu.isDependencies(),rx=nu.isDiskRetry(),nx=nu.isCorrelating(),rR,k6=nu.isSendingLiveMetrics(),RH=nu.isNativePerformance(),PH,ix=nu.isSnippetInjection(),nR=nu.isAzureFunctions();function xDe(){return{isConsole:function(){return!0},isConsoleLog:function(){return!1},isExceptions:function(){return!0},isPerformance:function(){return!0},isPreAggregatedMetrics:function(){return!0},isHeartBeat:function(){return!1},isRequests:function(){return!0},isDependencies:function(){return!0},isDiskRetry:function(){return!0},isCorrelating:function(){return!0},isSendingLiveMetrics:function(){return!1},isNativePerformance:function(){return!0},isSnippetInjection:function(){return!1},isAzureFunctions:function(){return!1},isLoggerErrorToTrace:function(){return!1}}}o(xDe,"_getDefaultAutoCollectConfig");var SH=void 0,IH=void 0,ex=void 0,sx,ax,ox,lx,cx,M6,B6,Rg,ux,fx,Wu=!1,fue;function bDe(e){return bn.defaultClient?tx.info("The default client is already setup"):(bn.defaultClient=new bn.TelemetryClient(e),EDe(),sx=new fDe(bn.defaultClient),ax=new dDe(bn.defaultClient),ox=new due(bn.defaultClient),lx=new pDe(bn.defaultClient),cx=new hDe(bn.defaultClient),M6=new mDe(bn.defaultClient),Rg=new vDe(bn.defaultClient),ux=new gDe(bn.defaultClient),B6||(B6=new wH.AutoCollectNativePerformance(bn.defaultClient)),fx=new _De.AzureFunctionsHook(bn.defaultClient)),bn.defaultClient&&bn.defaultClient.channel&&bn.defaultClient.channel.setUseDiskRetryCaching(rx,SH,IH),NH}o(bDe,"setup");bn.setup=bDe;function mue(){return bn.defaultClient?(Wu=!0,sx.enable(Ww,Yw),ax.enable(Xw),ox.enable(Qw),lx.enable(Jw),cx.enable(Zw),B6.enable(RH,PH),Rg.useAutoCorrelation(nx,rR),Rg.enable(eR),ux.enable(tR),M6.enable(ix,ex),bn.liveMetricsClient&&k6&&bn.liveMetricsClient.enable(k6),fx.enable(nR)):tx.warn("Start cannot be called before setup"),NH}o(mue,"start");bn.start=mue;function EDe(){Ww=bn.defaultClient.config.enableAutoCollectExternalLoggers!==void 0?bn.defaultClient.config.enableAutoCollectExternalLoggers:Ww,Yw=bn.defaultClient.config.enableAutoCollectConsole!==void 0?bn.defaultClient.config.enableAutoCollectConsole:Yw,uue=bn.defaultClient.config.enableLoggerErrorToTrace!==void 0?bn.defaultClient.config.enableLoggerErrorToTrace:uue,Xw=bn.defaultClient.config.enableAutoCollectExceptions!==void 0?bn.defaultClient.config.enableAutoCollectExceptions:Xw,Qw=bn.defaultClient.config.enableAutoCollectPerformance!==void 0?bn.defaultClient.config.enableAutoCollectPerformance:Qw,Jw=bn.defaultClient.config.enableAutoCollectPreAggregatedMetrics!==void 0?bn.defaultClient.config.enableAutoCollectPreAggregatedMetrics:Jw,Zw=bn.defaultClient.config.enableAutoCollectHeartbeat!==void 0?bn.defaultClient.config.enableAutoCollectHeartbeat:Zw,eR=bn.defaultClient.config.enableAutoCollectRequests!==void 0?bn.defaultClient.config.enableAutoCollectRequests:eR,tR=bn.defaultClient.config.enableAutoDependencyCorrelation!==void 0?bn.defaultClient.config.enableAutoDependencyCorrelation:tR,rx=bn.defaultClient.config.enableUseDiskRetryCaching!==void 0?bn.defaultClient.config.enableUseDiskRetryCaching:rx,nx=bn.defaultClient.config.enableAutoDependencyCorrelation!==void 0?bn.defaultClient.config.enableAutoDependencyCorrelation:nx,rR=bn.defaultClient.config.enableUseAsyncHooks!==void 0?bn.defaultClient.config.enableUseAsyncHooks:rR,k6=bn.defaultClient.config.enableSendLiveMetrics!==void 0?bn.defaultClient.config.enableSendLiveMetrics:k6,ix=bn.defaultClient.config.enableAutoWebSnippetInjection===!0?!0:ix,nR=bn.defaultClient.config.enableAutoCollectIncomingRequestAzureFunctions!==void 0?bn.defaultClient.config.enableAutoCollectIncomingRequestAzureFunctions:nR;var e=wH.AutoCollectNativePerformance.parseEnabled(bn.defaultClient.config.enableAutoCollectExtendedMetrics,bn.defaultClient.config);RH=e.isEnabled,PH=e.disabledMetrics}o(EDe,"_initializeConfig");function TDe(){return nx?AH.CorrelationContextManager.getCurrentContext():null}o(TDe,"getCorrelationContext");bn.getCorrelationContext=TDe;function CDe(e,t){return AH.CorrelationContextManager.startOperation(e,t)}o(CDe,"startOperation");bn.startOperation=CDe;function SDe(e,t){return AH.CorrelationContextManager.wrapCallback(e,t)}o(SDe,"wrapWithCorrelationContext");bn.wrapWithCorrelationContext=SDe;var NH=function(){function e(){}return o(e,"Configuration"),e.setDistributedTracingMode=function(t){return pue.w3cEnabled=t===hue.AI_AND_W3C,e},e.setAutoCollectConsole=function(t,r){return r===void 0&&(r=!1),Ww=t,Yw=r,Wu&&sx.enable(t,r),e},e.setAutoCollectExceptions=function(t){return Xw=t,Wu&&ax.enable(t),e},e.setAutoCollectPerformance=function(t,r){r===void 0&&(r=!0),Qw=t;var n=wH.AutoCollectNativePerformance.parseEnabled(r,bn.defaultClient.config);return RH=n.isEnabled,PH=n.disabledMetrics,Wu&&(ox.enable(t),B6.enable(n.isEnabled,n.disabledMetrics)),e},e.setAutoCollectPreAggregatedMetrics=function(t){return Jw=t,Wu&&lx.enable(t),e},e.setAutoCollectHeartbeat=function(t){return Zw=t,Wu&&cx.enable(t),e},e.enableAutoWebSnippetInjection=function(t,r){return ix=t,ex=r,Wu&&M6.enable(t,ex),e},e.enableWebInstrumentation=function(t,r){return ix=t,ex=r,Wu&&M6.enable(t,ex),e},e.setAutoCollectRequests=function(t){return eR=t,Wu&&Rg.enable(t),e},e.setAutoCollectDependencies=function(t){return tR=t,Wu&&ux.enable(t),e},e.setAutoDependencyCorrelation=function(t,r){return nx=t,rR=r,Wu&&Rg.useAutoCorrelation(t,r),e},e.setUseDiskRetryCaching=function(t,r,n){return rx=t,SH=r,IH=n,bn.defaultClient&&bn.defaultClient.channel&&bn.defaultClient.channel.setUseDiskRetryCaching(rx,SH,IH),e},e.setInternalLogging=function(t,r){return t===void 0&&(t=!1),r===void 0&&(r=!0),tx.enableDebug=t,tx.disableWarnings=!r,e},e.setAutoCollectIncomingRequestAzureFunctions=function(t){return nR=t,Wu&&fx.enable(t),e},e.setSendLiveMetrics=function(t){return t===void 0&&(t=!1),bn.defaultClient?(!bn.liveMetricsClient&&t?(bn.liveMetricsClient=new yDe(bn.defaultClient.config,bn.defaultClient.context,bn.defaultClient.getAuthorizationHandler),fue=new due(bn.liveMetricsClient,1e3,!0),bn.liveMetricsClient.addCollector(fue),bn.defaultClient.quickPulseClient=bn.liveMetricsClient):bn.liveMetricsClient&&bn.liveMetricsClient.enable(t),k6=t,e):(tx.warn("Live metrics client cannot be setup without the default client"),e)},e.start=mue,e}();bn.Configuration=NH;function IDe(){pue.w3cEnabled=!0,bn.defaultClient=null,Wu=!1,sx&&sx.dispose(),ax&&ax.dispose(),ox&&ox.dispose(),lx&&lx.dispose(),cx&&cx.dispose(),M6&&M6.dispose(),B6&&B6.dispose(),Rg&&Rg.dispose(),ux&&ux.dispose(),bn.liveMetricsClient&&(bn.liveMetricsClient.enable(!1),k6=!1,bn.liveMetricsClient=void 0),fx&&fx.dispose()}o(IDe,"dispose");bn.dispose=IDe});var i$=k((Hst,Oue)=>{"use strict";var Nue=require("fs"),n$;function QDe(){try{return Nue.statSync("/.dockerenv"),!0}catch{return!1}}o(QDe,"hasDockerEnv");function JDe(){try{return Nue.readFileSync("/proc/self/cgroup","utf8").includes("docker")}catch{return!1}}o(JDe,"hasDockerCGroup");Oue.exports=()=>(n$===void 0&&(n$=QDe()||JDe()),n$)});var kue=k((Vst,s$)=>{"use strict";var ZDe=require("os"),eLe=require("fs"),Due=i$(),Lue=o(()=>{if(process.platform!=="linux")return!1;if(ZDe.release().toLowerCase().includes("microsoft"))return!Due();try{return eLe.readFileSync("/proc/version","utf8").toLowerCase().includes("microsoft")?!Due():!1}catch{return!1}},"isWsl");process.env.__IS_WSL_TEST__?s$.exports=Lue:s$.exports=Lue()});var Bue=k((zst,Mue)=>{"use strict";Mue.exports=(e,t,r)=>{let n=o(s=>Object.defineProperty(e,t,{value:s,enumerable:!0,writable:!0}),"define");return Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get(){let s=r();return n(s),s},set(s){n(s)}}),e}});var Vue=k((Wst,$ue)=>{var tLe=require("path"),rLe=require("child_process"),{promises:hR,constants:Hue}=require("fs"),pR=kue(),nLe=i$(),o$=Bue(),Fue=tLe.join(__dirname,"xdg-open"),{platform:j6,arch:Uue}=process,iLe=o(()=>{try{return hR.statSync("/run/.containerenv"),!0}catch{return!1}},"hasContainerEnv"),a$;function sLe(){return a$===void 0&&(a$=iLe()||nLe()),a$}o(sLe,"isInsideContainer");var aLe=(()=>{let e="/mnt/",t;return async function(){if(t)return t;let r="/etc/wsl.conf",n=!1;try{await hR.access(r,Hue.F_OK),n=!0}catch{}if(!n)return e;let s=await hR.readFile(r,{encoding:"utf8"}),a=/(?<!#.*)root\s*=\s*(?<mountPoint>.*)/g.exec(s);return a?(t=a.groups.mountPoint.trim(),t=t.endsWith("/")?t:`${t}/`,t):e}})(),que=o(async(e,t)=>{let r;for(let n of e)try{return await t(n)}catch(s){r=s}throw r},"pTryEach"),mR=o(async e=>{if(e={wait:!1,background:!1,newInstance:!1,allowNonzeroExitCode:!1,...e},Array.isArray(e.app))return que(e.app,c=>mR({...e,app:c}));let{name:t,arguments:r=[]}=e.app||{};if(r=[...r],Array.isArray(t))return que(t,c=>mR({...e,app:{name:c,arguments:r}}));let n,s=[],a={};if(j6==="darwin")n="open",e.wait&&s.push("--wait-apps"),e.background&&s.push("--background"),e.newInstance&&s.push("--new"),t&&s.push("-a",t);else if(j6==="win32"||pR&&!sLe()&&!t){let c=await aLe();n=pR?`${c}c/Windows/System32/WindowsPowerShell/v1.0/powershell.exe`:`${process.env.SYSTEMROOT}\\System32\\WindowsPowerShell\\v1.0\\powershell`,s.push("-NoProfile","-NonInteractive","\u2013ExecutionPolicy","Bypass","-EncodedCommand"),pR||(a.windowsVerbatimArguments=!0);let u=["Start"];e.wait&&u.push("-Wait"),t?(u.push(`"\`"${t}\`""`,"-ArgumentList"),e.target&&r.unshift(e.target)):e.target&&u.push(`"${e.target}"`),r.length>0&&(r=r.map(f=>`"\`"${f}\`""`),u.push(r.join(","))),e.target=Buffer.from(u.join(" "),"utf16le").toString("base64")}else{if(t)n=t;else{let c=!__dirname||__dirname==="/",u=!1;try{await hR.access(Fue,Hue.X_OK),u=!0}catch{}n=process.versions.electron||j6==="android"||c||!u?"xdg-open":Fue}r.length>0&&s.push(...r),e.wait||(a.stdio="ignore",a.detached=!0)}e.target&&s.push(e.target),j6==="darwin"&&r.length>0&&s.push("--args",...r);let l=rLe.spawn(n,s,a);return e.wait?new Promise((c,u)=>{l.once("error",u),l.once("close",f=>{if(!e.allowNonzeroExitCode&&f>0){u(new Error(`Exited with code ${f}`));return}c(l)})}):(l.unref(),l)},"baseOpen"),l$=o((e,t)=>{if(typeof e!="string")throw new TypeError("Expected a `target`");return mR({...t,target:e})},"open"),oLe=o((e,t)=>{if(typeof e!="string")throw new TypeError("Expected a `name`");let{arguments:r=[]}=t||{};if(r!=null&&!Array.isArray(r))throw new TypeError("Expected `appArguments` as Array type");return mR({...t,app:{name:e,arguments:r}})},"openApp");function jue(e){if(typeof e=="string"||Array.isArray(e))return e;let{[Uue]:t}=e;if(!t)throw new Error(`${Uue} is not supported`);return t}o(jue,"detectArchBinary");function c$({[j6]:e},{wsl:t}){if(t&&pR)return jue(t);if(!e)throw new Error(`${j6} is not supported`);return jue(e)}o(c$,"detectPlatformBinary");var gR={};o$(gR,"chrome",()=>c$({darwin:"google chrome",win32:"chrome",linux:["google-chrome","google-chrome-stable","chromium"]},{wsl:{ia32:"/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe",x64:["/mnt/c/Program Files/Google/Chrome/Application/chrome.exe","/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe"]}}));o$(gR,"firefox",()=>c$({darwin:"firefox",win32:"C:\\Program Files\\Mozilla Firefox\\firefox.exe",linux:"firefox"},{wsl:"/mnt/c/Program Files/Mozilla Firefox/firefox.exe"}));o$(gR,"edge",()=>c$({darwin:"microsoft edge",win32:"msedge",linux:["microsoft-edge","microsoft-edge-dev"]},{wsl:"/mnt/c/Program Files (x86)/Microsoft/Edge/Application/msedge.exe"}));l$.apps=gR;l$.openApp=oLe;$ue.exports=l$});var m$=k((E0t,Kue)=>{"use strict";Kue.exports=o(function(t,r){r===!0&&(r=0);var n="";if(typeof t=="string")try{n=new URL(t).protocol}catch{}else t&&t.constructor===URL&&(n=t.protocol);var s=n.split(/\:|\+/).filter(Boolean);return typeof r=="number"?s[r]:s},"protocols")});var Yue=k((C0t,Wue)=>{"use strict";var uLe=m$();function fLe(e){var t={protocols:[],protocol:null,port:null,resource:"",host:"",user:"",password:"",pathname:"",hash:"",search:"",href:e,query:{},parse_failed:!1};try{var r=new URL(e);t.protocols=uLe(r),t.protocol=t.protocols[0],t.port=r.port,t.resource=r.hostname,t.host=r.host,t.user=r.username||"",t.password=r.password||"",t.pathname=r.pathname,t.hash=r.hash.slice(1),t.search=r.search.slice(1),t.href=r.href,t.query=Object.fromEntries(r.searchParams)}catch{t.protocols=["file"],t.protocol=t.protocols[0],t.port="",t.resource="",t.user="",t.pathname="",t.hash="",t.search="",t.href=e,t.query={},t.parse_failed=!0}return t}o(fLe,"parsePath");Wue.exports=fLe});var Jue=k((I0t,Que)=>{"use strict";var dLe=Yue();function pLe(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}o(pLe,"_interopDefaultLegacy");var hLe=pLe(dLe),mLe="text/plain",gLe="us-ascii",Xue=o((e,t)=>t.some(r=>r instanceof RegExp?r.test(e):r===e),"testParameter"),vLe=o((e,{stripHash:t})=>{let r=/^data:(?<type>[^,]*?),(?<data>[^#]*?)(?:#(?<hash>.*))?$/.exec(e);if(!r)throw new Error(`Invalid URL: ${e}`);let{type:n,data:s,hash:a}=r.groups,l=n.split(";");a=t?"":a;let c=!1;l[l.length-1]==="base64"&&(l.pop(),c=!0);let u=(l.shift()||"").toLowerCase(),d=[...l.map(p=>{let[h,m=""]=p.split("=").map(v=>v.trim());return h==="charset"&&(m=m.toLowerCase(),m===gLe)?"":`${h}${m?`=${m}`:""}`}).filter(Boolean)];return c&&d.push("base64"),(d.length>0||u&&u!==mLe)&&d.unshift(u),`data:${d.join(";")},${c?s.trim():s}${a?`#${a}`:""}`},"normalizeDataURL");function yLe(e,t){if(t={defaultProtocol:"http:",normalizeProtocol:!0,forceHttp:!1,forceHttps:!1,stripAuthentication:!0,stripHash:!1,stripTextFragment:!0,stripWWW:!0,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:!0,removeSingleSlash:!0,removeDirectoryIndex:!1,sortQueryParameters:!0,...t},e=e.trim(),/^data:/i.test(e))return vLe(e,t);if(/^view-source:/i.test(e))throw new Error("`view-source:` is not supported as it is a non-standard protocol");let r=e.startsWith("//");!r&&/^\.*\//.test(e)||(e=e.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,t.defaultProtocol));let s=new URL(e);if(t.forceHttp&&t.forceHttps)throw new Error("The `forceHttp` and `forceHttps` options cannot be used together");if(t.forceHttp&&s.protocol==="https:"&&(s.protocol="http:"),t.forceHttps&&s.protocol==="http:"&&(s.protocol="https:"),t.stripAuthentication&&(s.username="",s.password=""),t.stripHash?s.hash="":t.stripTextFragment&&(s.hash=s.hash.replace(/#?:~:text.*?$/i,"")),s.pathname){let l=/\b[a-z][a-z\d+\-.]{1,50}:\/\//g,c=0,u="";for(;;){let d=l.exec(s.pathname);if(!d)break;let p=d[0],h=d.index,m=s.pathname.slice(c,h);u+=m.replace(/\/{2,}/g,"/"),u+=p,c=h+p.length}let f=s.pathname.slice(c,s.pathname.length);u+=f.replace(/\/{2,}/g,"/"),s.pathname=u}if(s.pathname)try{s.pathname=decodeURI(s.pathname)}catch{}if(t.removeDirectoryIndex===!0&&(t.removeDirectoryIndex=[/^index\.[a-z]+$/]),Array.isArray(t.removeDirectoryIndex)&&t.removeDirectoryIndex.length>0){let l=s.pathname.split("/"),c=l[l.length-1];Xue(c,t.removeDirectoryIndex)&&(l=l.slice(0,-1),s.pathname=l.slice(1).join("/")+"/")}if(s.hostname&&(s.hostname=s.hostname.replace(/\.$/,""),t.stripWWW&&/^www\.(?!www\.)[a-z\-\d]{1,63}\.[a-z.\-\d]{2,63}$/.test(s.hostname)&&(s.hostname=s.hostname.replace(/^www\./,""))),Array.isArray(t.removeQueryParameters))for(let l of[...s.searchParams.keys()])Xue(l,t.removeQueryParameters)&&s.searchParams.delete(l);if(t.removeQueryParameters===!0&&(s.search=""),t.sortQueryParameters){s.searchParams.sort();try{s.search=decodeURIComponent(s.search)}catch{}}t.removeTrailingSlash&&(s.pathname=s.pathname.replace(/\/$/,""));let a=e;return e=s.toString(),!t.removeSingleSlash&&s.pathname==="/"&&!a.endsWith("/")&&s.hash===""&&(e=e.replace(/\/$/,"")),(t.removeTrailingSlash||s.pathname==="/")&&s.hash===""&&t.removeSingleSlash&&(e=e.replace(/\/$/,"")),r&&!t.normalizeProtocol&&(e=e.replace(/^http:\/\//,"//")),t.stripProtocol&&(e=e.replace(/^(?:https?:)?\/\//,"")),e}o(yLe,"normalizeUrl");var g$=o((e,t=!1)=>{let r=/^(?:([a-z_][a-z0-9_-]{0,31})@|https?:\/\/)([\w\.\-@]+)[\/:]([\~,\.\w,\-,\_,\/]+?(?:\.git|\/)?)$/,n=o(a=>{let l=new Error(a);throw l.subject_url=e,l},"throwErr");(typeof e!="string"||!e.trim())&&n("Invalid url."),e.length>g$.MAX_INPUT_LENGTH&&n("Input exceeds maximum length. If needed, change the value of parseUrl.MAX_INPUT_LENGTH."),t&&(typeof t!="object"&&(t={stripHash:!1}),e=yLe(e,t));let s=hLe.default(e);if(s.parse_failed){let a=s.href.match(r);a?(s.protocols=["ssh"],s.protocol="ssh",s.resource=a[2],s.host=a[2],s.user=a[1],s.pathname=`/${a[3]}`,s.parse_failed=!1):n("URL parsing failed.")}return s},"parseUrl");g$.MAX_INPUT_LENGTH=2048;Que.exports=g$});var tfe=k((w0t,efe)=>{"use strict";var _Le=m$();function Zue(e){if(Array.isArray(e))return e.indexOf("ssh")!==-1||e.indexOf("rsync")!==-1;if(typeof e!="string")return!1;var t=_Le(e);if(e=e.substring(e.indexOf("://")+3),Zue(t))return!0;var r=new RegExp(".([a-zA-Z\\d]+):(\\d+)/");return!e.match(r)&&e.indexOf("@")<e.indexOf(":")}o(Zue,"isSsh");efe.exports=Zue});var ife=k((P0t,nfe)=>{"use strict";var xLe=Jue(),rfe=tfe();function bLe(e){var t=xLe(e);return t.token="",t.password==="x-oauth-basic"?t.token=t.user:t.user==="x-token-auth"&&(t.token=t.password),rfe(t.protocols)||t.protocols.length===0&&rfe(e)?t.protocol="ssh":t.protocols.length?t.protocol=t.protocols[0]:(t.protocol="file",t.protocols=["file"]),t.href=t.href.replace(/\/$/,""),t}o(bLe,"gitUp");nfe.exports=bLe});var afe=k((O0t,sfe)=>{"use strict";var ELe=ife();function v$(e){if(typeof e!="string")throw new Error("The url must be a string.");var t=/^([a-z\d-]{1,39})\/([-\.\w]{1,100})$/i;t.test(e)&&(e="https://github.com/"+e);var r=ELe(e),n=r.resource.split("."),s=null;switch(r.toString=function(b){return v$.stringify(this,b)},r.source=n.length>2?n.slice(1-n.length).join("."):r.source=r.resource,r.git_suffix=/\.git$/.test(r.pathname),r.name=decodeURIComponent((r.pathname||r.href).replace(/(^\/)|(\/$)/g,"").replace(/\.git$/,"")),r.owner=decodeURIComponent(r.user),r.source){case"git.cloudforge.com":r.owner=r.user,r.organization=n[0],r.source="cloudforge.com";break;case"visualstudio.com":if(r.resource==="vs-ssh.visualstudio.com"){s=r.name.split("/"),s.length===4&&(r.organization=s[1],r.owner=s[2],r.name=s[3],r.full_name=s[2]+"/"+s[3]);break}else{s=r.name.split("/"),s.length===2?(r.owner=s[1],r.name=s[1],r.full_name="_git/"+r.name):s.length===3?(r.name=s[2],s[0]==="DefaultCollection"?(r.owner=s[2],r.organization=s[0],r.full_name=r.organization+"/_git/"+r.name):(r.owner=s[0],r.full_name=r.owner+"/_git/"+r.name)):s.length===4&&(r.organization=s[0],r.owner=s[1],r.name=s[3],r.full_name=r.organization+"/"+r.owner+"/_git/"+r.name);break}case"dev.azure.com":case"azure.com":if(r.resource==="ssh.dev.azure.com"){s=r.name.split("/"),s.length===4&&(r.organization=s[1],r.owner=s[2],r.name=s[3]);break}else{s=r.name.split("/"),s.length===5?(r.organization=s[0],r.owner=s[1],r.name=s[4],r.full_name="_git/"+r.name):s.length===3?(r.name=s[2],s[0]==="DefaultCollection"?(r.owner=s[2],r.organization=s[0],r.full_name=r.organization+"/_git/"+r.name):(r.owner=s[0],r.full_name=r.owner+"/_git/"+r.name)):s.length===4&&(r.organization=s[0],r.owner=s[1],r.name=s[3],r.full_name=r.organization+"/"+r.owner+"/_git/"+r.name),r.query&&r.query.path&&(r.filepath=r.query.path.replace(/^\/+/g,"")),r.query&&r.query.version&&(r.ref=r.query.version.replace(/^GB/,""));break}default:s=r.name.split("/");var a=s.length-1;if(s.length>=2){var l=s.indexOf("-",2),c=s.indexOf("blob",2),u=s.indexOf("tree",2),f=s.indexOf("commit",2),d=s.indexOf("src",2),p=s.indexOf("raw",2),h=s.indexOf("edit",2);a=l>0?l-1:c>0?c-1:u>0?u-1:f>0?f-1:d>0?d-1:p>0?p-1:h>0?h-1:a,r.owner=s.slice(0,a).join("/"),r.name=s[a],f&&(r.commit=s[a+2])}r.ref="",r.filepathtype="",r.filepath="";var m=s.length>a&&s[a+1]==="-"?a+1:a;s.length>m+2&&["raw","src","blob","tree","edit"].indexOf(s[m+1])>=0&&(r.filepathtype=s[m+1],r.ref=s[m+2],s.length>m+3&&(r.filepath=s.slice(m+3).join("/"))),r.organization=r.owner;break}r.full_name||(r.full_name=r.owner,r.name&&(r.full_name&&(r.full_name+="/"),r.full_name+=r.name)),r.owner.startsWith("scm/")&&(r.source="bitbucket-server",r.owner=r.owner.replace("scm/",""),r.organization=r.owner,r.full_name=r.owner+"/"+r.name);var v=/(projects|users)\/(.*?)\/repos\/(.*?)((\/.*$)|$)/,_=v.exec(r.pathname);return _!=null&&(r.source="bitbucket-server",_[1]==="users"?r.owner="~"+_[2]:r.owner=_[2],r.organization=r.owner,r.name=_[3],s=_[4].split("/"),s.length>1&&(["raw","browse"].indexOf(s[1])>=0?(r.filepathtype=s[1],s.length>2&&(r.filepath=s.slice(2).join("/"))):s[1]==="commits"&&s.length>2&&(r.commit=s[2])),r.full_name=r.owner+"/"+r.name,r.query.at?r.ref=r.query.at:r.ref=""),r}o(v$,"gitUrlParse");v$.stringify=function(e,t){t=t||(e.protocols&&e.protocols.length?e.protocols.join("+"):e.protocol);var r=e.port?":"+e.port:"",n=e.user||"git",s=e.git_suffix?".git":"";switch(t){case"ssh":return r?"ssh://"+n+"@"+e.resource+r+"/"+e.full_name+s:n+"@"+e.resource+":"+e.full_name+s;case"git+ssh":case"ssh+git":case"ftp":case"ftps":return t+"://"+n+"@"+e.resource+r+"/"+e.full_name+s;case"http":case"https":var a=e.token?TLe(e):e.user&&(e.protocols.includes("http")||e.protocols.includes("https"))?e.user+"@":"";return t+"://"+a+e.resource+r+"/"+CLe(e)+s;default:return e.href}};function TLe(e){switch(e.source){case"bitbucket.org":return"x-token-auth:"+e.token+"@";default:return e.token+"@"}}o(TLe,"buildToken");function CLe(e){switch(e.source){case"bitbucket-server":return"scm/"+e.full_name;default:return""+e.full_name}}o(CLe,"buildPath");sfe.exports=v$});var _$=k((yx,y$)=>{(function(e,t){if(typeof yx=="object"&&typeof y$=="object")y$.exports=t();else if(typeof define=="function"&&define.amd)define([],t);else{var r=t();for(var n in r)(typeof yx=="object"?yx:e)[n]=r[n]}})(yx,()=>(()=>{"use strict";var e={470:s=>{function a(u){if(typeof u!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(u))}o(a,"e");function l(u,f){for(var d,p="",h=0,m=-1,v=0,_=0;_<=u.length;++_){if(_<u.length)d=u.charCodeAt(_);else{if(d===47)break;d=47}if(d===47){if(!(m===_-1||v===1))if(m!==_-1&&v===2){if(p.length<2||h!==2||p.charCodeAt(p.length-1)!==46||p.charCodeAt(p.length-2)!==46){if(p.length>2){var b=p.lastIndexOf("/");if(b!==p.length-1){b===-1?(p="",h=0):h=(p=p.slice(0,b)).length-1-p.lastIndexOf("/"),m=_,v=0;continue}}else if(p.length===2||p.length===1){p="",h=0,m=_,v=0;continue}}f&&(p.length>0?p+="/..":p="..",h=2)}else p.length>0?p+="/"+u.slice(m+1,_):p=u.slice(m+1,_),h=_-m-1;m=_,v=0}else d===46&&v!==-1?++v:v=-1}return p}o(l,"r");var c={resolve:function(){for(var u,f="",d=!1,p=arguments.length-1;p>=-1&&!d;p--){var h;p>=0?h=arguments[p]:(u===void 0&&(u=process.cwd()),h=u),a(h),h.length!==0&&(f=h+"/"+f,d=h.charCodeAt(0)===47)}return f=l(f,!d),d?f.length>0?"/"+f:"/":f.length>0?f:"."},normalize:function(u){if(a(u),u.length===0)return".";var f=u.charCodeAt(0)===47,d=u.charCodeAt(u.length-1)===47;return(u=l(u,!f)).length!==0||f||(u="."),u.length>0&&d&&(u+="/"),f?"/"+u:u},isAbsolute:function(u){return a(u),u.length>0&&u.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var u,f=0;f<arguments.length;++f){var d=arguments[f];a(d),d.length>0&&(u===void 0?u=d:u+="/"+d)}return u===void 0?".":c.normalize(u)},relative:function(u,f){if(a(u),a(f),u===f||(u=c.resolve(u))===(f=c.resolve(f)))return"";for(var d=1;d<u.length&&u.charCodeAt(d)===47;++d);for(var p=u.length,h=p-d,m=1;m<f.length&&f.charCodeAt(m)===47;++m);for(var v=f.length-m,_=h<v?h:v,b=-1,S=0;S<=_;++S){if(S===_){if(v>_){if(f.charCodeAt(m+S)===47)return f.slice(m+S+1);if(S===0)return f.slice(m+S)}else h>_&&(u.charCodeAt(d+S)===47?b=S:S===0&&(b=0));break}var A=u.charCodeAt(d+S);if(A!==f.charCodeAt(m+S))break;A===47&&(b=S)}var O="";for(S=d+b+1;S<=p;++S)S!==p&&u.charCodeAt(S)!==47||(O.length===0?O+="..":O+="/..");return O.length>0?O+f.slice(m+b):(m+=b,f.charCodeAt(m)===47&&++m,f.slice(m))},_makeLong:function(u){return u},dirname:function(u){if(a(u),u.length===0)return".";for(var f=u.charCodeAt(0),d=f===47,p=-1,h=!0,m=u.length-1;m>=1;--m)if((f=u.charCodeAt(m))===47){if(!h){p=m;break}}else h=!1;return p===-1?d?"/":".":d&&p===1?"//":u.slice(0,p)},basename:function(u,f){if(f!==void 0&&typeof f!="string")throw new TypeError('"ext" argument must be a string');a(u);var d,p=0,h=-1,m=!0;if(f!==void 0&&f.length>0&&f.length<=u.length){if(f.length===u.length&&f===u)return"";var v=f.length-1,_=-1;for(d=u.length-1;d>=0;--d){var b=u.charCodeAt(d);if(b===47){if(!m){p=d+1;break}}else _===-1&&(m=!1,_=d+1),v>=0&&(b===f.charCodeAt(v)?--v==-1&&(h=d):(v=-1,h=_))}return p===h?h=_:h===-1&&(h=u.length),u.slice(p,h)}for(d=u.length-1;d>=0;--d)if(u.charCodeAt(d)===47){if(!m){p=d+1;break}}else h===-1&&(m=!1,h=d+1);return h===-1?"":u.slice(p,h)},extname:function(u){a(u);for(var f=-1,d=0,p=-1,h=!0,m=0,v=u.length-1;v>=0;--v){var _=u.charCodeAt(v);if(_!==47)p===-1&&(h=!1,p=v+1),_===46?f===-1?f=v:m!==1&&(m=1):f!==-1&&(m=-1);else if(!h){d=v+1;break}}return f===-1||p===-1||m===0||m===1&&f===p-1&&f===d+1?"":u.slice(f,p)},format:function(u){if(u===null||typeof u!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof u);return function(f,d){var p=d.dir||d.root,h=d.base||(d.name||"")+(d.ext||"");return p?p===d.root?p+h:p+"/"+h:h}(0,u)},parse:function(u){a(u);var f={root:"",dir:"",base:"",ext:"",name:""};if(u.length===0)return f;var d,p=u.charCodeAt(0),h=p===47;h?(f.root="/",d=1):d=0;for(var m=-1,v=0,_=-1,b=!0,S=u.length-1,A=0;S>=d;--S)if((p=u.charCodeAt(S))!==47)_===-1&&(b=!1,_=S+1),p===46?m===-1?m=S:A!==1&&(A=1):m!==-1&&(A=-1);else if(!b){v=S+1;break}return m===-1||_===-1||A===0||A===1&&m===_-1&&m===v+1?_!==-1&&(f.base=f.name=v===0&&h?u.slice(1,_):u.slice(v,_)):(v===0&&h?(f.name=u.slice(1,m),f.base=u.slice(1,_)):(f.name=u.slice(v,m),f.base=u.slice(v,_)),f.ext=u.slice(m,_)),v>0?f.dir=u.slice(0,v-1):h&&(f.dir="/"),f},sep:"/",delimiter:":",win32:null,posix:null};c.posix=c,s.exports=c},674:(s,a)=>{if(Object.defineProperty(a,"__esModule",{value:!0}),a.isWindows=void 0,typeof process=="object")a.isWindows=process.platform==="win32";else if(typeof navigator=="object"){var l=navigator.userAgent;a.isWindows=l.indexOf("Windows")>=0}},796:function(s,a,l){var c,u,f=this&&this.__extends||(c=o(function(Ve,Me){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(St,br){St.__proto__=br}||function(St,br){for(var Yt in br)Object.prototype.hasOwnProperty.call(br,Yt)&&(St[Yt]=br[Yt])},c(Ve,Me)},"n"),function(Ve,Me){if(typeof Me!="function"&&Me!==null)throw new TypeError("Class extends value "+String(Me)+" is not a constructor or null");function St(){this.constructor=Ve}o(St,"r"),c(Ve,Me),Ve.prototype=Me===null?Object.create(Me):(St.prototype=Me.prototype,new St)});Object.defineProperty(a,"__esModule",{value:!0}),a.uriToFsPath=a.URI=void 0;var d=l(674),p=/^\w[\w\d+.-]*$/,h=/^\//,m=/^\/\//;function v(Ve,Me){if(!Ve.scheme&&Me)throw new Error('[UriError]: Scheme is missing: {scheme: "", authority: "'.concat(Ve.authority,'", path: "').concat(Ve.path,'", query: "').concat(Ve.query,'", fragment: "').concat(Ve.fragment,'"}'));if(Ve.scheme&&!p.test(Ve.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(Ve.path){if(Ve.authority){if(!h.test(Ve.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(m.test(Ve.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}o(v,"f");var _="",b="/",S=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,A=function(){function Ve(Me,St,br,Yt,hr,Mt){Mt===void 0&&(Mt=!1),typeof Me=="object"?(this.scheme=Me.scheme||_,this.authority=Me.authority||_,this.path=Me.path||_,this.query=Me.query||_,this.fragment=Me.fragment||_):(this.scheme=function(yr,Ee){return yr||Ee?yr:"file"}(Me,Mt),this.authority=St||_,this.path=function(yr,Ee){switch(yr){case"https":case"http":case"file":Ee?Ee[0]!==b&&(Ee=b+Ee):Ee=b}return Ee}(this.scheme,br||_),this.query=Yt||_,this.fragment=hr||_,v(this,Mt))}return o(Ve,"t"),Ve.isUri=function(Me){return Me instanceof Ve||!!Me&&typeof Me.authority=="string"&&typeof Me.fragment=="string"&&typeof Me.path=="string"&&typeof Me.query=="string"&&typeof Me.scheme=="string"&&typeof Me.fsPath=="string"&&typeof Me.with=="function"&&typeof Me.toString=="function"},Object.defineProperty(Ve.prototype,"fsPath",{get:function(){return ue(this,!1)},enumerable:!1,configurable:!0}),Ve.prototype.with=function(Me){if(!Me)return this;var St=Me.scheme,br=Me.authority,Yt=Me.path,hr=Me.query,Mt=Me.fragment;return St===void 0?St=this.scheme:St===null&&(St=_),br===void 0?br=this.authority:br===null&&(br=_),Yt===void 0?Yt=this.path:Yt===null&&(Yt=_),hr===void 0?hr=this.query:hr===null&&(hr=_),Mt===void 0?Mt=this.fragment:Mt===null&&(Mt=_),St===this.scheme&&br===this.authority&&Yt===this.path&&hr===this.query&&Mt===this.fragment?this:new L(St,br,Yt,hr,Mt)},Ve.parse=function(Me,St){St===void 0&&(St=!1);var br=S.exec(Me);return br?new L(br[2]||_,wr(br[4]||_),wr(br[5]||_),wr(br[7]||_),wr(br[9]||_),St):new L(_,_,_,_,_)},Ve.file=function(Me){var St=_;if(d.isWindows&&(Me=Me.replace(/\\/g,b)),Me[0]===b&&Me[1]===b){var br=Me.indexOf(b,2);br===-1?(St=Me.substring(2),Me=b):(St=Me.substring(2,br),Me=Me.substring(br)||b)}return new L("file",St,Me,_,_)},Ve.from=function(Me){var St=new L(Me.scheme,Me.authority,Me.path,Me.query,Me.fragment);return v(St,!0),St},Ve.prototype.toString=function(Me){return Me===void 0&&(Me=!1),Ze(this,Me)},Ve.prototype.toJSON=function(){return this},Ve.revive=function(Me){if(Me){if(Me instanceof Ve)return Me;var St=new L(Me);return St._formatted=Me.external,St._fsPath=Me._sep===O?Me.fsPath:null,St}return Me},Ve}();a.URI=A;var O=d.isWindows?1:void 0,L=function(Ve){function Me(){var St=Ve!==null&&Ve.apply(this,arguments)||this;return St._formatted=null,St._fsPath=null,St}return o(Me,"e"),f(Me,Ve),Object.defineProperty(Me.prototype,"fsPath",{get:function(){return this._fsPath||(this._fsPath=ue(this,!1)),this._fsPath},enumerable:!1,configurable:!0}),Me.prototype.toString=function(St){return St===void 0&&(St=!1),St?Ze(this,!0):(this._formatted||(this._formatted=Ze(this,!1)),this._formatted)},Me.prototype.toJSON=function(){var St={$mid:1};return this._fsPath&&(St.fsPath=this._fsPath,St._sep=O),this._formatted&&(St.external=this._formatted),this.path&&(St.path=this.path),this.scheme&&(St.scheme=this.scheme),this.authority&&(St.authority=this.authority),this.query&&(St.query=this.query),this.fragment&&(St.fragment=this.fragment),St},Me}(A),D=((u={})[58]="%3A",u[47]="%2F",u[63]="%3F",u[35]="%23",u[91]="%5B",u[93]="%5D",u[64]="%40",u[33]="%21",u[36]="%24",u[38]="%26",u[39]="%27",u[40]="%28",u[41]="%29",u[42]="%2A",u[43]="%2B",u[44]="%2C",u[59]="%3B",u[61]="%3D",u[32]="%20",u);function $(Ve,Me,St){for(var br=void 0,Yt=-1,hr=0;hr<Ve.length;hr++){var Mt=Ve.charCodeAt(hr);if(Mt>=97&&Mt<=122||Mt>=65&&Mt<=90||Mt>=48&&Mt<=57||Mt===45||Mt===46||Mt===95||Mt===126||Me&&Mt===47||St&&Mt===91||St&&Mt===93||St&&Mt===58)Yt!==-1&&(br+=encodeURIComponent(Ve.substring(Yt,hr)),Yt=-1),br!==void 0&&(br+=Ve.charAt(hr));else{br===void 0&&(br=Ve.substr(0,hr));var yr=D[Mt];yr!==void 0?(Yt!==-1&&(br+=encodeURIComponent(Ve.substring(Yt,hr)),Yt=-1),br+=yr):Yt===-1&&(Yt=hr)}}return Yt!==-1&&(br+=encodeURIComponent(Ve.substring(Yt))),br!==void 0?br:Ve}o($,"m");function de(Ve){for(var Me=void 0,St=0;St<Ve.length;St++){var br=Ve.charCodeAt(St);br===35||br===63?(Me===void 0&&(Me=Ve.substr(0,St)),Me+=D[br]):Me!==void 0&&(Me+=Ve[St])}return Me!==void 0?Me:Ve}o(de,"b");function ue(Ve,Me){var St;return St=Ve.authority&&Ve.path.length>1&&Ve.scheme==="file"?"//".concat(Ve.authority).concat(Ve.path):Ve.path.charCodeAt(0)===47&&(Ve.path.charCodeAt(1)>=65&&Ve.path.charCodeAt(1)<=90||Ve.path.charCodeAt(1)>=97&&Ve.path.charCodeAt(1)<=122)&&Ve.path.charCodeAt(2)===58?Me?Ve.path.substr(1):Ve.path[1].toLowerCase()+Ve.path.substr(2):Ve.path,d.isWindows&&(St=St.replace(/\//g,"\\")),St}o(ue,"C");function Ze(Ve,Me){var St=Me?de:$,br="",Yt=Ve.scheme,hr=Ve.authority,Mt=Ve.path,yr=Ve.query,Ee=Ve.fragment;if(Yt&&(br+=Yt,br+=":"),(hr||Yt==="file")&&(br+=b,br+=b),hr){var _e=hr.indexOf("@");if(_e!==-1){var Er=hr.substr(0,_e);hr=hr.substr(_e+1),(_e=Er.lastIndexOf(":"))===-1?br+=St(Er,!1,!1):(br+=St(Er.substr(0,_e),!1,!1),br+=":",br+=St(Er.substr(_e+1),!1,!0)),br+="@"}(_e=(hr=hr.toLowerCase()).lastIndexOf(":"))===-1?br+=St(hr,!1,!0):(br+=St(hr.substr(0,_e),!1,!0),br+=hr.substr(_e))}if(Mt){if(Mt.length>=3&&Mt.charCodeAt(0)===47&&Mt.charCodeAt(2)===58)(Vr=Mt.charCodeAt(1))>=65&&Vr<=90&&(Mt="/".concat(String.fromCharCode(Vr+32),":").concat(Mt.substr(3)));else if(Mt.length>=2&&Mt.charCodeAt(1)===58){var Vr;(Vr=Mt.charCodeAt(0))>=65&&Vr<=90&&(Mt="".concat(String.fromCharCode(Vr+32),":").concat(Mt.substr(2)))}br+=St(Mt,!0,!1)}return yr&&(br+="?",br+=St(yr,!1,!1)),Ee&&(br+="#",br+=Me?Ee:$(Ee,!1,!1)),br}o(Ze,"A");function vr(Ve){try{return decodeURIComponent(Ve)}catch{return Ve.length>3?Ve.substr(0,3)+vr(Ve.substr(3)):Ve}}o(vr,"w"),a.uriToFsPath=ue;var vt=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function wr(Ve){return Ve.match(vt)?Ve.replace(vt,function(Me){return vr(Me)}):Ve}o(wr,"x")},679:function(s,a,l){var c=this&&this.__spreadArray||function(h,m,v){if(v||arguments.length===2)for(var _,b=0,S=m.length;b<S;b++)!_&&b in m||(_||(_=Array.prototype.slice.call(m,0,b)),_[b]=m[b]);return h.concat(_||Array.prototype.slice.call(m))};Object.defineProperty(a,"__esModule",{value:!0}),a.Utils=void 0;var u,f=l(470),d=f.posix||f,p="/";(u=a.Utils||(a.Utils={})).joinPath=function(h){for(var m=[],v=1;v<arguments.length;v++)m[v-1]=arguments[v];return h.with({path:d.join.apply(d,c([h.path],m,!1))})},u.resolvePath=function(h){for(var m=[],v=1;v<arguments.length;v++)m[v-1]=arguments[v];var _=h.path,b=!1;_[0]!==p&&(_=p+_,b=!0);var S=d.resolve.apply(d,c([_],m,!1));return b&&S[0]===p&&!h.authority&&(S=S.substring(1)),h.with({path:S})},u.dirname=function(h){if(h.path.length===0||h.path===p)return h;var m=d.dirname(h.path);return m.length===1&&m.charCodeAt(0)===46&&(m=""),h.with({path:m})},u.basename=function(h){return d.basename(h.path)},u.extname=function(h){return d.extname(h.path)}}},t={};function r(s){var a=t[s];if(a!==void 0)return a.exports;var l=t[s]={exports:{}};return e[s].call(l.exports,l,l.exports,r),l.exports}o(r,"r");var n={};return(()=>{var s=n;Object.defineProperty(s,"__esModule",{value:!0}),s.Utils=s.URI=void 0;var a=r(796);Object.defineProperty(s,"URI",{enumerable:!0,get:function(){return a.URI}});var l=r(679);Object.defineProperty(s,"Utils",{enumerable:!0,get:function(){return l.Utils}})})(),n})())});var xfe=k((Wat,_fe)=>{"use strict";_fe.exports=vfe;function vfe(e,t,r){e instanceof RegExp&&(e=gfe(e,r)),t instanceof RegExp&&(t=gfe(t,r));var n=yfe(e,t,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+e.length,n[1]),post:r.slice(n[1]+t.length)}}o(vfe,"balanced");function gfe(e,t){var r=t.match(e);return r?r[0]:null}o(gfe,"maybeMatch");vfe.range=yfe;function yfe(e,t,r){var n,s,a,l,c,u=r.indexOf(e),f=r.indexOf(t,u+1),d=u;if(u>=0&&f>0){for(n=[],a=r.length;d>=0&&!c;)d==u?(n.push(d),u=r.indexOf(e,d+1)):n.length==1?c=[n.pop(),f]:(s=n.pop(),s<a&&(a=s,l=f),f=r.indexOf(t,d+1)),d=u<f&&u>=0?u:f;n.length&&(c=[a,l])}return c}o(yfe,"range")});var wfe=k((Xat,Afe)=>{var bfe=xfe();Afe.exports=kLe;var Efe="\0SLASH"+Math.random()+"\0",Tfe="\0OPEN"+Math.random()+"\0",L$="\0CLOSE"+Math.random()+"\0",Cfe="\0COMMA"+Math.random()+"\0",Sfe="\0PERIOD"+Math.random()+"\0";function D$(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}o(D$,"numeric");function DLe(e){return e.split("\\\\").join(Efe).split("\\{").join(Tfe).split("\\}").join(L$).split("\\,").join(Cfe).split("\\.").join(Sfe)}o(DLe,"escapeBraces");function LLe(e){return e.split(Efe).join("\\").split(Tfe).join("{").split(L$).join("}").split(Cfe).join(",").split(Sfe).join(".")}o(LLe,"unescapeBraces");function Ife(e){if(!e)return[""];var t=[],r=bfe("{","}",e);if(!r)return e.split(",");var n=r.pre,s=r.body,a=r.post,l=n.split(",");l[l.length-1]+="{"+s+"}";var c=Ife(a);return a.length&&(l[l.length-1]+=c.shift(),l.push.apply(l,c)),t.push.apply(t,l),t}o(Ife,"parseCommaParts");function kLe(e){return e?(e.substr(0,2)==="{}"&&(e="\\{\\}"+e.substr(2)),Tx(DLe(e),!0).map(LLe)):[]}o(kLe,"expandTop");function MLe(e){return"{"+e+"}"}o(MLe,"embrace");function BLe(e){return/^-?0\d/.test(e)}o(BLe,"isPadded");function FLe(e,t){return e<=t}o(FLe,"lte");function ULe(e,t){return e>=t}o(ULe,"gte");function Tx(e,t){var r=[],n=bfe("{","}",e);if(!n)return[e];var s=n.pre,a=n.post.length?Tx(n.post,!1):[""];if(/\$$/.test(n.pre))for(var l=0;l<a.length;l++){var c=s+"{"+n.body+"}"+a[l];r.push(c)}else{var u=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),f=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),d=u||f,p=n.body.indexOf(",")>=0;if(!d&&!p)return n.post.match(/,.*\}/)?(e=n.pre+"{"+n.body+L$+n.post,Tx(e)):[e];var h;if(d)h=n.body.split(/\.\./);else if(h=Ife(n.body),h.length===1&&(h=Tx(h[0],!1).map(MLe),h.length===1))return a.map(function(vr){return n.pre+h[0]+vr});var m;if(d){var v=D$(h[0]),_=D$(h[1]),b=Math.max(h[0].length,h[1].length),S=h.length==3?Math.abs(D$(h[2])):1,A=FLe,O=_<v;O&&(S*=-1,A=ULe);var L=h.some(BLe);m=[];for(var D=v;A(D,_);D+=S){var $;if(f)$=String.fromCharCode(D),$==="\\"&&($="");else if($=String(D),L){var de=b-$.length;if(de>0){var ue=new Array(de+1).join("0");D<0?$="-"+ue+$.slice(1):$=ue+$}}m.push($)}}else{m=[];for(var Ze=0;Ze<h.length;Ze++)m.push.apply(m,Tx(h[Ze],!1))}for(var Ze=0;Ze<m.length;Ze++)for(var l=0;l<a.length;l++){var c=s+m[Ze]+a[l];(!t||d||c)&&r.push(c)}}return r}o(Tx,"expand")});var PR=k(C3=>{"use strict";Object.defineProperty(C3,"__esModule",{value:!0});C3.ValuePointer=C3.ValuePointerRootDeleteError=C3.ValuePointerRootSetError=void 0;var U$=class U$ extends Error{constructor(t,r,n){super("Cannot set root value"),this.value=t,this.path=r,this.update=n}};o(U$,"ValuePointerRootSetError");var wR=U$;C3.ValuePointerRootSetError=wR;var q$=class q$ extends Error{constructor(t,r){super("Cannot delete root value"),this.value=t,this.path=r}};o(q$,"ValuePointerRootDeleteError");var RR=q$;C3.ValuePointerRootDeleteError=RR;var $fe;(function(e){function t(c){return c.indexOf("~")===-1?c:c.replace(/~1/g,"/").replace(/~0/g,"~")}o(t,"Escape");function*r(c){if(c==="")return;let[u,f]=[0,0];for(let d=0;d<c.length;d++)c.charAt(d)==="/"?(d===0||(f=d,yield t(c.slice(u,f))),u=d+1):f=d;yield t(c.slice(u))}o(r,"Format"),e.Format=r;function n(c,u,f){if(u==="")throw new wR(c,u,f);let[d,p,h]=[null,c,""];for(let m of r(u))p[m]===void 0&&(p[m]={}),d=p,p=p[m],h=m;d[h]=f}o(n,"Set"),e.Set=n;function s(c,u){if(u==="")throw new RR(c,u);let[f,d,p]=[null,c,""];for(let h of r(u)){if(d[h]===void 0||d[h]===null)return;f=d,d=d[h],p=h}if(Array.isArray(f)){let h=parseInt(p);f.splice(h,1)}else delete f[p]}o(s,"Delete"),e.Delete=s;function a(c,u){if(u==="")return!0;let[f,d,p]=[null,c,""];for(let h of r(u)){if(d[h]===void 0)return!1;f=d,d=d[h],p=h}return Object.getOwnPropertyNames(f).includes(p)}o(a,"Has"),e.Has=a;function l(c,u){if(u==="")return c;let f=c;for(let d of r(u)){if(f[d]===void 0)return;f=f[d]}return f}o(l,"Get"),e.Get=l})($fe||(C3.ValuePointer=$fe={}))});var W6=k(NR=>{"use strict";Object.defineProperty(NR,"__esModule",{value:!0});NR.Clone=void 0;var wx=yu();function Eke(e){return[...Object.getOwnPropertyNames(e),...Object.getOwnPropertySymbols(e)].reduce((r,n)=>({...r,[n]:j$(e[n])}),{})}o(Eke,"ObjectType");function Tke(e){return e.map(t=>j$(t))}o(Tke,"ArrayType");function Cke(e){return e.slice()}o(Cke,"TypedArrayType");function Ske(e){return new Date(e.toISOString())}o(Ske,"DateType");function j$(e){if((0,wx.IsArray)(e))return Tke(e);if((0,wx.IsDate)(e))return Ske(e);if((0,wx.IsPlainObject)(e))return Eke(e);if((0,wx.IsTypedArray)(e))return Cke(e);if((0,wx.IsValueType)(e))return e;throw new Error("ValueClone: Unable to clone value")}o(j$,"Clone");NR.Clone=j$});var z$=k(Za=>{"use strict";Object.defineProperty(Za,"__esModule",{value:!0});Za.Patch=Za.Diff=Za.ValueDeltaUnableToDiffUnknownValue=Za.ValueDeltaObjectWithSymbolKeyError=Za.Edit=Za.Delete=Za.Update=Za.Insert=void 0;var Bc=yu(),qf=vu(),H$=PR(),$$=W6();Za.Insert=qf.Type.Object({type:qf.Type.Literal("insert"),path:qf.Type.String(),value:qf.Type.Unknown()});Za.Update=qf.Type.Object({type:qf.Type.Literal("update"),path:qf.Type.String(),value:qf.Type.Unknown()});Za.Delete=qf.Type.Object({type:qf.Type.Literal("delete"),path:qf.Type.String()});Za.Edit=qf.Type.Union([Za.Insert,Za.Update,Za.Delete]);var V$=class V$ extends Error{constructor(t){super("Cannot diff objects with symbol keys"),this.key=t}};o(V$,"ValueDeltaObjectWithSymbolKeyError");var Lg=V$;Za.ValueDeltaObjectWithSymbolKeyError=Lg;var G$=class G$ extends Error{constructor(t){super("Unable to create diff edits for unknown value"),this.value=t}};o(G$,"ValueDeltaUnableToDiffUnknownValue");var OR=G$;Za.ValueDeltaUnableToDiffUnknownValue=OR;function Rx(e,t){return{type:"update",path:e,value:t}}o(Rx,"CreateUpdate");function Vfe(e,t){return{type:"insert",path:e,value:t}}o(Vfe,"CreateInsert");function Gfe(e){return{type:"delete",path:e}}o(Gfe,"CreateDelete");function*Ike(e,t,r){if(!(0,Bc.IsPlainObject)(r))return yield Rx(e,r);let n=[...Object.keys(t),...Object.getOwnPropertySymbols(t)],s=[...Object.keys(r),...Object.getOwnPropertySymbols(r)];for(let a of n){if((0,Bc.IsSymbol)(a))throw new Lg(a);(0,Bc.IsUndefined)(r[a])&&s.includes(a)&&(yield Rx(`${e}/${String(a)}`,void 0))}for(let a of s)if(!((0,Bc.IsUndefined)(t[a])||(0,Bc.IsUndefined)(r[a]))){if((0,Bc.IsSymbol)(a))throw new Lg(a);yield*DR(`${e}/${String(a)}`,t[a],r[a])}for(let a of s){if((0,Bc.IsSymbol)(a))throw new Lg(a);(0,Bc.IsUndefined)(t[a])&&(yield Vfe(`${e}/${String(a)}`,r[a]))}for(let a of n.reverse()){if((0,Bc.IsSymbol)(a))throw new Lg(a);(0,Bc.IsUndefined)(r[a])&&!s.includes(a)&&(yield Gfe(`${e}/${String(a)}`))}}o(Ike,"ObjectType");function*Ake(e,t,r){if(!(0,Bc.IsArray)(r))return yield Rx(e,r);for(let n=0;n<Math.min(t.length,r.length);n++)yield*DR(`${e}/${n}`,t[n],r[n]);for(let n=0;n<r.length;n++)n<t.length||(yield Vfe(`${e}/${n}`,r[n]));for(let n=t.length-1;n>=0;n--)n<r.length||(yield Gfe(`${e}/${n}`))}o(Ake,"ArrayType");function*wke(e,t,r){if(!(0,Bc.IsTypedArray)(r)||t.length!==r.length||Object.getPrototypeOf(t).constructor.name!==Object.getPrototypeOf(r).constructor.name)return yield Rx(e,r);for(let n=0;n<Math.min(t.length,r.length);n++)yield*DR(`${e}/${n}`,t[n],r[n])}o(wke,"TypedArrayType");function*Rke(e,t,r){t!==r&&(yield Rx(e,r))}o(Rke,"ValueType");function*DR(e,t,r){if((0,Bc.IsPlainObject)(t))return yield*Ike(e,t,r);if((0,Bc.IsArray)(t))return yield*Ake(e,t,r);if((0,Bc.IsTypedArray)(t))return yield*wke(e,t,r);if((0,Bc.IsValueType)(t))return yield*Rke(e,t,r);throw new OR(t)}o(DR,"Visit");function Pke(e,t){return[...DR("",e,t)]}o(Pke,"Diff");Za.Diff=Pke;function Nke(e){return e.length>0&&e[0].path===""&&e[0].type==="update"}o(Nke,"IsRootUpdate");function Oke(e){return e.length===0}o(Oke,"IsIdentity");function Dke(e,t){if(Nke(t))return(0,$$.Clone)(t[0].value);if(Oke(t))return(0,$$.Clone)(e);let r=(0,$$.Clone)(e);for(let n of t)switch(n.type){case"insert":{H$.ValuePointer.Set(r,n.path,n.value);break}case"update":{H$.ValuePointer.Set(r,n.path,n.value);break}case"delete":{H$.ValuePointer.Delete(r,n.path);break}}return r}o(Dke,"Patch");Za.Patch=Dke});var Kfe=k(S3=>{"use strict";Object.defineProperty(S3,"__esModule",{value:!0});S3.Mutate=S3.ValueMutateInvalidRootMutationError=S3.ValueMutateTypeMismatchError=void 0;var Xu=yu(),MR=PR(),K$=W6(),Y$=class Y$ extends Error{constructor(){super("Cannot assign due type mismatch of assignable values")}};o(Y$,"ValueMutateTypeMismatchError");var LR=Y$;S3.ValueMutateTypeMismatchError=LR;var X$=class X$ extends Error{constructor(){super("Only object and array types can be mutated at the root level")}};o(X$,"ValueMutateInvalidRootMutationError");var kR=X$;S3.ValueMutateInvalidRootMutationError=kR;function Lke(e,t,r,n){if(!(0,Xu.IsPlainObject)(r))MR.ValuePointer.Set(e,t,(0,K$.Clone)(n));else{let s=Object.keys(r),a=Object.keys(n);for(let l of s)a.includes(l)||delete r[l];for(let l of a)s.includes(l)||(r[l]=null);for(let l of a)W$(e,`${t}/${l}`,r[l],n[l])}}o(Lke,"ObjectType");function kke(e,t,r,n){if(!(0,Xu.IsArray)(r))MR.ValuePointer.Set(e,t,(0,K$.Clone)(n));else{for(let s=0;s<n.length;s++)W$(e,`${t}/${s}`,r[s],n[s]);r.splice(n.length)}}o(kke,"ArrayType");function Mke(e,t,r,n){if((0,Xu.IsTypedArray)(r)&&r.length===n.length)for(let s=0;s<r.length;s++)r[s]=n[s];else MR.ValuePointer.Set(e,t,(0,K$.Clone)(n))}o(Mke,"TypedArrayType");function Bke(e,t,r,n){r!==n&&MR.ValuePointer.Set(e,t,n)}o(Bke,"ValueType");function W$(e,t,r,n){if((0,Xu.IsArray)(n))return kke(e,t,r,n);if((0,Xu.IsTypedArray)(n))return Mke(e,t,r,n);if((0,Xu.IsPlainObject)(n))return Lke(e,t,r,n);if((0,Xu.IsValueType)(n))return Bke(e,t,r,n)}o(W$,"Visit");function zfe(e){return(0,Xu.IsTypedArray)(e)||(0,Xu.IsValueType)(e)}o(zfe,"IsNonMutableValue");function Fke(e,t){return(0,Xu.IsPlainObject)(e)&&(0,Xu.IsArray)(t)||(0,Xu.IsArray)(e)&&(0,Xu.IsPlainObject)(t)}o(Fke,"IsMismatchedValue");function Uke(e,t){if(zfe(e)||zfe(t))throw new kR;if(Fke(e,t))throw new LR;W$(e,"",e,t)}o(Uke,"Mutate");S3.Mutate=Uke});var Wfe=k(FR=>{"use strict";Object.defineProperty(FR,"__esModule",{value:!0});FR.Equal=void 0;var wh=yu();function qke(e,t){if(!(0,wh.IsPlainObject)(t))return!1;let r=[...Object.keys(e),...Object.getOwnPropertySymbols(e)],n=[...Object.keys(t),...Object.getOwnPropertySymbols(t)];return r.length!==n.length?!1:r.every(s=>BR(e[s],t[s]))}o(qke,"ObjectType");function jke(e,t){return(0,wh.IsDate)(t)&&e.getTime()===t.getTime()}o(jke,"DateType");function Hke(e,t){return!(0,wh.IsArray)(t)||e.length!==t.length?!1:e.every((r,n)=>BR(r,t[n]))}o(Hke,"ArrayType");function $ke(e,t){return!(0,wh.IsTypedArray)(t)||e.length!==t.length||Object.getPrototypeOf(e).constructor.name!==Object.getPrototypeOf(t).constructor.name?!1:e.every((r,n)=>BR(r,t[n]))}o($ke,"TypedArrayType");function Vke(e,t){return e===t}o(Vke,"ValueType");function BR(e,t){if((0,wh.IsPlainObject)(e))return qke(e,t);if((0,wh.IsDate)(e))return jke(e,t);if((0,wh.IsTypedArray)(e))return $ke(e,t);if((0,wh.IsArray)(e))return Hke(e,t);if((0,wh.IsValueType)(e))return Vke(e,t);throw new Error("ValueEquals: Unable to compare value")}o(BR,"Equal");FR.Equal=BR});var nV=k(Fc=>{"use strict";Object.defineProperty(Fc,"__esModule",{value:!0});Fc.Create=Fc.ValueCreateRecursiveInstantiationError=Fc.ValueCreateTempateLiteralTypeError=Fc.ValueCreateIntersectTypeError=Fc.ValueCreateNotTypeError=Fc.ValueCreateNeverTypeError=Fc.ValueCreateUnknownTypeError=void 0;var C0=yu(),Gke=C8(),Xfe=D5(),Ru=vu(),Q$=class Q$ extends Ru.TypeBoxError{constructor(t){super("Unknown type"),this.schema=t}};o(Q$,"ValueCreateUnknownTypeError");var UR=Q$;Fc.ValueCreateUnknownTypeError=UR;var J$=class J$ extends Ru.TypeBoxError{constructor(t){super("Never types cannot be created"),this.schema=t}};o(J$,"ValueCreateNeverTypeError");var qR=J$;Fc.ValueCreateNeverTypeError=qR;var Z$=class Z$ extends Ru.TypeBoxError{constructor(t){super("Not types must have a default value"),this.schema=t}};o(Z$,"ValueCreateNotTypeError");var jR=Z$;Fc.ValueCreateNotTypeError=jR;var eV=class eV extends Ru.TypeBoxError{constructor(t){super("Intersect produced invalid value. Consider using a default value."),this.schema=t}};o(eV,"ValueCreateIntersectTypeError");var HR=eV;Fc.ValueCreateIntersectTypeError=HR;var tV=class tV extends Ru.TypeBoxError{constructor(t){super("Can only create template literal values from patterns that produce finite sequences. Consider using a default value."),this.schema=t}};o(tV,"ValueCreateTempateLiteralTypeError");var $R=tV;Fc.ValueCreateTempateLiteralTypeError=$R;var rV=class rV extends Ru.TypeBoxError{constructor(t,r){super("Value cannot be created as recursive type may produce value of infinite size. Consider using a default."),this.schema=t,this.recursiveMaxDepth=r}};o(rV,"ValueCreateRecursiveInstantiationError");var VR=rV;Fc.ValueCreateRecursiveInstantiationError=VR;function zke(e,t){return(0,C0.HasPropertyKey)(e,"default")?e.default:{}}o(zke,"TAny");function Kke(e,t){if(e.uniqueItems===!0&&!(0,C0.HasPropertyKey)(e,"default"))throw new Error("ValueCreate.Array: Array with the uniqueItems constraint requires a default value");if("contains"in e&&!(0,C0.HasPropertyKey)(e,"default"))throw new Error("ValueCreate.Array: Array with the contains constraint requires a default value");return"default"in e?e.default:e.minItems!==void 0?Array.from({length:e.minItems}).map(r=>Qu(e.items,t)):[]}o(Kke,"TArray");function Wke(e,t){return(0,C0.HasPropertyKey)(e,"default")?e.default:async function*(){}()}o(Wke,"TAsyncIterator");function Yke(e,t){return(0,C0.HasPropertyKey)(e,"default")?e.default:BigInt(0)}o(Yke,"TBigInt");function Xke(e,t){return(0,C0.HasPropertyKey)(e,"default")?e.default:!1}o(Xke,"TBoolean");function Qke(e,t){if((0,C0.HasPropertyKey)(e,"default"))return e.default;{let r=Qu(e.returns,t);return typeof r=="object"&&!Array.isArray(r)?class{constructor(){for(let[n,s]of Object.entries(r)){let a=this;a[n]=s}}}:class{}}}o(Qke,"TConstructor");function Jke(e,t){return(0,C0.HasPropertyKey)(e,"default")?e.default:e.minimumTimestamp!==void 0?new Date(e.minimumTimestamp):new Date}o(Jke,"TDate");function Zke(e,t){return(0,C0.HasPropertyKey)(e,"default")?e.default:()=>Qu(e.returns,t)}o(Zke,"TFunction");function eMe(e,t){return(0,C0.HasPropertyKey)(e,"default")?e.default:e.minimum!==void 0?e.minimum:0}o(eMe,"TInteger");function tMe(e,t){if((0,C0.HasPropertyKey)(e,"default"))return e.default;{let r=e.allOf.reduce((n,s)=>{let a=Qu(s,t);return typeof a=="object"?{...n,...a}:a},{});if(!(0,Gke.Check)(e,t,r))throw new HR(e);return r}}o(tMe,"TIntersect");function rMe(e,t){return(0,C0.HasPropertyKey)(e,"default")?e.default:function*(){}()}o(rMe,"TIterator");function nMe(e,t){return(0,C0.HasPropertyKey)(e,"default")?e.default:e.const}o(nMe,"TLiteral");function iMe(e,t){throw new qR(e)}o(iMe,"TNever");function sMe(e,t){if((0,C0.HasPropertyKey)(e,"default"))return e.default;throw new jR(e)}o(sMe,"TNot");function aMe(e,t){return(0,C0.HasPropertyKey)(e,"default")?e.default:null}o(aMe,"TNull");function oMe(e,t){return(0,C0.HasPropertyKey)(e,"default")?e.default:e.minimum!==void 0?e.minimum:0}o(oMe,"TNumber");function lMe(e,t){if((0,C0.HasPropertyKey)(e,"default"))return e.default;{let r=new Set(e.required);return e.default||Object.entries(e.properties).reduce((n,[s,a])=>r.has(s)?{...n,[s]:Qu(a,t)}:{...n},{})}}o(lMe,"TObject");function cMe(e,t){return(0,C0.HasPropertyKey)(e,"default")?e.default:Promise.resolve(Qu(e.item,t))}o(cMe,"TPromise");function uMe(e,t){let[r,n]=Object.entries(e.patternProperties)[0];return(0,C0.HasPropertyKey)(e,"default")?e.default:r===Ru.PatternStringExact||r===Ru.PatternNumberExact?{}:r.slice(1,r.length-1).split("|").reduce((a,l)=>({...a,[l]:Qu(n,t)}),{})}o(uMe,"TRecord");function fMe(e,t){return(0,C0.HasPropertyKey)(e,"default")?e.default:Qu((0,Xfe.Deref)(e,t),t)}o(fMe,"TRef");function dMe(e,t){if(e.pattern!==void 0){if((0,C0.HasPropertyKey)(e,"default"))return e.default;throw new Error("ValueCreate.String: String types with patterns must specify a default value")}else if(e.format!==void 0){if((0,C0.HasPropertyKey)(e,"default"))return e.default;throw new Error("ValueCreate.String: String types with formats must specify a default value")}else return(0,C0.HasPropertyKey)(e,"default")?e.default:e.minLength!==void 0?Array.from({length:e.minLength}).map(()=>".").join(""):""}o(dMe,"TString");function pMe(e,t){return(0,C0.HasPropertyKey)(e,"default")?e.default:"value"in e?Symbol.for(e.value):Symbol()}o(pMe,"TSymbol");function hMe(e,t){if((0,C0.HasPropertyKey)(e,"default"))return e.default;let r=Ru.TemplateLiteralParser.ParseExact(e.pattern);if(!Ru.TemplateLiteralFinite.Check(r))throw new $R(e);return Ru.TemplateLiteralGenerator.Generate(r).next().value}o(hMe,"TTemplateLiteral");function mMe(e,t){if(Qfe++>Yfe)throw new VR(e,Yfe);return(0,C0.HasPropertyKey)(e,"default")?e.default:Qu((0,Xfe.Deref)(e,t),t)}o(mMe,"TThis");function gMe(e,t){return(0,C0.HasPropertyKey)(e,"default")?e.default:e.items===void 0?[]:Array.from({length:e.minItems}).map((r,n)=>Qu(e.items[n],t))}o(gMe,"TTuple");function vMe(e,t){if((0,C0.HasPropertyKey)(e,"default"))return e.default}o(vMe,"TUndefined");function yMe(e,t){if((0,C0.HasPropertyKey)(e,"default"))return e.default;if(e.anyOf.length===0)throw new Error("ValueCreate.Union: Cannot create Union with zero variants");return Qu(e.anyOf[0],t)}o(yMe,"TUnion");function _Me(e,t){return(0,C0.HasPropertyKey)(e,"default")?e.default:e.minByteLength!==void 0?new Uint8Array(e.minByteLength):new Uint8Array(0)}o(_Me,"TUint8Array");function xMe(e,t){return(0,C0.HasPropertyKey)(e,"default")?e.default:{}}o(xMe,"TUnknown");function bMe(e,t){if((0,C0.HasPropertyKey)(e,"default"))return e.default}o(bMe,"TVoid");function EMe(e,t){if((0,C0.HasPropertyKey)(e,"default"))return e.default;throw new Error("User defined types must specify a default value")}o(EMe,"TKind");function Qu(e,t){let r=(0,C0.IsString)(e.$id)?[...t,e]:t,n=e;switch(n[Ru.Kind]){case"Any":return zke(n,r);case"Array":return Kke(n,r);case"AsyncIterator":return Wke(n,r);case"BigInt":return Yke(n,r);case"Boolean":return Xke(n,r);case"Constructor":return Qke(n,r);case"Date":return Jke(n,r);case"Function":return Zke(n,r);case"Integer":return eMe(n,r);case"Intersect":return tMe(n,r);case"Iterator":return rMe(n,r);case"Literal":return nMe(n,r);case"Never":return iMe(n,r);case"Not":return sMe(n,r);case"Null":return aMe(n,r);case"Number":return oMe(n,r);case"Object":return lMe(n,r);case"Promise":return cMe(n,r);case"Record":return uMe(n,r);case"Ref":return fMe(n,r);case"String":return dMe(n,r);case"Symbol":return pMe(n,r);case"TemplateLiteral":return hMe(n,r);case"This":return mMe(n,r);case"Tuple":return gMe(n,r);case"Undefined":return vMe(n,r);case"Union":return yMe(n,r);case"Uint8Array":return _Me(n,r);case"Unknown":return xMe(n,r);case"Void":return bMe(n,r);default:if(!Ru.TypeRegistry.Has(n[Ru.Kind]))throw new UR(n);return EMe(n,r)}}o(Qu,"Visit");var Yfe=512,Qfe=0;function TMe(...e){return Qfe=0,e.length===2?Qu(e[0],e[1]):Qu(e[0],[])}o(TMe,"Create");Fc.Create=TMe});var tde=k(Uc=>{"use strict";Object.defineProperty(Uc,"__esModule",{value:!0});Uc.Cast=Uc.Default=Uc.DefaultClone=Uc.ValueCastUnknownTypeError=Uc.ValueCastRecursiveTypeError=Uc.ValueCastNeverTypeError=Uc.ValueCastArrayUniqueItemsTypeError=void 0;var I3=yu(),Ph=nV(),jf=C8(),Y6=W6(),Jfe=D5(),Rh=vu(),oV=class oV extends Rh.TypeBoxError{constructor(t,r){super("Array cast produced invalid data due to uniqueItems constraint"),this.schema=t,this.value=r}};o(oV,"ValueCastArrayUniqueItemsTypeError");var GR=oV;Uc.ValueCastArrayUniqueItemsTypeError=GR;var lV=class lV extends Rh.TypeBoxError{constructor(t){super("Never types cannot be cast"),this.schema=t}};o(lV,"ValueCastNeverTypeError");var zR=lV;Uc.ValueCastNeverTypeError=zR;var cV=class cV extends Rh.TypeBoxError{constructor(t){super("Cannot cast recursive schemas"),this.schema=t}};o(cV,"ValueCastRecursiveTypeError");var iV=cV;Uc.ValueCastRecursiveTypeError=iV;var uV=class uV extends Rh.TypeBoxError{constructor(t){super("Unknown type"),this.schema=t}};o(uV,"ValueCastUnknownTypeError");var KR=uV;Uc.ValueCastUnknownTypeError=KR;var sV;(function(e){function t(s,a,l){if(s[Rh.Kind]==="Object"&&typeof l=="object"&&!(0,I3.IsNull)(l)){let c=s,u=Object.getOwnPropertyNames(l),f=Object.entries(c.properties),[d,p]=[1/f.length,f.length];return f.reduce((h,[m,v])=>{let _=v[Rh.Kind]==="Literal"&&v.const===l[m]?p:0,b=(0,jf.Check)(v,a,l[m])?d:0,S=u.includes(m)?d:0;return h+(_+b+S)},0)}else return(0,jf.Check)(s,a,l)?1:0}o(t,"Score");function r(s,a,l){let[c,u]=[s.anyOf[0],0];for(let f of s.anyOf){let d=t(f,a,l);d>u&&(c=f,u=d)}return c}o(r,"Select");function n(s,a,l){if("default"in s)return s.default;{let c=r(s,a,l);return ede(c,a,l)}}o(n,"Create"),e.Create=n})(sV||(sV={}));function Zfe(e,t,r){return(0,jf.Check)(e,t,r)?(0,Y6.Clone)(r):(0,Ph.Create)(e,t)}o(Zfe,"DefaultClone");Uc.DefaultClone=Zfe;function aV(e,t,r){return(0,jf.Check)(e,t,r)?r:(0,Ph.Create)(e,t)}o(aV,"Default");Uc.Default=aV;function CMe(e,t,r){if((0,jf.Check)(e,t,r))return(0,Y6.Clone)(r);let n=(0,I3.IsArray)(r)?(0,Y6.Clone)(r):(0,Ph.Create)(e,t),s=(0,I3.IsNumber)(e.minItems)&&n.length<e.minItems?[...n,...Array.from({length:e.minItems-n.length},()=>null)]:n,l=((0,I3.IsNumber)(e.maxItems)&&s.length>e.maxItems?s.slice(0,e.maxItems):s).map(u=>Q1(e.items,t,u));if(e.uniqueItems!==!0)return l;let c=[...new Set(l)];if(!(0,jf.Check)(e,t,c))throw new GR(e,c);return c}o(CMe,"TArray");function SMe(e,t,r){if((0,jf.Check)(e,t,r))return(0,Ph.Create)(e,t);let n=new Set(e.returns.required||[]),s=o(function(){},"result");for(let[a,l]of Object.entries(e.returns.properties))!n.has(a)&&r.prototype[a]===void 0||(s.prototype[a]=Q1(l,t,r.prototype[a]));return s}o(SMe,"TConstructor");function IMe(e,t,r){let n=(0,Ph.Create)(e,t),s=(0,I3.IsPlainObject)(n)&&(0,I3.IsPlainObject)(r)?{...n,...r}:r;return(0,jf.Check)(e,t,s)?s:(0,Ph.Create)(e,t)}o(IMe,"TIntersect");function AMe(e,t,r){throw new zR(e)}o(AMe,"TNever");function wMe(e,t,r){if((0,jf.Check)(e,t,r))return r;if(r===null||typeof r!="object")return(0,Ph.Create)(e,t);let n=new Set(e.required||[]),s={};for(let[a,l]of Object.entries(e.properties))!n.has(a)&&r[a]===void 0||(s[a]=Q1(l,t,r[a]));if(typeof e.additionalProperties=="object"){let a=Object.getOwnPropertyNames(e.properties);for(let l of Object.getOwnPropertyNames(r))a.includes(l)||(s[l]=Q1(e.additionalProperties,t,r[l]))}return s}o(wMe,"TObject");function RMe(e,t,r){if((0,jf.Check)(e,t,r))return(0,Y6.Clone)(r);if(r===null||typeof r!="object"||Array.isArray(r)||r instanceof Date)return(0,Ph.Create)(e,t);let n=Object.getOwnPropertyNames(e.patternProperties)[0],s=e.patternProperties[n],a={};for(let[l,c]of Object.entries(r))a[l]=Q1(s,t,c);return a}o(RMe,"TRecord");function PMe(e,t,r){return Q1((0,Jfe.Deref)(e,t),t,r)}o(PMe,"TRef");function NMe(e,t,r){return Q1((0,Jfe.Deref)(e,t),t,r)}o(NMe,"TThis");function OMe(e,t,r){return(0,jf.Check)(e,t,r)?(0,Y6.Clone)(r):(0,I3.IsArray)(r)?e.items===void 0?[]:e.items.map((n,s)=>Q1(n,t,r[s])):(0,Ph.Create)(e,t)}o(OMe,"TTuple");function DMe(e,t,r){return(0,jf.Check)(e,t,r)?(0,Y6.Clone)(r):sV.Create(e,t,r)}o(DMe,"TUnion");function Q1(e,t,r){let n=(0,I3.IsString)(e.$id)?[...t,e]:t,s=e;switch(e[Rh.Kind]){case"Array":return CMe(s,n,r);case"Constructor":return SMe(s,n,r);case"Intersect":return IMe(s,n,r);case"Never":return AMe(s,n,r);case"Object":return wMe(s,n,r);case"Record":return RMe(s,n,r);case"Ref":return PMe(s,n,r);case"This":return NMe(s,n,r);case"Tuple":return OMe(s,n,r);case"Union":return DMe(s,n,r);case"Date":case"Symbol":case"Uint8Array":return Zfe(e,t,r);case"Any":case"AsyncIterator":case"BigInt":case"Boolean":case"Function":case"Integer":case"Iterator":case"Literal":case"Not":case"Null":case"Number":case"Promise":case"String":case"TemplateLiteral":case"Undefined":case"Unknown":case"Void":return aV(s,n,r);default:if(!Rh.TypeRegistry.Has(s[Rh.Kind]))throw new KR(s);return aV(s,n,r)}}o(Q1,"Visit");function ede(...e){return e.length===3?Q1(e[0],e[1],e[2]):Q1(e[0],[],e[1])}o(ede,"Cast");Uc.Cast=ede});var ade=k(A3=>{"use strict";Object.defineProperty(A3,"__esModule",{value:!0});A3.Convert=A3.Default=A3.ValueConvertUnknownTypeError=void 0;var z0=yu(),LMe=W6(),kMe=C8(),rde=D5(),X6=vu(),fV=class fV extends X6.TypeBoxError{constructor(t){super("Unknown type"),this.schema=t}};o(fV,"ValueConvertUnknownTypeError");var WR=fV;A3.ValueConvertUnknownTypeError=WR;function YR(e){return(0,z0.IsString)(e)&&!isNaN(e)&&!isNaN(parseFloat(e))}o(YR,"IsStringNumeric");function MMe(e){return(0,z0.IsBigInt)(e)||(0,z0.IsBoolean)(e)||(0,z0.IsNumber)(e)}o(MMe,"IsValueToString");function Px(e){return e===!0||(0,z0.IsNumber)(e)&&e===1||(0,z0.IsBigInt)(e)&&e===BigInt("1")||(0,z0.IsString)(e)&&(e.toLowerCase()==="true"||e==="1")}o(Px,"IsValueTrue");function Nx(e){return e===!1||(0,z0.IsNumber)(e)&&(e===0||Object.is(e,-0))||(0,z0.IsBigInt)(e)&&e===BigInt("0")||(0,z0.IsString)(e)&&(e.toLowerCase()==="false"||e==="0"||e==="-0")}o(Nx,"IsValueFalse");function BMe(e){return(0,z0.IsString)(e)&&/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i.test(e)}o(BMe,"IsTimeStringWithTimeZone");function FMe(e){return(0,z0.IsString)(e)&&/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)?$/i.test(e)}o(FMe,"IsTimeStringWithoutTimeZone");function UMe(e){return(0,z0.IsString)(e)&&/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i.test(e)}o(UMe,"IsDateTimeStringWithTimeZone");function qMe(e){return(0,z0.IsString)(e)&&/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)?$/i.test(e)}o(qMe,"IsDateTimeStringWithoutTimeZone");function jMe(e){return(0,z0.IsString)(e)&&/^\d\d\d\d-[0-1]\d-[0-3]\d$/i.test(e)}o(jMe,"IsDateString");function HMe(e,t){let r=ide(e);return r===t?r:e}o(HMe,"TryConvertLiteralString");function $Me(e,t){let r=sde(e);return r===t?r:e}o($Me,"TryConvertLiteralNumber");function VMe(e,t){let r=nde(e);return r===t?r:e}o(VMe,"TryConvertLiteralBoolean");function GMe(e,t){return typeof e.const=="string"?HMe(t,e.const):typeof e.const=="number"?$Me(t,e.const):typeof e.const=="boolean"?VMe(t,e.const):(0,LMe.Clone)(t)}o(GMe,"TryConvertLiteral");function nde(e){return Px(e)?!0:Nx(e)?!1:e}o(nde,"TryConvertBoolean");function zMe(e){return YR(e)?BigInt(parseInt(e)):(0,z0.IsNumber)(e)?BigInt(e|0):Nx(e)?BigInt(0):Px(e)?BigInt(1):e}o(zMe,"TryConvertBigInt");function ide(e){return MMe(e)?e.toString():(0,z0.IsSymbol)(e)&&e.description!==void 0?e.description.toString():e}o(ide,"TryConvertString");function sde(e){return YR(e)?parseFloat(e):Px(e)?1:Nx(e)?0:e}o(sde,"TryConvertNumber");function KMe(e){return YR(e)?parseInt(e):(0,z0.IsNumber)(e)?e|0:Px(e)?1:Nx(e)?0:e}o(KMe,"TryConvertInteger");function WMe(e){return(0,z0.IsString)(e)&&e.toLowerCase()==="null"?null:e}o(WMe,"TryConvertNull");function YMe(e){return(0,z0.IsString)(e)&&e==="undefined"?void 0:e}o(YMe,"TryConvertUndefined");function XMe(e){return(0,z0.IsDate)(e)?e:(0,z0.IsNumber)(e)?new Date(e):Px(e)?new Date(1):Nx(e)?new Date(0):YR(e)?new Date(parseInt(e)):FMe(e)?new Date(`1970-01-01T${e}.000Z`):BMe(e)?new Date(`1970-01-01T${e}`):qMe(e)?new Date(`${e}.000Z`):UMe(e)?new Date(e):jMe(e)?new Date(`${e}T00:00:00.000Z`):e}o(XMe,"TryConvertDate");function QMe(e){return e}o(QMe,"Default");A3.Default=QMe;function JMe(e,t,r){return(0,z0.IsArray)(r)?r.map(n=>kd(e.items,t,n)):r}o(JMe,"TArray");function ZMe(e,t,r){return zMe(r)}o(ZMe,"TBigInt");function eBe(e,t,r){return nde(r)}o(eBe,"TBoolean");function tBe(e,t,r){return XMe(r)}o(tBe,"TDate");function rBe(e,t,r){return KMe(r)}o(rBe,"TInteger");function nBe(e,t,r){return e.allOf.every(n=>X6.TypeGuard.TObject(n))?kd(X6.Type.Composite(e.allOf),t,r):kd(e.allOf[0],t,r)}o(nBe,"TIntersect");function iBe(e,t,r){return GMe(e,r)}o(iBe,"TLiteral");function sBe(e,t,r){return WMe(r)}o(sBe,"TNull");function aBe(e,t,r){return sde(r)}o(aBe,"TNumber");function oBe(e,t,r){return(0,z0.IsObject)(r)?Object.getOwnPropertyNames(e.properties).reduce((n,s)=>r[s]!==void 0?{...n,[s]:kd(e.properties[s],t,r[s])}:{...n},r):r}o(oBe,"TObject");function lBe(e,t,r){let n=Object.getOwnPropertyNames(e.patternProperties)[0],s=e.patternProperties[n],a={};for(let[l,c]of Object.entries(r))a[l]=kd(s,t,c);return a}o(lBe,"TRecord");function cBe(e,t,r){return kd((0,rde.Deref)(e,t),t,r)}o(cBe,"TRef");function uBe(e,t,r){return ide(r)}o(uBe,"TString");function fBe(e,t,r){return(0,z0.IsString)(r)||(0,z0.IsNumber)(r)?Symbol(r):r}o(fBe,"TSymbol");function dBe(e,t,r){return kd((0,rde.Deref)(e,t),t,r)}o(dBe,"TThis");function pBe(e,t,r){return(0,z0.IsArray)(r)&&!(0,z0.IsUndefined)(e.items)?r.map((n,s)=>s<e.items.length?kd(e.items[s],t,n):n):r}o(pBe,"TTuple");function hBe(e,t,r){return YMe(r)}o(hBe,"TUndefined");function mBe(e,t,r){for(let n of e.anyOf){let s=kd(n,t,r);if((0,kMe.Check)(n,t,s))return s}return r}o(mBe,"TUnion");function kd(e,t,r){let n=(0,z0.IsString)(e.$id)?[...t,e]:t,s=e;switch(e[X6.Kind]){case"Array":return JMe(s,n,r);case"BigInt":return ZMe(s,n,r);case"Boolean":return eBe(s,n,r);case"Date":return tBe(s,n,r);case"Integer":return rBe(s,n,r);case"Intersect":return nBe(s,n,r);case"Literal":return iBe(s,n,r);case"Null":return sBe(s,n,r);case"Number":return aBe(s,n,r);case"Object":return oBe(s,n,r);case"Record":return lBe(s,n,r);case"Ref":return cBe(s,n,r);case"String":return uBe(s,n,r);case"Symbol":return fBe(s,n,r);case"This":return dBe(s,n,r);case"Tuple":return pBe(s,n,r);case"Undefined":return hBe(s,n,r);case"Union":return mBe(s,n,r);case"Any":case"AsyncIterator":case"Constructor":case"Function":case"Iterator":case"Never":case"Promise":case"TemplateLiteral":case"Uint8Array":case"Unknown":case"Void":return r;default:if(!X6.TypeRegistry.Has(s[X6.Kind]))throw new WR(s);return r}}o(kd,"Visit");function gBe(...e){return e.length===3?kd(e[0],e[1],e[2]):kd(e[0],[],e[1])}o(gBe,"Convert");A3.Convert=gBe});var hde=k(QR=>{"use strict";Object.defineProperty(QR,"__esModule",{value:!0});QR.Value=void 0;var ode=KE(),vBe=Kfe(),yBe=t7(),_Be=Wfe(),lde=tde(),xBe=W6(),cde=ade(),ude=nV(),fde=C8(),dde=z$(),XR=hD(),pde;(function(e){function t(...v){return lde.Cast.apply(lde,v)}o(t,"Cast"),e.Cast=t;function r(...v){return ude.Create.apply(ude,v)}o(r,"Create"),e.Create=r;function n(...v){return fde.Check.apply(fde,v)}o(n,"Check"),e.Check=n;function s(...v){return cde.Convert.apply(cde,v)}o(s,"Convert"),e.Convert=s;function a(v){return xBe.Clone(v)}o(a,"Clone"),e.Clone=a;function l(...v){let[_,b,S]=v.length===3?[v[0],v[1],v[2]]:[v[0],[],v[1]];if(!n(_,b,S))throw new XR.TransformDecodeCheckError(_,S,u(_,b,S).First());return XR.DecodeTransform.Decode(_,b,S)}o(l,"Decode"),e.Decode=l;function c(...v){let[_,b,S]=v.length===3?[v[0],v[1],v[2]]:[v[0],[],v[1]],A=XR.EncodeTransform.Encode(_,b,S);if(!n(_,b,A))throw new XR.TransformEncodeCheckError(_,S,u(_,b,S).First());return A}o(c,"Encode"),e.Encode=c;function u(...v){return ode.Errors.apply(ode,v)}o(u,"Errors"),e.Errors=u;function f(v,_){return _Be.Equal(v,_)}o(f,"Equal"),e.Equal=f;function d(v,_){return dde.Diff(v,_)}o(d,"Diff"),e.Diff=d;function p(v){return yBe.Hash(v)}o(p,"Hash"),e.Hash=p;function h(v,_){return dde.Patch(v,_)}o(h,"Patch"),e.Patch=h;function m(v,_){vBe.Mutate(v,_)}o(m,"Mutate"),e.Mutate=m})(pde||(QR.Value=pde={}))});var gde=k(jl=>{"use strict";Object.defineProperty(jl,"__esModule",{value:!0});jl.Value=jl.ValuePointer=jl.Delete=jl.Update=jl.Insert=jl.Edit=jl.ValueErrorIterator=jl.ValueErrorType=void 0;var mde=KE();Object.defineProperty(jl,"ValueErrorType",{enumerable:!0,get:function(){return mde.ValueErrorType}});Object.defineProperty(jl,"ValueErrorIterator",{enumerable:!0,get:function(){return mde.ValueErrorIterator}});var JR=z$();Object.defineProperty(jl,"Edit",{enumerable:!0,get:function(){return JR.Edit}});Object.defineProperty(jl,"Insert",{enumerable:!0,get:function(){return JR.Insert}});Object.defineProperty(jl,"Update",{enumerable:!0,get:function(){return JR.Update}});Object.defineProperty(jl,"Delete",{enumerable:!0,get:function(){return JR.Delete}});var bBe=PR();Object.defineProperty(jl,"ValuePointer",{enumerable:!0,get:function(){return bBe.ValuePointer}});var EBe=hde();Object.defineProperty(jl,"Value",{enumerable:!0,get:function(){return EBe.Value}})});var B1e=k((wut,M1e)=>{"use strict";M1e.exports=o(function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,s,a;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(s=n;s--!==0;)if(!e(t[s],r[s]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(a=Object.keys(t),n=a.length,n!==Object.keys(r).length)return!1;for(s=n;s--!==0;)if(!Object.prototype.hasOwnProperty.call(r,a[s]))return!1;for(s=n;s--!==0;){var l=a[s];if(!e(t[l],r[l]))return!1}return!0}return t!==t&&r!==r},"equal")});var Js=k((o1t,V1e)=>{V1e.exports={options:{usePureJavaScript:!1}}});var K1e=k((l1t,z1e)=>{var hG={};z1e.exports=hG;var G1e={};hG.encode=function(e,t,r){if(typeof t!="string")throw new TypeError('"alphabet" must be a string.');if(r!==void 0&&typeof r!="number")throw new TypeError('"maxline" must be a number.');var n="";if(!(e instanceof Uint8Array))n=iFe(e,t);else{var s=0,a=t.length,l=t.charAt(0),c=[0];for(s=0;s<e.length;++s){for(var u=0,f=e[s];u<c.length;++u)f+=c[u]<<8,c[u]=f%a,f=f/a|0;for(;f>0;)c.push(f%a),f=f/a|0}for(s=0;e[s]===0&&s<e.length-1;++s)n+=l;for(s=c.length-1;s>=0;--s)n+=t[c[s]]}if(r){var d=new RegExp(".{1,"+r+"}","g");n=n.match(d).join(`\r
`)}return n};hG.decode=function(e,t){if(typeof e!="string")throw new TypeError('"input" must be a string.');if(typeof t!="string")throw new TypeError('"alphabet" must be a string.');var r=G1e[t];if(!r){r=G1e[t]=[];for(var n=0;n<t.length;++n)r[t.charCodeAt(n)]=n}e=e.replace(/\s/g,"");for(var s=t.length,a=t.charAt(0),l=[0],n=0;n<e.length;n++){var c=r[e.charCodeAt(n)];if(c===void 0)return;for(var u=0,f=c;u<l.length;++u)f+=l[u]*s,l[u]=f&255,f>>=8;for(;f>0;)l.push(f&255),f>>=8}for(var d=0;e[d]===a&&d<e.length-1;++d)l.push(0);return typeof Buffer<"u"?Buffer.from(l.reverse()):new Uint8Array(l.reverse())};function iFe(e,t){var r=0,n=t.length,s=t.charAt(0),a=[0];for(r=0;r<e.length();++r){for(var l=0,c=e.at(r);l<a.length;++l)c+=a[l]<<8,a[l]=c%n,c=c/n|0;for(;c>0;)a.push(c%n),c=c/n|0}var u="";for(r=0;e.at(r)===0&&r<e.length()-1;++r)u+=s;for(r=a.length-1;r>=0;--r)u+=t[a[r]];return u}o(iFe,"_encodeWithByteBuffer")});var P0=k((u1t,Q1e)=>{var W1e=Js(),Y1e=K1e(),wt=Q1e.exports=W1e.util=W1e.util||{};(function(){if(typeof process<"u"&&process.nextTick&&!process.browser){wt.nextTick=process.nextTick,typeof setImmediate=="function"?wt.setImmediate=setImmediate:wt.setImmediate=wt.nextTick;return}if(typeof setImmediate=="function"){wt.setImmediate=function(){return setImmediate.apply(void 0,arguments)},wt.nextTick=function(c){return setImmediate(c)};return}if(wt.setImmediate=function(c){setTimeout(c,0)},typeof window<"u"&&typeof window.postMessage=="function"){let c=function(u){if(u.source===window&&u.data===e){u.stopPropagation();var f=t.slice();t.length=0,f.forEach(function(d){d()})}};var l=c;o(c,"handler");var e="forge.setImmediate",t=[];wt.setImmediate=function(u){t.push(u),t.length===1&&window.postMessage(e,"*")},window.addEventListener("message",c,!0)}if(typeof MutationObserver<"u"){var r=Date.now(),n=!0,s=document.createElement("div"),t=[];new MutationObserver(function(){var u=t.slice();t.length=0,u.forEach(function(f){f()})}).observe(s,{attributes:!0});var a=wt.setImmediate;wt.setImmediate=function(u){Date.now()-r>15?(r=Date.now(),a(u)):(t.push(u),t.length===1&&s.setAttribute("a",n=!n))}}wt.nextTick=wt.setImmediate})();wt.isNodejs=typeof process<"u"&&process.versions&&process.versions.node;wt.globalScope=function(){return wt.isNodejs?global:typeof self>"u"?window:self}();wt.isArray=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};wt.isArrayBuffer=function(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer};wt.isArrayBufferView=function(e){return e&&wt.isArrayBuffer(e.buffer)&&e.byteLength!==void 0};function $x(e){if(!(e===8||e===16||e===24||e===32))throw new Error("Only 8, 16, 24, or 32 bits supported: "+e)}o($x,"_checkBitsParam");wt.ByteBuffer=mG;function mG(e){if(this.data="",this.read=0,typeof e=="string")this.data=e;else if(wt.isArrayBuffer(e)||wt.isArrayBufferView(e))if(typeof Buffer<"u"&&e instanceof Buffer)this.data=e.toString("binary");else{var t=new Uint8Array(e);try{this.data=String.fromCharCode.apply(null,t)}catch{for(var r=0;r<t.length;++r)this.putByte(t[r])}}else(e instanceof mG||typeof e=="object"&&typeof e.data=="string"&&typeof e.read=="number")&&(this.data=e.data,this.read=e.read);this._constructedStringLength=0}o(mG,"ByteStringBuffer");wt.ByteStringBuffer=mG;var sFe=4096;wt.ByteStringBuffer.prototype._optimizeConstructedString=function(e){this._constructedStringLength+=e,this._constructedStringLength>sFe&&(this.data.substr(0,1),this._constructedStringLength=0)};wt.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read};wt.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0};wt.ByteStringBuffer.prototype.putByte=function(e){return this.putBytes(String.fromCharCode(e))};wt.ByteStringBuffer.prototype.fillWithByte=function(e,t){e=String.fromCharCode(e);for(var r=this.data;t>0;)t&1&&(r+=e),t>>>=1,t>0&&(e+=e);return this.data=r,this._optimizeConstructedString(t),this};wt.ByteStringBuffer.prototype.putBytes=function(e){return this.data+=e,this._optimizeConstructedString(e.length),this};wt.ByteStringBuffer.prototype.putString=function(e){return this.putBytes(wt.encodeUtf8(e))};wt.ByteStringBuffer.prototype.putInt16=function(e){return this.putBytes(String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};wt.ByteStringBuffer.prototype.putInt24=function(e){return this.putBytes(String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};wt.ByteStringBuffer.prototype.putInt32=function(e){return this.putBytes(String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255))};wt.ByteStringBuffer.prototype.putInt16Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255))};wt.ByteStringBuffer.prototype.putInt24Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255))};wt.ByteStringBuffer.prototype.putInt32Le=function(e){return this.putBytes(String.fromCharCode(e&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>24&255))};wt.ByteStringBuffer.prototype.putInt=function(e,t){$x(t);var r="";do t-=8,r+=String.fromCharCode(e>>t&255);while(t>0);return this.putBytes(r)};wt.ByteStringBuffer.prototype.putSignedInt=function(e,t){return e<0&&(e+=2<<t-1),this.putInt(e,t)};wt.ByteStringBuffer.prototype.putBuffer=function(e){return this.putBytes(e.getBytes())};wt.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)};wt.ByteStringBuffer.prototype.getInt16=function(){var e=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,e};wt.ByteStringBuffer.prototype.getInt24=function(){var e=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,e};wt.ByteStringBuffer.prototype.getInt32=function(){var e=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,e};wt.ByteStringBuffer.prototype.getInt16Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,e};wt.ByteStringBuffer.prototype.getInt24Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,e};wt.ByteStringBuffer.prototype.getInt32Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,e};wt.ByteStringBuffer.prototype.getInt=function(e){$x(e);var t=0;do t=(t<<8)+this.data.charCodeAt(this.read++),e-=8;while(e>0);return t};wt.ByteStringBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t};wt.ByteStringBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):e===0?t="":(t=this.read===0?this.data:this.data.slice(this.read),this.clear()),t};wt.ByteStringBuffer.prototype.bytes=function(e){return typeof e>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+e)};wt.ByteStringBuffer.prototype.at=function(e){return this.data.charCodeAt(this.read+e)};wt.ByteStringBuffer.prototype.setAt=function(e,t){return this.data=this.data.substr(0,this.read+e)+String.fromCharCode(t)+this.data.substr(this.read+e+1),this};wt.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)};wt.ByteStringBuffer.prototype.copy=function(){var e=wt.createBuffer(this.data);return e.read=this.read,e};wt.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this};wt.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this};wt.ByteStringBuffer.prototype.truncate=function(e){var t=Math.max(0,this.length()-e);return this.data=this.data.substr(this.read,t),this.read=0,this};wt.ByteStringBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.length;++t){var r=this.data.charCodeAt(t);r<16&&(e+="0"),e+=r.toString(16)}return e};wt.ByteStringBuffer.prototype.toString=function(){return wt.decodeUtf8(this.bytes())};function aFe(e,t){t=t||{},this.read=t.readOffset||0,this.growSize=t.growSize||1024;var r=wt.isArrayBuffer(e),n=wt.isArrayBufferView(e);if(r||n){r?this.data=new DataView(e):this.data=new DataView(e.buffer,e.byteOffset,e.byteLength),this.write="writeOffset"in t?t.writeOffset:this.data.byteLength;return}this.data=new DataView(new ArrayBuffer(0)),this.write=0,e!=null&&this.putBytes(e),"writeOffset"in t&&(this.write=t.writeOffset)}o(aFe,"DataBuffer");wt.DataBuffer=aFe;wt.DataBuffer.prototype.length=function(){return this.write-this.read};wt.DataBuffer.prototype.isEmpty=function(){return this.length()<=0};wt.DataBuffer.prototype.accommodate=function(e,t){if(this.length()>=e)return this;t=Math.max(t||this.growSize,e);var r=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),n=new Uint8Array(this.length()+t);return n.set(r),this.data=new DataView(n.buffer),this};wt.DataBuffer.prototype.putByte=function(e){return this.accommodate(1),this.data.setUint8(this.write++,e),this};wt.DataBuffer.prototype.fillWithByte=function(e,t){this.accommodate(t);for(var r=0;r<t;++r)this.data.setUint8(e);return this};wt.DataBuffer.prototype.putBytes=function(e,t){if(wt.isArrayBufferView(e)){var r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength),n=r.byteLength-r.byteOffset;this.accommodate(n);var s=new Uint8Array(this.data.buffer,this.write);return s.set(r),this.write+=n,this}if(wt.isArrayBuffer(e)){var r=new Uint8Array(e);this.accommodate(r.byteLength);var s=new Uint8Array(this.data.buffer);return s.set(r,this.write),this.write+=r.byteLength,this}if(e instanceof wt.DataBuffer||typeof e=="object"&&typeof e.read=="number"&&typeof e.write=="number"&&wt.isArrayBufferView(e.data)){var r=new Uint8Array(e.data.byteLength,e.read,e.length());this.accommodate(r.byteLength);var s=new Uint8Array(e.data.byteLength,this.write);return s.set(r),this.write+=r.byteLength,this}if(e instanceof wt.ByteStringBuffer&&(e=e.data,t="binary"),t=t||"binary",typeof e=="string"){var a;if(t==="hex")return this.accommodate(Math.ceil(e.length/2)),a=new Uint8Array(this.data.buffer,this.write),this.write+=wt.binary.hex.decode(e,a,this.write),this;if(t==="base64")return this.accommodate(Math.ceil(e.length/4)*3),a=new Uint8Array(this.data.buffer,this.write),this.write+=wt.binary.base64.decode(e,a,this.write),this;if(t==="utf8"&&(e=wt.encodeUtf8(e),t="binary"),t==="binary"||t==="raw")return this.accommodate(e.length),a=new Uint8Array(this.data.buffer,this.write),this.write+=wt.binary.raw.decode(a),this;if(t==="utf16")return this.accommodate(e.length*2),a=new Uint16Array(this.data.buffer,this.write),this.write+=wt.text.utf16.encode(a),this;throw new Error("Invalid encoding: "+t)}throw Error("Invalid parameter: "+e)};wt.DataBuffer.prototype.putBuffer=function(e){return this.putBytes(e),e.clear(),this};wt.DataBuffer.prototype.putString=function(e){return this.putBytes(e,"utf16")};wt.DataBuffer.prototype.putInt16=function(e){return this.accommodate(2),this.data.setInt16(this.write,e),this.write+=2,this};wt.DataBuffer.prototype.putInt24=function(e){return this.accommodate(3),this.data.setInt16(this.write,e>>8&65535),this.data.setInt8(this.write,e>>16&255),this.write+=3,this};wt.DataBuffer.prototype.putInt32=function(e){return this.accommodate(4),this.data.setInt32(this.write,e),this.write+=4,this};wt.DataBuffer.prototype.putInt16Le=function(e){return this.accommodate(2),this.data.setInt16(this.write,e,!0),this.write+=2,this};wt.DataBuffer.prototype.putInt24Le=function(e){return this.accommodate(3),this.data.setInt8(this.write,e>>16&255),this.data.setInt16(this.write,e>>8&65535,!0),this.write+=3,this};wt.DataBuffer.prototype.putInt32Le=function(e){return this.accommodate(4),this.data.setInt32(this.write,e,!0),this.write+=4,this};wt.DataBuffer.prototype.putInt=function(e,t){$x(t),this.accommodate(t/8);do t-=8,this.data.setInt8(this.write++,e>>t&255);while(t>0);return this};wt.DataBuffer.prototype.putSignedInt=function(e,t){return $x(t),this.accommodate(t/8),e<0&&(e+=2<<t-1),this.putInt(e,t)};wt.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)};wt.DataBuffer.prototype.getInt16=function(){var e=this.data.getInt16(this.read);return this.read+=2,e};wt.DataBuffer.prototype.getInt24=function(){var e=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,e};wt.DataBuffer.prototype.getInt32=function(){var e=this.data.getInt32(this.read);return this.read+=4,e};wt.DataBuffer.prototype.getInt16Le=function(){var e=this.data.getInt16(this.read,!0);return this.read+=2,e};wt.DataBuffer.prototype.getInt24Le=function(){var e=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,e};wt.DataBuffer.prototype.getInt32Le=function(){var e=this.data.getInt32(this.read,!0);return this.read+=4,e};wt.DataBuffer.prototype.getInt=function(e){$x(e);var t=0;do t=(t<<8)+this.data.getInt8(this.read++),e-=8;while(e>0);return t};wt.DataBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t};wt.DataBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):e===0?t="":(t=this.read===0?this.data:this.data.slice(this.read),this.clear()),t};wt.DataBuffer.prototype.bytes=function(e){return typeof e>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+e)};wt.DataBuffer.prototype.at=function(e){return this.data.getUint8(this.read+e)};wt.DataBuffer.prototype.setAt=function(e,t){return this.data.setUint8(e,t),this};wt.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)};wt.DataBuffer.prototype.copy=function(){return new wt.DataBuffer(this)};wt.DataBuffer.prototype.compact=function(){if(this.read>0){var e=new Uint8Array(this.data.buffer,this.read),t=new Uint8Array(e.byteLength);t.set(e),this.data=new DataView(t),this.write-=this.read,this.read=0}return this};wt.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this};wt.DataBuffer.prototype.truncate=function(e){return this.write=Math.max(0,this.length()-e),this.read=Math.min(this.read,this.write),this};wt.DataBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.byteLength;++t){var r=this.data.getUint8(t);r<16&&(e+="0"),e+=r.toString(16)}return e};wt.DataBuffer.prototype.toString=function(e){var t=new Uint8Array(this.data,this.read,this.length());if(e=e||"utf8",e==="binary"||e==="raw")return wt.binary.raw.encode(t);if(e==="hex")return wt.binary.hex.encode(t);if(e==="base64")return wt.binary.base64.encode(t);if(e==="utf8")return wt.text.utf8.decode(t);if(e==="utf16")return wt.text.utf16.decode(t);throw new Error("Invalid encoding: "+e)};wt.createBuffer=function(e,t){return t=t||"raw",e!==void 0&&t==="utf8"&&(e=wt.encodeUtf8(e)),new wt.ByteBuffer(e)};wt.fillString=function(e,t){for(var r="";t>0;)t&1&&(r+=e),t>>>=1,t>0&&(e+=e);return r};wt.xorBytes=function(e,t,r){for(var n="",s="",a="",l=0,c=0;r>0;--r,++l)s=e.charCodeAt(l)^t.charCodeAt(l),c>=10&&(n+=a,a="",c=0),a+=String.fromCharCode(s),++c;return n+=a,n};wt.hexToBytes=function(e){var t="",r=0;for(e.length&!0&&(r=1,t+=String.fromCharCode(parseInt(e[0],16)));r<e.length;r+=2)t+=String.fromCharCode(parseInt(e.substr(r,2),16));return t};wt.bytesToHex=function(e){return wt.createBuffer(e).toHex()};wt.int32ToBytes=function(e){return String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(e&255)};var R3="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",P3=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],X1e="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";wt.encode64=function(e,t){for(var r="",n="",s,a,l,c=0;c<e.length;)s=e.charCodeAt(c++),a=e.charCodeAt(c++),l=e.charCodeAt(c++),r+=R3.charAt(s>>2),r+=R3.charAt((s&3)<<4|a>>4),isNaN(a)?r+="==":(r+=R3.charAt((a&15)<<2|l>>6),r+=isNaN(l)?"=":R3.charAt(l&63)),t&&r.length>t&&(n+=r.substr(0,t)+`\r
`,r=r.substr(t));return n+=r,n};wt.decode64=function(e){e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var t="",r,n,s,a,l=0;l<e.length;)r=P3[e.charCodeAt(l++)-43],n=P3[e.charCodeAt(l++)-43],s=P3[e.charCodeAt(l++)-43],a=P3[e.charCodeAt(l++)-43],t+=String.fromCharCode(r<<2|n>>4),s!==64&&(t+=String.fromCharCode((n&15)<<4|s>>2),a!==64&&(t+=String.fromCharCode((s&3)<<6|a)));return t};wt.encodeUtf8=function(e){return unescape(encodeURIComponent(e))};wt.decodeUtf8=function(e){return decodeURIComponent(escape(e))};wt.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:Y1e.encode,decode:Y1e.decode}};wt.binary.raw.encode=function(e){return String.fromCharCode.apply(null,e)};wt.binary.raw.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(e.length)),r=r||0;for(var s=r,a=0;a<e.length;++a)n[s++]=e.charCodeAt(a);return t?s-r:n};wt.binary.hex.encode=wt.bytesToHex;wt.binary.hex.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(Math.ceil(e.length/2))),r=r||0;var s=0,a=r;for(e.length&1&&(s=1,n[a++]=parseInt(e[0],16));s<e.length;s+=2)n[a++]=parseInt(e.substr(s,2),16);return t?a-r:n};wt.binary.base64.encode=function(e,t){for(var r="",n="",s,a,l,c=0;c<e.byteLength;)s=e[c++],a=e[c++],l=e[c++],r+=R3.charAt(s>>2),r+=R3.charAt((s&3)<<4|a>>4),isNaN(a)?r+="==":(r+=R3.charAt((a&15)<<2|l>>6),r+=isNaN(l)?"=":R3.charAt(l&63)),t&&r.length>t&&(n+=r.substr(0,t)+`\r
`,r=r.substr(t));return n+=r,n};wt.binary.base64.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(Math.ceil(e.length/4)*3)),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,""),r=r||0;for(var s,a,l,c,u=0,f=r;u<e.length;)s=P3[e.charCodeAt(u++)-43],a=P3[e.charCodeAt(u++)-43],l=P3[e.charCodeAt(u++)-43],c=P3[e.charCodeAt(u++)-43],n[f++]=s<<2|a>>4,l!==64&&(n[f++]=(a&15)<<4|l>>2,c!==64&&(n[f++]=(l&3)<<6|c));return t?f-r:n.subarray(0,f)};wt.binary.base58.encode=function(e,t){return wt.binary.baseN.encode(e,X1e,t)};wt.binary.base58.decode=function(e,t){return wt.binary.baseN.decode(e,X1e,t)};wt.text={utf8:{},utf16:{}};wt.text.utf8.encode=function(e,t,r){e=wt.encodeUtf8(e);var n=t;n||(n=new Uint8Array(e.length)),r=r||0;for(var s=r,a=0;a<e.length;++a)n[s++]=e.charCodeAt(a);return t?s-r:n};wt.text.utf8.decode=function(e){return wt.decodeUtf8(String.fromCharCode.apply(null,e))};wt.text.utf16.encode=function(e,t,r){var n=t;n||(n=new Uint8Array(e.length*2));var s=new Uint16Array(n.buffer);r=r||0;for(var a=r,l=r,c=0;c<e.length;++c)s[l++]=e.charCodeAt(c),a+=2;return t?a-r:n};wt.text.utf16.decode=function(e){return String.fromCharCode.apply(null,new Uint16Array(e.buffer))};wt.deflate=function(e,t,r){if(t=wt.decode64(e.deflate(wt.encode64(t)).rval),r){var n=2,s=t.charCodeAt(1);s&32&&(n=6),t=t.substring(n,t.length-4)}return t};wt.inflate=function(e,t,r){var n=e.inflate(wt.encode64(t)).rval;return n===null?null:wt.decode64(n)};var gG=o(function(e,t,r){if(!e)throw new Error("WebStorage not available.");var n;if(r===null?n=e.removeItem(t):(r=wt.encode64(JSON.stringify(r)),n=e.setItem(t,r)),typeof n<"u"&&n.rval!==!0){var s=new Error(n.error.message);throw s.id=n.error.id,s.name=n.error.name,s}},"_setStorageObject"),vG=o(function(e,t){if(!e)throw new Error("WebStorage not available.");var r=e.getItem(t);if(e.init)if(r.rval===null){if(r.error){var n=new Error(r.error.message);throw n.id=r.error.id,n.name=r.error.name,n}r=null}else r=r.rval;return r!==null&&(r=JSON.parse(wt.decode64(r))),r},"_getStorageObject"),oFe=o(function(e,t,r,n){var s=vG(e,t);s===null&&(s={}),s[r]=n,gG(e,t,s)},"_setItem"),lFe=o(function(e,t,r){var n=vG(e,t);return n!==null&&(n=r in n?n[r]:null),n},"_getItem"),cFe=o(function(e,t,r){var n=vG(e,t);if(n!==null&&r in n){delete n[r];var s=!0;for(var a in n){s=!1;break}s&&(n=null),gG(e,t,n)}},"_removeItem"),uFe=o(function(e,t){gG(e,t,null)},"_clearItems"),yP=o(function(e,t,r){var n=null;typeof r>"u"&&(r=["web","flash"]);var s,a=!1,l=null;for(var c in r){s=r[c];try{if(s==="flash"||s==="both"){if(t[0]===null)throw new Error("Flash local storage not available.");n=e.apply(this,t),a=s==="flash"}(s==="web"||s==="both")&&(t[0]=localStorage,n=e.apply(this,t),a=!0)}catch(u){l=u}if(a)break}if(!a)throw l;return n},"_callStorageFunction");wt.setItem=function(e,t,r,n,s){yP(oFe,arguments,s)};wt.getItem=function(e,t,r,n){return yP(lFe,arguments,n)};wt.removeItem=function(e,t,r,n){yP(cFe,arguments,n)};wt.clearItems=function(e,t,r){yP(uFe,arguments,r)};wt.isEmpty=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0};wt.format=function(e){for(var t=/%./g,r,n,s=0,a=[],l=0;r=t.exec(e);){n=e.substring(l,t.lastIndex-2),n.length>0&&a.push(n),l=t.lastIndex;var c=r[0][1];switch(c){case"s":case"o":s<arguments.length?a.push(arguments[s+++1]):a.push("<?>");break;case"%":a.push("%");break;default:a.push("<%"+c+"?>")}}return a.push(e.substring(l)),a.join("")};wt.formatNumber=function(e,t,r,n){var s=e,a=isNaN(t=Math.abs(t))?2:t,l=r===void 0?",":r,c=n===void 0?".":n,u=s<0?"-":"",f=parseInt(s=Math.abs(+s||0).toFixed(a),10)+"",d=f.length>3?f.length%3:0;return u+(d?f.substr(0,d)+c:"")+f.substr(d).replace(/(\d{3})(?=\d)/g,"$1"+c)+(a?l+Math.abs(s-f).toFixed(a).slice(2):"")};wt.formatSize=function(e){return e>=1073741824?e=wt.formatNumber(e/1073741824,2,".","")+" GiB":e>=1048576?e=wt.formatNumber(e/1048576,2,".","")+" MiB":e>=1024?e=wt.formatNumber(e/1024,0)+" KiB":e=wt.formatNumber(e,0)+" bytes",e};wt.bytesFromIP=function(e){return e.indexOf(".")!==-1?wt.bytesFromIPv4(e):e.indexOf(":")!==-1?wt.bytesFromIPv6(e):null};wt.bytesFromIPv4=function(e){if(e=e.split("."),e.length!==4)return null;for(var t=wt.createBuffer(),r=0;r<e.length;++r){var n=parseInt(e[r],10);if(isNaN(n))return null;t.putByte(n)}return t.getBytes()};wt.bytesFromIPv6=function(e){var t=0;e=e.split(":").filter(function(l){return l.length===0&&++t,!0});for(var r=(8-e.length+t)*2,n=wt.createBuffer(),s=0;s<8;++s){if(!e[s]||e[s].length===0){n.fillWithByte(0,r),r=0;continue}var a=wt.hexToBytes(e[s]);a.length<2&&n.putByte(0),n.putBytes(a)}return n.getBytes()};wt.bytesToIP=function(e){return e.length===4?wt.bytesToIPv4(e):e.length===16?wt.bytesToIPv6(e):null};wt.bytesToIPv4=function(e){if(e.length!==4)return null;for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t.join(".")};wt.bytesToIPv6=function(e){if(e.length!==16)return null;for(var t=[],r=[],n=0,s=0;s<e.length;s+=2){for(var a=wt.bytesToHex(e[s]+e[s+1]);a[0]==="0"&&a!=="0";)a=a.substr(1);if(a==="0"){var l=r[r.length-1],c=t.length;!l||c!==l.end+1?r.push({start:c,end:c}):(l.end=c,l.end-l.start>r[n].end-r[n].start&&(n=r.length-1))}t.push(a)}if(r.length>0){var u=r[n];u.end-u.start>0&&(t.splice(u.start,u.end-u.start+1,""),u.start===0&&t.unshift(""),u.end===7&&t.push(""))}return t.join(":")};wt.estimateCores=function(e,t){if(typeof e=="function"&&(t=e,e={}),e=e||{},"cores"in wt&&!e.update)return t(null,wt.cores);if(typeof navigator<"u"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return wt.cores=navigator.hardwareConcurrency,t(null,wt.cores);if(typeof Worker>"u")return wt.cores=1,t(null,wt.cores);if(typeof Blob>"u")return wt.cores=2,t(null,wt.cores);var r=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(l){for(var c=Date.now(),u=c+4;Date.now()<u;);self.postMessage({st:c,et:u})})}.toString(),")()"],{type:"application/javascript"}));n([],5,16);function n(l,c,u){if(c===0){var f=Math.floor(l.reduce(function(d,p){return d+p},0)/l.length);return wt.cores=Math.max(1,f),URL.revokeObjectURL(r),t(null,wt.cores)}s(u,function(d,p){l.push(a(u,p)),n(l,c-1,u)})}o(n,"sample");function s(l,c){for(var u=[],f=[],d=0;d<l;++d){var p=new Worker(r);p.addEventListener("message",function(h){if(f.push(h.data),f.length===l){for(var m=0;m<l;++m)u[m].terminate();c(null,f)}}),u.push(p)}for(var d=0;d<l;++d)u[d].postMessage(d)}o(s,"map");function a(l,c){for(var u=[],f=0;f<l;++f)for(var d=c[f],p=u[f]=[],h=0;h<l;++h)if(f!==h){var m=c[h];(d.st>m.st&&d.st<m.et||m.st>d.st&&m.st<d.et)&&p.push(h)}return u.reduce(function(v,_){return Math.max(v,_.length)},0)}o(a,"reduce")}});var _P=k((d1t,J1e)=>{var Hl=Js();P0();J1e.exports=Hl.cipher=Hl.cipher||{};Hl.cipher.algorithms=Hl.cipher.algorithms||{};Hl.cipher.createCipher=function(e,t){var r=e;if(typeof r=="string"&&(r=Hl.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+e);return new Hl.cipher.BlockCipher({algorithm:r,key:t,decrypt:!1})};Hl.cipher.createDecipher=function(e,t){var r=e;if(typeof r=="string"&&(r=Hl.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+e);return new Hl.cipher.BlockCipher({algorithm:r,key:t,decrypt:!0})};Hl.cipher.registerAlgorithm=function(e,t){e=e.toUpperCase(),Hl.cipher.algorithms[e]=t};Hl.cipher.getAlgorithm=function(e){return e=e.toUpperCase(),e in Hl.cipher.algorithms?Hl.cipher.algorithms[e]:null};var yG=Hl.cipher.BlockCipher=function(e){this.algorithm=e.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=e.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=e.decrypt,this.algorithm.initialize(e)};yG.prototype.start=function(e){e=e||{};var t={};for(var r in e)t[r]=e[r];t.decrypt=this._decrypt,this._finish=!1,this._input=Hl.util.createBuffer(),this.output=e.output||Hl.util.createBuffer(),this.mode.start(t)};yG.prototype.update=function(e){for(e&&this._input.putBuffer(e);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()};yG.prototype.finish=function(e){e&&(this.mode.name==="ECB"||this.mode.name==="CBC")&&(this.mode.pad=function(r){return e(this.blockSize,r,!1)},this.mode.unpad=function(r){return e(this.blockSize,r,!0)});var t={};return t.decrypt=this._decrypt,t.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,t)||(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,t))||this.mode.afterFinish&&!this.mode.afterFinish(this.output,t))}});var xG=k((p1t,Z1e)=>{var $l=Js();P0();$l.cipher=$l.cipher||{};var l0=Z1e.exports=$l.cipher.modes=$l.cipher.modes||{};l0.ecb=function(e){e=e||{},this.name="ECB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};l0.ecb.prototype.start=function(e){};l0.ecb.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n])};l0.ecb.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n])};l0.ecb.prototype.pad=function(e,t){var r=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(r,r),!0};l0.ecb.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var r=e.length(),n=e.at(r-1);return n>this.blockSize<<2?!1:(e.truncate(n),!0)};l0.cbc=function(e){e=e||{},this.name="CBC",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};l0.cbc.prototype.start=function(e){if(e.iv===null){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else if("iv"in e)this._iv=xP(e.iv,this.blockSize),this._prev=this._iv.slice(0);else throw new Error("Invalid IV parameter.")};l0.cbc.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=this._prev[n]^e.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._outBlock[n]);this._prev=this._outBlock};l0.cbc.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)t.putInt32(this._prev[n]^this._outBlock[n]);this._prev=this._inBlock.slice(0)};l0.cbc.prototype.pad=function(e,t){var r=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(r,r),!0};l0.cbc.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var r=e.length(),n=e.at(r-1);return n>this.blockSize<<2?!1:(e.truncate(n),!0)};l0.cfb=function(e){e=e||{},this.name="CFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=$l.util.createBuffer(),this._partialBytes=0};l0.cfb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=xP(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};l0.cfb.prototype.encrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var s=0;s<this._ints;++s)this._inBlock[s]=e.getInt32()^this._outBlock[s],t.putInt32(this._inBlock[s]);return}var a=(this.blockSize-n)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(var s=0;s<this._ints;++s)this._partialBlock[s]=e.getInt32()^this._outBlock[s],this._partialOutput.putInt32(this._partialBlock[s]);if(a>0)e.read-=this.blockSize;else for(var s=0;s<this._ints;++s)this._inBlock[s]=this._partialBlock[s];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return t.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};l0.cfb.prototype.decrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var s=0;s<this._ints;++s)this._inBlock[s]=e.getInt32(),t.putInt32(this._inBlock[s]^this._outBlock[s]);return}var a=(this.blockSize-n)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(var s=0;s<this._ints;++s)this._partialBlock[s]=e.getInt32(),this._partialOutput.putInt32(this._partialBlock[s]^this._outBlock[s]);if(a>0)e.read-=this.blockSize;else for(var s=0;s<this._ints;++s)this._inBlock[s]=this._partialBlock[s];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return t.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};l0.ofb=function(e){e=e||{},this.name="OFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=$l.util.createBuffer(),this._partialBytes=0};l0.ofb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=xP(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};l0.ofb.prototype.encrypt=function(e,t,r){var n=e.length();if(e.length()===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var s=0;s<this._ints;++s)t.putInt32(e.getInt32()^this._outBlock[s]),this._inBlock[s]=this._outBlock[s];return}var a=(this.blockSize-n)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(var s=0;s<this._ints;++s)this._partialOutput.putInt32(e.getInt32()^this._outBlock[s]);if(a>0)e.read-=this.blockSize;else for(var s=0;s<this._ints;++s)this._inBlock[s]=this._outBlock[s];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return t.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};l0.ofb.prototype.decrypt=l0.ofb.prototype.encrypt;l0.ctr=function(e){e=e||{},this.name="CTR",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=$l.util.createBuffer(),this._partialBytes=0};l0.ctr.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=xP(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};l0.ctr.prototype.encrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize)for(var s=0;s<this._ints;++s)t.putInt32(e.getInt32()^this._outBlock[s]);else{var a=(this.blockSize-n)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(var s=0;s<this._ints;++s)this._partialOutput.putInt32(e.getInt32()^this._outBlock[s]);if(a>0&&(e.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return t.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}bP(this._inBlock)};l0.ctr.prototype.decrypt=l0.ctr.prototype.encrypt;l0.gcm=function(e){e=e||{},this.name="GCM",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=$l.util.createBuffer(),this._partialBytes=0,this._R=3774873600};l0.gcm.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");var t=$l.util.createBuffer(e.iv);this._cipherLength=0;var r;if("additionalData"in e?r=$l.util.createBuffer(e.additionalData):r=$l.util.createBuffer(),"tagLength"in e?this._tagLength=e.tagLength:this._tagLength=128,this._tag=null,e.decrypt&&(this._tag=$l.util.createBuffer(e.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var n=t.length();if(n===12)this._j0=[t.getInt32(),t.getInt32(),t.getInt32(),1];else{for(this._j0=[0,0,0,0];t.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[t.getInt32(),t.getInt32(),t.getInt32(),t.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(_G(n*8)))}this._inBlock=this._j0.slice(0),bP(this._inBlock),this._partialBytes=0,r=$l.util.createBuffer(r),this._aDataLength=_G(r.length()*8);var s=r.length()%this.blockSize;for(s&&r.fillWithByte(0,this.blockSize-s),this._s=[0,0,0,0];r.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[r.getInt32(),r.getInt32(),r.getInt32(),r.getInt32()])};l0.gcm.prototype.encrypt=function(e,t,r){var n=e.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var s=0;s<this._ints;++s)t.putInt32(this._outBlock[s]^=e.getInt32());this._cipherLength+=this.blockSize}else{var a=(this.blockSize-n)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(var s=0;s<this._ints;++s)this._partialOutput.putInt32(e.getInt32()^this._outBlock[s]);if(a<=0||r){if(r){var l=n%this.blockSize;this._cipherLength+=l,this._partialOutput.truncate(this.blockSize-l)}else this._cipherLength+=this.blockSize;for(var s=0;s<this._ints;++s)this._outBlock[s]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return e.read-=this.blockSize,t.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),bP(this._inBlock)};l0.gcm.prototype.decrypt=function(e,t,r){var n=e.length();if(n<this.blockSize&&!(r&&n>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),bP(this._inBlock),this._hashBlock[0]=e.getInt32(),this._hashBlock[1]=e.getInt32(),this._hashBlock[2]=e.getInt32(),this._hashBlock[3]=e.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var s=0;s<this._ints;++s)t.putInt32(this._outBlock[s]^this._hashBlock[s]);n<this.blockSize?this._cipherLength+=n%this.blockSize:this._cipherLength+=this.blockSize};l0.gcm.prototype.afterFinish=function(e,t){var r=!0;t.decrypt&&t.overflow&&e.truncate(this.blockSize-t.overflow),this.tag=$l.util.createBuffer();var n=this._aDataLength.concat(_G(this._cipherLength*8));this._s=this.ghash(this._hashSubkey,this._s,n);var s=[];this.cipher.encrypt(this._j0,s);for(var a=0;a<this._ints;++a)this.tag.putInt32(this._s[a]^s[a]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),t.decrypt&&this.tag.bytes()!==this._tag&&(r=!1),r};l0.gcm.prototype.multiply=function(e,t){for(var r=[0,0,0,0],n=t.slice(0),s=0;s<128;++s){var a=e[s/32|0]&1<<31-s%32;a&&(r[0]^=n[0],r[1]^=n[1],r[2]^=n[2],r[3]^=n[3]),this.pow(n,n)}return r};l0.gcm.prototype.pow=function(e,t){for(var r=e[3]&1,n=3;n>0;--n)t[n]=e[n]>>>1|(e[n-1]&1)<<31;t[0]=e[0]>>>1,r&&(t[0]^=this._R)};l0.gcm.prototype.tableMultiply=function(e){for(var t=[0,0,0,0],r=0;r<32;++r){var n=r/8|0,s=e[n]>>>(7-r%8)*4&15,a=this._m[r][s];t[0]^=a[0],t[1]^=a[1],t[2]^=a[2],t[3]^=a[3]}return t};l0.gcm.prototype.ghash=function(e,t,r){return t[0]^=r[0],t[1]^=r[1],t[2]^=r[2],t[3]^=r[3],this.tableMultiply(t)};l0.gcm.prototype.generateHashTable=function(e,t){for(var r=8/t,n=4*r,s=16*r,a=new Array(s),l=0;l<s;++l){var c=[0,0,0,0],u=l/n|0,f=(n-1-l%n)*t;c[u]=1<<t-1<<f,a[l]=this.generateSubHashTable(this.multiply(c,e),t)}return a};l0.gcm.prototype.generateSubHashTable=function(e,t){var r=1<<t,n=r>>>1,s=new Array(r);s[n]=e.slice(0);for(var a=n>>>1;a>0;)this.pow(s[2*a],s[a]=[]),a>>=1;for(a=2;a<n;){for(var l=1;l<a;++l){var c=s[a],u=s[l];s[a+l]=[c[0]^u[0],c[1]^u[1],c[2]^u[2],c[3]^u[3]]}a*=2}for(s[0]=[0,0,0,0],a=n+1;a<r;++a){var f=s[a^n];s[a]=[e[0]^f[0],e[1]^f[1],e[2]^f[2],e[3]^f[3]]}return s};function xP(e,t){if(typeof e=="string"&&(e=$l.util.createBuffer(e)),$l.util.isArray(e)&&e.length>4){var r=e;e=$l.util.createBuffer();for(var n=0;n<r.length;++n)e.putByte(r[n])}if(e.length()<t)throw new Error("Invalid IV length; got "+e.length()+" bytes and expected "+t+" bytes.");if(!$l.util.isArray(e)){for(var s=[],a=t/4,n=0;n<a;++n)s.push(e.getInt32());e=s}return e}o(xP,"transformIV");function bP(e){e[e.length-1]=e[e.length-1]+1&4294967295}o(bP,"inc32");function _G(e){return[e/4294967296|0,e&4294967295]}o(_G,"from64To32")});var N3=k((m1t,npe)=>{var ia=Js();_P();xG();P0();npe.exports=ia.aes=ia.aes||{};ia.aes.startEncrypting=function(e,t,r,n){var s=EP({key:e,output:r,decrypt:!1,mode:n});return s.start(t),s};ia.aes.createEncryptionCipher=function(e,t){return EP({key:e,output:null,decrypt:!1,mode:t})};ia.aes.startDecrypting=function(e,t,r,n){var s=EP({key:e,output:r,decrypt:!0,mode:n});return s.start(t),s};ia.aes.createDecryptionCipher=function(e,t){return EP({key:e,output:null,decrypt:!0,mode:t})};ia.aes.Algorithm=function(e,t){TG||tpe();var r=this;r.name=e,r.mode=new t({blockSize:16,cipher:{encrypt:function(n,s){return EG(r._w,n,s,!1)},decrypt:function(n,s){return EG(r._w,n,s,!0)}}}),r._init=!1};ia.aes.Algorithm.prototype.initialize=function(e){if(!this._init){var t=e.key,r;if(typeof t=="string"&&(t.length===16||t.length===24||t.length===32))t=ia.util.createBuffer(t);else if(ia.util.isArray(t)&&(t.length===16||t.length===24||t.length===32)){r=t,t=ia.util.createBuffer();for(var n=0;n<r.length;++n)t.putByte(r[n])}if(!ia.util.isArray(t)){r=t,t=[];var s=r.length();if(s===16||s===24||s===32){s=s>>>2;for(var n=0;n<s;++n)t.push(r.getInt32())}}if(!ia.util.isArray(t)||!(t.length===4||t.length===6||t.length===8))throw new Error("Invalid key parameter.");var a=this.mode.name,l=["CFB","OFB","CTR","GCM"].indexOf(a)!==-1;this._w=rpe(t,e.decrypt&&!l),this._init=!0}};ia.aes._expandKey=function(e,t){return TG||tpe(),rpe(e,t)};ia.aes._updateBlock=EG;sy("AES-ECB",ia.cipher.modes.ecb);sy("AES-CBC",ia.cipher.modes.cbc);sy("AES-CFB",ia.cipher.modes.cfb);sy("AES-OFB",ia.cipher.modes.ofb);sy("AES-CTR",ia.cipher.modes.ctr);sy("AES-GCM",ia.cipher.modes.gcm);function sy(e,t){var r=o(function(){return new ia.aes.Algorithm(e,t)},"factory");ia.cipher.registerAlgorithm(e,r)}o(sy,"registerAlgorithm");var TG=!1,iy=4,iu,bG,epe,Fg,Fd;function tpe(){TG=!0,epe=[0,1,2,4,8,16,32,64,128,27,54];for(var e=new Array(256),t=0;t<128;++t)e[t]=t<<1,e[t+128]=t+128<<1^283;iu=new Array(256),bG=new Array(256),Fg=new Array(4),Fd=new Array(4);for(var t=0;t<4;++t)Fg[t]=new Array(256),Fd[t]=new Array(256);for(var r=0,n=0,s,a,l,c,u,f,d,t=0;t<256;++t){c=n^n<<1^n<<2^n<<3^n<<4,c=c>>8^c&255^99,iu[r]=c,bG[c]=r,u=e[c],s=e[r],a=e[s],l=e[a],f=u<<24^c<<16^c<<8^(c^u),d=(s^a^l)<<24^(r^l)<<16^(r^a^l)<<8^(r^s^l);for(var p=0;p<4;++p)Fg[p][r]=f,Fd[p][c]=d,f=f<<24|f>>>8,d=d<<24|d>>>8;r===0?r=n=1:(r=s^e[e[e[s^l]]],n^=e[e[n]])}}o(tpe,"initialize");function rpe(e,t){for(var r=e.slice(0),n,s=1,a=r.length,l=a+6+1,c=iy*l,u=a;u<c;++u)n=r[u-1],u%a===0?(n=iu[n>>>16&255]<<24^iu[n>>>8&255]<<16^iu[n&255]<<8^iu[n>>>24]^epe[s]<<24,s++):a>6&&u%a===4&&(n=iu[n>>>24]<<24^iu[n>>>16&255]<<16^iu[n>>>8&255]<<8^iu[n&255]),r[u]=r[u-a]^n;if(t){var f,d=Fd[0],p=Fd[1],h=Fd[2],m=Fd[3],v=r.slice(0);c=r.length;for(var u=0,_=c-iy;u<c;u+=iy,_-=iy)if(u===0||u===c-iy)v[u]=r[_],v[u+1]=r[_+3],v[u+2]=r[_+2],v[u+3]=r[_+1];else for(var b=0;b<iy;++b)f=r[_+b],v[u+(3&-b)]=d[iu[f>>>24]]^p[iu[f>>>16&255]]^h[iu[f>>>8&255]]^m[iu[f&255]];r=v}return r}o(rpe,"_expandKey");function EG(e,t,r,n){var s=e.length/4-1,a,l,c,u,f;n?(a=Fd[0],l=Fd[1],c=Fd[2],u=Fd[3],f=bG):(a=Fg[0],l=Fg[1],c=Fg[2],u=Fg[3],f=iu);var d,p,h,m,v,_,b;d=t[0]^e[0],p=t[n?3:1]^e[1],h=t[2]^e[2],m=t[n?1:3]^e[3];for(var S=3,A=1;A<s;++A)v=a[d>>>24]^l[p>>>16&255]^c[h>>>8&255]^u[m&255]^e[++S],_=a[p>>>24]^l[h>>>16&255]^c[m>>>8&255]^u[d&255]^e[++S],b=a[h>>>24]^l[m>>>16&255]^c[d>>>8&255]^u[p&255]^e[++S],m=a[m>>>24]^l[d>>>16&255]^c[p>>>8&255]^u[h&255]^e[++S],d=v,p=_,h=b;r[0]=f[d>>>24]<<24^f[p>>>16&255]<<16^f[h>>>8&255]<<8^f[m&255]^e[++S],r[n?3:1]=f[p>>>24]<<24^f[h>>>16&255]<<16^f[m>>>8&255]<<8^f[d&255]^e[++S],r[2]=f[h>>>24]<<24^f[m>>>16&255]<<16^f[d>>>8&255]<<8^f[p&255]^e[++S],r[n?1:3]=f[m>>>24]<<24^f[d>>>16&255]<<16^f[p>>>8&255]<<8^f[h&255]^e[++S]}o(EG,"_updateBlock");function EP(e){e=e||{};var t=(e.mode||"CBC").toUpperCase(),r="AES-"+t,n;e.decrypt?n=ia.cipher.createDecipher(r,e.key):n=ia.cipher.createCipher(r,e.key);var s=n.start;return n.start=function(a,l){var c=null;l instanceof ia.util.ByteBuffer&&(c=l,l={}),l=l||{},l.output=c,l.iv=a,s.call(n,l)},n}o(EP,"_createCipher")});var O3=k((v1t,ipe)=>{var Vx=Js();Vx.pki=Vx.pki||{};var CG=ipe.exports=Vx.pki.oids=Vx.oids=Vx.oids||{};function yn(e,t){CG[e]=t,CG[t]=e}o(yn,"_IN");function j0(e,t){CG[e]=t}o(j0,"_I_");yn("1.2.840.113549.1.1.1","rsaEncryption");yn("1.2.840.113549.1.1.4","md5WithRSAEncryption");yn("1.2.840.113549.1.1.5","sha1WithRSAEncryption");yn("1.2.840.113549.1.1.7","RSAES-OAEP");yn("1.2.840.113549.1.1.8","mgf1");yn("1.2.840.113549.1.1.9","pSpecified");yn("1.2.840.113549.1.1.10","RSASSA-PSS");yn("1.2.840.113549.1.1.11","sha256WithRSAEncryption");yn("1.2.840.113549.1.1.12","sha384WithRSAEncryption");yn("1.2.840.113549.1.1.13","sha512WithRSAEncryption");yn("1.3.101.112","EdDSA25519");yn("1.2.840.10040.4.3","dsa-with-sha1");yn("1.3.14.3.2.7","desCBC");yn("1.3.14.3.2.26","sha1");yn("1.3.14.3.2.29","sha1WithRSASignature");yn("2.16.840.1.101.3.4.2.1","sha256");yn("2.16.840.1.101.3.4.2.2","sha384");yn("2.16.840.1.101.3.4.2.3","sha512");yn("2.16.840.1.101.3.4.2.4","sha224");yn("2.16.840.1.101.3.4.2.5","sha512-224");yn("2.16.840.1.101.3.4.2.6","sha512-256");yn("1.2.840.113549.2.2","md2");yn("1.2.840.113549.2.5","md5");yn("1.2.840.113549.1.7.1","data");yn("1.2.840.113549.1.7.2","signedData");yn("1.2.840.113549.1.7.3","envelopedData");yn("1.2.840.113549.1.7.4","signedAndEnvelopedData");yn("1.2.840.113549.1.7.5","digestedData");yn("1.2.840.113549.1.7.6","encryptedData");yn("1.2.840.113549.1.9.1","emailAddress");yn("1.2.840.113549.1.9.2","unstructuredName");yn("1.2.840.113549.1.9.3","contentType");yn("1.2.840.113549.1.9.4","messageDigest");yn("1.2.840.113549.1.9.5","signingTime");yn("1.2.840.113549.1.9.6","counterSignature");yn("1.2.840.113549.1.9.7","challengePassword");yn("1.2.840.113549.1.9.8","unstructuredAddress");yn("1.2.840.113549.1.9.14","extensionRequest");yn("1.2.840.113549.1.9.20","friendlyName");yn("1.2.840.113549.1.9.21","localKeyId");yn("1.2.840.113549.1.9.22.1","x509Certificate");yn("1.2.840.113549.1.12.10.1.1","keyBag");yn("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag");yn("1.2.840.113549.1.12.10.1.3","certBag");yn("1.2.840.113549.1.12.10.1.4","crlBag");yn("1.2.840.113549.1.12.10.1.5","secretBag");yn("1.2.840.113549.1.12.10.1.6","safeContentsBag");yn("1.2.840.113549.1.5.13","pkcs5PBES2");yn("1.2.840.113549.1.5.12","pkcs5PBKDF2");yn("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4");yn("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4");yn("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC");yn("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC");yn("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC");yn("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC");yn("1.2.840.113549.2.7","hmacWithSHA1");yn("1.2.840.113549.2.8","hmacWithSHA224");yn("1.2.840.113549.2.9","hmacWithSHA256");yn("1.2.840.113549.2.10","hmacWithSHA384");yn("1.2.840.113549.2.11","hmacWithSHA512");yn("1.2.840.113549.3.7","des-EDE3-CBC");yn("2.16.840.1.101.3.4.1.2","aes128-CBC");yn("2.16.840.1.101.3.4.1.22","aes192-CBC");yn("2.16.840.1.101.3.4.1.42","aes256-CBC");yn("2.5.4.3","commonName");yn("2.5.4.4","surname");yn("2.5.4.5","serialNumber");yn("2.5.4.6","countryName");yn("2.5.4.7","localityName");yn("2.5.4.8","stateOrProvinceName");yn("2.5.4.9","streetAddress");yn("2.5.4.10","organizationName");yn("2.5.4.11","organizationalUnitName");yn("2.5.4.12","title");yn("2.5.4.13","description");yn("2.5.4.15","businessCategory");yn("2.5.4.17","postalCode");yn("2.5.4.42","givenName");yn("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName");yn("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName");yn("2.16.840.1.113730.1.1","nsCertType");yn("2.16.840.1.113730.1.13","nsComment");j0("2.5.29.1","authorityKeyIdentifier");j0("2.5.29.2","keyAttributes");j0("2.5.29.3","certificatePolicies");j0("2.5.29.4","keyUsageRestriction");j0("2.5.29.5","policyMapping");j0("2.5.29.6","subtreesConstraint");j0("2.5.29.7","subjectAltName");j0("2.5.29.8","issuerAltName");j0("2.5.29.9","subjectDirectoryAttributes");j0("2.5.29.10","basicConstraints");j0("2.5.29.11","nameConstraints");j0("2.5.29.12","policyConstraints");j0("2.5.29.13","basicConstraints");yn("2.5.29.14","subjectKeyIdentifier");yn("2.5.29.15","keyUsage");j0("2.5.29.16","privateKeyUsagePeriod");yn("2.5.29.17","subjectAltName");yn("2.5.29.18","issuerAltName");yn("2.5.29.19","basicConstraints");j0("2.5.29.20","cRLNumber");j0("2.5.29.21","cRLReason");j0("2.5.29.22","expirationDate");j0("2.5.29.23","instructionCode");j0("2.5.29.24","invalidityDate");j0("2.5.29.25","cRLDistributionPoints");j0("2.5.29.26","issuingDistributionPoint");j0("2.5.29.27","deltaCRLIndicator");j0("2.5.29.28","issuingDistributionPoint");j0("2.5.29.29","certificateIssuer");j0("2.5.29.30","nameConstraints");yn("2.5.29.31","cRLDistributionPoints");yn("2.5.29.32","certificatePolicies");j0("2.5.29.33","policyMappings");j0("2.5.29.34","policyConstraints");yn("2.5.29.35","authorityKeyIdentifier");j0("2.5.29.36","policyConstraints");yn("2.5.29.37","extKeyUsage");j0("2.5.29.46","freshestCRL");j0("2.5.29.54","inhibitAnyPolicy");yn("1.3.6.1.4.1.11129.2.4.2","timestampList");yn("1.3.6.1.5.5.7.1.1","authorityInfoAccess");yn("1.3.6.1.5.5.7.3.1","serverAuth");yn("1.3.6.1.5.5.7.3.2","clientAuth");yn("1.3.6.1.5.5.7.3.3","codeSigning");yn("1.3.6.1.5.5.7.3.4","emailProtection");yn("1.3.6.1.5.5.7.3.8","timeStamping")});var Ud=k((_1t,ape)=>{var da=Js();P0();O3();var Oi=ape.exports=da.asn1=da.asn1||{};Oi.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192};Oi.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30};Oi.create=function(e,t,r,n,s){if(da.util.isArray(n)){for(var a=[],l=0;l<n.length;++l)n[l]!==void 0&&a.push(n[l]);n=a}var c={tagClass:e,type:t,constructed:r,composed:r||da.util.isArray(n),value:n};return s&&"bitStringContents"in s&&(c.bitStringContents=s.bitStringContents,c.original=Oi.copy(c)),c};Oi.copy=function(e,t){var r;if(da.util.isArray(e)){r=[];for(var n=0;n<e.length;++n)r.push(Oi.copy(e[n],t));return r}return typeof e=="string"?e:(r={tagClass:e.tagClass,type:e.type,constructed:e.constructed,composed:e.composed,value:Oi.copy(e.value,t)},t&&!t.excludeBitStringContents&&(r.bitStringContents=e.bitStringContents),r)};Oi.equals=function(e,t,r){if(da.util.isArray(e)){if(!da.util.isArray(t)||e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!Oi.equals(e[n],t[n]))return!1;return!0}if(typeof e!=typeof t)return!1;if(typeof e=="string")return e===t;var s=e.tagClass===t.tagClass&&e.type===t.type&&e.constructed===t.constructed&&e.composed===t.composed&&Oi.equals(e.value,t.value);return r&&r.includeBitStringContents&&(s=s&&e.bitStringContents===t.bitStringContents),s};Oi.getBerValueLength=function(e){var t=e.getByte();if(t!==128){var r,n=t&128;return n?r=e.getInt((t&127)<<3):r=t,r}};function Gx(e,t,r){if(r>t){var n=new Error("Too few bytes to parse DER.");throw n.available=e.length(),n.remaining=t,n.requested=r,n}}o(Gx,"_checkBufferLength");var fFe=o(function(e,t){var r=e.getByte();if(t--,r!==128){var n,s=r&128;if(!s)n=r;else{var a=r&127;Gx(e,t,a),n=e.getInt(a<<3)}if(n<0)throw new Error("Negative length: "+n);return n}},"_getValueLength");Oi.fromDer=function(e,t){t===void 0&&(t={strict:!0,parseAllBytes:!0,decodeBitStrings:!0}),typeof t=="boolean"&&(t={strict:t,parseAllBytes:!0,decodeBitStrings:!0}),"strict"in t||(t.strict=!0),"parseAllBytes"in t||(t.parseAllBytes=!0),"decodeBitStrings"in t||(t.decodeBitStrings=!0),typeof e=="string"&&(e=da.util.createBuffer(e));var r=e.length(),n=TP(e,e.length(),0,t);if(t.parseAllBytes&&e.length()!==0){var s=new Error("Unparsed DER bytes remain after ASN.1 parsing.");throw s.byteCount=r,s.remaining=e.length(),s}return n};function TP(e,t,r,n){var s;Gx(e,t,2);var a=e.getByte();t--;var l=a&192,c=a&31;s=e.length();var u=fFe(e,t);if(t-=s-e.length(),u!==void 0&&u>t){if(n.strict){var f=new Error("Too few bytes to read ASN.1 value.");throw f.available=e.length(),f.remaining=t,f.requested=u,f}u=t}var d,p,h=(a&32)===32;if(h)if(d=[],u===void 0)for(;;){if(Gx(e,t,2),e.bytes(2)==="\0\0"){e.getBytes(2),t-=2;break}s=e.length(),d.push(TP(e,t,r+1,n)),t-=s-e.length()}else for(;u>0;)s=e.length(),d.push(TP(e,u,r+1,n)),t-=s-e.length(),u-=s-e.length();if(d===void 0&&l===Oi.Class.UNIVERSAL&&c===Oi.Type.BITSTRING&&(p=e.bytes(u)),d===void 0&&n.decodeBitStrings&&l===Oi.Class.UNIVERSAL&&c===Oi.Type.BITSTRING&&u>1){var m=e.read,v=t,_=0;if(c===Oi.Type.BITSTRING&&(Gx(e,t,1),_=e.getByte(),t--),_===0)try{s=e.length();var b={strict:!0,decodeBitStrings:!0},S=TP(e,t,r+1,b),A=s-e.length();t-=A,c==Oi.Type.BITSTRING&&A++;var O=S.tagClass;A===u&&(O===Oi.Class.UNIVERSAL||O===Oi.Class.CONTEXT_SPECIFIC)&&(d=[S])}catch{}d===void 0&&(e.read=m,t=v)}if(d===void 0){if(u===void 0){if(n.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");u=t}if(c===Oi.Type.BMPSTRING)for(d="";u>0;u-=2)Gx(e,t,2),d+=String.fromCharCode(e.getInt16()),t-=2;else d=e.getBytes(u),t-=u}var L=p===void 0?null:{bitStringContents:p};return Oi.create(l,c,h,d,L)}o(TP,"_fromDer");Oi.toDer=function(e){var t=da.util.createBuffer(),r=e.tagClass|e.type,n=da.util.createBuffer(),s=!1;if("bitStringContents"in e&&(s=!0,e.original&&(s=Oi.equals(e,e.original))),s)n.putBytes(e.bitStringContents);else if(e.composed){e.constructed?r|=32:n.putByte(0);for(var a=0;a<e.value.length;++a)e.value[a]!==void 0&&n.putBuffer(Oi.toDer(e.value[a]))}else if(e.type===Oi.Type.BMPSTRING)for(var a=0;a<e.value.length;++a)n.putInt16(e.value.charCodeAt(a));else e.type===Oi.Type.INTEGER&&e.value.length>1&&(e.value.charCodeAt(0)===0&&!(e.value.charCodeAt(1)&128)||e.value.charCodeAt(0)===255&&(e.value.charCodeAt(1)&128)===128)?n.putBytes(e.value.substr(1)):n.putBytes(e.value);if(t.putByte(r),n.length()<=127)t.putByte(n.length()&127);else{var l=n.length(),c="";do c+=String.fromCharCode(l&255),l=l>>>8;while(l>0);t.putByte(c.length|128);for(var a=c.length-1;a>=0;--a)t.putByte(c.charCodeAt(a))}return t.putBuffer(n),t};Oi.oidToDer=function(e){var t=e.split("."),r=da.util.createBuffer();r.putByte(40*parseInt(t[0],10)+parseInt(t[1],10));for(var n,s,a,l,c=2;c<t.length;++c){n=!0,s=[],a=parseInt(t[c],10);do l=a&127,a=a>>>7,n||(l|=128),s.push(l),n=!1;while(a>0);for(var u=s.length-1;u>=0;--u)r.putByte(s[u])}return r};Oi.derToOid=function(e){var t;typeof e=="string"&&(e=da.util.createBuffer(e));var r=e.getByte();t=Math.floor(r/40)+"."+r%40;for(var n=0;e.length()>0;)r=e.getByte(),n=n<<7,r&128?n+=r&127:(t+="."+(n+r),n=0);return t};Oi.utcTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,2),10);r=r>=50?1900+r:2e3+r;var n=parseInt(e.substr(2,2),10)-1,s=parseInt(e.substr(4,2),10),a=parseInt(e.substr(6,2),10),l=parseInt(e.substr(8,2),10),c=0;if(e.length>11){var u=e.charAt(10),f=10;u!=="+"&&u!=="-"&&(c=parseInt(e.substr(10,2),10),f+=2)}if(t.setUTCFullYear(r,n,s),t.setUTCHours(a,l,c,0),f&&(u=e.charAt(f),u==="+"||u==="-")){var d=parseInt(e.substr(f+1,2),10),p=parseInt(e.substr(f+4,2),10),h=d*60+p;h*=6e4,u==="+"?t.setTime(+t-h):t.setTime(+t+h)}return t};Oi.generalizedTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,4),10),n=parseInt(e.substr(4,2),10)-1,s=parseInt(e.substr(6,2),10),a=parseInt(e.substr(8,2),10),l=parseInt(e.substr(10,2),10),c=parseInt(e.substr(12,2),10),u=0,f=0,d=!1;e.charAt(e.length-1)==="Z"&&(d=!0);var p=e.length-5,h=e.charAt(p);if(h==="+"||h==="-"){var m=parseInt(e.substr(p+1,2),10),v=parseInt(e.substr(p+4,2),10);f=m*60+v,f*=6e4,h==="+"&&(f*=-1),d=!0}return e.charAt(14)==="."&&(u=parseFloat(e.substr(14),10)*1e3),d?(t.setUTCFullYear(r,n,s),t.setUTCHours(a,l,c,u),t.setTime(+t+f)):(t.setFullYear(r,n,s),t.setHours(a,l,c,u)),t};Oi.dateToUtcTime=function(e){if(typeof e=="string")return e;var t="",r=[];r.push((""+e.getUTCFullYear()).substr(2)),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(t+="0"),t+=r[n];return t+="Z",t};Oi.dateToGeneralizedTime=function(e){if(typeof e=="string")return e;var t="",r=[];r.push(""+e.getUTCFullYear()),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(t+="0"),t+=r[n];return t+="Z",t};Oi.integerToDer=function(e){var t=da.util.createBuffer();if(e>=-128&&e<128)return t.putSignedInt(e,8);if(e>=-32768&&e<32768)return t.putSignedInt(e,16);if(e>=-8388608&&e<8388608)return t.putSignedInt(e,24);if(e>=-2147483648&&e<2147483648)return t.putSignedInt(e,32);var r=new Error("Integer too large; max is 32-bits.");throw r.integer=e,r};Oi.derToInteger=function(e){typeof e=="string"&&(e=da.util.createBuffer(e));var t=e.length()*8;if(t>32)throw new Error("Integer too large; max is 32-bits.");return e.getSignedInt(t)};Oi.validate=function(e,t,r,n){var s=!1;if((e.tagClass===t.tagClass||typeof t.tagClass>"u")&&(e.type===t.type||typeof t.type>"u"))if(e.constructed===t.constructed||typeof t.constructed>"u"){if(s=!0,t.value&&da.util.isArray(t.value))for(var a=0,l=0;s&&l<t.value.length;++l)s=t.value[l].optional||!1,e.value[a]&&(s=Oi.validate(e.value[a],t.value[l],r,n),s?++a:t.value[l].optional&&(s=!0)),!s&&n&&n.push("["+t.name+'] Tag class "'+t.tagClass+'", type "'+t.type+'" expected value length "'+t.value.length+'", got "'+e.value.length+'"');if(s&&r&&(t.capture&&(r[t.capture]=e.value),t.captureAsn1&&(r[t.captureAsn1]=e),t.captureBitStringContents&&"bitStringContents"in e&&(r[t.captureBitStringContents]=e.bitStringContents),t.captureBitStringValue&&"bitStringContents"in e)){var c;if(e.bitStringContents.length<2)r[t.captureBitStringValue]="";else{var u=e.bitStringContents.charCodeAt(0);if(u!==0)throw new Error("captureBitStringValue only supported for zero unused bits");r[t.captureBitStringValue]=e.bitStringContents.slice(1)}}}else n&&n.push("["+t.name+'] Expected constructed "'+t.constructed+'", got "'+e.constructed+'"');else n&&(e.tagClass!==t.tagClass&&n.push("["+t.name+'] Expected tag class "'+t.tagClass+'", got "'+e.tagClass+'"'),e.type!==t.type&&n.push("["+t.name+'] Expected type "'+t.type+'", got "'+e.type+'"'));return s};var spe=/[^\\u0000-\\u00ff]/;Oi.prettyPrint=function(e,t,r){var n="";t=t||0,r=r||2,t>0&&(n+=`
`);for(var s="",a=0;a<t*r;++a)s+=" ";switch(n+=s+"Tag: ",e.tagClass){case Oi.Class.UNIVERSAL:n+="Universal:";break;case Oi.Class.APPLICATION:n+="Application:";break;case Oi.Class.CONTEXT_SPECIFIC:n+="Context-Specific:";break;case Oi.Class.PRIVATE:n+="Private:";break}if(e.tagClass===Oi.Class.UNIVERSAL)switch(n+=e.type,e.type){case Oi.Type.NONE:n+=" (None)";break;case Oi.Type.BOOLEAN:n+=" (Boolean)";break;case Oi.Type.INTEGER:n+=" (Integer)";break;case Oi.Type.BITSTRING:n+=" (Bit string)";break;case Oi.Type.OCTETSTRING:n+=" (Octet string)";break;case Oi.Type.NULL:n+=" (Null)";break;case Oi.Type.OID:n+=" (Object Identifier)";break;case Oi.Type.ODESC:n+=" (Object Descriptor)";break;case Oi.Type.EXTERNAL:n+=" (External or Instance of)";break;case Oi.Type.REAL:n+=" (Real)";break;case Oi.Type.ENUMERATED:n+=" (Enumerated)";break;case Oi.Type.EMBEDDED:n+=" (Embedded PDV)";break;case Oi.Type.UTF8:n+=" (UTF8)";break;case Oi.Type.ROID:n+=" (Relative Object Identifier)";break;case Oi.Type.SEQUENCE:n+=" (Sequence)";break;case Oi.Type.SET:n+=" (Set)";break;case Oi.Type.PRINTABLESTRING:n+=" (Printable String)";break;case Oi.Type.IA5String:n+=" (IA5String (ASCII))";break;case Oi.Type.UTCTIME:n+=" (UTC time)";break;case Oi.Type.GENERALIZEDTIME:n+=" (Generalized time)";break;case Oi.Type.BMPSTRING:n+=" (BMP String)";break}else n+=e.type;if(n+=`
`,n+=s+"Constructed: "+e.constructed+`
`,e.composed){for(var l=0,c="",a=0;a<e.value.length;++a)e.value[a]!==void 0&&(l+=1,c+=Oi.prettyPrint(e.value[a],t+1,r),a+1<e.value.length&&(c+=","));n+=s+"Sub values: "+l+c}else{if(n+=s+"Value: ",e.type===Oi.Type.OID){var u=Oi.derToOid(e.value);n+=u,da.pki&&da.pki.oids&&u in da.pki.oids&&(n+=" ("+da.pki.oids[u]+") ")}if(e.type===Oi.Type.INTEGER)try{n+=Oi.derToInteger(e.value)}catch{n+="0x"+da.util.bytesToHex(e.value)}else if(e.type===Oi.Type.BITSTRING){if(e.value.length>1?n+="0x"+da.util.bytesToHex(e.value.slice(1)):n+="(none)",e.value.length>0){var f=e.value.charCodeAt(0);f==1?n+=" (1 unused bit shown)":f>1&&(n+=" ("+f+" unused bits shown)")}}else if(e.type===Oi.Type.OCTETSTRING)spe.test(e.value)||(n+="("+e.value+") "),n+="0x"+da.util.bytesToHex(e.value);else if(e.type===Oi.Type.UTF8)try{n+=da.util.decodeUtf8(e.value)}catch(d){if(d.message==="URI malformed")n+="0x"+da.util.bytesToHex(e.value)+" (malformed UTF8)";else throw d}else e.type===Oi.Type.PRINTABLESTRING||e.type===Oi.Type.IA5String?n+=e.value:spe.test(e.value)?n+="0x"+da.util.bytesToHex(e.value):e.value.length===0?n+="[null]":n+=e.value}return n}});var ep=k((b1t,ope)=>{var CP=Js();ope.exports=CP.md=CP.md||{};CP.md.algorithms=CP.md.algorithms||{}});var ay=k((E1t,lpe)=>{var Dh=Js();ep();P0();var dFe=lpe.exports=Dh.hmac=Dh.hmac||{};dFe.create=function(){var e=null,t=null,r=null,n=null,s={};return s.start=function(a,l){if(a!==null)if(typeof a=="string")if(a=a.toLowerCase(),a in Dh.md.algorithms)t=Dh.md.algorithms[a].create();else throw new Error('Unknown hash algorithm "'+a+'"');else t=a;if(l===null)l=e;else{if(typeof l=="string")l=Dh.util.createBuffer(l);else if(Dh.util.isArray(l)){var c=l;l=Dh.util.createBuffer();for(var u=0;u<c.length;++u)l.putByte(c[u])}var f=l.length();f>t.blockLength&&(t.start(),t.update(l.bytes()),l=t.digest()),r=Dh.util.createBuffer(),n=Dh.util.createBuffer(),f=l.length();for(var u=0;u<f;++u){var c=l.at(u);r.putByte(54^c),n.putByte(92^c)}if(f<t.blockLength)for(var c=t.blockLength-f,u=0;u<c;++u)r.putByte(54),n.putByte(92);e=l,r=r.bytes(),n=n.bytes()}t.start(),t.update(r)},s.update=function(a){t.update(a)},s.getMac=function(){var a=t.digest().bytes();return t.start(),t.update(n),t.update(a),t.digest()},s.digest=s.getMac,s}});var IP=k((T1t,dpe)=>{var tp=Js();ep();P0();var upe=dpe.exports=tp.md5=tp.md5||{};tp.md.md5=tp.md.algorithms.md5=upe;upe.create=function(){fpe||pFe();var e=null,t=tp.util.createBuffer(),r=new Array(16),n={algorithm:"md5",blockLength:64,digestLength:16,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var s=n.messageLengthSize/4,a=0;a<s;++a)n.fullMessageLength.push(0);return t=tp.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878},n},n.start(),n.update=function(s,a){a==="utf8"&&(s=tp.util.encodeUtf8(s));var l=s.length;n.messageLength+=l,l=[l/4294967296>>>0,l>>>0];for(var c=n.fullMessageLength.length-1;c>=0;--c)n.fullMessageLength[c]+=l[1],l[1]=l[0]+(n.fullMessageLength[c]/4294967296>>>0),n.fullMessageLength[c]=n.fullMessageLength[c]>>>0,l[0]=l[1]/4294967296>>>0;return t.putBytes(s),cpe(e,r,t),(t.read>2048||t.length()===0)&&t.compact(),n},n.digest=function(){var s=tp.util.createBuffer();s.putBytes(t.bytes());var a=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,l=a&n.blockLength-1;s.putBytes(SG.substr(0,n.blockLength-l));for(var c,u=0,f=n.fullMessageLength.length-1;f>=0;--f)c=n.fullMessageLength[f]*8+u,u=c/4294967296>>>0,s.putInt32Le(c>>>0);var d={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3};cpe(d,r,s);var p=tp.util.createBuffer();return p.putInt32Le(d.h0),p.putInt32Le(d.h1),p.putInt32Le(d.h2),p.putInt32Le(d.h3),p},n};var SG=null,SP=null,zx=null,oy=null,fpe=!1;function pFe(){SG="\x80",SG+=tp.util.fillString("\0",64),SP=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9],zx=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],oy=new Array(64);for(var e=0;e<64;++e)oy[e]=Math.floor(Math.abs(Math.sin(e+1))*4294967296);fpe=!0}o(pFe,"_init");function cpe(e,t,r){for(var n,s,a,l,c,u,f,d,p=r.length();p>=64;){for(s=e.h0,a=e.h1,l=e.h2,c=e.h3,d=0;d<16;++d)t[d]=r.getInt32Le(),u=c^a&(l^c),n=s+u+oy[d]+t[d],f=zx[d],s=c,c=l,l=a,a+=n<<f|n>>>32-f;for(;d<32;++d)u=l^c&(a^l),n=s+u+oy[d]+t[SP[d]],f=zx[d],s=c,c=l,l=a,a+=n<<f|n>>>32-f;for(;d<48;++d)u=a^l^c,n=s+u+oy[d]+t[SP[d]],f=zx[d],s=c,c=l,l=a,a+=n<<f|n>>>32-f;for(;d<64;++d)u=l^(a|~c),n=s+u+oy[d]+t[SP[d]],f=zx[d],s=c,c=l,l=a,a+=n<<f|n>>>32-f;e.h0=e.h0+s|0,e.h1=e.h1+a|0,e.h2=e.h2+l|0,e.h3=e.h3+c|0,p-=64}}o(cpe,"_update")});var Ug=k((S1t,hpe)=>{var wP=Js();P0();var ppe=hpe.exports=wP.pem=wP.pem||{};ppe.encode=function(e,t){t=t||{};var r="-----BEGIN "+e.type+`-----\r
`,n;if(e.procType&&(n={name:"Proc-Type",values:[String(e.procType.version),e.procType.type]},r+=AP(n)),e.contentDomain&&(n={name:"Content-Domain",values:[e.contentDomain]},r+=AP(n)),e.dekInfo&&(n={name:"DEK-Info",values:[e.dekInfo.algorithm]},e.dekInfo.parameters&&n.values.push(e.dekInfo.parameters),r+=AP(n)),e.headers)for(var s=0;s<e.headers.length;++s)r+=AP(e.headers[s]);return e.procType&&(r+=`\r
`),r+=wP.util.encode64(e.body,t.maxline||64)+`\r
`,r+="-----END "+e.type+`-----\r
`,r};ppe.decode=function(e){for(var t=[],r=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,n=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,s=/\r?\n/,a;a=r.exec(e),!!a;){var l=a[1];l==="NEW CERTIFICATE REQUEST"&&(l="CERTIFICATE REQUEST");var c={type:l,procType:null,contentDomain:null,dekInfo:null,headers:[],body:wP.util.decode64(a[3])};if(t.push(c),!!a[2]){for(var u=a[2].split(s),f=0;a&&f<u.length;){for(var d=u[f].replace(/\s+$/,""),p=f+1;p<u.length;++p){var h=u[p];if(!/\s/.test(h[0]))break;d+=h,f=p}if(a=d.match(n),a){for(var m={name:a[1],values:[]},v=a[2].split(","),_=0;_<v.length;++_)m.values.push(hFe(v[_]));if(c.procType)if(!c.contentDomain&&m.name==="Content-Domain")c.contentDomain=v[0]||"";else if(!c.dekInfo&&m.name==="DEK-Info"){if(m.values.length===0)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');c.dekInfo={algorithm:v[0],parameters:v[1]||null}}else c.headers.push(m);else{if(m.name!=="Proc-Type")throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(m.values.length!==2)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');c.procType={version:v[0],type:v[1]}}}++f}if(c.procType==="ENCRYPTED"&&!c.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(t.length===0)throw new Error("Invalid PEM formatted message.");return t};function AP(e){for(var t=e.name+": ",r=[],n=o(function(u,f){return" "+f},"insertSpace"),s=0;s<e.values.length;++s)r.push(e.values[s].replace(/^(\S+\r\n)/,n));t+=r.join(",")+`\r
`;for(var a=0,l=-1,s=0;s<t.length;++s,++a)if(a>65&&l!==-1){var c=t[l];c===","?(++l,t=t.substr(0,l)+`\r
 `+t.substr(l)):t=t.substr(0,l)+`\r
`+c+t.substr(l+1),a=s-l-1,l=-1,++s}else(t[s]===" "||t[s]==="	"||t[s]===",")&&(l=s);return t}o(AP,"foldHeader");function hFe(e){return e.replace(/^\s+/,"")}o(hFe,"ltrim")});var Kx=k((A1t,gpe)=>{var Ea=Js();_P();xG();P0();gpe.exports=Ea.des=Ea.des||{};Ea.des.startEncrypting=function(e,t,r,n){var s=RP({key:e,output:r,decrypt:!1,mode:n||(t===null?"ECB":"CBC")});return s.start(t),s};Ea.des.createEncryptionCipher=function(e,t){return RP({key:e,output:null,decrypt:!1,mode:t})};Ea.des.startDecrypting=function(e,t,r,n){var s=RP({key:e,output:r,decrypt:!0,mode:n||(t===null?"ECB":"CBC")});return s.start(t),s};Ea.des.createDecryptionCipher=function(e,t){return RP({key:e,output:null,decrypt:!0,mode:t})};Ea.des.Algorithm=function(e,t){var r=this;r.name=e,r.mode=new t({blockSize:8,cipher:{encrypt:function(n,s){return mpe(r._keys,n,s,!1)},decrypt:function(n,s){return mpe(r._keys,n,s,!0)}}}),r._init=!1};Ea.des.Algorithm.prototype.initialize=function(e){if(!this._init){var t=Ea.util.createBuffer(e.key);if(this.name.indexOf("3DES")===0&&t.length()!==24)throw new Error("Invalid Triple-DES key size: "+t.length()*8);this._keys=TFe(t),this._init=!0}};rp("DES-ECB",Ea.cipher.modes.ecb);rp("DES-CBC",Ea.cipher.modes.cbc);rp("DES-CFB",Ea.cipher.modes.cfb);rp("DES-OFB",Ea.cipher.modes.ofb);rp("DES-CTR",Ea.cipher.modes.ctr);rp("3DES-ECB",Ea.cipher.modes.ecb);rp("3DES-CBC",Ea.cipher.modes.cbc);rp("3DES-CFB",Ea.cipher.modes.cfb);rp("3DES-OFB",Ea.cipher.modes.ofb);rp("3DES-CTR",Ea.cipher.modes.ctr);function rp(e,t){var r=o(function(){return new Ea.des.Algorithm(e,t)},"factory");Ea.cipher.registerAlgorithm(e,r)}o(rp,"registerAlgorithm");var mFe=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],gFe=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],vFe=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],yFe=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],_Fe=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],xFe=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],bFe=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],EFe=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function TFe(e){for(var t=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],r=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],n=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],s=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],a=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],l=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],c=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],u=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],f=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],d=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],p=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],h=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],m=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],v=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],_=e.length()>8?3:1,b=[],S=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],A=0,O,L=0;L<_;L++){var D=e.getInt32(),$=e.getInt32();O=(D>>>4^$)&252645135,$^=O,D^=O<<4,O=($>>>-16^D)&65535,D^=O,$^=O<<-16,O=(D>>>2^$)&858993459,$^=O,D^=O<<2,O=($>>>-16^D)&65535,D^=O,$^=O<<-16,O=(D>>>1^$)&1431655765,$^=O,D^=O<<1,O=($>>>8^D)&16711935,D^=O,$^=O<<8,O=(D>>>1^$)&1431655765,$^=O,D^=O<<1,O=D<<8|$>>>20&240,D=$<<24|$<<8&16711680|$>>>8&65280|$>>>24&240,$=O;for(var de=0;de<S.length;++de){S[de]?(D=D<<2|D>>>26,$=$<<2|$>>>26):(D=D<<1|D>>>27,$=$<<1|$>>>27),D&=-15,$&=-15;var ue=t[D>>>28]|r[D>>>24&15]|n[D>>>20&15]|s[D>>>16&15]|a[D>>>12&15]|l[D>>>8&15]|c[D>>>4&15],Ze=u[$>>>28]|f[$>>>24&15]|d[$>>>20&15]|p[$>>>16&15]|h[$>>>12&15]|m[$>>>8&15]|v[$>>>4&15];O=(Ze>>>16^ue)&65535,b[A++]=ue^O,b[A++]=Ze^O<<16}}return b}o(TFe,"_createKeys");function mpe(e,t,r,n){var s=e.length===32?3:9,a;s===3?a=n?[30,-2,-2]:[0,32,2]:a=n?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var l,c=t[0],u=t[1];l=(c>>>4^u)&252645135,u^=l,c^=l<<4,l=(c>>>16^u)&65535,u^=l,c^=l<<16,l=(u>>>2^c)&858993459,c^=l,u^=l<<2,l=(u>>>8^c)&16711935,c^=l,u^=l<<8,l=(c>>>1^u)&1431655765,u^=l,c^=l<<1,c=c<<1|c>>>31,u=u<<1|u>>>31;for(var f=0;f<s;f+=3){for(var d=a[f+1],p=a[f+2],h=a[f];h!=d;h+=p){var m=u^e[h],v=(u>>>4|u<<28)^e[h+1];l=c,c=u,u=l^(gFe[m>>>24&63]|yFe[m>>>16&63]|xFe[m>>>8&63]|EFe[m&63]|mFe[v>>>24&63]|vFe[v>>>16&63]|_Fe[v>>>8&63]|bFe[v&63])}l=c,c=u,u=l}c=c>>>1|c<<31,u=u>>>1|u<<31,l=(c>>>1^u)&1431655765,u^=l,c^=l<<1,l=(u>>>8^c)&16711935,c^=l,u^=l<<8,l=(u>>>2^c)&858993459,c^=l,u^=l<<2,l=(c>>>16^u)&65535,u^=l,c^=l<<16,l=(c>>>4^u)&252645135,u^=l,c^=l<<4,r[0]=c,r[1]=u}o(mpe,"_updateBlock");function RP(e){e=e||{};var t=(e.mode||"CBC").toUpperCase(),r="DES-"+t,n;e.decrypt?n=Ea.cipher.createDecipher(r,e.key):n=Ea.cipher.createCipher(r,e.key);var s=n.start;return n.start=function(a,l){var c=null;l instanceof Ea.util.ByteBuffer&&(c=l,l={}),l=l||{},l.output=c,l.iv=a,s.call(n,l)},n}o(RP,"_createCipher")});var PP=k((R1t,vpe)=>{var su=Js();ay();ep();P0();var CFe=su.pkcs5=su.pkcs5||{},Lh;su.util.isNodejs&&!su.options.usePureJavaScript&&(Lh=require("crypto"));vpe.exports=su.pbkdf2=CFe.pbkdf2=function(e,t,r,n,s,a){if(typeof s=="function"&&(a=s,s=null),su.util.isNodejs&&!su.options.usePureJavaScript&&Lh.pbkdf2&&(s===null||typeof s!="object")&&(Lh.pbkdf2Sync.length>4||!s||s==="sha1"))return typeof s!="string"&&(s="sha1"),e=Buffer.from(e,"binary"),t=Buffer.from(t,"binary"),a?Lh.pbkdf2Sync.length===4?Lh.pbkdf2(e,t,r,n,function(O,L){if(O)return a(O);a(null,L.toString("binary"))}):Lh.pbkdf2(e,t,r,n,s,function(O,L){if(O)return a(O);a(null,L.toString("binary"))}):Lh.pbkdf2Sync.length===4?Lh.pbkdf2Sync(e,t,r,n).toString("binary"):Lh.pbkdf2Sync(e,t,r,n,s).toString("binary");if((typeof s>"u"||s===null)&&(s="sha1"),typeof s=="string"){if(!(s in su.md.algorithms))throw new Error("Unknown hash algorithm: "+s);s=su.md[s].create()}var l=s.digestLength;if(n>4294967295*l){var c=new Error("Derived key is too long.");if(a)return a(c);throw c}var u=Math.ceil(n/l),f=n-(u-1)*l,d=su.hmac.create();d.start(s,e);var p="",h,m,v;if(!a){for(var _=1;_<=u;++_){d.start(null,null),d.update(t),d.update(su.util.int32ToBytes(_)),h=v=d.digest().getBytes();for(var b=2;b<=r;++b)d.start(null,null),d.update(v),m=d.digest().getBytes(),h=su.util.xorBytes(h,m,l),v=m;p+=_<u?h:h.substr(0,f)}return p}var _=1,b;function S(){if(_>u)return a(null,p);d.start(null,null),d.update(t),d.update(su.util.int32ToBytes(_)),h=v=d.digest().getBytes(),b=2,A()}o(S,"outer");function A(){if(b<=r)return d.start(null,null),d.update(v),m=d.digest().getBytes(),h=su.util.xorBytes(h,m,l),v=m,++b,su.util.setImmediate(A);p+=_<u?h:h.substr(0,f),++_,S()}o(A,"inner"),S()}});var AG=k((N1t,Epe)=>{var np=Js();ep();P0();var _pe=Epe.exports=np.sha256=np.sha256||{};np.md.sha256=np.md.algorithms.sha256=_pe;_pe.create=function(){xpe||SFe();var e=null,t=np.util.createBuffer(),r=new Array(64),n={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var s=n.messageLengthSize/4,a=0;a<s;++a)n.fullMessageLength.push(0);return t=np.util.createBuffer(),e={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},n},n.start(),n.update=function(s,a){a==="utf8"&&(s=np.util.encodeUtf8(s));var l=s.length;n.messageLength+=l,l=[l/4294967296>>>0,l>>>0];for(var c=n.fullMessageLength.length-1;c>=0;--c)n.fullMessageLength[c]+=l[1],l[1]=l[0]+(n.fullMessageLength[c]/4294967296>>>0),n.fullMessageLength[c]=n.fullMessageLength[c]>>>0,l[0]=l[1]/4294967296>>>0;return t.putBytes(s),ype(e,r,t),(t.read>2048||t.length()===0)&&t.compact(),n},n.digest=function(){var s=np.util.createBuffer();s.putBytes(t.bytes());var a=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,l=a&n.blockLength-1;s.putBytes(IG.substr(0,n.blockLength-l));for(var c,u,f=n.fullMessageLength[0]*8,d=0;d<n.fullMessageLength.length-1;++d)c=n.fullMessageLength[d+1]*8,u=c/4294967296>>>0,f+=u,s.putInt32(f>>>0),f=c>>>0;s.putInt32(f);var p={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4,h5:e.h5,h6:e.h6,h7:e.h7};ype(p,r,s);var h=np.util.createBuffer();return h.putInt32(p.h0),h.putInt32(p.h1),h.putInt32(p.h2),h.putInt32(p.h3),h.putInt32(p.h4),h.putInt32(p.h5),h.putInt32(p.h6),h.putInt32(p.h7),h},n};var IG=null,xpe=!1,bpe=null;function SFe(){IG="\x80",IG+=np.util.fillString("\0",64),bpe=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],xpe=!0}o(SFe,"_init");function ype(e,t,r){for(var n,s,a,l,c,u,f,d,p,h,m,v,_,b,S,A=r.length();A>=64;){for(f=0;f<16;++f)t[f]=r.getInt32();for(;f<64;++f)n=t[f-2],n=(n>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,s=t[f-15],s=(s>>>7|s<<25)^(s>>>18|s<<14)^s>>>3,t[f]=n+t[f-7]+s+t[f-16]|0;for(d=e.h0,p=e.h1,h=e.h2,m=e.h3,v=e.h4,_=e.h5,b=e.h6,S=e.h7,f=0;f<64;++f)l=(v>>>6|v<<26)^(v>>>11|v<<21)^(v>>>25|v<<7),c=b^v&(_^b),a=(d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10),u=d&p|h&(d^p),n=S+l+c+bpe[f]+t[f],s=a+u,S=b,b=_,_=v,v=m+n>>>0,m=h,h=p,p=d,d=n+s>>>0;e.h0=e.h0+d|0,e.h1=e.h1+p|0,e.h2=e.h2+h|0,e.h3=e.h3+m|0,e.h4=e.h4+v|0,e.h5=e.h5+_|0,e.h6=e.h6+b|0,e.h7=e.h7+S|0,A-=64}}o(ype,"_update")});var wG=k((D1t,Tpe)=>{var ip=Js();P0();var NP=null;ip.util.isNodejs&&!ip.options.usePureJavaScript&&!process.versions["node-webkit"]&&(NP=require("crypto"));var IFe=Tpe.exports=ip.prng=ip.prng||{};IFe.create=function(e){for(var t={plugin:e,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},r=e.md,n=new Array(32),s=0;s<32;++s)n[s]=r.create();t.pools=n,t.pool=0,t.generate=function(f,d){if(!d)return t.generateSync(f);var p=t.plugin.cipher,h=t.plugin.increment,m=t.plugin.formatKey,v=t.plugin.formatSeed,_=ip.util.createBuffer();t.key=null,b();function b(S){if(S)return d(S);if(_.length()>=f)return d(null,_.getBytes(f));if(t.generated>1048575&&(t.key=null),t.key===null)return ip.util.nextTick(function(){a(b)});var A=p(t.key,t.seed);t.generated+=A.length,_.putBytes(A),t.key=m(p(t.key,h(t.seed))),t.seed=v(p(t.key,t.seed)),ip.util.setImmediate(b)}o(b,"generate")},t.generateSync=function(f){var d=t.plugin.cipher,p=t.plugin.increment,h=t.plugin.formatKey,m=t.plugin.formatSeed;t.key=null;for(var v=ip.util.createBuffer();v.length()<f;){t.generated>1048575&&(t.key=null),t.key===null&&l();var _=d(t.key,t.seed);t.generated+=_.length,v.putBytes(_),t.key=h(d(t.key,p(t.seed))),t.seed=m(d(t.key,t.seed))}return v.getBytes(f)};function a(f){if(t.pools[0].messageLength>=32)return c(),f();var d=32-t.pools[0].messageLength<<5;t.seedFile(d,function(p,h){if(p)return f(p);t.collect(h),c(),f()})}o(a,"_reseed");function l(){if(t.pools[0].messageLength>=32)return c();var f=32-t.pools[0].messageLength<<5;t.collect(t.seedFileSync(f)),c()}o(l,"_reseedSync");function c(){t.reseeds=t.reseeds===4294967295?0:t.reseeds+1;var f=t.plugin.md.create();f.update(t.keyBytes);for(var d=1,p=0;p<32;++p)t.reseeds%d===0&&(f.update(t.pools[p].digest().getBytes()),t.pools[p].start()),d=d<<1;t.keyBytes=f.digest().getBytes(),f.start(),f.update(t.keyBytes);var h=f.digest().getBytes();t.key=t.plugin.formatKey(t.keyBytes),t.seed=t.plugin.formatSeed(h),t.generated=0}o(c,"_seed");function u(f){var d=null,p=ip.util.globalScope,h=p.crypto||p.msCrypto;h&&h.getRandomValues&&(d=o(function(D){return h.getRandomValues(D)},"getRandomValues"));var m=ip.util.createBuffer();if(d)for(;m.length()<f;){var v=Math.max(1,Math.min(f-m.length(),65536)/4),_=new Uint32Array(Math.floor(v));try{d(_);for(var b=0;b<_.length;++b)m.putInt32(_[b])}catch(D){if(!(typeof QuotaExceededError<"u"&&D instanceof QuotaExceededError))throw D}}if(m.length()<f)for(var S,A,O,L=Math.floor(Math.random()*65536);m.length()<f;){A=16807*(L&65535),S=16807*(L>>16),A+=(S&32767)<<16,A+=S>>15,A=(A&2147483647)+(A>>31),L=A&4294967295;for(var b=0;b<3;++b)O=L>>>(b<<3),O^=Math.floor(Math.random()*256),m.putByte(O&255)}return m.getBytes(f)}return o(u,"defaultSeedFile"),NP?(t.seedFile=function(f,d){NP.randomBytes(f,function(p,h){if(p)return d(p);d(null,h.toString())})},t.seedFileSync=function(f){return NP.randomBytes(f).toString()}):(t.seedFile=function(f,d){try{d(null,u(f))}catch(p){d(p)}},t.seedFileSync=u),t.collect=function(f){for(var d=f.length,p=0;p<d;++p)t.pools[t.pool].update(f.substr(p,1)),t.pool=t.pool===31?0:t.pool+1},t.collectInt=function(f,d){for(var p="",h=0;h<d;h+=8)p+=String.fromCharCode(f>>h&255);t.collect(p)},t.registerWorker=function(f){if(f===self)t.seedFile=function(p,h){function m(v){var _=v.data;_.forge&&_.forge.prng&&(self.removeEventListener("message",m),h(_.forge.prng.err,_.forge.prng.bytes))}o(m,"listener"),self.addEventListener("message",m),self.postMessage({forge:{prng:{needed:p}}})};else{var d=o(function(p){var h=p.data;h.forge&&h.forge.prng&&t.seedFile(h.forge.prng.needed,function(m,v){f.postMessage({forge:{prng:{err:m,bytes:v}}})})},"listener");f.addEventListener("message",d)}},t}});var Vf=k((k1t,RG)=>{var Vl=Js();N3();AG();wG();P0();(function(){if(Vl.random&&Vl.random.getBytes){RG.exports=Vl.random;return}(function(e){var t={},r=new Array(4),n=Vl.util.createBuffer();t.formatKey=function(p){var h=Vl.util.createBuffer(p);return p=new Array(4),p[0]=h.getInt32(),p[1]=h.getInt32(),p[2]=h.getInt32(),p[3]=h.getInt32(),Vl.aes._expandKey(p,!1)},t.formatSeed=function(p){var h=Vl.util.createBuffer(p);return p=new Array(4),p[0]=h.getInt32(),p[1]=h.getInt32(),p[2]=h.getInt32(),p[3]=h.getInt32(),p},t.cipher=function(p,h){return Vl.aes._updateBlock(p,h,r,!1),n.putInt32(r[0]),n.putInt32(r[1]),n.putInt32(r[2]),n.putInt32(r[3]),n.getBytes()},t.increment=function(p){return++p[3],p},t.md=Vl.md.sha256;function s(){var p=Vl.prng.create(t);return p.getBytes=function(h,m){return p.generate(h,m)},p.getBytesSync=function(h){return p.generate(h)},p}o(s,"spawnPrng");var a=s(),l=null,c=Vl.util.globalScope,u=c.crypto||c.msCrypto;if(u&&u.getRandomValues&&(l=o(function(p){return u.getRandomValues(p)},"getRandomValues")),Vl.options.usePureJavaScript||!Vl.util.isNodejs&&!l){if(typeof window>"u"||window.document,a.collectInt(+new Date,32),typeof navigator<"u"){var f="";for(var d in navigator)try{typeof navigator[d]=="string"&&(f+=navigator[d])}catch{}a.collect(f),f=null}e&&(e().mousemove(function(p){a.collectInt(p.clientX,16),a.collectInt(p.clientY,16)}),e().keypress(function(p){a.collectInt(p.charCode,8)}))}if(!Vl.random)Vl.random=a;else for(var d in a)Vl.random[d]=a[d];Vl.random.createInstance=s,RG.exports=Vl.random})(typeof jQuery<"u"?jQuery:null)})()});var NG=k((B1t,Ipe)=>{var Nu=Js();P0();var PG=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],Cpe=[1,2,3,5],AFe=o(function(e,t){return e<<t&65535|(e&65535)>>16-t},"rol"),wFe=o(function(e,t){return(e&65535)>>t|e<<16-t&65535},"ror");Ipe.exports=Nu.rc2=Nu.rc2||{};Nu.rc2.expandKey=function(e,t){typeof e=="string"&&(e=Nu.util.createBuffer(e)),t=t||128;var r=e,n=e.length(),s=t,a=Math.ceil(s/8),l=255>>(s&7),c;for(c=n;c<128;c++)r.putByte(PG[r.at(c-1)+r.at(c-n)&255]);for(r.setAt(128-a,PG[r.at(128-a)&l]),c=127-a;c>=0;c--)r.setAt(c,PG[r.at(c+1)^r.at(c+a)]);return r};var Spe=o(function(e,t,r){var n=!1,s=null,a=null,l=null,c,u,f,d,p=[];for(e=Nu.rc2.expandKey(e,t),f=0;f<64;f++)p.push(e.getInt16Le());r?(c=o(function(v){for(f=0;f<4;f++)v[f]+=p[d]+(v[(f+3)%4]&v[(f+2)%4])+(~v[(f+3)%4]&v[(f+1)%4]),v[f]=AFe(v[f],Cpe[f]),d++},"mixRound"),u=o(function(v){for(f=0;f<4;f++)v[f]+=p[v[(f+3)%4]&63]},"mashRound")):(c=o(function(v){for(f=3;f>=0;f--)v[f]=wFe(v[f],Cpe[f]),v[f]-=p[d]+(v[(f+3)%4]&v[(f+2)%4])+(~v[(f+3)%4]&v[(f+1)%4]),d--},"mixRound"),u=o(function(v){for(f=3;f>=0;f--)v[f]-=p[v[(f+3)%4]&63]},"mashRound"));var h=o(function(v){var _=[];for(f=0;f<4;f++){var b=s.getInt16Le();l!==null&&(r?b^=l.getInt16Le():l.putInt16Le(b)),_.push(b&65535)}d=r?0:63;for(var S=0;S<v.length;S++)for(var A=0;A<v[S][0];A++)v[S][1](_);for(f=0;f<4;f++)l!==null&&(r?l.putInt16Le(_[f]):_[f]^=l.getInt16Le()),a.putInt16Le(_[f])},"runPlan"),m=null;return m={start:function(v,_){v&&typeof v=="string"&&(v=Nu.util.createBuffer(v)),n=!1,s=Nu.util.createBuffer(),a=_||new Nu.util.createBuffer,l=v,m.output=a},update:function(v){for(n||s.putBuffer(v);s.length()>=8;)h([[5,c],[1,u],[6,c],[1,u],[5,c]])},finish:function(v){var _=!0;if(r)if(v)_=v(8,s,!r);else{var b=s.length()===8?8:8-s.length();s.fillWithByte(b,b)}if(_&&(n=!0,m.update()),!r&&(_=s.length()===0,_))if(v)_=v(8,a,!r);else{var S=a.length(),A=a.at(S-1);A>S?_=!1:a.truncate(A)}return _}},m},"createCipher");Nu.rc2.startEncrypting=function(e,t,r){var n=Nu.rc2.createEncryptionCipher(e,128);return n.start(t,r),n};Nu.rc2.createEncryptionCipher=function(e,t){return Spe(e,t,!0)};Nu.rc2.startDecrypting=function(e,t,r){var n=Nu.rc2.createDecryptionCipher(e,128);return n.start(t,r),n};Nu.rc2.createDecryptionCipher=function(e,t){return Spe(e,t,!1)}});var Yx=k((U1t,Lpe)=>{var OG=Js();Lpe.exports=OG.jsbn=OG.jsbn||{};var kh,RFe=0xdeadbeefcafe,Ape=(RFe&16777215)==15715070;function on(e,t,r){this.data=[],e!=null&&(typeof e=="number"?this.fromNumber(e,t,r):t==null&&typeof e!="string"?this.fromString(e,256):this.fromString(e,t))}o(on,"BigInteger");OG.jsbn.BigInteger=on;function N0(){return new on(null)}o(N0,"nbi");function PFe(e,t,r,n,s,a){for(;--a>=0;){var l=t*this.data[e++]+r.data[n]+s;s=Math.floor(l/67108864),r.data[n++]=l&67108863}return s}o(PFe,"am1");function NFe(e,t,r,n,s,a){for(var l=t&32767,c=t>>15;--a>=0;){var u=this.data[e]&32767,f=this.data[e++]>>15,d=c*u+f*l;u=l*u+((d&32767)<<15)+r.data[n]+(s&1073741823),s=(u>>>30)+(d>>>15)+c*f+(s>>>30),r.data[n++]=u&1073741823}return s}o(NFe,"am2");function wpe(e,t,r,n,s,a){for(var l=t&16383,c=t>>14;--a>=0;){var u=this.data[e]&16383,f=this.data[e++]>>14,d=c*u+f*l;u=l*u+((d&16383)<<14)+r.data[n]+s,s=(u>>28)+(d>>14)+c*f,r.data[n++]=u&268435455}return s}o(wpe,"am3");typeof navigator>"u"?(on.prototype.am=wpe,kh=28):Ape&&navigator.appName=="Microsoft Internet Explorer"?(on.prototype.am=NFe,kh=30):Ape&&navigator.appName!="Netscape"?(on.prototype.am=PFe,kh=26):(on.prototype.am=wpe,kh=28);on.prototype.DB=kh;on.prototype.DM=(1<<kh)-1;on.prototype.DV=1<<kh;var DG=52;on.prototype.FV=Math.pow(2,DG);on.prototype.F1=DG-kh;on.prototype.F2=2*kh-DG;var OFe="0123456789abcdefghijklmnopqrstuvwxyz",OP=new Array,ly,Gf;ly=48;for(Gf=0;Gf<=9;++Gf)OP[ly++]=Gf;ly=97;for(Gf=10;Gf<36;++Gf)OP[ly++]=Gf;ly=65;for(Gf=10;Gf<36;++Gf)OP[ly++]=Gf;function Rpe(e){return OFe.charAt(e)}o(Rpe,"int2char");function Ppe(e,t){var r=OP[e.charCodeAt(t)];return r==null?-1:r}o(Ppe,"intAt");function DFe(e){for(var t=this.t-1;t>=0;--t)e.data[t]=this.data[t];e.t=this.t,e.s=this.s}o(DFe,"bnpCopyTo");function LFe(e){this.t=1,this.s=e<0?-1:0,e>0?this.data[0]=e:e<-1?this.data[0]=e+this.DV:this.t=0}o(LFe,"bnpFromInt");function D3(e){var t=N0();return t.fromInt(e),t}o(D3,"nbv");function kFe(e,t){var r;if(t==16)r=4;else if(t==8)r=3;else if(t==256)r=8;else if(t==2)r=1;else if(t==32)r=5;else if(t==4)r=2;else{this.fromRadix(e,t);return}this.t=0,this.s=0;for(var n=e.length,s=!1,a=0;--n>=0;){var l=r==8?e[n]&255:Ppe(e,n);if(l<0){e.charAt(n)=="-"&&(s=!0);continue}s=!1,a==0?this.data[this.t++]=l:a+r>this.DB?(this.data[this.t-1]|=(l&(1<<this.DB-a)-1)<<a,this.data[this.t++]=l>>this.DB-a):this.data[this.t-1]|=l<<a,a+=r,a>=this.DB&&(a-=this.DB)}r==8&&e[0]&128&&(this.s=-1,a>0&&(this.data[this.t-1]|=(1<<this.DB-a)-1<<a)),this.clamp(),s&&on.ZERO.subTo(this,this)}o(kFe,"bnpFromString");function MFe(){for(var e=this.s&this.DM;this.t>0&&this.data[this.t-1]==e;)--this.t}o(MFe,"bnpClamp");function BFe(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(e==16)t=4;else if(e==8)t=3;else if(e==2)t=1;else if(e==32)t=5;else if(e==4)t=2;else return this.toRadix(e);var r=(1<<t)-1,n,s=!1,a="",l=this.t,c=this.DB-l*this.DB%t;if(l-- >0)for(c<this.DB&&(n=this.data[l]>>c)>0&&(s=!0,a=Rpe(n));l>=0;)c<t?(n=(this.data[l]&(1<<c)-1)<<t-c,n|=this.data[--l]>>(c+=this.DB-t)):(n=this.data[l]>>(c-=t)&r,c<=0&&(c+=this.DB,--l)),n>0&&(s=!0),s&&(a+=Rpe(n));return s?a:"0"}o(BFe,"bnToString");function FFe(){var e=N0();return on.ZERO.subTo(this,e),e}o(FFe,"bnNegate");function UFe(){return this.s<0?this.negate():this}o(UFe,"bnAbs");function qFe(e){var t=this.s-e.s;if(t!=0)return t;var r=this.t;if(t=r-e.t,t!=0)return this.s<0?-t:t;for(;--r>=0;)if((t=this.data[r]-e.data[r])!=0)return t;return 0}o(qFe,"bnCompareTo");function DP(e){var t=1,r;return(r=e>>>16)!=0&&(e=r,t+=16),(r=e>>8)!=0&&(e=r,t+=8),(r=e>>4)!=0&&(e=r,t+=4),(r=e>>2)!=0&&(e=r,t+=2),(r=e>>1)!=0&&(e=r,t+=1),t}o(DP,"nbits");function jFe(){return this.t<=0?0:this.DB*(this.t-1)+DP(this.data[this.t-1]^this.s&this.DM)}o(jFe,"bnBitLength");function HFe(e,t){var r;for(r=this.t-1;r>=0;--r)t.data[r+e]=this.data[r];for(r=e-1;r>=0;--r)t.data[r]=0;t.t=this.t+e,t.s=this.s}o(HFe,"bnpDLShiftTo");function $Fe(e,t){for(var r=e;r<this.t;++r)t.data[r-e]=this.data[r];t.t=Math.max(this.t-e,0),t.s=this.s}o($Fe,"bnpDRShiftTo");function VFe(e,t){var r=e%this.DB,n=this.DB-r,s=(1<<n)-1,a=Math.floor(e/this.DB),l=this.s<<r&this.DM,c;for(c=this.t-1;c>=0;--c)t.data[c+a+1]=this.data[c]>>n|l,l=(this.data[c]&s)<<r;for(c=a-1;c>=0;--c)t.data[c]=0;t.data[a]=l,t.t=this.t+a+1,t.s=this.s,t.clamp()}o(VFe,"bnpLShiftTo");function GFe(e,t){t.s=this.s;var r=Math.floor(e/this.DB);if(r>=this.t){t.t=0;return}var n=e%this.DB,s=this.DB-n,a=(1<<n)-1;t.data[0]=this.data[r]>>n;for(var l=r+1;l<this.t;++l)t.data[l-r-1]|=(this.data[l]&a)<<s,t.data[l-r]=this.data[l]>>n;n>0&&(t.data[this.t-r-1]|=(this.s&a)<<s),t.t=this.t-r,t.clamp()}o(GFe,"bnpRShiftTo");function zFe(e,t){for(var r=0,n=0,s=Math.min(e.t,this.t);r<s;)n+=this.data[r]-e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n-=e.s;r<this.t;)n+=this.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n-=e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n-=e.s}t.s=n<0?-1:0,n<-1?t.data[r++]=this.DV+n:n>0&&(t.data[r++]=n),t.t=r,t.clamp()}o(zFe,"bnpSubTo");function KFe(e,t){var r=this.abs(),n=e.abs(),s=r.t;for(t.t=s+n.t;--s>=0;)t.data[s]=0;for(s=0;s<n.t;++s)t.data[s+r.t]=r.am(0,n.data[s],t,s,0,r.t);t.s=0,t.clamp(),this.s!=e.s&&on.ZERO.subTo(t,t)}o(KFe,"bnpMultiplyTo");function WFe(e){for(var t=this.abs(),r=e.t=2*t.t;--r>=0;)e.data[r]=0;for(r=0;r<t.t-1;++r){var n=t.am(r,t.data[r],e,2*r,0,1);(e.data[r+t.t]+=t.am(r+1,2*t.data[r],e,2*r+1,n,t.t-r-1))>=t.DV&&(e.data[r+t.t]-=t.DV,e.data[r+t.t+1]=1)}e.t>0&&(e.data[e.t-1]+=t.am(r,t.data[r],e,2*r,0,1)),e.s=0,e.clamp()}o(WFe,"bnpSquareTo");function YFe(e,t,r){var n=e.abs();if(!(n.t<=0)){var s=this.abs();if(s.t<n.t){t!=null&&t.fromInt(0),r!=null&&this.copyTo(r);return}r==null&&(r=N0());var a=N0(),l=this.s,c=e.s,u=this.DB-DP(n.data[n.t-1]);u>0?(n.lShiftTo(u,a),s.lShiftTo(u,r)):(n.copyTo(a),s.copyTo(r));var f=a.t,d=a.data[f-1];if(d!=0){var p=d*(1<<this.F1)+(f>1?a.data[f-2]>>this.F2:0),h=this.FV/p,m=(1<<this.F1)/p,v=1<<this.F2,_=r.t,b=_-f,S=t==null?N0():t;for(a.dlShiftTo(b,S),r.compareTo(S)>=0&&(r.data[r.t++]=1,r.subTo(S,r)),on.ONE.dlShiftTo(f,S),S.subTo(a,a);a.t<f;)a.data[a.t++]=0;for(;--b>=0;){var A=r.data[--_]==d?this.DM:Math.floor(r.data[_]*h+(r.data[_-1]+v)*m);if((r.data[_]+=a.am(0,A,r,b,0,f))<A)for(a.dlShiftTo(b,S),r.subTo(S,r);r.data[_]<--A;)r.subTo(S,r)}t!=null&&(r.drShiftTo(f,t),l!=c&&on.ZERO.subTo(t,t)),r.t=f,r.clamp(),u>0&&r.rShiftTo(u,r),l<0&&on.ZERO.subTo(r,r)}}}o(YFe,"bnpDivRemTo");function XFe(e){var t=N0();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(on.ZERO)>0&&e.subTo(t,t),t}o(XFe,"bnMod");function qg(e){this.m=e}o(qg,"Classic");function QFe(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e}o(QFe,"cConvert");function JFe(e){return e}o(JFe,"cRevert");function ZFe(e){e.divRemTo(this.m,null,e)}o(ZFe,"cReduce");function eUe(e,t,r){e.multiplyTo(t,r),this.reduce(r)}o(eUe,"cMulTo");function tUe(e,t){e.squareTo(t),this.reduce(t)}o(tUe,"cSqrTo");qg.prototype.convert=QFe;qg.prototype.revert=JFe;qg.prototype.reduce=ZFe;qg.prototype.mulTo=eUe;qg.prototype.sqrTo=tUe;function rUe(){if(this.t<1)return 0;var e=this.data[0];if(!(e&1))return 0;var t=e&3;return t=t*(2-(e&15)*t)&15,t=t*(2-(e&255)*t)&255,t=t*(2-((e&65535)*t&65535))&65535,t=t*(2-e*t%this.DV)%this.DV,t>0?this.DV-t:-t}o(rUe,"bnpInvDigit");function jg(e){this.m=e,this.mp=e.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}o(jg,"Montgomery");function nUe(e){var t=N0();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(on.ZERO)>0&&this.m.subTo(t,t),t}o(nUe,"montConvert");function iUe(e){var t=N0();return e.copyTo(t),this.reduce(t),t}o(iUe,"montRevert");function sUe(e){for(;e.t<=this.mt2;)e.data[e.t++]=0;for(var t=0;t<this.m.t;++t){var r=e.data[t]&32767,n=r*this.mpl+((r*this.mph+(e.data[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(r=t+this.m.t,e.data[r]+=this.m.am(0,n,e,t,0,this.m.t);e.data[r]>=e.DV;)e.data[r]-=e.DV,e.data[++r]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)}o(sUe,"montReduce");function aUe(e,t){e.squareTo(t),this.reduce(t)}o(aUe,"montSqrTo");function oUe(e,t,r){e.multiplyTo(t,r),this.reduce(r)}o(oUe,"montMulTo");jg.prototype.convert=nUe;jg.prototype.revert=iUe;jg.prototype.reduce=sUe;jg.prototype.mulTo=oUe;jg.prototype.sqrTo=aUe;function lUe(){return(this.t>0?this.data[0]&1:this.s)==0}o(lUe,"bnpIsEven");function cUe(e,t){if(e>4294967295||e<1)return on.ONE;var r=N0(),n=N0(),s=t.convert(this),a=DP(e)-1;for(s.copyTo(r);--a>=0;)if(t.sqrTo(r,n),(e&1<<a)>0)t.mulTo(n,s,r);else{var l=r;r=n,n=l}return t.revert(r)}o(cUe,"bnpExp");function uUe(e,t){var r;return e<256||t.isEven()?r=new qg(t):r=new jg(t),this.exp(e,r)}o(uUe,"bnModPowInt");on.prototype.copyTo=DFe;on.prototype.fromInt=LFe;on.prototype.fromString=kFe;on.prototype.clamp=MFe;on.prototype.dlShiftTo=HFe;on.prototype.drShiftTo=$Fe;on.prototype.lShiftTo=VFe;on.prototype.rShiftTo=GFe;on.prototype.subTo=zFe;on.prototype.multiplyTo=KFe;on.prototype.squareTo=WFe;on.prototype.divRemTo=YFe;on.prototype.invDigit=rUe;on.prototype.isEven=lUe;on.prototype.exp=cUe;on.prototype.toString=BFe;on.prototype.negate=FFe;on.prototype.abs=UFe;on.prototype.compareTo=qFe;on.prototype.bitLength=jFe;on.prototype.mod=XFe;on.prototype.modPowInt=uUe;on.ZERO=D3(0);on.ONE=D3(1);function fUe(){var e=N0();return this.copyTo(e),e}o(fUe,"bnClone");function dUe(){if(this.s<0){if(this.t==1)return this.data[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this.data[0];if(this.t==0)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]}o(dUe,"bnIntValue");function pUe(){return this.t==0?this.s:this.data[0]<<24>>24}o(pUe,"bnByteValue");function hUe(){return this.t==0?this.s:this.data[0]<<16>>16}o(hUe,"bnShortValue");function mUe(e){return Math.floor(Math.LN2*this.DB/Math.log(e))}o(mUe,"bnpChunkSize");function gUe(){return this.s<0?-1:this.t<=0||this.t==1&&this.data[0]<=0?0:1}o(gUe,"bnSigNum");function vUe(e){if(e==null&&(e=10),this.signum()==0||e<2||e>36)return"0";var t=this.chunkSize(e),r=Math.pow(e,t),n=D3(r),s=N0(),a=N0(),l="";for(this.divRemTo(n,s,a);s.signum()>0;)l=(r+a.intValue()).toString(e).substr(1)+l,s.divRemTo(n,s,a);return a.intValue().toString(e)+l}o(vUe,"bnpToRadix");function yUe(e,t){this.fromInt(0),t==null&&(t=10);for(var r=this.chunkSize(t),n=Math.pow(t,r),s=!1,a=0,l=0,c=0;c<e.length;++c){var u=Ppe(e,c);if(u<0){e.charAt(c)=="-"&&this.signum()==0&&(s=!0);continue}l=t*l+u,++a>=r&&(this.dMultiply(n),this.dAddOffset(l,0),a=0,l=0)}a>0&&(this.dMultiply(Math.pow(t,a)),this.dAddOffset(l,0)),s&&on.ZERO.subTo(this,this)}o(yUe,"bnpFromRadix");function _Ue(e,t,r){if(typeof t=="number")if(e<2)this.fromInt(1);else for(this.fromNumber(e,r),this.testBit(e-1)||this.bitwiseTo(on.ONE.shiftLeft(e-1),LG,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(on.ONE.shiftLeft(e-1),this);else{var n=new Array,s=e&7;n.length=(e>>3)+1,t.nextBytes(n),s>0?n[0]&=(1<<s)-1:n[0]=0,this.fromString(n,256)}}o(_Ue,"bnpFromNumber");function xUe(){var e=this.t,t=new Array;t[0]=this.s;var r=this.DB-e*this.DB%8,n,s=0;if(e-- >0)for(r<this.DB&&(n=this.data[e]>>r)!=(this.s&this.DM)>>r&&(t[s++]=n|this.s<<this.DB-r);e>=0;)r<8?(n=(this.data[e]&(1<<r)-1)<<8-r,n|=this.data[--e]>>(r+=this.DB-8)):(n=this.data[e]>>(r-=8)&255,r<=0&&(r+=this.DB,--e)),n&128&&(n|=-256),s==0&&(this.s&128)!=(n&128)&&++s,(s>0||n!=this.s)&&(t[s++]=n);return t}o(xUe,"bnToByteArray");function bUe(e){return this.compareTo(e)==0}o(bUe,"bnEquals");function EUe(e){return this.compareTo(e)<0?this:e}o(EUe,"bnMin");function TUe(e){return this.compareTo(e)>0?this:e}o(TUe,"bnMax");function CUe(e,t,r){var n,s,a=Math.min(e.t,this.t);for(n=0;n<a;++n)r.data[n]=t(this.data[n],e.data[n]);if(e.t<this.t){for(s=e.s&this.DM,n=a;n<this.t;++n)r.data[n]=t(this.data[n],s);r.t=this.t}else{for(s=this.s&this.DM,n=a;n<e.t;++n)r.data[n]=t(s,e.data[n]);r.t=e.t}r.s=t(this.s,e.s),r.clamp()}o(CUe,"bnpBitwiseTo");function SUe(e,t){return e&t}o(SUe,"op_and");function IUe(e){var t=N0();return this.bitwiseTo(e,SUe,t),t}o(IUe,"bnAnd");function LG(e,t){return e|t}o(LG,"op_or");function AUe(e){var t=N0();return this.bitwiseTo(e,LG,t),t}o(AUe,"bnOr");function Npe(e,t){return e^t}o(Npe,"op_xor");function wUe(e){var t=N0();return this.bitwiseTo(e,Npe,t),t}o(wUe,"bnXor");function Ope(e,t){return e&~t}o(Ope,"op_andnot");function RUe(e){var t=N0();return this.bitwiseTo(e,Ope,t),t}o(RUe,"bnAndNot");function PUe(){for(var e=N0(),t=0;t<this.t;++t)e.data[t]=this.DM&~this.data[t];return e.t=this.t,e.s=~this.s,e}o(PUe,"bnNot");function NUe(e){var t=N0();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t}o(NUe,"bnShiftLeft");function OUe(e){var t=N0();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t}o(OUe,"bnShiftRight");function DUe(e){if(e==0)return-1;var t=0;return e&65535||(e>>=16,t+=16),e&255||(e>>=8,t+=8),e&15||(e>>=4,t+=4),e&3||(e>>=2,t+=2),e&1||++t,t}o(DUe,"lbit");function LUe(){for(var e=0;e<this.t;++e)if(this.data[e]!=0)return e*this.DB+DUe(this.data[e]);return this.s<0?this.t*this.DB:-1}o(LUe,"bnGetLowestSetBit");function kUe(e){for(var t=0;e!=0;)e&=e-1,++t;return t}o(kUe,"cbit");function MUe(){for(var e=0,t=this.s&this.DM,r=0;r<this.t;++r)e+=kUe(this.data[r]^t);return e}o(MUe,"bnBitCount");function BUe(e){var t=Math.floor(e/this.DB);return t>=this.t?this.s!=0:(this.data[t]&1<<e%this.DB)!=0}o(BUe,"bnTestBit");function FUe(e,t){var r=on.ONE.shiftLeft(e);return this.bitwiseTo(r,t,r),r}o(FUe,"bnpChangeBit");function UUe(e){return this.changeBit(e,LG)}o(UUe,"bnSetBit");function qUe(e){return this.changeBit(e,Ope)}o(qUe,"bnClearBit");function jUe(e){return this.changeBit(e,Npe)}o(jUe,"bnFlipBit");function HUe(e,t){for(var r=0,n=0,s=Math.min(e.t,this.t);r<s;)n+=this.data[r]+e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n+=e.s;r<this.t;)n+=this.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n+=e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=e.s}t.s=n<0?-1:0,n>0?t.data[r++]=n:n<-1&&(t.data[r++]=this.DV+n),t.t=r,t.clamp()}o(HUe,"bnpAddTo");function $Ue(e){var t=N0();return this.addTo(e,t),t}o($Ue,"bnAdd");function VUe(e){var t=N0();return this.subTo(e,t),t}o(VUe,"bnSubtract");function GUe(e){var t=N0();return this.multiplyTo(e,t),t}o(GUe,"bnMultiply");function zUe(e){var t=N0();return this.divRemTo(e,t,null),t}o(zUe,"bnDivide");function KUe(e){var t=N0();return this.divRemTo(e,null,t),t}o(KUe,"bnRemainder");function WUe(e){var t=N0(),r=N0();return this.divRemTo(e,t,r),new Array(t,r)}o(WUe,"bnDivideAndRemainder");function YUe(e){this.data[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()}o(YUe,"bnpDMultiply");function XUe(e,t){if(e!=0){for(;this.t<=t;)this.data[this.t++]=0;for(this.data[t]+=e;this.data[t]>=this.DV;)this.data[t]-=this.DV,++t>=this.t&&(this.data[this.t++]=0),++this.data[t]}}o(XUe,"bnpDAddOffset");function Wx(){}o(Wx,"NullExp");function Dpe(e){return e}o(Dpe,"nNop");function QUe(e,t,r){e.multiplyTo(t,r)}o(QUe,"nMulTo");function JUe(e,t){e.squareTo(t)}o(JUe,"nSqrTo");Wx.prototype.convert=Dpe;Wx.prototype.revert=Dpe;Wx.prototype.mulTo=QUe;Wx.prototype.sqrTo=JUe;function ZUe(e){return this.exp(e,new Wx)}o(ZUe,"bnPow");function eqe(e,t,r){var n=Math.min(this.t+e.t,t);for(r.s=0,r.t=n;n>0;)r.data[--n]=0;var s;for(s=r.t-this.t;n<s;++n)r.data[n+this.t]=this.am(0,e.data[n],r,n,0,this.t);for(s=Math.min(e.t,t);n<s;++n)this.am(0,e.data[n],r,n,0,t-n);r.clamp()}o(eqe,"bnpMultiplyLowerTo");function tqe(e,t,r){--t;var n=r.t=this.t+e.t-t;for(r.s=0;--n>=0;)r.data[n]=0;for(n=Math.max(t-this.t,0);n<e.t;++n)r.data[this.t+n-t]=this.am(t-n,e.data[n],r,0,0,this.t+n-t);r.clamp(),r.drShiftTo(1,r)}o(tqe,"bnpMultiplyUpperTo");function cy(e){this.r2=N0(),this.q3=N0(),on.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}o(cy,"Barrett");function rqe(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=N0();return e.copyTo(t),this.reduce(t),t}o(rqe,"barrettConvert");function nqe(e){return e}o(nqe,"barrettRevert");function iqe(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)}o(iqe,"barrettReduce");function sqe(e,t){e.squareTo(t),this.reduce(t)}o(sqe,"barrettSqrTo");function aqe(e,t,r){e.multiplyTo(t,r),this.reduce(r)}o(aqe,"barrettMulTo");cy.prototype.convert=rqe;cy.prototype.revert=nqe;cy.prototype.reduce=iqe;cy.prototype.mulTo=aqe;cy.prototype.sqrTo=sqe;function oqe(e,t){var r=e.bitLength(),n,s=D3(1),a;if(r<=0)return s;r<18?n=1:r<48?n=3:r<144?n=4:r<768?n=5:n=6,r<8?a=new qg(t):t.isEven()?a=new cy(t):a=new jg(t);var l=new Array,c=3,u=n-1,f=(1<<n)-1;if(l[1]=a.convert(this),n>1){var d=N0();for(a.sqrTo(l[1],d);c<=f;)l[c]=N0(),a.mulTo(d,l[c-2],l[c]),c+=2}var p=e.t-1,h,m=!0,v=N0(),_;for(r=DP(e.data[p])-1;p>=0;){for(r>=u?h=e.data[p]>>r-u&f:(h=(e.data[p]&(1<<r+1)-1)<<u-r,p>0&&(h|=e.data[p-1]>>this.DB+r-u)),c=n;!(h&1);)h>>=1,--c;if((r-=c)<0&&(r+=this.DB,--p),m)l[h].copyTo(s),m=!1;else{for(;c>1;)a.sqrTo(s,v),a.sqrTo(v,s),c-=2;c>0?a.sqrTo(s,v):(_=s,s=v,v=_),a.mulTo(v,l[h],s)}for(;p>=0&&!(e.data[p]&1<<r);)a.sqrTo(s,v),_=s,s=v,v=_,--r<0&&(r=this.DB-1,--p)}return a.revert(s)}o(oqe,"bnModPow");function lqe(e){var t=this.s<0?this.negate():this.clone(),r=e.s<0?e.negate():e.clone();if(t.compareTo(r)<0){var n=t;t=r,r=n}var s=t.getLowestSetBit(),a=r.getLowestSetBit();if(a<0)return t;for(s<a&&(a=s),a>0&&(t.rShiftTo(a,t),r.rShiftTo(a,r));t.signum()>0;)(s=t.getLowestSetBit())>0&&t.rShiftTo(s,t),(s=r.getLowestSetBit())>0&&r.rShiftTo(s,r),t.compareTo(r)>=0?(t.subTo(r,t),t.rShiftTo(1,t)):(r.subTo(t,r),r.rShiftTo(1,r));return a>0&&r.lShiftTo(a,r),r}o(lqe,"bnGCD");function cqe(e){if(e<=0)return 0;var t=this.DV%e,r=this.s<0?e-1:0;if(this.t>0)if(t==0)r=this.data[0]%e;else for(var n=this.t-1;n>=0;--n)r=(t*r+this.data[n])%e;return r}o(cqe,"bnpModInt");function uqe(e){var t=e.isEven();if(this.isEven()&&t||e.signum()==0)return on.ZERO;for(var r=e.clone(),n=this.clone(),s=D3(1),a=D3(0),l=D3(0),c=D3(1);r.signum()!=0;){for(;r.isEven();)r.rShiftTo(1,r),t?((!s.isEven()||!a.isEven())&&(s.addTo(this,s),a.subTo(e,a)),s.rShiftTo(1,s)):a.isEven()||a.subTo(e,a),a.rShiftTo(1,a);for(;n.isEven();)n.rShiftTo(1,n),t?((!l.isEven()||!c.isEven())&&(l.addTo(this,l),c.subTo(e,c)),l.rShiftTo(1,l)):c.isEven()||c.subTo(e,c),c.rShiftTo(1,c);r.compareTo(n)>=0?(r.subTo(n,r),t&&s.subTo(l,s),a.subTo(c,a)):(n.subTo(r,n),t&&l.subTo(s,l),c.subTo(a,c))}if(n.compareTo(on.ONE)!=0)return on.ZERO;if(c.compareTo(e)>=0)return c.subtract(e);if(c.signum()<0)c.addTo(e,c);else return c;return c.signum()<0?c.add(e):c}o(uqe,"bnModInverse");var qd=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],fqe=(1<<26)/qd[qd.length-1];function dqe(e){var t,r=this.abs();if(r.t==1&&r.data[0]<=qd[qd.length-1]){for(t=0;t<qd.length;++t)if(r.data[0]==qd[t])return!0;return!1}if(r.isEven())return!1;for(t=1;t<qd.length;){for(var n=qd[t],s=t+1;s<qd.length&&n<fqe;)n*=qd[s++];for(n=r.modInt(n);t<s;)if(n%qd[t++]==0)return!1}return r.millerRabin(e)}o(dqe,"bnIsProbablePrime");function pqe(e){var t=this.subtract(on.ONE),r=t.getLowestSetBit();if(r<=0)return!1;for(var n=t.shiftRight(r),s=hqe(),a,l=0;l<e;++l){do a=new on(this.bitLength(),s);while(a.compareTo(on.ONE)<=0||a.compareTo(t)>=0);var c=a.modPow(n,this);if(c.compareTo(on.ONE)!=0&&c.compareTo(t)!=0){for(var u=1;u++<r&&c.compareTo(t)!=0;)if(c=c.modPowInt(2,this),c.compareTo(on.ONE)==0)return!1;if(c.compareTo(t)!=0)return!1}}return!0}o(pqe,"bnpMillerRabin");function hqe(){return{nextBytes:function(e){for(var t=0;t<e.length;++t)e[t]=Math.floor(Math.random()*256)}}}o(hqe,"bnGetPrng");on.prototype.chunkSize=mUe;on.prototype.toRadix=vUe;on.prototype.fromRadix=yUe;on.prototype.fromNumber=_Ue;on.prototype.bitwiseTo=CUe;on.prototype.changeBit=FUe;on.prototype.addTo=HUe;on.prototype.dMultiply=YUe;on.prototype.dAddOffset=XUe;on.prototype.multiplyLowerTo=eqe;on.prototype.multiplyUpperTo=tqe;on.prototype.modInt=cqe;on.prototype.millerRabin=pqe;on.prototype.clone=fUe;on.prototype.intValue=dUe;on.prototype.byteValue=pUe;on.prototype.shortValue=hUe;on.prototype.signum=gUe;on.prototype.toByteArray=xUe;on.prototype.equals=bUe;on.prototype.min=EUe;on.prototype.max=TUe;on.prototype.and=IUe;on.prototype.or=AUe;on.prototype.xor=wUe;on.prototype.andNot=RUe;on.prototype.not=PUe;on.prototype.shiftLeft=NUe;on.prototype.shiftRight=OUe;on.prototype.getLowestSetBit=LUe;on.prototype.bitCount=MUe;on.prototype.testBit=BUe;on.prototype.setBit=UUe;on.prototype.clearBit=qUe;on.prototype.flipBit=jUe;on.prototype.add=$Ue;on.prototype.subtract=VUe;on.prototype.multiply=GUe;on.prototype.divide=zUe;on.prototype.remainder=KUe;on.prototype.divideAndRemainder=WUe;on.prototype.modPow=oqe;on.prototype.modInverse=uqe;on.prototype.pow=ZUe;on.prototype.gcd=lqe;on.prototype.isProbablePrime=dqe});var uy=k((j1t,Fpe)=>{var sp=Js();ep();P0();var Mpe=Fpe.exports=sp.sha1=sp.sha1||{};sp.md.sha1=sp.md.algorithms.sha1=Mpe;Mpe.create=function(){Bpe||mqe();var e=null,t=sp.util.createBuffer(),r=new Array(80),n={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var s=n.messageLengthSize/4,a=0;a<s;++a)n.fullMessageLength.push(0);return t=sp.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},n},n.start(),n.update=function(s,a){a==="utf8"&&(s=sp.util.encodeUtf8(s));var l=s.length;n.messageLength+=l,l=[l/4294967296>>>0,l>>>0];for(var c=n.fullMessageLength.length-1;c>=0;--c)n.fullMessageLength[c]+=l[1],l[1]=l[0]+(n.fullMessageLength[c]/4294967296>>>0),n.fullMessageLength[c]=n.fullMessageLength[c]>>>0,l[0]=l[1]/4294967296>>>0;return t.putBytes(s),kpe(e,r,t),(t.read>2048||t.length()===0)&&t.compact(),n},n.digest=function(){var s=sp.util.createBuffer();s.putBytes(t.bytes());var a=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,l=a&n.blockLength-1;s.putBytes(kG.substr(0,n.blockLength-l));for(var c,u,f=n.fullMessageLength[0]*8,d=0;d<n.fullMessageLength.length-1;++d)c=n.fullMessageLength[d+1]*8,u=c/4294967296>>>0,f+=u,s.putInt32(f>>>0),f=c>>>0;s.putInt32(f);var p={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4};kpe(p,r,s);var h=sp.util.createBuffer();return h.putInt32(p.h0),h.putInt32(p.h1),h.putInt32(p.h2),h.putInt32(p.h3),h.putInt32(p.h4),h},n};var kG=null,Bpe=!1;function mqe(){kG="\x80",kG+=sp.util.fillString("\0",64),Bpe=!0}o(mqe,"_init");function kpe(e,t,r){for(var n,s,a,l,c,u,f,d,p=r.length();p>=64;){for(s=e.h0,a=e.h1,l=e.h2,c=e.h3,u=e.h4,d=0;d<16;++d)n=r.getInt32(),t[d]=n,f=c^a&(l^c),n=(s<<5|s>>>27)+f+u+1518500249+n,u=c,c=l,l=(a<<30|a>>>2)>>>0,a=s,s=n;for(;d<20;++d)n=t[d-3]^t[d-8]^t[d-14]^t[d-16],n=n<<1|n>>>31,t[d]=n,f=c^a&(l^c),n=(s<<5|s>>>27)+f+u+1518500249+n,u=c,c=l,l=(a<<30|a>>>2)>>>0,a=s,s=n;for(;d<32;++d)n=t[d-3]^t[d-8]^t[d-14]^t[d-16],n=n<<1|n>>>31,t[d]=n,f=a^l^c,n=(s<<5|s>>>27)+f+u+1859775393+n,u=c,c=l,l=(a<<30|a>>>2)>>>0,a=s,s=n;for(;d<40;++d)n=t[d-6]^t[d-16]^t[d-28]^t[d-32],n=n<<2|n>>>30,t[d]=n,f=a^l^c,n=(s<<5|s>>>27)+f+u+1859775393+n,u=c,c=l,l=(a<<30|a>>>2)>>>0,a=s,s=n;for(;d<60;++d)n=t[d-6]^t[d-16]^t[d-28]^t[d-32],n=n<<2|n>>>30,t[d]=n,f=a&l|c&(a^l),n=(s<<5|s>>>27)+f+u+2400959708+n,u=c,c=l,l=(a<<30|a>>>2)>>>0,a=s,s=n;for(;d<80;++d)n=t[d-6]^t[d-16]^t[d-28]^t[d-32],n=n<<2|n>>>30,t[d]=n,f=a^l^c,n=(s<<5|s>>>27)+f+u+3395469782+n,u=c,c=l,l=(a<<30|a>>>2)>>>0,a=s,s=n;e.h0=e.h0+s|0,e.h1=e.h1+a|0,e.h2=e.h2+l|0,e.h3=e.h3+c|0,e.h4=e.h4+u|0,p-=64}}o(kpe,"_update")});var MG=k(($1t,qpe)=>{var ap=Js();P0();Vf();uy();var Upe=qpe.exports=ap.pkcs1=ap.pkcs1||{};Upe.encode_rsa_oaep=function(e,t,r){var n,s,a,l;typeof r=="string"?(n=r,s=arguments[3]||void 0,a=arguments[4]||void 0):r&&(n=r.label||void 0,s=r.seed||void 0,a=r.md||void 0,r.mgf1&&r.mgf1.md&&(l=r.mgf1.md)),a?a.start():a=ap.md.sha1.create(),l||(l=a);var c=Math.ceil(e.n.bitLength()/8),u=c-2*a.digestLength-2;if(t.length>u){var f=new Error("RSAES-OAEP input message length is too long.");throw f.length=t.length,f.maxLength=u,f}n||(n=""),a.update(n,"raw");for(var d=a.digest(),p="",h=u-t.length,m=0;m<h;m++)p+="\0";var v=d.getBytes()+p+""+t;if(!s)s=ap.random.getBytes(a.digestLength);else if(s.length!==a.digestLength){var f=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.");throw f.seedLength=s.length,f.digestLength=a.digestLength,f}var _=LP(s,c-a.digestLength-1,l),b=ap.util.xorBytes(v,_,v.length),S=LP(b,a.digestLength,l),A=ap.util.xorBytes(s,S,s.length);return"\0"+A+b};Upe.decode_rsa_oaep=function(e,t,r){var n,s,a;typeof r=="string"?(n=r,s=arguments[3]||void 0):r&&(n=r.label||void 0,s=r.md||void 0,r.mgf1&&r.mgf1.md&&(a=r.mgf1.md));var l=Math.ceil(e.n.bitLength()/8);if(t.length!==l){var b=new Error("RSAES-OAEP encoded message length is invalid.");throw b.length=t.length,b.expectedLength=l,b}if(s===void 0?s=ap.md.sha1.create():s.start(),a||(a=s),l<2*s.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");n||(n=""),s.update(n,"raw");for(var c=s.digest().getBytes(),u=t.charAt(0),f=t.substring(1,s.digestLength+1),d=t.substring(1+s.digestLength),p=LP(d,s.digestLength,a),h=ap.util.xorBytes(f,p,f.length),m=LP(h,l-s.digestLength-1,a),v=ap.util.xorBytes(d,m,d.length),_=v.substring(0,s.digestLength),b=u!=="\0",S=0;S<s.digestLength;++S)b|=c.charAt(S)!==_.charAt(S);for(var A=1,O=s.digestLength,L=s.digestLength;L<v.length;L++){var D=v.charCodeAt(L),$=D&1^1,de=A?65534:0;b|=D&de,A=A&$,O+=A}if(b||v.charCodeAt(O)!==1)throw new Error("Invalid RSAES-OAEP padding.");return v.substring(O+1)};function LP(e,t,r){r||(r=ap.md.sha1.create());for(var n="",s=Math.ceil(t/r.digestLength),a=0;a<s;++a){var l=String.fromCharCode(a>>24&255,a>>16&255,a>>8&255,a&255);r.start(),r.update(e+l),n+=r.digest().getBytes()}return n.substring(0,t)}o(LP,"rsa_mgf1")});var FG=k((G1t,BG)=>{var L3=Js();P0();Yx();Vf();(function(){if(L3.prime){BG.exports=L3.prime;return}var e=BG.exports=L3.prime=L3.prime||{},t=L3.jsbn.BigInteger,r=[6,4,2,4,2,4,6,2],n=new t(null);n.fromInt(30);var s=o(function(p,h){return p|h},"op_or");e.generateProbablePrime=function(p,h,m){typeof h=="function"&&(m=h,h={}),h=h||{};var v=h.algorithm||"PRIMEINC";typeof v=="string"&&(v={name:v}),v.options=v.options||{};var _=h.prng||L3.random,b={nextBytes:function(S){for(var A=_.getBytesSync(S.length),O=0;O<S.length;++O)S[O]=A.charCodeAt(O)}};if(v.name==="PRIMEINC")return a(p,b,v.options,m);throw new Error("Invalid prime generation algorithm: "+v.name)};function a(p,h,m,v){return"workers"in m?u(p,h,m,v):l(p,h,m,v)}o(a,"primeincFindPrime");function l(p,h,m,v){var _=f(p,h),b=0,S=d(_.bitLength());"millerRabinTests"in m&&(S=m.millerRabinTests);var A=10;"maxBlockTime"in m&&(A=m.maxBlockTime),c(_,p,h,b,S,A,v)}o(l,"primeincFindPrimeWithoutWorkers");function c(p,h,m,v,_,b,S){var A=+new Date;do{if(p.bitLength()>h&&(p=f(h,m)),p.isProbablePrime(_))return S(null,p);p.dAddOffset(r[v++%8],0)}while(b<0||+new Date-A<b);L3.util.setImmediate(function(){c(p,h,m,v,_,b,S)})}o(c,"_primeinc");function u(p,h,m,v){if(typeof Worker>"u")return l(p,h,m,v);var _=f(p,h),b=m.workers,S=m.workLoad||100,A=S*30/8,O=m.workerScript||"forge/prime.worker.js";if(b===-1)return L3.util.estimateCores(function(D,$){D&&($=2),b=$-1,L()});L();function L(){b=Math.max(1,b);for(var D=[],$=0;$<b;++$)D[$]=new Worker(O);for(var de=b,$=0;$<b;++$)D[$].addEventListener("message",Ze);var ue=!1;function Ze(vr){if(!ue){--de;var vt=vr.data;if(vt.found){for(var wr=0;wr<D.length;++wr)D[wr].terminate();return ue=!0,v(null,new t(vt.prime,16))}_.bitLength()>p&&(_=f(p,h));var Ve=_.toString(16);vr.target.postMessage({hex:Ve,workLoad:S}),_.dAddOffset(A,0)}}o(Ze,"workerMessage")}o(L,"generate")}o(u,"primeincFindPrimeWithWorkers");function f(p,h){var m=new t(p,h),v=p-1;return m.testBit(v)||m.bitwiseTo(t.ONE.shiftLeft(v),s,m),m.dAddOffset(31-m.mod(n).byteValue(),0),m}o(f,"generateRandom");function d(p){return p<=100?27:p<=150?18:p<=200?15:p<=250?12:p<=300?9:p<=350?8:p<=400?7:p<=500?6:p<=600?5:p<=800?4:p<=1250?3:2}o(d,"getMillerRabinTests")})()});var Xx=k((K1t,Kpe)=>{var _s=Js();Ud();Yx();O3();MG();FG();Vf();P0();typeof S0>"u"&&(S0=_s.jsbn.BigInteger);var S0,UG=_s.util.isNodejs?require("crypto"):null,xr=_s.asn1,zf=_s.util;_s.pki=_s.pki||{};Kpe.exports=_s.pki.rsa=_s.rsa=_s.rsa||{};var qs=_s.pki,gqe=[6,4,2,4,2,4,6,2],vqe={name:"PrivateKeyInfo",tagClass:xr.Class.UNIVERSAL,type:xr.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:xr.Class.UNIVERSAL,type:xr.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:xr.Class.UNIVERSAL,type:xr.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:xr.Class.UNIVERSAL,type:xr.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:xr.Class.UNIVERSAL,type:xr.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},yqe={name:"RSAPrivateKey",tagClass:xr.Class.UNIVERSAL,type:xr.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:xr.Class.UNIVERSAL,type:xr.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:xr.Class.UNIVERSAL,type:xr.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:xr.Class.UNIVERSAL,type:xr.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:xr.Class.UNIVERSAL,type:xr.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:xr.Class.UNIVERSAL,type:xr.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:xr.Class.UNIVERSAL,type:xr.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:xr.Class.UNIVERSAL,type:xr.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:xr.Class.UNIVERSAL,type:xr.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:xr.Class.UNIVERSAL,type:xr.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},_qe={name:"RSAPublicKey",tagClass:xr.Class.UNIVERSAL,type:xr.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:xr.Class.UNIVERSAL,type:xr.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:xr.Class.UNIVERSAL,type:xr.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},xqe=_s.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:xr.Class.UNIVERSAL,type:xr.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:xr.Class.UNIVERSAL,type:xr.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:xr.Class.UNIVERSAL,type:xr.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:xr.Class.UNIVERSAL,type:xr.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:xr.Class.UNIVERSAL,type:xr.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},bqe={name:"DigestInfo",tagClass:xr.Class.UNIVERSAL,type:xr.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm",tagClass:xr.Class.UNIVERSAL,type:xr.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm.algorithmIdentifier",tagClass:xr.Class.UNIVERSAL,type:xr.Type.OID,constructed:!1,capture:"algorithmIdentifier"},{name:"DigestInfo.DigestAlgorithm.parameters",tagClass:xr.Class.UNIVERSAL,type:xr.Type.NULL,capture:"parameters",optional:!0,constructed:!1}]},{name:"DigestInfo.digest",tagClass:xr.Class.UNIVERSAL,type:xr.Type.OCTETSTRING,constructed:!1,capture:"digest"}]},Eqe=o(function(e){var t;if(e.algorithm in qs.oids)t=qs.oids[e.algorithm];else{var r=new Error("Unknown message digest algorithm.");throw r.algorithm=e.algorithm,r}var n=xr.oidToDer(t).getBytes(),s=xr.create(xr.Class.UNIVERSAL,xr.Type.SEQUENCE,!0,[]),a=xr.create(xr.Class.UNIVERSAL,xr.Type.SEQUENCE,!0,[]);a.value.push(xr.create(xr.Class.UNIVERSAL,xr.Type.OID,!1,n)),a.value.push(xr.create(xr.Class.UNIVERSAL,xr.Type.NULL,!1,""));var l=xr.create(xr.Class.UNIVERSAL,xr.Type.OCTETSTRING,!1,e.digest().getBytes());return s.value.push(a),s.value.push(l),xr.toDer(s).getBytes()},"emsaPkcs1v15encode"),Gpe=o(function(e,t,r){if(r)return e.modPow(t.e,t.n);if(!t.p||!t.q)return e.modPow(t.d,t.n);t.dP||(t.dP=t.d.mod(t.p.subtract(S0.ONE))),t.dQ||(t.dQ=t.d.mod(t.q.subtract(S0.ONE))),t.qInv||(t.qInv=t.q.modInverse(t.p));var n;do n=new S0(_s.util.bytesToHex(_s.random.getBytes(t.n.bitLength()/8)),16);while(n.compareTo(t.n)>=0||!n.gcd(t.n).equals(S0.ONE));e=e.multiply(n.modPow(t.e,t.n)).mod(t.n);for(var s=e.mod(t.p).modPow(t.dP,t.p),a=e.mod(t.q).modPow(t.dQ,t.q);s.compareTo(a)<0;)s=s.add(t.p);var l=s.subtract(a).multiply(t.qInv).mod(t.p).multiply(t.q).add(a);return l=l.multiply(n.modInverse(t.n)).mod(t.n),l},"_modPow");qs.rsa.encrypt=function(e,t,r){var n=r,s,a=Math.ceil(t.n.bitLength()/8);r!==!1&&r!==!0?(n=r===2,s=zpe(e,t,r)):(s=_s.util.createBuffer(),s.putBytes(e));for(var l=new S0(s.toHex(),16),c=Gpe(l,t,n),u=c.toString(16),f=_s.util.createBuffer(),d=a-Math.ceil(u.length/2);d>0;)f.putByte(0),--d;return f.putBytes(_s.util.hexToBytes(u)),f.getBytes()};qs.rsa.decrypt=function(e,t,r,n){var s=Math.ceil(t.n.bitLength()/8);if(e.length!==s){var a=new Error("Encrypted message length is invalid.");throw a.length=e.length,a.expected=s,a}var l=new S0(_s.util.createBuffer(e).toHex(),16);if(l.compareTo(t.n)>=0)throw new Error("Encrypted message is invalid.");for(var c=Gpe(l,t,r),u=c.toString(16),f=_s.util.createBuffer(),d=s-Math.ceil(u.length/2);d>0;)f.putByte(0),--d;return f.putBytes(_s.util.hexToBytes(u)),n!==!1?kP(f.getBytes(),t,r):f.getBytes()};qs.rsa.createKeyPairGenerationState=function(e,t,r){typeof e=="string"&&(e=parseInt(e,10)),e=e||2048,r=r||{};var n=r.prng||_s.random,s={nextBytes:function(c){for(var u=n.getBytesSync(c.length),f=0;f<c.length;++f)c[f]=u.charCodeAt(f)}},a=r.algorithm||"PRIMEINC",l;if(a==="PRIMEINC")l={algorithm:a,state:0,bits:e,rng:s,eInt:t||65537,e:new S0(null),p:null,q:null,qBits:e>>1,pBits:e-(e>>1),pqState:0,num:null,keys:null},l.e.fromInt(l.eInt);else throw new Error("Invalid key generation algorithm: "+a);return l};qs.rsa.stepKeyPairGenerationState=function(e,t){"algorithm"in e||(e.algorithm="PRIMEINC");var r=new S0(null);r.fromInt(30);for(var n=0,s=o(function(p,h){return p|h},"op_or"),a=+new Date,l,c=0;e.keys===null&&(t<=0||c<t);){if(e.state===0){var u=e.p===null?e.pBits:e.qBits,f=u-1;e.pqState===0?(e.num=new S0(u,e.rng),e.num.testBit(f)||e.num.bitwiseTo(S0.ONE.shiftLeft(f),s,e.num),e.num.dAddOffset(31-e.num.mod(r).byteValue(),0),n=0,++e.pqState):e.pqState===1?e.num.bitLength()>u?e.pqState=0:e.num.isProbablePrime(Cqe(e.num.bitLength()))?++e.pqState:e.num.dAddOffset(gqe[n++%8],0):e.pqState===2?e.pqState=e.num.subtract(S0.ONE).gcd(e.e).compareTo(S0.ONE)===0?3:0:e.pqState===3&&(e.pqState=0,e.p===null?e.p=e.num:e.q=e.num,e.p!==null&&e.q!==null&&++e.state,e.num=null)}else if(e.state===1)e.p.compareTo(e.q)<0&&(e.num=e.p,e.p=e.q,e.q=e.num),++e.state;else if(e.state===2)e.p1=e.p.subtract(S0.ONE),e.q1=e.q.subtract(S0.ONE),e.phi=e.p1.multiply(e.q1),++e.state;else if(e.state===3)e.phi.gcd(e.e).compareTo(S0.ONE)===0?++e.state:(e.p=null,e.q=null,e.state=0);else if(e.state===4)e.n=e.p.multiply(e.q),e.n.bitLength()===e.bits?++e.state:(e.q=null,e.state=0);else if(e.state===5){var d=e.e.modInverse(e.phi);e.keys={privateKey:qs.rsa.setPrivateKey(e.n,e.e,d,e.p,e.q,d.mod(e.p1),d.mod(e.q1),e.q.modInverse(e.p)),publicKey:qs.rsa.setPublicKey(e.n,e.e)}}l=+new Date,c+=l-a,a=l}return e.keys!==null};qs.rsa.generateKeyPair=function(e,t,r,n){if(arguments.length===1?typeof e=="object"?(r=e,e=void 0):typeof e=="function"&&(n=e,e=void 0):arguments.length===2?typeof e=="number"?typeof t=="function"?(n=t,t=void 0):typeof t!="number"&&(r=t,t=void 0):(r=e,n=t,e=void 0,t=void 0):arguments.length===3&&(typeof t=="number"?typeof r=="function"&&(n=r,r=void 0):(n=r,r=t,t=void 0)),r=r||{},e===void 0&&(e=r.bits||2048),t===void 0&&(t=r.e||65537),!_s.options.usePureJavaScript&&!r.prng&&e>=256&&e<=16384&&(t===65537||t===3)){if(n){if(jpe("generateKeyPair"))return UG.generateKeyPair("rsa",{modulusLength:e,publicExponent:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(c,u,f){if(c)return n(c);n(null,{privateKey:qs.privateKeyFromPem(f),publicKey:qs.publicKeyFromPem(u)})});if(Hpe("generateKey")&&Hpe("exportKey"))return zf.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:Vpe(t),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(c){return zf.globalScope.crypto.subtle.exportKey("pkcs8",c.privateKey)}).then(void 0,function(c){n(c)}).then(function(c){if(c){var u=qs.privateKeyFromAsn1(xr.fromDer(_s.util.createBuffer(c)));n(null,{privateKey:u,publicKey:qs.setRsaPublicKey(u.n,u.e)})}});if($pe("generateKey")&&$pe("exportKey")){var s=zf.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:Vpe(t),hash:{name:"SHA-256"}},!0,["sign","verify"]);s.oncomplete=function(c){var u=c.target.result,f=zf.globalScope.msCrypto.subtle.exportKey("pkcs8",u.privateKey);f.oncomplete=function(d){var p=d.target.result,h=qs.privateKeyFromAsn1(xr.fromDer(_s.util.createBuffer(p)));n(null,{privateKey:h,publicKey:qs.setRsaPublicKey(h.n,h.e)})},f.onerror=function(d){n(d)}},s.onerror=function(c){n(c)};return}}else if(jpe("generateKeyPairSync")){var a=UG.generateKeyPairSync("rsa",{modulusLength:e,publicExponent:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:qs.privateKeyFromPem(a.privateKey),publicKey:qs.publicKeyFromPem(a.publicKey)}}}var l=qs.rsa.createKeyPairGenerationState(e,t,r);if(!n)return qs.rsa.stepKeyPairGenerationState(l,0),l.keys;Tqe(l,r,n)};qs.setRsaPublicKey=qs.rsa.setPublicKey=function(e,t){var r={n:e,e:t};return r.encrypt=function(n,s,a){if(typeof s=="string"?s=s.toUpperCase():s===void 0&&(s="RSAES-PKCS1-V1_5"),s==="RSAES-PKCS1-V1_5")s={encode:function(c,u,f){return zpe(c,u,2).getBytes()}};else if(s==="RSA-OAEP"||s==="RSAES-OAEP")s={encode:function(c,u){return _s.pkcs1.encode_rsa_oaep(u,c,a)}};else if(["RAW","NONE","NULL",null].indexOf(s)!==-1)s={encode:function(c){return c}};else if(typeof s=="string")throw new Error('Unsupported encryption scheme: "'+s+'".');var l=s.encode(n,r,!0);return qs.rsa.encrypt(l,r,!0)},r.verify=function(n,s,a,l){typeof a=="string"?a=a.toUpperCase():a===void 0&&(a="RSASSA-PKCS1-V1_5"),l===void 0&&(l={_parseAllDigestBytes:!0}),"_parseAllDigestBytes"in l||(l._parseAllDigestBytes=!0),a==="RSASSA-PKCS1-V1_5"?a={verify:function(u,f){f=kP(f,r,!0);var d=xr.fromDer(f,{parseAllBytes:l._parseAllDigestBytes}),p={},h=[];if(!xr.validate(d,bqe,p,h)){var m=new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value.");throw m.errors=h,m}var v=xr.derToOid(p.algorithmIdentifier);if(!(v===_s.oids.md2||v===_s.oids.md5||v===_s.oids.sha1||v===_s.oids.sha224||v===_s.oids.sha256||v===_s.oids.sha384||v===_s.oids.sha512||v===_s.oids["sha512-224"]||v===_s.oids["sha512-256"])){var m=new Error("Unknown RSASSA-PKCS1-v1_5 DigestAlgorithm identifier.");throw m.oid=v,m}if((v===_s.oids.md2||v===_s.oids.md5)&&!("parameters"in p))throw new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value. Missing algorithm identifer NULL parameters.");return u===p.digest}}:(a==="NONE"||a==="NULL"||a===null)&&(a={verify:function(u,f){return f=kP(f,r,!0),u===f}});var c=qs.rsa.decrypt(s,r,!0,!1);return a.verify(n,c,r.n.bitLength())},r};qs.setRsaPrivateKey=qs.rsa.setPrivateKey=function(e,t,r,n,s,a,l,c){var u={n:e,e:t,d:r,p:n,q:s,dP:a,dQ:l,qInv:c};return u.decrypt=function(f,d,p){typeof d=="string"?d=d.toUpperCase():d===void 0&&(d="RSAES-PKCS1-V1_5");var h=qs.rsa.decrypt(f,u,!1,!1);if(d==="RSAES-PKCS1-V1_5")d={decode:kP};else if(d==="RSA-OAEP"||d==="RSAES-OAEP")d={decode:function(m,v){return _s.pkcs1.decode_rsa_oaep(v,m,p)}};else if(["RAW","NONE","NULL",null].indexOf(d)!==-1)d={decode:function(m){return m}};else throw new Error('Unsupported encryption scheme: "'+d+'".');return d.decode(h,u,!1)},u.sign=function(f,d){var p=!1;typeof d=="string"&&(d=d.toUpperCase()),d===void 0||d==="RSASSA-PKCS1-V1_5"?(d={encode:Eqe},p=1):(d==="NONE"||d==="NULL"||d===null)&&(d={encode:function(){return f}},p=1);var h=d.encode(f,u.n.bitLength());return qs.rsa.encrypt(h,u,p)},u};qs.wrapRsaPrivateKey=function(e){return xr.create(xr.Class.UNIVERSAL,xr.Type.SEQUENCE,!0,[xr.create(xr.Class.UNIVERSAL,xr.Type.INTEGER,!1,xr.integerToDer(0).getBytes()),xr.create(xr.Class.UNIVERSAL,xr.Type.SEQUENCE,!0,[xr.create(xr.Class.UNIVERSAL,xr.Type.OID,!1,xr.oidToDer(qs.oids.rsaEncryption).getBytes()),xr.create(xr.Class.UNIVERSAL,xr.Type.NULL,!1,"")]),xr.create(xr.Class.UNIVERSAL,xr.Type.OCTETSTRING,!1,xr.toDer(e).getBytes())])};qs.privateKeyFromAsn1=function(e){var t={},r=[];if(xr.validate(e,vqe,t,r)&&(e=xr.fromDer(_s.util.createBuffer(t.privateKey))),t={},r=[],!xr.validate(e,yqe,t,r)){var n=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw n.errors=r,n}var s,a,l,c,u,f,d,p;return s=_s.util.createBuffer(t.privateKeyModulus).toHex(),a=_s.util.createBuffer(t.privateKeyPublicExponent).toHex(),l=_s.util.createBuffer(t.privateKeyPrivateExponent).toHex(),c=_s.util.createBuffer(t.privateKeyPrime1).toHex(),u=_s.util.createBuffer(t.privateKeyPrime2).toHex(),f=_s.util.createBuffer(t.privateKeyExponent1).toHex(),d=_s.util.createBuffer(t.privateKeyExponent2).toHex(),p=_s.util.createBuffer(t.privateKeyCoefficient).toHex(),qs.setRsaPrivateKey(new S0(s,16),new S0(a,16),new S0(l,16),new S0(c,16),new S0(u,16),new S0(f,16),new S0(d,16),new S0(p,16))};qs.privateKeyToAsn1=qs.privateKeyToRSAPrivateKey=function(e){return xr.create(xr.Class.UNIVERSAL,xr.Type.SEQUENCE,!0,[xr.create(xr.Class.UNIVERSAL,xr.Type.INTEGER,!1,xr.integerToDer(0).getBytes()),xr.create(xr.Class.UNIVERSAL,xr.Type.INTEGER,!1,op(e.n)),xr.create(xr.Class.UNIVERSAL,xr.Type.INTEGER,!1,op(e.e)),xr.create(xr.Class.UNIVERSAL,xr.Type.INTEGER,!1,op(e.d)),xr.create(xr.Class.UNIVERSAL,xr.Type.INTEGER,!1,op(e.p)),xr.create(xr.Class.UNIVERSAL,xr.Type.INTEGER,!1,op(e.q)),xr.create(xr.Class.UNIVERSAL,xr.Type.INTEGER,!1,op(e.dP)),xr.create(xr.Class.UNIVERSAL,xr.Type.INTEGER,!1,op(e.dQ)),xr.create(xr.Class.UNIVERSAL,xr.Type.INTEGER,!1,op(e.qInv))])};qs.publicKeyFromAsn1=function(e){var t={},r=[];if(xr.validate(e,xqe,t,r)){var n=xr.derToOid(t.publicKeyOid);if(n!==qs.oids.rsaEncryption){var s=new Error("Cannot read public key. Unknown OID.");throw s.oid=n,s}e=t.rsaPublicKey}if(r=[],!xr.validate(e,_qe,t,r)){var s=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.");throw s.errors=r,s}var a=_s.util.createBuffer(t.publicKeyModulus).toHex(),l=_s.util.createBuffer(t.publicKeyExponent).toHex();return qs.setRsaPublicKey(new S0(a,16),new S0(l,16))};qs.publicKeyToAsn1=qs.publicKeyToSubjectPublicKeyInfo=function(e){return xr.create(xr.Class.UNIVERSAL,xr.Type.SEQUENCE,!0,[xr.create(xr.Class.UNIVERSAL,xr.Type.SEQUENCE,!0,[xr.create(xr.Class.UNIVERSAL,xr.Type.OID,!1,xr.oidToDer(qs.oids.rsaEncryption).getBytes()),xr.create(xr.Class.UNIVERSAL,xr.Type.NULL,!1,"")]),xr.create(xr.Class.UNIVERSAL,xr.Type.BITSTRING,!1,[qs.publicKeyToRSAPublicKey(e)])])};qs.publicKeyToRSAPublicKey=function(e){return xr.create(xr.Class.UNIVERSAL,xr.Type.SEQUENCE,!0,[xr.create(xr.Class.UNIVERSAL,xr.Type.INTEGER,!1,op(e.n)),xr.create(xr.Class.UNIVERSAL,xr.Type.INTEGER,!1,op(e.e))])};function zpe(e,t,r){var n=_s.util.createBuffer(),s=Math.ceil(t.n.bitLength()/8);if(e.length>s-11){var a=new Error("Message is too long for PKCS#1 v1.5 padding.");throw a.length=e.length,a.max=s-11,a}n.putByte(0),n.putByte(r);var l=s-3-e.length,c;if(r===0||r===1){c=r===0?0:255;for(var u=0;u<l;++u)n.putByte(c)}else for(;l>0;){for(var f=0,d=_s.random.getBytes(l),u=0;u<l;++u)c=d.charCodeAt(u),c===0?++f:n.putByte(c);l=f}return n.putByte(0),n.putBytes(e),n}o(zpe,"_encodePkcs1_v1_5");function kP(e,t,r,n){var s=Math.ceil(t.n.bitLength()/8),a=_s.util.createBuffer(e),l=a.getByte(),c=a.getByte();if(l!==0||r&&c!==0&&c!==1||!r&&c!=2||r&&c===0&&typeof n>"u")throw new Error("Encryption block is invalid.");var u=0;if(c===0){u=s-3-n;for(var f=0;f<u;++f)if(a.getByte()!==0)throw new Error("Encryption block is invalid.")}else if(c===1)for(u=0;a.length()>1;){if(a.getByte()!==255){--a.read;break}++u}else if(c===2)for(u=0;a.length()>1;){if(a.getByte()===0){--a.read;break}++u}var d=a.getByte();if(d!==0||u!==s-3-a.length())throw new Error("Encryption block is invalid.");return a.getBytes()}o(kP,"_decodePkcs1_v1_5");function Tqe(e,t,r){typeof t=="function"&&(r=t,t={}),t=t||{};var n={algorithm:{name:t.algorithm||"PRIMEINC",options:{workers:t.workers||2,workLoad:t.workLoad||100,workerScript:t.workerScript}}};"prng"in t&&(n.prng=t.prng),s();function s(){a(e.pBits,function(c,u){if(c)return r(c);if(e.p=u,e.q!==null)return l(c,e.q);a(e.qBits,l)})}o(s,"generate");function a(c,u){_s.prime.generateProbablePrime(c,n,u)}o(a,"getPrime");function l(c,u){if(c)return r(c);if(e.q=u,e.p.compareTo(e.q)<0){var f=e.p;e.p=e.q,e.q=f}if(e.p.subtract(S0.ONE).gcd(e.e).compareTo(S0.ONE)!==0){e.p=null,s();return}if(e.q.subtract(S0.ONE).gcd(e.e).compareTo(S0.ONE)!==0){e.q=null,a(e.qBits,l);return}if(e.p1=e.p.subtract(S0.ONE),e.q1=e.q.subtract(S0.ONE),e.phi=e.p1.multiply(e.q1),e.phi.gcd(e.e).compareTo(S0.ONE)!==0){e.p=e.q=null,s();return}if(e.n=e.p.multiply(e.q),e.n.bitLength()!==e.bits){e.q=null,a(e.qBits,l);return}var d=e.e.modInverse(e.phi);e.keys={privateKey:qs.rsa.setPrivateKey(e.n,e.e,d,e.p,e.q,d.mod(e.p1),d.mod(e.q1),e.q.modInverse(e.p)),publicKey:qs.rsa.setPublicKey(e.n,e.e)},r(null,e.keys)}o(l,"finish")}o(Tqe,"_generateKeyPair");function op(e){var t=e.toString(16);t[0]>="8"&&(t="00"+t);var r=_s.util.hexToBytes(t);return r.length>1&&(r.charCodeAt(0)===0&&!(r.charCodeAt(1)&128)||r.charCodeAt(0)===255&&(r.charCodeAt(1)&128)===128)?r.substr(1):r}o(op,"_bnToBytes");function Cqe(e){return e<=100?27:e<=150?18:e<=200?15:e<=250?12:e<=300?9:e<=350?8:e<=400?7:e<=500?6:e<=600?5:e<=800?4:e<=1250?3:2}o(Cqe,"_getMillerRabinTests");function jpe(e){return _s.util.isNodejs&&typeof UG[e]=="function"}o(jpe,"_detectNodeCrypto");function Hpe(e){return typeof zf.globalScope<"u"&&typeof zf.globalScope.crypto=="object"&&typeof zf.globalScope.crypto.subtle=="object"&&typeof zf.globalScope.crypto.subtle[e]=="function"}o(Hpe,"_detectSubtleCrypto");function $pe(e){return typeof zf.globalScope<"u"&&typeof zf.globalScope.msCrypto=="object"&&typeof zf.globalScope.msCrypto.subtle=="object"&&typeof zf.globalScope.msCrypto.subtle[e]=="function"}o($pe,"_detectSubtleMsCrypto");function Vpe(e){for(var t=_s.util.hexToBytes(e.toString(16)),r=new Uint8Array(t.length),n=0;n<t.length;++n)r[n]=t.charCodeAt(n);return r}o(Vpe,"_intToUint8Array")});var qG=k((Y1t,Jpe)=>{var ji=Js();N3();Ud();Kx();ep();O3();PP();Ug();Vf();NG();Xx();P0();typeof Wpe>"u"&&(Wpe=ji.jsbn.BigInteger);var Wpe,Br=ji.asn1,Ks=ji.pki=ji.pki||{};Jpe.exports=Ks.pbe=ji.pbe=ji.pbe||{};var Hg=Ks.oids,Sqe={name:"EncryptedPrivateKeyInfo",tagClass:Br.Class.UNIVERSAL,type:Br.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:Br.Class.UNIVERSAL,type:Br.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:Br.Class.UNIVERSAL,type:Br.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:Br.Class.UNIVERSAL,type:Br.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:Br.Class.UNIVERSAL,type:Br.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},Iqe={name:"PBES2Algorithms",tagClass:Br.Class.UNIVERSAL,type:Br.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:Br.Class.UNIVERSAL,type:Br.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:Br.Class.UNIVERSAL,type:Br.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:Br.Class.UNIVERSAL,type:Br.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:Br.Class.UNIVERSAL,type:Br.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:Br.Class.UNIVERSAL,type:Br.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:Br.Class.UNIVERSAL,type:Br.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:Br.Class.UNIVERSAL,type:Br.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:Br.Class.UNIVERSAL,type:Br.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:Br.Class.UNIVERSAL,type:Br.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:Br.Class.UNIVERSAL,type:Br.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:Br.Class.UNIVERSAL,type:Br.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},Aqe={name:"pkcs-12PbeParams",tagClass:Br.Class.UNIVERSAL,type:Br.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:Br.Class.UNIVERSAL,type:Br.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:Br.Class.UNIVERSAL,type:Br.Type.INTEGER,constructed:!1,capture:"iterations"}]};Ks.encryptPrivateKeyInfo=function(e,t,r){r=r||{},r.saltSize=r.saltSize||8,r.count=r.count||2048,r.algorithm=r.algorithm||"aes128",r.prfAlgorithm=r.prfAlgorithm||"sha1";var n=ji.random.getBytesSync(r.saltSize),s=r.count,a=Br.integerToDer(s),l,c,u;if(r.algorithm.indexOf("aes")===0||r.algorithm==="des"){var f,d,p;switch(r.algorithm){case"aes128":l=16,f=16,d=Hg["aes128-CBC"],p=ji.aes.createEncryptionCipher;break;case"aes192":l=24,f=16,d=Hg["aes192-CBC"],p=ji.aes.createEncryptionCipher;break;case"aes256":l=32,f=16,d=Hg["aes256-CBC"],p=ji.aes.createEncryptionCipher;break;case"des":l=8,f=8,d=Hg.desCBC,p=ji.des.createEncryptionCipher;break;default:var h=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw h.algorithm=r.algorithm,h}var m="hmacWith"+r.prfAlgorithm.toUpperCase(),v=Qpe(m),_=ji.pkcs5.pbkdf2(t,n,s,l,v),b=ji.random.getBytesSync(f),S=p(_);S.start(b),S.update(Br.toDer(e)),S.finish(),u=S.output.getBytes();var A=wqe(n,a,l,m);c=Br.create(Br.Class.UNIVERSAL,Br.Type.SEQUENCE,!0,[Br.create(Br.Class.UNIVERSAL,Br.Type.OID,!1,Br.oidToDer(Hg.pkcs5PBES2).getBytes()),Br.create(Br.Class.UNIVERSAL,Br.Type.SEQUENCE,!0,[Br.create(Br.Class.UNIVERSAL,Br.Type.SEQUENCE,!0,[Br.create(Br.Class.UNIVERSAL,Br.Type.OID,!1,Br.oidToDer(Hg.pkcs5PBKDF2).getBytes()),A]),Br.create(Br.Class.UNIVERSAL,Br.Type.SEQUENCE,!0,[Br.create(Br.Class.UNIVERSAL,Br.Type.OID,!1,Br.oidToDer(d).getBytes()),Br.create(Br.Class.UNIVERSAL,Br.Type.OCTETSTRING,!1,b)])])])}else if(r.algorithm==="3des"){l=24;var O=new ji.util.ByteBuffer(n),_=Ks.pbe.generatePkcs12Key(t,O,1,s,l),b=Ks.pbe.generatePkcs12Key(t,O,2,s,l),S=ji.des.createEncryptionCipher(_);S.start(b),S.update(Br.toDer(e)),S.finish(),u=S.output.getBytes(),c=Br.create(Br.Class.UNIVERSAL,Br.Type.SEQUENCE,!0,[Br.create(Br.Class.UNIVERSAL,Br.Type.OID,!1,Br.oidToDer(Hg["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),Br.create(Br.Class.UNIVERSAL,Br.Type.SEQUENCE,!0,[Br.create(Br.Class.UNIVERSAL,Br.Type.OCTETSTRING,!1,n),Br.create(Br.Class.UNIVERSAL,Br.Type.INTEGER,!1,a.getBytes())])])}else{var h=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw h.algorithm=r.algorithm,h}var L=Br.create(Br.Class.UNIVERSAL,Br.Type.SEQUENCE,!0,[c,Br.create(Br.Class.UNIVERSAL,Br.Type.OCTETSTRING,!1,u)]);return L};Ks.decryptPrivateKeyInfo=function(e,t){var r=null,n={},s=[];if(!Br.validate(e,Sqe,n,s)){var a=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw a.errors=s,a}var l=Br.derToOid(n.encryptionOid),c=Ks.pbe.getCipher(l,n.encryptionParams,t),u=ji.util.createBuffer(n.encryptedData);return c.update(u),c.finish()&&(r=Br.fromDer(c.output)),r};Ks.encryptedPrivateKeyToPem=function(e,t){var r={type:"ENCRYPTED PRIVATE KEY",body:Br.toDer(e).getBytes()};return ji.pem.encode(r,{maxline:t})};Ks.encryptedPrivateKeyFromPem=function(e){var t=ji.pem.decode(e)[0];if(t.type!=="ENCRYPTED PRIVATE KEY"){var r=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return Br.fromDer(t.body)};Ks.encryptRsaPrivateKey=function(e,t,r){if(r=r||{},!r.legacy){var n=Ks.wrapRsaPrivateKey(Ks.privateKeyToAsn1(e));return n=Ks.encryptPrivateKeyInfo(n,t,r),Ks.encryptedPrivateKeyToPem(n)}var s,a,l,c;switch(r.algorithm){case"aes128":s="AES-128-CBC",l=16,a=ji.random.getBytesSync(16),c=ji.aes.createEncryptionCipher;break;case"aes192":s="AES-192-CBC",l=24,a=ji.random.getBytesSync(16),c=ji.aes.createEncryptionCipher;break;case"aes256":s="AES-256-CBC",l=32,a=ji.random.getBytesSync(16),c=ji.aes.createEncryptionCipher;break;case"3des":s="DES-EDE3-CBC",l=24,a=ji.random.getBytesSync(8),c=ji.des.createEncryptionCipher;break;case"des":s="DES-CBC",l=8,a=ji.random.getBytesSync(8),c=ji.des.createEncryptionCipher;break;default:var u=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+r.algorithm+'".');throw u.algorithm=r.algorithm,u}var f=ji.pbe.opensslDeriveBytes(t,a.substr(0,8),l),d=c(f);d.start(a),d.update(Br.toDer(Ks.privateKeyToAsn1(e))),d.finish();var p={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:s,parameters:ji.util.bytesToHex(a).toUpperCase()},body:d.output.getBytes()};return ji.pem.encode(p)};Ks.decryptRsaPrivateKey=function(e,t){var r=null,n=ji.pem.decode(e)[0];if(n.type!=="ENCRYPTED PRIVATE KEY"&&n.type!=="PRIVATE KEY"&&n.type!=="RSA PRIVATE KEY"){var s=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".');throw s.headerType=s,s}if(n.procType&&n.procType.type==="ENCRYPTED"){var a,l;switch(n.dekInfo.algorithm){case"DES-CBC":a=8,l=ji.des.createDecryptionCipher;break;case"DES-EDE3-CBC":a=24,l=ji.des.createDecryptionCipher;break;case"AES-128-CBC":a=16,l=ji.aes.createDecryptionCipher;break;case"AES-192-CBC":a=24,l=ji.aes.createDecryptionCipher;break;case"AES-256-CBC":a=32,l=ji.aes.createDecryptionCipher;break;case"RC2-40-CBC":a=5,l=o(function(p){return ji.rc2.createDecryptionCipher(p,40)},"cipherFn");break;case"RC2-64-CBC":a=8,l=o(function(p){return ji.rc2.createDecryptionCipher(p,64)},"cipherFn");break;case"RC2-128-CBC":a=16,l=o(function(p){return ji.rc2.createDecryptionCipher(p,128)},"cipherFn");break;default:var s=new Error('Could not decrypt private key; unsupported encryption algorithm "'+n.dekInfo.algorithm+'".');throw s.algorithm=n.dekInfo.algorithm,s}var c=ji.util.hexToBytes(n.dekInfo.parameters),u=ji.pbe.opensslDeriveBytes(t,c.substr(0,8),a),f=l(u);if(f.start(c),f.update(ji.util.createBuffer(n.body)),f.finish())r=f.output.getBytes();else return r}else r=n.body;return n.type==="ENCRYPTED PRIVATE KEY"?r=Ks.decryptPrivateKeyInfo(Br.fromDer(r),t):r=Br.fromDer(r),r!==null&&(r=Ks.privateKeyFromAsn1(r)),r};Ks.pbe.generatePkcs12Key=function(e,t,r,n,s,a){var l,c;if(typeof a>"u"||a===null){if(!("sha1"in ji.md))throw new Error('"sha1" hash algorithm unavailable.');a=ji.md.sha1.create()}var u=a.digestLength,f=a.blockLength,d=new ji.util.ByteBuffer,p=new ji.util.ByteBuffer;if(e!=null){for(c=0;c<e.length;c++)p.putInt16(e.charCodeAt(c));p.putInt16(0)}var h=p.length(),m=t.length(),v=new ji.util.ByteBuffer;v.fillWithByte(r,f);var _=f*Math.ceil(m/f),b=new ji.util.ByteBuffer;for(c=0;c<_;c++)b.putByte(t.at(c%m));var S=f*Math.ceil(h/f),A=new ji.util.ByteBuffer;for(c=0;c<S;c++)A.putByte(p.at(c%h));var O=b;O.putBuffer(A);for(var L=Math.ceil(s/u),D=1;D<=L;D++){var $=new ji.util.ByteBuffer;$.putBytes(v.bytes()),$.putBytes(O.bytes());for(var de=0;de<n;de++)a.start(),a.update($.getBytes()),$=a.digest();var ue=new ji.util.ByteBuffer;for(c=0;c<f;c++)ue.putByte($.at(c%u));var Ze=Math.ceil(m/f)+Math.ceil(h/f),vr=new ji.util.ByteBuffer;for(l=0;l<Ze;l++){var vt=new ji.util.ByteBuffer(O.getBytes(f)),wr=511;for(c=ue.length()-1;c>=0;c--)wr=wr>>8,wr+=ue.at(c)+vt.at(c),vt.setAt(c,wr&255);vr.putBuffer(vt)}O=vr,d.putBuffer($)}return d.truncate(d.length()-s),d};Ks.pbe.getCipher=function(e,t,r){switch(e){case Ks.oids.pkcs5PBES2:return Ks.pbe.getCipherForPBES2(e,t,r);case Ks.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case Ks.oids["pbewithSHAAnd40BitRC2-CBC"]:return Ks.pbe.getCipherForPKCS12PBE(e,t,r);default:var n=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw n.oid=e,n.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],n}};Ks.pbe.getCipherForPBES2=function(e,t,r){var n={},s=[];if(!Br.validate(t,Iqe,n,s)){var a=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw a.errors=s,a}if(e=Br.derToOid(n.kdfOid),e!==Ks.oids.pkcs5PBKDF2){var a=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.");throw a.oid=e,a.supportedOids=["pkcs5PBKDF2"],a}if(e=Br.derToOid(n.encOid),e!==Ks.oids["aes128-CBC"]&&e!==Ks.oids["aes192-CBC"]&&e!==Ks.oids["aes256-CBC"]&&e!==Ks.oids["des-EDE3-CBC"]&&e!==Ks.oids.desCBC){var a=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.");throw a.oid=e,a.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],a}var l=n.kdfSalt,c=ji.util.createBuffer(n.kdfIterationCount);c=c.getInt(c.length()<<3);var u,f;switch(Ks.oids[e]){case"aes128-CBC":u=16,f=ji.aes.createDecryptionCipher;break;case"aes192-CBC":u=24,f=ji.aes.createDecryptionCipher;break;case"aes256-CBC":u=32,f=ji.aes.createDecryptionCipher;break;case"des-EDE3-CBC":u=24,f=ji.des.createDecryptionCipher;break;case"desCBC":u=8,f=ji.des.createDecryptionCipher;break}var d=Xpe(n.prfOid),p=ji.pkcs5.pbkdf2(r,l,c,u,d),h=n.encIv,m=f(p);return m.start(h),m};Ks.pbe.getCipherForPKCS12PBE=function(e,t,r){var n={},s=[];if(!Br.validate(t,Aqe,n,s)){var a=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw a.errors=s,a}var l=ji.util.createBuffer(n.salt),c=ji.util.createBuffer(n.iterations);c=c.getInt(c.length()<<3);var u,f,d;switch(e){case Ks.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:u=24,f=8,d=ji.des.startDecrypting;break;case Ks.oids["pbewithSHAAnd40BitRC2-CBC"]:u=5,f=8,d=o(function(_,b){var S=ji.rc2.createDecryptionCipher(_,40);return S.start(b,null),S},"cipherFn");break;default:var a=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.");throw a.oid=e,a}var p=Xpe(n.prfOid),h=Ks.pbe.generatePkcs12Key(r,l,1,c,u,p);p.start();var m=Ks.pbe.generatePkcs12Key(r,l,2,c,f,p);return d(h,m)};Ks.pbe.opensslDeriveBytes=function(e,t,r,n){if(typeof n>"u"||n===null){if(!("md5"in ji.md))throw new Error('"md5" hash algorithm unavailable.');n=ji.md.md5.create()}t===null&&(t="");for(var s=[Ype(n,e+t)],a=16,l=1;a<r;++l,a+=16)s.push(Ype(n,s[l-1]+e+t));return s.join("").substr(0,r)};function Ype(e,t){return e.start().update(t).digest().getBytes()}o(Ype,"hash");function Xpe(e){var t;if(!e)t="hmacWithSHA1";else if(t=Ks.oids[Br.derToOid(e)],!t){var r=new Error("Unsupported PRF OID.");throw r.oid=e,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}return Qpe(t)}o(Xpe,"prfOidToMessageDigest");function Qpe(e){var t=ji.md;switch(e){case"hmacWithSHA224":t=ji.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":e=e.substr(8).toLowerCase();break;default:var r=new Error("Unsupported PRF algorithm.");throw r.algorithm=e,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}if(!t||!(e in t))throw new Error("Unknown hash algorithm: "+e);return t[e].create()}o(Qpe,"prfAlgorithmToMessageDigest");function wqe(e,t,r,n){var s=Br.create(Br.Class.UNIVERSAL,Br.Type.SEQUENCE,!0,[Br.create(Br.Class.UNIVERSAL,Br.Type.OCTETSTRING,!1,e),Br.create(Br.Class.UNIVERSAL,Br.Type.INTEGER,!1,t.getBytes())]);return n!=="hmacWithSHA1"&&s.value.push(Br.create(Br.Class.UNIVERSAL,Br.Type.INTEGER,!1,ji.util.hexToBytes(r.toString(16))),Br.create(Br.Class.UNIVERSAL,Br.Type.SEQUENCE,!0,[Br.create(Br.Class.UNIVERSAL,Br.Type.OID,!1,Br.oidToDer(Ks.oids[n]).getBytes()),Br.create(Br.Class.UNIVERSAL,Br.Type.NULL,!1,"")])),s}o(wqe,"createPbkdf2Params")});var jG=k((Q1t,the)=>{var fy=Js();Ud();P0();var Fi=fy.asn1,dy=the.exports=fy.pkcs7asn1=fy.pkcs7asn1||{};fy.pkcs7=fy.pkcs7||{};fy.pkcs7.asn1=dy;var Zpe={name:"ContentInfo",tagClass:Fi.Class.UNIVERSAL,type:Fi.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:Fi.Class.UNIVERSAL,type:Fi.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:Fi.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};dy.contentInfoValidator=Zpe;var ehe={name:"EncryptedContentInfo",tagClass:Fi.Class.UNIVERSAL,type:Fi.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:Fi.Class.UNIVERSAL,type:Fi.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:Fi.Class.UNIVERSAL,type:Fi.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:Fi.Class.UNIVERSAL,type:Fi.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:Fi.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:Fi.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};dy.envelopedDataValidator={name:"EnvelopedData",tagClass:Fi.Class.UNIVERSAL,type:Fi.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:Fi.Class.UNIVERSAL,type:Fi.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:Fi.Class.UNIVERSAL,type:Fi.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(ehe)};dy.encryptedDataValidator={name:"EncryptedData",tagClass:Fi.Class.UNIVERSAL,type:Fi.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:Fi.Class.UNIVERSAL,type:Fi.Type.INTEGER,constructed:!1,capture:"version"}].concat(ehe)};var Rqe={name:"SignerInfo",tagClass:Fi.Class.UNIVERSAL,type:Fi.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:Fi.Class.UNIVERSAL,type:Fi.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:Fi.Class.UNIVERSAL,type:Fi.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:Fi.Class.UNIVERSAL,type:Fi.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:Fi.Class.UNIVERSAL,type:Fi.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:Fi.Class.UNIVERSAL,type:Fi.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:Fi.Class.UNIVERSAL,type:Fi.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:Fi.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:Fi.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:Fi.Class.UNIVERSAL,type:Fi.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:Fi.Class.UNIVERSAL,type:Fi.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:Fi.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]};dy.signedDataValidator={name:"SignedData",tagClass:Fi.Class.UNIVERSAL,type:Fi.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:Fi.Class.UNIVERSAL,type:Fi.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:Fi.Class.UNIVERSAL,type:Fi.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},Zpe,{name:"SignedData.Certificates",tagClass:Fi.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:Fi.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:Fi.Class.UNIVERSAL,type:Fi.Type.SET,capture:"signerInfos",optional:!0,value:[Rqe]}]};dy.recipientInfoValidator={name:"RecipientInfo",tagClass:Fi.Class.UNIVERSAL,type:Fi.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:Fi.Class.UNIVERSAL,type:Fi.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:Fi.Class.UNIVERSAL,type:Fi.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:Fi.Class.UNIVERSAL,type:Fi.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:Fi.Class.UNIVERSAL,type:Fi.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:Fi.Class.UNIVERSAL,type:Fi.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:Fi.Class.UNIVERSAL,type:Fi.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:Fi.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter",optional:!0}]},{name:"RecipientInfo.encryptedKey",tagClass:Fi.Class.UNIVERSAL,type:Fi.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]}});var HG=k((J1t,rhe)=>{var $g=Js();P0();$g.mgf=$g.mgf||{};var Pqe=rhe.exports=$g.mgf.mgf1=$g.mgf1=$g.mgf1||{};Pqe.create=function(e){var t={generate:function(r,n){for(var s=new $g.util.ByteBuffer,a=Math.ceil(n/e.digestLength),l=0;l<a;l++){var c=new $g.util.ByteBuffer;c.putInt32(l),e.start(),e.update(r+c.getBytes()),s.putBuffer(e.digest())}return s.truncate(s.length()-n),s.getBytes()}};return t}});var ihe=k((Z1t,nhe)=>{var MP=Js();HG();nhe.exports=MP.mgf=MP.mgf||{};MP.mgf.mgf1=MP.mgf1});var BP=k((ept,she)=>{var Vg=Js();Vf();P0();var Nqe=she.exports=Vg.pss=Vg.pss||{};Nqe.create=function(e){arguments.length===3&&(e={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var t=e.md,r=e.mgf,n=t.digestLength,s=e.salt||null;typeof s=="string"&&(s=Vg.util.createBuffer(s));var a;if("saltLength"in e)a=e.saltLength;else if(s!==null)a=s.length();else throw new Error("Salt length not specified or specific salt not given.");if(s!==null&&s.length()!==a)throw new Error("Given salt length does not match length of given salt.");var l=e.prng||Vg.random,c={};return c.encode=function(u,f){var d,p=f-1,h=Math.ceil(p/8),m=u.digest().getBytes();if(h<n+a+2)throw new Error("Message is too long to encrypt.");var v;s===null?v=l.getBytesSync(a):v=s.bytes();var _=new Vg.util.ByteBuffer;_.fillWithByte(0,8),_.putBytes(m),_.putBytes(v),t.start(),t.update(_.getBytes());var b=t.digest().getBytes(),S=new Vg.util.ByteBuffer;S.fillWithByte(0,h-a-n-2),S.putByte(1),S.putBytes(v);var A=S.getBytes(),O=h-n-1,L=r.generate(b,O),D="";for(d=0;d<O;d++)D+=String.fromCharCode(A.charCodeAt(d)^L.charCodeAt(d));var $=65280>>8*h-p&255;return D=String.fromCharCode(D.charCodeAt(0)&~$)+D.substr(1),D+b+"\xBC"},c.verify=function(u,f,d){var p,h=d-1,m=Math.ceil(h/8);if(f=f.substr(-m),m<n+a+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(f.charCodeAt(m-1)!==188)throw new Error("Encoded message does not end in 0xBC.");var v=m-n-1,_=f.substr(0,v),b=f.substr(v,n),S=65280>>8*m-h&255;if(_.charCodeAt(0)&S)throw new Error("Bits beyond keysize not zero as expected.");var A=r.generate(b,v),O="";for(p=0;p<v;p++)O+=String.fromCharCode(_.charCodeAt(p)^A.charCodeAt(p));O=String.fromCharCode(O.charCodeAt(0)&~S)+O.substr(1);var L=m-n-a-2;for(p=0;p<L;p++)if(O.charCodeAt(p)!==0)throw new Error("Leftmost octets not zero as expected");if(O.charCodeAt(L)!==1)throw new Error("Inconsistent PSS signature, 0x01 marker not found");var D=O.substr(-a),$=new Vg.util.ByteBuffer;$.fillWithByte(0,8),$.putBytes(u),$.putBytes(D),t.start(),t.update($.getBytes());var de=t.digest().getBytes();return b===de},c}});var qP=k((tpt,uhe)=>{var xs=Js();N3();Ud();Kx();ep();ihe();O3();Ug();BP();Xx();P0();var Y=xs.asn1,wn=uhe.exports=xs.pki=xs.pki||{},I0=wn.oids,za={};za.CN=I0.commonName;za.commonName="CN";za.C=I0.countryName;za.countryName="C";za.L=I0.localityName;za.localityName="L";za.ST=I0.stateOrProvinceName;za.stateOrProvinceName="ST";za.O=I0.organizationName;za.organizationName="O";za.OU=I0.organizationalUnitName;za.organizationalUnitName="OU";za.E=I0.emailAddress;za.emailAddress="E";var ohe=xs.pki.rsa.publicKeyValidator,Oqe={name:"Certificate",tagClass:Y.Class.UNIVERSAL,type:Y.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:Y.Class.UNIVERSAL,type:Y.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:Y.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:Y.Class.UNIVERSAL,type:Y.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:Y.Class.UNIVERSAL,type:Y.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:Y.Class.UNIVERSAL,type:Y.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:Y.Class.UNIVERSAL,type:Y.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:Y.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:Y.Class.UNIVERSAL,type:Y.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:Y.Class.UNIVERSAL,type:Y.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:Y.Class.UNIVERSAL,type:Y.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:Y.Class.UNIVERSAL,type:Y.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:Y.Class.UNIVERSAL,type:Y.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:Y.Class.UNIVERSAL,type:Y.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:Y.Class.UNIVERSAL,type:Y.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},ohe,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:Y.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:Y.Class.UNIVERSAL,type:Y.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:Y.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:Y.Class.UNIVERSAL,type:Y.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:Y.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:Y.Class.UNIVERSAL,type:Y.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:Y.Class.UNIVERSAL,type:Y.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:Y.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:Y.Class.UNIVERSAL,type:Y.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},Dqe={name:"rsapss",tagClass:Y.Class.UNIVERSAL,type:Y.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:Y.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:Y.Class.UNIVERSAL,type:Y.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:Y.Class.UNIVERSAL,type:Y.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:Y.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:Y.Class.UNIVERSAL,type:Y.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:Y.Class.UNIVERSAL,type:Y.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:Y.Class.UNIVERSAL,type:Y.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:Y.Class.UNIVERSAL,type:Y.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:Y.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:Y.Class.UNIVERSAL,type:Y.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:Y.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:Y.Class.UNIVERSAL,type:Y.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},Lqe={name:"CertificationRequestInfo",tagClass:Y.Class.UNIVERSAL,type:Y.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:Y.Class.UNIVERSAL,type:Y.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:Y.Class.UNIVERSAL,type:Y.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},ohe,{name:"CertificationRequestInfo.attributes",tagClass:Y.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:Y.Class.UNIVERSAL,type:Y.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:Y.Class.UNIVERSAL,type:Y.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:Y.Class.UNIVERSAL,type:Y.Type.SET,constructed:!0}]}]}]},kqe={name:"CertificationRequest",tagClass:Y.Class.UNIVERSAL,type:Y.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[Lqe,{name:"CertificationRequest.signatureAlgorithm",tagClass:Y.Class.UNIVERSAL,type:Y.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:Y.Class.UNIVERSAL,type:Y.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:Y.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:Y.Class.UNIVERSAL,type:Y.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};wn.RDNAttributesAsArray=function(e,t){for(var r=[],n,s,a,l=0;l<e.value.length;++l){n=e.value[l];for(var c=0;c<n.value.length;++c)a={},s=n.value[c],a.type=Y.derToOid(s.value[0].value),a.value=s.value[1].value,a.valueTagClass=s.value[1].type,a.type in I0&&(a.name=I0[a.type],a.name in za&&(a.shortName=za[a.name])),t&&(t.update(a.type),t.update(a.value)),r.push(a)}return r};wn.CRIAttributesAsArray=function(e){for(var t=[],r=0;r<e.length;++r)for(var n=e[r],s=Y.derToOid(n.value[0].value),a=n.value[1].value,l=0;l<a.length;++l){var c={};if(c.type=s,c.value=a[l].value,c.valueTagClass=a[l].type,c.type in I0&&(c.name=I0[c.type],c.name in za&&(c.shortName=za[c.name])),c.type===I0.extensionRequest){c.extensions=[];for(var u=0;u<c.value.length;++u)c.extensions.push(wn.certificateExtensionFromAsn1(c.value[u]))}t.push(c)}return t};function k3(e,t){typeof t=="string"&&(t={shortName:t});for(var r=null,n,s=0;r===null&&s<e.attributes.length;++s)n=e.attributes[s],(t.type&&t.type===n.type||t.name&&t.name===n.name||t.shortName&&t.shortName===n.shortName)&&(r=n);return r}o(k3,"_getAttribute");var FP=o(function(e,t,r){var n={};if(e!==I0["RSASSA-PSS"])return n;r&&(n={hash:{algorithmOid:I0.sha1},mgf:{algorithmOid:I0.mgf1,hash:{algorithmOid:I0.sha1}},saltLength:20});var s={},a=[];if(!Y.validate(t,Dqe,s,a)){var l=new Error("Cannot read RSASSA-PSS parameter block.");throw l.errors=a,l}return s.hashOid!==void 0&&(n.hash=n.hash||{},n.hash.algorithmOid=Y.derToOid(s.hashOid)),s.maskGenOid!==void 0&&(n.mgf=n.mgf||{},n.mgf.algorithmOid=Y.derToOid(s.maskGenOid),n.mgf.hash=n.mgf.hash||{},n.mgf.hash.algorithmOid=Y.derToOid(s.maskGenHashOid)),s.saltLength!==void 0&&(n.saltLength=s.saltLength.charCodeAt(0)),n},"_readSignatureParameters"),UP=o(function(e){switch(I0[e.signatureOid]){case"sha1WithRSAEncryption":case"sha1WithRSASignature":return xs.md.sha1.create();case"md5WithRSAEncryption":return xs.md.md5.create();case"sha256WithRSAEncryption":return xs.md.sha256.create();case"sha384WithRSAEncryption":return xs.md.sha384.create();case"sha512WithRSAEncryption":return xs.md.sha512.create();case"RSASSA-PSS":return xs.md.sha256.create();default:var t=new Error("Could not compute "+e.type+" digest. Unknown signature OID.");throw t.signatureOid=e.signatureOid,t}},"_createSignatureDigest"),lhe=o(function(e){var t=e.certificate,r;switch(t.signatureOid){case I0.sha1WithRSAEncryption:case I0.sha1WithRSASignature:break;case I0["RSASSA-PSS"]:var n,s;if(n=I0[t.signatureParameters.mgf.hash.algorithmOid],n===void 0||xs.md[n]===void 0){var a=new Error("Unsupported MGF hash function.");throw a.oid=t.signatureParameters.mgf.hash.algorithmOid,a.name=n,a}if(s=I0[t.signatureParameters.mgf.algorithmOid],s===void 0||xs.mgf[s]===void 0){var a=new Error("Unsupported MGF function.");throw a.oid=t.signatureParameters.mgf.algorithmOid,a.name=s,a}if(s=xs.mgf[s].create(xs.md[n].create()),n=I0[t.signatureParameters.hash.algorithmOid],n===void 0||xs.md[n]===void 0){var a=new Error("Unsupported RSASSA-PSS hash function.");throw a.oid=t.signatureParameters.hash.algorithmOid,a.name=n,a}r=xs.pss.create(xs.md[n].create(),s,t.signatureParameters.saltLength);break}return t.publicKey.verify(e.md.digest().getBytes(),e.signature,r)},"_verifySignature");wn.certificateFromPem=function(e,t,r){var n=xs.pem.decode(e)[0];if(n.type!=="CERTIFICATE"&&n.type!=="X509 CERTIFICATE"&&n.type!=="TRUSTED CERTIFICATE"){var s=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw s.headerType=n.type,s}if(n.procType&&n.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var a=Y.fromDer(n.body,r);return wn.certificateFromAsn1(a,t)};wn.certificateToPem=function(e,t){var r={type:"CERTIFICATE",body:Y.toDer(wn.certificateToAsn1(e)).getBytes()};return xs.pem.encode(r,{maxline:t})};wn.publicKeyFromPem=function(e){var t=xs.pem.decode(e)[0];if(t.type!=="PUBLIC KEY"&&t.type!=="RSA PUBLIC KEY"){var r=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert public key from PEM; PEM is encrypted.");var n=Y.fromDer(t.body);return wn.publicKeyFromAsn1(n)};wn.publicKeyToPem=function(e,t){var r={type:"PUBLIC KEY",body:Y.toDer(wn.publicKeyToAsn1(e)).getBytes()};return xs.pem.encode(r,{maxline:t})};wn.publicKeyToRSAPublicKeyPem=function(e,t){var r={type:"RSA PUBLIC KEY",body:Y.toDer(wn.publicKeyToRSAPublicKey(e)).getBytes()};return xs.pem.encode(r,{maxline:t})};wn.getPublicKeyFingerprint=function(e,t){t=t||{};var r=t.md||xs.md.sha1.create(),n=t.type||"RSAPublicKey",s;switch(n){case"RSAPublicKey":s=Y.toDer(wn.publicKeyToRSAPublicKey(e)).getBytes();break;case"SubjectPublicKeyInfo":s=Y.toDer(wn.publicKeyToAsn1(e)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+t.type+'".')}r.start(),r.update(s);var a=r.digest();if(t.encoding==="hex"){var l=a.toHex();return t.delimiter?l.match(/.{2}/g).join(t.delimiter):l}else{if(t.encoding==="binary")return a.getBytes();if(t.encoding)throw new Error('Unknown encoding "'+t.encoding+'".')}return a};wn.certificationRequestFromPem=function(e,t,r){var n=xs.pem.decode(e)[0];if(n.type!=="CERTIFICATE REQUEST"){var s=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw s.headerType=n.type,s}if(n.procType&&n.procType.type==="ENCRYPTED")throw new Error("Could not convert certification request from PEM; PEM is encrypted.");var a=Y.fromDer(n.body,r);return wn.certificationRequestFromAsn1(a,t)};wn.certificationRequestToPem=function(e,t){var r={type:"CERTIFICATE REQUEST",body:Y.toDer(wn.certificationRequestToAsn1(e)).getBytes()};return xs.pem.encode(r,{maxline:t})};wn.createCertificate=function(){var e={};return e.version=2,e.serialNumber="00",e.signatureOid=null,e.signature=null,e.siginfo={},e.siginfo.algorithmOid=null,e.validity={},e.validity.notBefore=new Date,e.validity.notAfter=new Date,e.issuer={},e.issuer.getField=function(t){return k3(e.issuer,t)},e.issuer.addField=function(t){Kf([t]),e.issuer.attributes.push(t)},e.issuer.attributes=[],e.issuer.hash=null,e.subject={},e.subject.getField=function(t){return k3(e.subject,t)},e.subject.addField=function(t){Kf([t]),e.subject.attributes.push(t)},e.subject.attributes=[],e.subject.hash=null,e.extensions=[],e.publicKey=null,e.md=null,e.setSubject=function(t,r){Kf(t),e.subject.attributes=t,delete e.subject.uniqueId,r&&(e.subject.uniqueId=r),e.subject.hash=null},e.setIssuer=function(t,r){Kf(t),e.issuer.attributes=t,delete e.issuer.uniqueId,r&&(e.issuer.uniqueId=r),e.issuer.hash=null},e.setExtensions=function(t){for(var r=0;r<t.length;++r)che(t[r],{cert:e});e.extensions=t},e.getExtension=function(t){typeof t=="string"&&(t={name:t});for(var r=null,n,s=0;r===null&&s<e.extensions.length;++s)n=e.extensions[s],(t.id&&n.id===t.id||t.name&&n.name===t.name)&&(r=n);return r},e.sign=function(t,r){e.md=r||xs.md.sha1.create();var n=I0[e.md.algorithm+"WithRSAEncryption"];if(!n){var s=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw s.algorithm=e.md.algorithm,s}e.signatureOid=e.siginfo.algorithmOid=n,e.tbsCertificate=wn.getTBSCertificate(e);var a=Y.toDer(e.tbsCertificate);e.md.update(a.getBytes()),e.signature=t.sign(e.md)},e.verify=function(t){var r=!1;if(!e.issued(t)){var n=t.issuer,s=e.subject,a=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.");throw a.expectedIssuer=s.attributes,a.actualIssuer=n.attributes,a}var l=t.md;if(l===null){l=UP({signatureOid:t.signatureOid,type:"certificate"});var c=t.tbsCertificate||wn.getTBSCertificate(t),u=Y.toDer(c);l.update(u.getBytes())}return l!==null&&(r=lhe({certificate:e,md:l,signature:t.signature})),r},e.isIssuer=function(t){var r=!1,n=e.issuer,s=t.subject;if(n.hash&&s.hash)r=n.hash===s.hash;else if(n.attributes.length===s.attributes.length){r=!0;for(var a,l,c=0;r&&c<n.attributes.length;++c)a=n.attributes[c],l=s.attributes[c],(a.type!==l.type||a.value!==l.value)&&(r=!1)}return r},e.issued=function(t){return t.isIssuer(e)},e.generateSubjectKeyIdentifier=function(){return wn.getPublicKeyFingerprint(e.publicKey,{type:"RSAPublicKey"})},e.verifySubjectKeyIdentifier=function(){for(var t=I0.subjectKeyIdentifier,r=0;r<e.extensions.length;++r){var n=e.extensions[r];if(n.id===t){var s=e.generateSubjectKeyIdentifier().getBytes();return xs.util.hexToBytes(n.subjectKeyIdentifier)===s}}return!1},e};wn.certificateFromAsn1=function(e,t){var r={},n=[];if(!Y.validate(e,Oqe,r,n)){var s=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.");throw s.errors=n,s}var a=Y.derToOid(r.publicKeyOid);if(a!==wn.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var l=wn.createCertificate();l.version=r.certVersion?r.certVersion.charCodeAt(0):0;var c=xs.util.createBuffer(r.certSerialNumber);l.serialNumber=c.toHex(),l.signatureOid=xs.asn1.derToOid(r.certSignatureOid),l.signatureParameters=FP(l.signatureOid,r.certSignatureParams,!0),l.siginfo.algorithmOid=xs.asn1.derToOid(r.certinfoSignatureOid),l.siginfo.parameters=FP(l.siginfo.algorithmOid,r.certinfoSignatureParams,!1),l.signature=r.certSignature;var u=[];if(r.certValidity1UTCTime!==void 0&&u.push(Y.utcTimeToDate(r.certValidity1UTCTime)),r.certValidity2GeneralizedTime!==void 0&&u.push(Y.generalizedTimeToDate(r.certValidity2GeneralizedTime)),r.certValidity3UTCTime!==void 0&&u.push(Y.utcTimeToDate(r.certValidity3UTCTime)),r.certValidity4GeneralizedTime!==void 0&&u.push(Y.generalizedTimeToDate(r.certValidity4GeneralizedTime)),u.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(u.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if(l.validity.notBefore=u[0],l.validity.notAfter=u[1],l.tbsCertificate=r.tbsCertificate,t){l.md=UP({signatureOid:l.signatureOid,type:"certificate"});var f=Y.toDer(l.tbsCertificate);l.md.update(f.getBytes())}var d=xs.md.sha1.create(),p=Y.toDer(r.certIssuer);d.update(p.getBytes()),l.issuer.getField=function(v){return k3(l.issuer,v)},l.issuer.addField=function(v){Kf([v]),l.issuer.attributes.push(v)},l.issuer.attributes=wn.RDNAttributesAsArray(r.certIssuer),r.certIssuerUniqueId&&(l.issuer.uniqueId=r.certIssuerUniqueId),l.issuer.hash=d.digest().toHex();var h=xs.md.sha1.create(),m=Y.toDer(r.certSubject);return h.update(m.getBytes()),l.subject.getField=function(v){return k3(l.subject,v)},l.subject.addField=function(v){Kf([v]),l.subject.attributes.push(v)},l.subject.attributes=wn.RDNAttributesAsArray(r.certSubject),r.certSubjectUniqueId&&(l.subject.uniqueId=r.certSubjectUniqueId),l.subject.hash=h.digest().toHex(),r.certExtensions?l.extensions=wn.certificateExtensionsFromAsn1(r.certExtensions):l.extensions=[],l.publicKey=wn.publicKeyFromAsn1(r.subjectPublicKeyInfo),l};wn.certificateExtensionsFromAsn1=function(e){for(var t=[],r=0;r<e.value.length;++r)for(var n=e.value[r],s=0;s<n.value.length;++s)t.push(wn.certificateExtensionFromAsn1(n.value[s]));return t};wn.certificateExtensionFromAsn1=function(e){var t={};if(t.id=Y.derToOid(e.value[0].value),t.critical=!1,e.value[1].type===Y.Type.BOOLEAN?(t.critical=e.value[1].value.charCodeAt(0)!==0,t.value=e.value[2].value):t.value=e.value[1].value,t.id in I0){if(t.name=I0[t.id],t.name==="keyUsage"){var r=Y.fromDer(t.value),n=0,s=0;r.value.length>1&&(n=r.value.charCodeAt(1),s=r.value.length>2?r.value.charCodeAt(2):0),t.digitalSignature=(n&128)===128,t.nonRepudiation=(n&64)===64,t.keyEncipherment=(n&32)===32,t.dataEncipherment=(n&16)===16,t.keyAgreement=(n&8)===8,t.keyCertSign=(n&4)===4,t.cRLSign=(n&2)===2,t.encipherOnly=(n&1)===1,t.decipherOnly=(s&128)===128}else if(t.name==="basicConstraints"){var r=Y.fromDer(t.value);r.value.length>0&&r.value[0].type===Y.Type.BOOLEAN?t.cA=r.value[0].value.charCodeAt(0)!==0:t.cA=!1;var a=null;r.value.length>0&&r.value[0].type===Y.Type.INTEGER?a=r.value[0].value:r.value.length>1&&(a=r.value[1].value),a!==null&&(t.pathLenConstraint=Y.derToInteger(a))}else if(t.name==="extKeyUsage")for(var r=Y.fromDer(t.value),l=0;l<r.value.length;++l){var c=Y.derToOid(r.value[l].value);c in I0?t[I0[c]]=!0:t[c]=!0}else if(t.name==="nsCertType"){var r=Y.fromDer(t.value),n=0;r.value.length>1&&(n=r.value.charCodeAt(1)),t.client=(n&128)===128,t.server=(n&64)===64,t.email=(n&32)===32,t.objsign=(n&16)===16,t.reserved=(n&8)===8,t.sslCA=(n&4)===4,t.emailCA=(n&2)===2,t.objCA=(n&1)===1}else if(t.name==="subjectAltName"||t.name==="issuerAltName"){t.altNames=[];for(var u,r=Y.fromDer(t.value),f=0;f<r.value.length;++f){u=r.value[f];var d={type:u.type,value:u.value};switch(t.altNames.push(d),u.type){case 1:case 2:case 6:break;case 7:d.ip=xs.util.bytesToIP(u.value);break;case 8:d.oid=Y.derToOid(u.value);break;default:}}}else if(t.name==="subjectKeyIdentifier"){var r=Y.fromDer(t.value);t.subjectKeyIdentifier=xs.util.bytesToHex(r.value)}}return t};wn.certificationRequestFromAsn1=function(e,t){var r={},n=[];if(!Y.validate(e,kqe,r,n)){var s=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.");throw s.errors=n,s}var a=Y.derToOid(r.publicKeyOid);if(a!==wn.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var l=wn.createCertificationRequest();if(l.version=r.csrVersion?r.csrVersion.charCodeAt(0):0,l.signatureOid=xs.asn1.derToOid(r.csrSignatureOid),l.signatureParameters=FP(l.signatureOid,r.csrSignatureParams,!0),l.siginfo.algorithmOid=xs.asn1.derToOid(r.csrSignatureOid),l.siginfo.parameters=FP(l.siginfo.algorithmOid,r.csrSignatureParams,!1),l.signature=r.csrSignature,l.certificationRequestInfo=r.certificationRequestInfo,t){l.md=UP({signatureOid:l.signatureOid,type:"certification request"});var c=Y.toDer(l.certificationRequestInfo);l.md.update(c.getBytes())}var u=xs.md.sha1.create();return l.subject.getField=function(f){return k3(l.subject,f)},l.subject.addField=function(f){Kf([f]),l.subject.attributes.push(f)},l.subject.attributes=wn.RDNAttributesAsArray(r.certificationRequestInfoSubject,u),l.subject.hash=u.digest().toHex(),l.publicKey=wn.publicKeyFromAsn1(r.subjectPublicKeyInfo),l.getAttribute=function(f){return k3(l,f)},l.addAttribute=function(f){Kf([f]),l.attributes.push(f)},l.attributes=wn.CRIAttributesAsArray(r.certificationRequestInfoAttributes||[]),l};wn.createCertificationRequest=function(){var e={};return e.version=0,e.signatureOid=null,e.signature=null,e.siginfo={},e.siginfo.algorithmOid=null,e.subject={},e.subject.getField=function(t){return k3(e.subject,t)},e.subject.addField=function(t){Kf([t]),e.subject.attributes.push(t)},e.subject.attributes=[],e.subject.hash=null,e.publicKey=null,e.attributes=[],e.getAttribute=function(t){return k3(e,t)},e.addAttribute=function(t){Kf([t]),e.attributes.push(t)},e.md=null,e.setSubject=function(t){Kf(t),e.subject.attributes=t,e.subject.hash=null},e.setAttributes=function(t){Kf(t),e.attributes=t},e.sign=function(t,r){e.md=r||xs.md.sha1.create();var n=I0[e.md.algorithm+"WithRSAEncryption"];if(!n){var s=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw s.algorithm=e.md.algorithm,s}e.signatureOid=e.siginfo.algorithmOid=n,e.certificationRequestInfo=wn.getCertificationRequestInfo(e);var a=Y.toDer(e.certificationRequestInfo);e.md.update(a.getBytes()),e.signature=t.sign(e.md)},e.verify=function(){var t=!1,r=e.md;if(r===null){r=UP({signatureOid:e.signatureOid,type:"certification request"});var n=e.certificationRequestInfo||wn.getCertificationRequestInfo(e),s=Y.toDer(n);r.update(s.getBytes())}return r!==null&&(t=lhe({certificate:e,md:r,signature:e.signature})),t},e};function py(e){for(var t=Y.create(Y.Class.UNIVERSAL,Y.Type.SEQUENCE,!0,[]),r,n,s=e.attributes,a=0;a<s.length;++a){r=s[a];var l=r.value,c=Y.Type.PRINTABLESTRING;"valueTagClass"in r&&(c=r.valueTagClass,c===Y.Type.UTF8&&(l=xs.util.encodeUtf8(l))),n=Y.create(Y.Class.UNIVERSAL,Y.Type.SET,!0,[Y.create(Y.Class.UNIVERSAL,Y.Type.SEQUENCE,!0,[Y.create(Y.Class.UNIVERSAL,Y.Type.OID,!1,Y.oidToDer(r.type).getBytes()),Y.create(Y.Class.UNIVERSAL,c,!1,l)])]),t.value.push(n)}return t}o(py,"_dnToAsn1");function Kf(e){for(var t,r=0;r<e.length;++r){if(t=e[r],typeof t.name>"u"&&(t.type&&t.type in wn.oids?t.name=wn.oids[t.type]:t.shortName&&t.shortName in za&&(t.name=wn.oids[za[t.shortName]])),typeof t.type>"u")if(t.name&&t.name in wn.oids)t.type=wn.oids[t.name];else{var n=new Error("Attribute type not specified.");throw n.attribute=t,n}if(typeof t.shortName>"u"&&t.name&&t.name in za&&(t.shortName=za[t.name]),t.type===I0.extensionRequest&&(t.valueConstructed=!0,t.valueTagClass=Y.Type.SEQUENCE,!t.value&&t.extensions)){t.value=[];for(var s=0;s<t.extensions.length;++s)t.value.push(wn.certificateExtensionToAsn1(che(t.extensions[s])))}if(typeof t.value>"u"){var n=new Error("Attribute value not specified.");throw n.attribute=t,n}}}o(Kf,"_fillMissingFields");function che(e,t){if(t=t||{},typeof e.name>"u"&&e.id&&e.id in wn.oids&&(e.name=wn.oids[e.id]),typeof e.id>"u")if(e.name&&e.name in wn.oids)e.id=wn.oids[e.name];else{var r=new Error("Extension ID not specified.");throw r.extension=e,r}if(typeof e.value<"u")return e;if(e.name==="keyUsage"){var n=0,s=0,a=0;e.digitalSignature&&(s|=128,n=7),e.nonRepudiation&&(s|=64,n=6),e.keyEncipherment&&(s|=32,n=5),e.dataEncipherment&&(s|=16,n=4),e.keyAgreement&&(s|=8,n=3),e.keyCertSign&&(s|=4,n=2),e.cRLSign&&(s|=2,n=1),e.encipherOnly&&(s|=1,n=0),e.decipherOnly&&(a|=128,n=7);var l=String.fromCharCode(n);a!==0?l+=String.fromCharCode(s)+String.fromCharCode(a):s!==0&&(l+=String.fromCharCode(s)),e.value=Y.create(Y.Class.UNIVERSAL,Y.Type.BITSTRING,!1,l)}else if(e.name==="basicConstraints")e.value=Y.create(Y.Class.UNIVERSAL,Y.Type.SEQUENCE,!0,[]),e.cA&&e.value.value.push(Y.create(Y.Class.UNIVERSAL,Y.Type.BOOLEAN,!1,"\xFF")),"pathLenConstraint"in e&&e.value.value.push(Y.create(Y.Class.UNIVERSAL,Y.Type.INTEGER,!1,Y.integerToDer(e.pathLenConstraint).getBytes()));else if(e.name==="extKeyUsage"){e.value=Y.create(Y.Class.UNIVERSAL,Y.Type.SEQUENCE,!0,[]);var c=e.value.value;for(var u in e)e[u]===!0&&(u in I0?c.push(Y.create(Y.Class.UNIVERSAL,Y.Type.OID,!1,Y.oidToDer(I0[u]).getBytes())):u.indexOf(".")!==-1&&c.push(Y.create(Y.Class.UNIVERSAL,Y.Type.OID,!1,Y.oidToDer(u).getBytes())))}else if(e.name==="nsCertType"){var n=0,s=0;e.client&&(s|=128,n=7),e.server&&(s|=64,n=6),e.email&&(s|=32,n=5),e.objsign&&(s|=16,n=4),e.reserved&&(s|=8,n=3),e.sslCA&&(s|=4,n=2),e.emailCA&&(s|=2,n=1),e.objCA&&(s|=1,n=0);var l=String.fromCharCode(n);s!==0&&(l+=String.fromCharCode(s)),e.value=Y.create(Y.Class.UNIVERSAL,Y.Type.BITSTRING,!1,l)}else if(e.name==="subjectAltName"||e.name==="issuerAltName"){e.value=Y.create(Y.Class.UNIVERSAL,Y.Type.SEQUENCE,!0,[]);for(var f,d=0;d<e.altNames.length;++d){f=e.altNames[d];var l=f.value;if(f.type===7&&f.ip){if(l=xs.util.bytesFromIP(f.ip),l===null){var r=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw r.extension=e,r}}else f.type===8&&(f.oid?l=Y.oidToDer(Y.oidToDer(f.oid)):l=Y.oidToDer(l));e.value.value.push(Y.create(Y.Class.CONTEXT_SPECIFIC,f.type,!1,l))}}else if(e.name==="nsComment"&&t.cert){if(!/^[\x00-\x7F]*$/.test(e.comment)||e.comment.length<1||e.comment.length>128)throw new Error('Invalid "nsComment" content.');e.value=Y.create(Y.Class.UNIVERSAL,Y.Type.IA5STRING,!1,e.comment)}else if(e.name==="subjectKeyIdentifier"&&t.cert){var p=t.cert.generateSubjectKeyIdentifier();e.subjectKeyIdentifier=p.toHex(),e.value=Y.create(Y.Class.UNIVERSAL,Y.Type.OCTETSTRING,!1,p.getBytes())}else if(e.name==="authorityKeyIdentifier"&&t.cert){e.value=Y.create(Y.Class.UNIVERSAL,Y.Type.SEQUENCE,!0,[]);var c=e.value.value;if(e.keyIdentifier){var h=e.keyIdentifier===!0?t.cert.generateSubjectKeyIdentifier().getBytes():e.keyIdentifier;c.push(Y.create(Y.Class.CONTEXT_SPECIFIC,0,!1,h))}if(e.authorityCertIssuer){var m=[Y.create(Y.Class.CONTEXT_SPECIFIC,4,!0,[py(e.authorityCertIssuer===!0?t.cert.issuer:e.authorityCertIssuer)])];c.push(Y.create(Y.Class.CONTEXT_SPECIFIC,1,!0,m))}if(e.serialNumber){var v=xs.util.hexToBytes(e.serialNumber===!0?t.cert.serialNumber:e.serialNumber);c.push(Y.create(Y.Class.CONTEXT_SPECIFIC,2,!1,v))}}else if(e.name==="cRLDistributionPoints"){e.value=Y.create(Y.Class.UNIVERSAL,Y.Type.SEQUENCE,!0,[]);for(var c=e.value.value,_=Y.create(Y.Class.UNIVERSAL,Y.Type.SEQUENCE,!0,[]),b=Y.create(Y.Class.CONTEXT_SPECIFIC,0,!0,[]),f,d=0;d<e.altNames.length;++d){f=e.altNames[d];var l=f.value;if(f.type===7&&f.ip){if(l=xs.util.bytesFromIP(f.ip),l===null){var r=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw r.extension=e,r}}else f.type===8&&(f.oid?l=Y.oidToDer(Y.oidToDer(f.oid)):l=Y.oidToDer(l));b.value.push(Y.create(Y.Class.CONTEXT_SPECIFIC,f.type,!1,l))}_.value.push(Y.create(Y.Class.CONTEXT_SPECIFIC,0,!0,[b])),c.push(_)}if(typeof e.value>"u"){var r=new Error("Extension value not specified.");throw r.extension=e,r}return e}o(che,"_fillMissingExtensionFields");function $G(e,t){switch(e){case I0["RSASSA-PSS"]:var r=[];return t.hash.algorithmOid!==void 0&&r.push(Y.create(Y.Class.CONTEXT_SPECIFIC,0,!0,[Y.create(Y.Class.UNIVERSAL,Y.Type.SEQUENCE,!0,[Y.create(Y.Class.UNIVERSAL,Y.Type.OID,!1,Y.oidToDer(t.hash.algorithmOid).getBytes()),Y.create(Y.Class.UNIVERSAL,Y.Type.NULL,!1,"")])])),t.mgf.algorithmOid!==void 0&&r.push(Y.create(Y.Class.CONTEXT_SPECIFIC,1,!0,[Y.create(Y.Class.UNIVERSAL,Y.Type.SEQUENCE,!0,[Y.create(Y.Class.UNIVERSAL,Y.Type.OID,!1,Y.oidToDer(t.mgf.algorithmOid).getBytes()),Y.create(Y.Class.UNIVERSAL,Y.Type.SEQUENCE,!0,[Y.create(Y.Class.UNIVERSAL,Y.Type.OID,!1,Y.oidToDer(t.mgf.hash.algorithmOid).getBytes()),Y.create(Y.Class.UNIVERSAL,Y.Type.NULL,!1,"")])])])),t.saltLength!==void 0&&r.push(Y.create(Y.Class.CONTEXT_SPECIFIC,2,!0,[Y.create(Y.Class.UNIVERSAL,Y.Type.INTEGER,!1,Y.integerToDer(t.saltLength).getBytes())])),Y.create(Y.Class.UNIVERSAL,Y.Type.SEQUENCE,!0,r);default:return Y.create(Y.Class.UNIVERSAL,Y.Type.NULL,!1,"")}}o($G,"_signatureParametersToAsn1");function Mqe(e){var t=Y.create(Y.Class.CONTEXT_SPECIFIC,0,!0,[]);if(e.attributes.length===0)return t;for(var r=e.attributes,n=0;n<r.length;++n){var s=r[n],a=s.value,l=Y.Type.UTF8;"valueTagClass"in s&&(l=s.valueTagClass),l===Y.Type.UTF8&&(a=xs.util.encodeUtf8(a));var c=!1;"valueConstructed"in s&&(c=s.valueConstructed);var u=Y.create(Y.Class.UNIVERSAL,Y.Type.SEQUENCE,!0,[Y.create(Y.Class.UNIVERSAL,Y.Type.OID,!1,Y.oidToDer(s.type).getBytes()),Y.create(Y.Class.UNIVERSAL,Y.Type.SET,!0,[Y.create(Y.Class.UNIVERSAL,l,c,a)])]);t.value.push(u)}return t}o(Mqe,"_CRIAttributesToAsn1");var Bqe=new Date("1950-01-01T00:00:00Z"),Fqe=new Date("2050-01-01T00:00:00Z");function ahe(e){return e>=Bqe&&e<Fqe?Y.create(Y.Class.UNIVERSAL,Y.Type.UTCTIME,!1,Y.dateToUtcTime(e)):Y.create(Y.Class.UNIVERSAL,Y.Type.GENERALIZEDTIME,!1,Y.dateToGeneralizedTime(e))}o(ahe,"_dateToAsn1");wn.getTBSCertificate=function(e){var t=ahe(e.validity.notBefore),r=ahe(e.validity.notAfter),n=Y.create(Y.Class.UNIVERSAL,Y.Type.SEQUENCE,!0,[Y.create(Y.Class.CONTEXT_SPECIFIC,0,!0,[Y.create(Y.Class.UNIVERSAL,Y.Type.INTEGER,!1,Y.integerToDer(e.version).getBytes())]),Y.create(Y.Class.UNIVERSAL,Y.Type.INTEGER,!1,xs.util.hexToBytes(e.serialNumber)),Y.create(Y.Class.UNIVERSAL,Y.Type.SEQUENCE,!0,[Y.create(Y.Class.UNIVERSAL,Y.Type.OID,!1,Y.oidToDer(e.siginfo.algorithmOid).getBytes()),$G(e.siginfo.algorithmOid,e.siginfo.parameters)]),py(e.issuer),Y.create(Y.Class.UNIVERSAL,Y.Type.SEQUENCE,!0,[t,r]),py(e.subject),wn.publicKeyToAsn1(e.publicKey)]);return e.issuer.uniqueId&&n.value.push(Y.create(Y.Class.CONTEXT_SPECIFIC,1,!0,[Y.create(Y.Class.UNIVERSAL,Y.Type.BITSTRING,!1,"\0"+e.issuer.uniqueId)])),e.subject.uniqueId&&n.value.push(Y.create(Y.Class.CONTEXT_SPECIFIC,2,!0,[Y.create(Y.Class.UNIVERSAL,Y.Type.BITSTRING,!1,"\0"+e.subject.uniqueId)])),e.extensions.length>0&&n.value.push(wn.certificateExtensionsToAsn1(e.extensions)),n};wn.getCertificationRequestInfo=function(e){var t=Y.create(Y.Class.UNIVERSAL,Y.Type.SEQUENCE,!0,[Y.create(Y.Class.UNIVERSAL,Y.Type.INTEGER,!1,Y.integerToDer(e.version).getBytes()),py(e.subject),wn.publicKeyToAsn1(e.publicKey),Mqe(e)]);return t};wn.distinguishedNameToAsn1=function(e){return py(e)};wn.certificateToAsn1=function(e){var t=e.tbsCertificate||wn.getTBSCertificate(e);return Y.create(Y.Class.UNIVERSAL,Y.Type.SEQUENCE,!0,[t,Y.create(Y.Class.UNIVERSAL,Y.Type.SEQUENCE,!0,[Y.create(Y.Class.UNIVERSAL,Y.Type.OID,!1,Y.oidToDer(e.signatureOid).getBytes()),$G(e.signatureOid,e.signatureParameters)]),Y.create(Y.Class.UNIVERSAL,Y.Type.BITSTRING,!1,"\0"+e.signature)])};wn.certificateExtensionsToAsn1=function(e){var t=Y.create(Y.Class.CONTEXT_SPECIFIC,3,!0,[]),r=Y.create(Y.Class.UNIVERSAL,Y.Type.SEQUENCE,!0,[]);t.value.push(r);for(var n=0;n<e.length;++n)r.value.push(wn.certificateExtensionToAsn1(e[n]));return t};wn.certificateExtensionToAsn1=function(e){var t=Y.create(Y.Class.UNIVERSAL,Y.Type.SEQUENCE,!0,[]);t.value.push(Y.create(Y.Class.UNIVERSAL,Y.Type.OID,!1,Y.oidToDer(e.id).getBytes())),e.critical&&t.value.push(Y.create(Y.Class.UNIVERSAL,Y.Type.BOOLEAN,!1,"\xFF"));var r=e.value;return typeof e.value!="string"&&(r=Y.toDer(r).getBytes()),t.value.push(Y.create(Y.Class.UNIVERSAL,Y.Type.OCTETSTRING,!1,r)),t};wn.certificationRequestToAsn1=function(e){var t=e.certificationRequestInfo||wn.getCertificationRequestInfo(e);return Y.create(Y.Class.UNIVERSAL,Y.Type.SEQUENCE,!0,[t,Y.create(Y.Class.UNIVERSAL,Y.Type.SEQUENCE,!0,[Y.create(Y.Class.UNIVERSAL,Y.Type.OID,!1,Y.oidToDer(e.signatureOid).getBytes()),$G(e.signatureOid,e.signatureParameters)]),Y.create(Y.Class.UNIVERSAL,Y.Type.BITSTRING,!1,"\0"+e.signature)])};wn.createCaStore=function(e){var t={certs:{}};t.getIssuer=function(l){var c=r(l.issuer);return c},t.addCertificate=function(l){if(typeof l=="string"&&(l=xs.pki.certificateFromPem(l)),n(l.subject),!t.hasCertificate(l))if(l.subject.hash in t.certs){var c=t.certs[l.subject.hash];xs.util.isArray(c)||(c=[c]),c.push(l),t.certs[l.subject.hash]=c}else t.certs[l.subject.hash]=l},t.hasCertificate=function(l){typeof l=="string"&&(l=xs.pki.certificateFromPem(l));var c=r(l.subject);if(!c)return!1;xs.util.isArray(c)||(c=[c]);for(var u=Y.toDer(wn.certificateToAsn1(l)).getBytes(),f=0;f<c.length;++f){var d=Y.toDer(wn.certificateToAsn1(c[f])).getBytes();if(u===d)return!0}return!1},t.listAllCertificates=function(){var l=[];for(var c in t.certs)if(t.certs.hasOwnProperty(c)){var u=t.certs[c];if(!xs.util.isArray(u))l.push(u);else for(var f=0;f<u.length;++f)l.push(u[f])}return l},t.removeCertificate=function(l){var c;if(typeof l=="string"&&(l=xs.pki.certificateFromPem(l)),n(l.subject),!t.hasCertificate(l))return null;var u=r(l.subject);if(!xs.util.isArray(u))return c=t.certs[l.subject.hash],delete t.certs[l.subject.hash],c;for(var f=Y.toDer(wn.certificateToAsn1(l)).getBytes(),d=0;d<u.length;++d){var p=Y.toDer(wn.certificateToAsn1(u[d])).getBytes();f===p&&(c=u[d],u.splice(d,1))}return u.length===0&&delete t.certs[l.subject.hash],c};function r(l){return n(l),t.certs[l.hash]||null}o(r,"getBySubject");function n(l){if(!l.hash){var c=xs.md.sha1.create();l.attributes=wn.RDNAttributesAsArray(py(l),c),l.hash=c.digest().toHex()}}if(o(n,"ensureSubjectHasHash"),e)for(var s=0;s<e.length;++s){var a=e[s];t.addCertificate(a)}return t};wn.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"};wn.verifyCertificateChain=function(e,t,r){typeof r=="function"&&(r={verify:r}),r=r||{},t=t.slice(0);var n=t.slice(0),s=r.validityCheckDate;typeof s>"u"&&(s=new Date);var a=!0,l=null,c=0;do{var u=t.shift(),f=null,d=!1;if(s&&(s<u.validity.notBefore||s>u.validity.notAfter)&&(l={message:"Certificate is not valid yet or has expired.",error:wn.certificateError.certificate_expired,notBefore:u.validity.notBefore,notAfter:u.validity.notAfter,now:s}),l===null){if(f=t[0]||e.getIssuer(u),f===null&&u.isIssuer(u)&&(d=!0,f=u),f){var p=f;xs.util.isArray(p)||(p=[p]);for(var h=!1;!h&&p.length>0;){f=p.shift();try{h=f.verify(u)}catch{}}h||(l={message:"Certificate signature is invalid.",error:wn.certificateError.bad_certificate})}l===null&&(!f||d)&&!e.hasCertificate(u)&&(l={message:"Certificate is not trusted.",error:wn.certificateError.unknown_ca})}if(l===null&&f&&!u.isIssuer(f)&&(l={message:"Certificate issuer is invalid.",error:wn.certificateError.bad_certificate}),l===null)for(var m={keyUsage:!0,basicConstraints:!0},v=0;l===null&&v<u.extensions.length;++v){var _=u.extensions[v];_.critical&&!(_.name in m)&&(l={message:"Certificate has an unsupported critical extension.",error:wn.certificateError.unsupported_certificate})}if(l===null&&(!a||t.length===0&&(!f||d))){var b=u.getExtension("basicConstraints"),S=u.getExtension("keyUsage");if(S!==null&&(!S.keyCertSign||b===null)&&(l={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:wn.certificateError.bad_certificate}),l===null&&b!==null&&!b.cA&&(l={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:wn.certificateError.bad_certificate}),l===null&&S!==null&&"pathLenConstraint"in b){var A=c-1;A>b.pathLenConstraint&&(l={message:"Certificate basicConstraints pathLenConstraint violated.",error:wn.certificateError.bad_certificate})}}var O=l===null?!0:l.error,L=r.verify?r.verify(O,c,n):O;if(L===!0)l=null;else throw O===!0&&(l={message:"The application rejected the certificate.",error:wn.certificateError.bad_certificate}),(L||L===0)&&(typeof L=="object"&&!xs.util.isArray(L)?(L.message&&(l.message=L.message),L.error&&(l.error=L.error)):typeof L=="string"&&(l.error=L)),l;a=!1,++c}while(t.length>0);return!0}});var GG=k((npt,dhe)=>{var sa=Js();Ud();ay();O3();jG();qG();Vf();Xx();uy();P0();qP();var He=sa.asn1,c0=sa.pki,Jx=dhe.exports=sa.pkcs12=sa.pkcs12||{},fhe={name:"ContentInfo",tagClass:He.Class.UNIVERSAL,type:He.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:He.Class.UNIVERSAL,type:He.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:He.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},Uqe={name:"PFX",tagClass:He.Class.UNIVERSAL,type:He.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:He.Class.UNIVERSAL,type:He.Type.INTEGER,constructed:!1,capture:"version"},fhe,{name:"PFX.macData",tagClass:He.Class.UNIVERSAL,type:He.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:He.Class.UNIVERSAL,type:He.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:He.Class.UNIVERSAL,type:He.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:He.Class.UNIVERSAL,type:He.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:He.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:He.Class.UNIVERSAL,type:He.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:He.Class.UNIVERSAL,type:He.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:He.Class.UNIVERSAL,type:He.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},qqe={name:"SafeBag",tagClass:He.Class.UNIVERSAL,type:He.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:He.Class.UNIVERSAL,type:He.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:He.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:He.Class.UNIVERSAL,type:He.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},jqe={name:"Attribute",tagClass:He.Class.UNIVERSAL,type:He.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:He.Class.UNIVERSAL,type:He.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:He.Class.UNIVERSAL,type:He.Type.SET,constructed:!0,capture:"values"}]},Hqe={name:"CertBag",tagClass:He.Class.UNIVERSAL,type:He.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:He.Class.UNIVERSAL,type:He.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:He.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:He.Class.UNIVERSAL,type:He.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};function Qx(e,t,r,n){for(var s=[],a=0;a<e.length;a++)for(var l=0;l<e[a].safeBags.length;l++){var c=e[a].safeBags[l];if(!(n!==void 0&&c.type!==n)){if(t===null){s.push(c);continue}c.attributes[t]!==void 0&&c.attributes[t].indexOf(r)>=0&&s.push(c)}}return s}o(Qx,"_getBagsByAttribute");Jx.pkcs12FromAsn1=function(e,t,r){typeof t=="string"?(r=t,t=!0):t===void 0&&(t=!0);var n={},s=[];if(!He.validate(e,Uqe,n,s)){var a=new Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.");throw a.errors=a,a}var l={version:n.version.charCodeAt(0),safeContents:[],getBags:function(b){var S={},A;return"localKeyId"in b?A=b.localKeyId:"localKeyIdHex"in b&&(A=sa.util.hexToBytes(b.localKeyIdHex)),A===void 0&&!("friendlyName"in b)&&"bagType"in b&&(S[b.bagType]=Qx(l.safeContents,null,null,b.bagType)),A!==void 0&&(S.localKeyId=Qx(l.safeContents,"localKeyId",A,b.bagType)),"friendlyName"in b&&(S.friendlyName=Qx(l.safeContents,"friendlyName",b.friendlyName,b.bagType)),S},getBagsByFriendlyName:function(b,S){return Qx(l.safeContents,"friendlyName",b,S)},getBagsByLocalKeyId:function(b,S){return Qx(l.safeContents,"localKeyId",b,S)}};if(n.version.charCodeAt(0)!==3){var a=new Error("PKCS#12 PFX of version other than 3 not supported.");throw a.version=n.version.charCodeAt(0),a}if(He.derToOid(n.contentType)!==c0.oids.data){var a=new Error("Only PKCS#12 PFX in password integrity mode supported.");throw a.oid=He.derToOid(n.contentType),a}var c=n.content.value[0];if(c.tagClass!==He.Class.UNIVERSAL||c.type!==He.Type.OCTETSTRING)throw new Error("PKCS#12 authSafe content data is not an OCTET STRING.");if(c=VG(c),n.mac){var u=null,f=0,d=He.derToOid(n.macAlgorithm);switch(d){case c0.oids.sha1:u=sa.md.sha1.create(),f=20;break;case c0.oids.sha256:u=sa.md.sha256.create(),f=32;break;case c0.oids.sha384:u=sa.md.sha384.create(),f=48;break;case c0.oids.sha512:u=sa.md.sha512.create(),f=64;break;case c0.oids.md5:u=sa.md.md5.create(),f=16;break}if(u===null)throw new Error("PKCS#12 uses unsupported MAC algorithm: "+d);var p=new sa.util.ByteBuffer(n.macSalt),h="macIterations"in n?parseInt(sa.util.bytesToHex(n.macIterations),16):1,m=Jx.generateKey(r,p,3,h,f,u),v=sa.hmac.create();v.start(u,m),v.update(c.value);var _=v.getMac();if(_.getBytes()!==n.macDigest)throw new Error("PKCS#12 MAC could not be verified. Invalid password?")}return $qe(l,c.value,t,r),l};function VG(e){if(e.composed||e.constructed){for(var t=sa.util.createBuffer(),r=0;r<e.value.length;++r)t.putBytes(e.value[r].value);e.composed=e.constructed=!1,e.value=t.getBytes()}return e}o(VG,"_decodePkcs7Data");function $qe(e,t,r,n){if(t=He.fromDer(t,r),t.tagClass!==He.Class.UNIVERSAL||t.type!==He.Type.SEQUENCE||t.constructed!==!0)throw new Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var s=0;s<t.value.length;s++){var a=t.value[s],l={},c=[];if(!He.validate(a,fhe,l,c)){var u=new Error("Cannot read ContentInfo.");throw u.errors=c,u}var f={encrypted:!1},d=null,p=l.content.value[0];switch(He.derToOid(l.contentType)){case c0.oids.data:if(p.tagClass!==He.Class.UNIVERSAL||p.type!==He.Type.OCTETSTRING)throw new Error("PKCS#12 SafeContents Data is not an OCTET STRING.");d=VG(p).value;break;case c0.oids.encryptedData:d=Vqe(p,n),f.encrypted=!0;break;default:var u=new Error("Unsupported PKCS#12 contentType.");throw u.contentType=He.derToOid(l.contentType),u}f.safeBags=Gqe(d,r,n),e.safeContents.push(f)}}o($qe,"_decodeAuthenticatedSafe");function Vqe(e,t){var r={},n=[];if(!He.validate(e,sa.pkcs7.asn1.encryptedDataValidator,r,n)){var s=new Error("Cannot read EncryptedContentInfo.");throw s.errors=n,s}var a=He.derToOid(r.contentType);if(a!==c0.oids.data){var s=new Error("PKCS#12 EncryptedContentInfo ContentType is not Data.");throw s.oid=a,s}a=He.derToOid(r.encAlgorithm);var l=c0.pbe.getCipher(a,r.encParameter,t),c=VG(r.encryptedContentAsn1),u=sa.util.createBuffer(c.value);if(l.update(u),!l.finish())throw new Error("Failed to decrypt PKCS#12 SafeContents.");return l.output.getBytes()}o(Vqe,"_decryptSafeContents");function Gqe(e,t,r){if(!t&&e.length===0)return[];if(e=He.fromDer(e,t),e.tagClass!==He.Class.UNIVERSAL||e.type!==He.Type.SEQUENCE||e.constructed!==!0)throw new Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var n=[],s=0;s<e.value.length;s++){var a=e.value[s],l={},c=[];if(!He.validate(a,qqe,l,c)){var u=new Error("Cannot read SafeBag.");throw u.errors=c,u}var f={type:He.derToOid(l.bagId),attributes:zqe(l.bagAttributes)};n.push(f);var d,p,h=l.bagValue.value[0];switch(f.type){case c0.oids.pkcs8ShroudedKeyBag:if(h=c0.decryptPrivateKeyInfo(h,r),h===null)throw new Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case c0.oids.keyBag:try{f.key=c0.privateKeyFromAsn1(h)}catch{f.key=null,f.asn1=h}continue;case c0.oids.certBag:d=Hqe,p=o(function(){if(He.derToOid(l.certId)!==c0.oids.x509Certificate){var v=new Error("Unsupported certificate type, only X.509 supported.");throw v.oid=He.derToOid(l.certId),v}var _=He.fromDer(l.cert,t);try{f.cert=c0.certificateFromAsn1(_,!0)}catch{f.cert=null,f.asn1=_}},"decoder");break;default:var u=new Error("Unsupported PKCS#12 SafeBag type.");throw u.oid=f.type,u}if(d!==void 0&&!He.validate(h,d,l,c)){var u=new Error("Cannot read PKCS#12 "+d.name);throw u.errors=c,u}p()}return n}o(Gqe,"_decodeSafeContents");function zqe(e){var t={};if(e!==void 0)for(var r=0;r<e.length;++r){var n={},s=[];if(!He.validate(e[r],jqe,n,s)){var a=new Error("Cannot read PKCS#12 BagAttribute.");throw a.errors=s,a}var l=He.derToOid(n.oid);if(c0.oids[l]!==void 0){t[c0.oids[l]]=[];for(var c=0;c<n.values.length;++c)t[c0.oids[l]].push(n.values[c].value)}}return t}o(zqe,"_decodeBagAttributes");Jx.toPkcs12Asn1=function(e,t,r,n){n=n||{},n.saltSize=n.saltSize||8,n.count=n.count||2048,n.algorithm=n.algorithm||n.encAlgorithm||"aes128","useMac"in n||(n.useMac=!0),"localKeyId"in n||(n.localKeyId=null),"generateLocalKeyId"in n||(n.generateLocalKeyId=!0);var s=n.localKeyId,a;if(s!==null)s=sa.util.hexToBytes(s);else if(n.generateLocalKeyId)if(t){var l=sa.util.isArray(t)?t[0]:t;typeof l=="string"&&(l=c0.certificateFromPem(l));var c=sa.md.sha1.create();c.update(He.toDer(c0.certificateToAsn1(l)).getBytes()),s=c.digest().getBytes()}else s=sa.random.getBytes(20);var u=[];s!==null&&u.push(He.create(He.Class.UNIVERSAL,He.Type.SEQUENCE,!0,[He.create(He.Class.UNIVERSAL,He.Type.OID,!1,He.oidToDer(c0.oids.localKeyId).getBytes()),He.create(He.Class.UNIVERSAL,He.Type.SET,!0,[He.create(He.Class.UNIVERSAL,He.Type.OCTETSTRING,!1,s)])])),"friendlyName"in n&&u.push(He.create(He.Class.UNIVERSAL,He.Type.SEQUENCE,!0,[He.create(He.Class.UNIVERSAL,He.Type.OID,!1,He.oidToDer(c0.oids.friendlyName).getBytes()),He.create(He.Class.UNIVERSAL,He.Type.SET,!0,[He.create(He.Class.UNIVERSAL,He.Type.BMPSTRING,!1,n.friendlyName)])])),u.length>0&&(a=He.create(He.Class.UNIVERSAL,He.Type.SET,!0,u));var f=[],d=[];t!==null&&(sa.util.isArray(t)?d=t:d=[t]);for(var p=[],h=0;h<d.length;++h){t=d[h],typeof t=="string"&&(t=c0.certificateFromPem(t));var m=h===0?a:void 0,v=c0.certificateToAsn1(t),_=He.create(He.Class.UNIVERSAL,He.Type.SEQUENCE,!0,[He.create(He.Class.UNIVERSAL,He.Type.OID,!1,He.oidToDer(c0.oids.certBag).getBytes()),He.create(He.Class.CONTEXT_SPECIFIC,0,!0,[He.create(He.Class.UNIVERSAL,He.Type.SEQUENCE,!0,[He.create(He.Class.UNIVERSAL,He.Type.OID,!1,He.oidToDer(c0.oids.x509Certificate).getBytes()),He.create(He.Class.CONTEXT_SPECIFIC,0,!0,[He.create(He.Class.UNIVERSAL,He.Type.OCTETSTRING,!1,He.toDer(v).getBytes())])])]),m]);p.push(_)}if(p.length>0){var b=He.create(He.Class.UNIVERSAL,He.Type.SEQUENCE,!0,p),S=He.create(He.Class.UNIVERSAL,He.Type.SEQUENCE,!0,[He.create(He.Class.UNIVERSAL,He.Type.OID,!1,He.oidToDer(c0.oids.data).getBytes()),He.create(He.Class.CONTEXT_SPECIFIC,0,!0,[He.create(He.Class.UNIVERSAL,He.Type.OCTETSTRING,!1,He.toDer(b).getBytes())])]);f.push(S)}var A=null;if(e!==null){var O=c0.wrapRsaPrivateKey(c0.privateKeyToAsn1(e));r===null?A=He.create(He.Class.UNIVERSAL,He.Type.SEQUENCE,!0,[He.create(He.Class.UNIVERSAL,He.Type.OID,!1,He.oidToDer(c0.oids.keyBag).getBytes()),He.create(He.Class.CONTEXT_SPECIFIC,0,!0,[O]),a]):A=He.create(He.Class.UNIVERSAL,He.Type.SEQUENCE,!0,[He.create(He.Class.UNIVERSAL,He.Type.OID,!1,He.oidToDer(c0.oids.pkcs8ShroudedKeyBag).getBytes()),He.create(He.Class.CONTEXT_SPECIFIC,0,!0,[c0.encryptPrivateKeyInfo(O,r,n)]),a]);var L=He.create(He.Class.UNIVERSAL,He.Type.SEQUENCE,!0,[A]),D=He.create(He.Class.UNIVERSAL,He.Type.SEQUENCE,!0,[He.create(He.Class.UNIVERSAL,He.Type.OID,!1,He.oidToDer(c0.oids.data).getBytes()),He.create(He.Class.CONTEXT_SPECIFIC,0,!0,[He.create(He.Class.UNIVERSAL,He.Type.OCTETSTRING,!1,He.toDer(L).getBytes())])]);f.push(D)}var $=He.create(He.Class.UNIVERSAL,He.Type.SEQUENCE,!0,f),de;if(n.useMac){var c=sa.md.sha1.create(),ue=new sa.util.ByteBuffer(sa.random.getBytes(n.saltSize)),Ze=n.count,e=Jx.generateKey(r,ue,3,Ze,20),vr=sa.hmac.create();vr.start(c,e),vr.update(He.toDer($).getBytes());var vt=vr.getMac();de=He.create(He.Class.UNIVERSAL,He.Type.SEQUENCE,!0,[He.create(He.Class.UNIVERSAL,He.Type.SEQUENCE,!0,[He.create(He.Class.UNIVERSAL,He.Type.SEQUENCE,!0,[He.create(He.Class.UNIVERSAL,He.Type.OID,!1,He.oidToDer(c0.oids.sha1).getBytes()),He.create(He.Class.UNIVERSAL,He.Type.NULL,!1,"")]),He.create(He.Class.UNIVERSAL,He.Type.OCTETSTRING,!1,vt.getBytes())]),He.create(He.Class.UNIVERSAL,He.Type.OCTETSTRING,!1,ue.getBytes()),He.create(He.Class.UNIVERSAL,He.Type.INTEGER,!1,He.integerToDer(Ze).getBytes())])}return He.create(He.Class.UNIVERSAL,He.Type.SEQUENCE,!0,[He.create(He.Class.UNIVERSAL,He.Type.INTEGER,!1,He.integerToDer(3).getBytes()),He.create(He.Class.UNIVERSAL,He.Type.SEQUENCE,!0,[He.create(He.Class.UNIVERSAL,He.Type.OID,!1,He.oidToDer(c0.oids.data).getBytes()),He.create(He.Class.CONTEXT_SPECIFIC,0,!0,[He.create(He.Class.UNIVERSAL,He.Type.OCTETSTRING,!1,He.toDer($).getBytes())])]),de])};Jx.generateKey=sa.pbe.generatePkcs12Key});var KG=k((spt,phe)=>{var M3=Js();Ud();O3();qG();Ug();PP();GG();BP();Xx();P0();qP();var zG=M3.asn1,hy=phe.exports=M3.pki=M3.pki||{};hy.pemToDer=function(e){var t=M3.pem.decode(e)[0];if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert PEM to DER; PEM is encrypted.");return M3.util.createBuffer(t.body)};hy.privateKeyFromPem=function(e){var t=M3.pem.decode(e)[0];if(t.type!=="PRIVATE KEY"&&t.type!=="RSA PRIVATE KEY"){var r=new Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert private key from PEM; PEM is encrypted.");var n=zG.fromDer(t.body);return hy.privateKeyFromAsn1(n)};hy.privateKeyToPem=function(e,t){var r={type:"RSA PRIVATE KEY",body:zG.toDer(hy.privateKeyToAsn1(e)).getBytes()};return M3.pem.encode(r,{maxline:t})};hy.privateKeyInfoToPem=function(e,t){var r={type:"PRIVATE KEY",body:zG.toDer(e).getBytes()};return M3.pem.encode(r,{maxline:t})}});var ZG=k((apt,bhe)=>{var cn=Js();Ud();ay();IP();Ug();KG();Vf();uy();P0();var VP=o(function(e,t,r,n){var s=cn.util.createBuffer(),a=e.length>>1,l=a+(e.length&1),c=e.substr(0,l),u=e.substr(a,l),f=cn.util.createBuffer(),d=cn.hmac.create();r=t+r;var p=Math.ceil(n/16),h=Math.ceil(n/20);d.start("MD5",c);var m=cn.util.createBuffer();f.putBytes(r);for(var v=0;v<p;++v)d.start(null,null),d.update(f.getBytes()),f.putBuffer(d.digest()),d.start(null,null),d.update(f.bytes()+r),m.putBuffer(d.digest());d.start("SHA1",u);var _=cn.util.createBuffer();f.clear(),f.putBytes(r);for(var v=0;v<h;++v)d.start(null,null),d.update(f.getBytes()),f.putBuffer(d.digest()),d.start(null,null),d.update(f.bytes()+r),_.putBuffer(d.digest());return s.putBytes(cn.util.xorBytes(m.getBytes(),_.getBytes(),n)),s},"prf_TLS1"),Kqe=o(function(e,t,r){var n=cn.hmac.create();n.start("SHA1",e);var s=cn.util.createBuffer();return s.putInt32(t[0]),s.putInt32(t[1]),s.putByte(r.type),s.putByte(r.version.major),s.putByte(r.version.minor),s.putInt16(r.length),s.putBytes(r.fragment.bytes()),n.update(s.getBytes()),n.digest().getBytes()},"hmac_sha1"),Wqe=o(function(e,t,r){var n=!1;try{var s=e.deflate(t.fragment.getBytes());t.fragment=cn.util.createBuffer(s),t.length=s.length,n=!0}catch{}return n},"deflate"),Yqe=o(function(e,t,r){var n=!1;try{var s=e.inflate(t.fragment.getBytes());t.fragment=cn.util.createBuffer(s),t.length=s.length,n=!0}catch{}return n},"inflate"),ef=o(function(e,t){var r=0;switch(t){case 1:r=e.getByte();break;case 2:r=e.getInt16();break;case 3:r=e.getInt24();break;case 4:r=e.getInt32();break}return cn.util.createBuffer(e.getBytes(r))},"readVector"),Wf=o(function(e,t,r){e.putInt(r.length(),t<<3),e.putBuffer(r)},"writeVector"),Q={};Q.Versions={TLS_1_0:{major:3,minor:1},TLS_1_1:{major:3,minor:2},TLS_1_2:{major:3,minor:3}};Q.SupportedVersions=[Q.Versions.TLS_1_1,Q.Versions.TLS_1_0];Q.Version=Q.SupportedVersions[0];Q.MaxFragment=15360;Q.ConnectionEnd={server:0,client:1};Q.PRFAlgorithm={tls_prf_sha256:0};Q.BulkCipherAlgorithm={none:null,rc4:0,des3:1,aes:2};Q.CipherType={stream:0,block:1,aead:2};Q.MACAlgorithm={none:null,hmac_md5:0,hmac_sha1:1,hmac_sha256:2,hmac_sha384:3,hmac_sha512:4};Q.CompressionMethod={none:0,deflate:1};Q.ContentType={change_cipher_spec:20,alert:21,handshake:22,application_data:23,heartbeat:24};Q.HandshakeType={hello_request:0,client_hello:1,server_hello:2,certificate:11,server_key_exchange:12,certificate_request:13,server_hello_done:14,certificate_verify:15,client_key_exchange:16,finished:20};Q.Alert={};Q.Alert.Level={warning:1,fatal:2};Q.Alert.Description={close_notify:0,unexpected_message:10,bad_record_mac:20,decryption_failed:21,record_overflow:22,decompression_failure:30,handshake_failure:40,bad_certificate:42,unsupported_certificate:43,certificate_revoked:44,certificate_expired:45,certificate_unknown:46,illegal_parameter:47,unknown_ca:48,access_denied:49,decode_error:50,decrypt_error:51,export_restriction:60,protocol_version:70,insufficient_security:71,internal_error:80,user_canceled:90,no_renegotiation:100};Q.HeartbeatMessageType={heartbeat_request:1,heartbeat_response:2};Q.CipherSuites={};Q.getCipherSuite=function(e){var t=null;for(var r in Q.CipherSuites){var n=Q.CipherSuites[r];if(n.id[0]===e.charCodeAt(0)&&n.id[1]===e.charCodeAt(1)){t=n;break}}return t};Q.handleUnexpected=function(e,t){var r=!e.open&&e.entity===Q.ConnectionEnd.client;r||e.error(e,{message:"Unexpected message. Received TLS record out of order.",send:!0,alert:{level:Q.Alert.Level.fatal,description:Q.Alert.Description.unexpected_message}})};Q.handleHelloRequest=function(e,t,r){!e.handshaking&&e.handshakes>0&&(Q.queue(e,Q.createAlert(e,{level:Q.Alert.Level.warning,description:Q.Alert.Description.no_renegotiation})),Q.flush(e)),e.process()};Q.parseHelloMessage=function(e,t,r){var n=null,s=e.entity===Q.ConnectionEnd.client;if(r<38)e.error(e,{message:s?"Invalid ServerHello message. Message too short.":"Invalid ClientHello message. Message too short.",send:!0,alert:{level:Q.Alert.Level.fatal,description:Q.Alert.Description.illegal_parameter}});else{var a=t.fragment,l=a.length();if(n={version:{major:a.getByte(),minor:a.getByte()},random:cn.util.createBuffer(a.getBytes(32)),session_id:ef(a,1),extensions:[]},s?(n.cipher_suite=a.getBytes(2),n.compression_method=a.getByte()):(n.cipher_suites=ef(a,2),n.compression_methods=ef(a,1)),l=r-(l-a.length()),l>0){for(var c=ef(a,2);c.length()>0;)n.extensions.push({type:[c.getByte(),c.getByte()],data:ef(c,2)});if(!s)for(var u=0;u<n.extensions.length;++u){var f=n.extensions[u];if(f.type[0]===0&&f.type[1]===0)for(var d=ef(f.data,2);d.length()>0;){var p=d.getByte();if(p!==0)break;e.session.extensions.server_name.serverNameList.push(ef(d,2).getBytes())}}}if(e.session.version&&(n.version.major!==e.session.version.major||n.version.minor!==e.session.version.minor))return e.error(e,{message:"TLS version change is disallowed during renegotiation.",send:!0,alert:{level:Q.Alert.Level.fatal,description:Q.Alert.Description.protocol_version}});if(s)e.session.cipherSuite=Q.getCipherSuite(n.cipher_suite);else for(var h=cn.util.createBuffer(n.cipher_suites.bytes());h.length()>0&&(e.session.cipherSuite=Q.getCipherSuite(h.getBytes(2)),e.session.cipherSuite===null););if(e.session.cipherSuite===null)return e.error(e,{message:"No cipher suites in common.",send:!0,alert:{level:Q.Alert.Level.fatal,description:Q.Alert.Description.handshake_failure},cipherSuite:cn.util.bytesToHex(n.cipher_suite)});s?e.session.compressionMethod=n.compression_method:e.session.compressionMethod=Q.CompressionMethod.none}return n};Q.createSecurityParameters=function(e,t){var r=e.entity===Q.ConnectionEnd.client,n=t.random.bytes(),s=r?e.session.sp.client_random:n,a=r?n:Q.createRandom().getBytes();e.session.sp={entity:e.entity,prf_algorithm:Q.PRFAlgorithm.tls_prf_sha256,bulk_cipher_algorithm:null,cipher_type:null,enc_key_length:null,block_length:null,fixed_iv_length:null,record_iv_length:null,mac_algorithm:null,mac_length:null,mac_key_length:null,compression_algorithm:e.session.compressionMethod,pre_master_secret:null,master_secret:null,client_random:s,server_random:a}};Q.handleServerHello=function(e,t,r){var n=Q.parseHelloMessage(e,t,r);if(!e.fail){if(n.version.minor<=e.version.minor)e.version.minor=n.version.minor;else return e.error(e,{message:"Incompatible TLS version.",send:!0,alert:{level:Q.Alert.Level.fatal,description:Q.Alert.Description.protocol_version}});e.session.version=e.version;var s=n.session_id.bytes();s.length>0&&s===e.session.id?(e.expect=ghe,e.session.resuming=!0,e.session.sp.server_random=n.random.bytes()):(e.expect=Qqe,e.session.resuming=!1,Q.createSecurityParameters(e,n)),e.session.id=s,e.process()}};Q.handleClientHello=function(e,t,r){var n=Q.parseHelloMessage(e,t,r);if(!e.fail){var s=n.session_id.bytes(),a=null;if(e.sessionCache&&(a=e.sessionCache.getSession(s),a===null?s="":(a.version.major!==n.version.major||a.version.minor>n.version.minor)&&(a=null,s="")),s.length===0&&(s=cn.random.getBytes(32)),e.session.id=s,e.session.clientHelloVersion=n.version,e.session.sp={},a)e.version=e.session.version=a.version,e.session.sp=a.sp;else{for(var l,c=1;c<Q.SupportedVersions.length&&(l=Q.SupportedVersions[c],!(l.minor<=n.version.minor));++c);e.version={major:l.major,minor:l.minor},e.session.version=e.version}a!==null?(e.expect=QG,e.session.resuming=!0,e.session.sp.client_random=n.random.bytes()):(e.expect=e.verifyClient!==!1?ije:XG,e.session.resuming=!1,Q.createSecurityParameters(e,n)),e.open=!0,Q.queue(e,Q.createRecord(e,{type:Q.ContentType.handshake,data:Q.createServerHello(e)})),e.session.resuming?(Q.queue(e,Q.createRecord(e,{type:Q.ContentType.change_cipher_spec,data:Q.createChangeCipherSpec()})),e.state.pending=Q.createConnectionState(e),e.state.current.write=e.state.pending.write,Q.queue(e,Q.createRecord(e,{type:Q.ContentType.handshake,data:Q.createFinished(e)}))):(Q.queue(e,Q.createRecord(e,{type:Q.ContentType.handshake,data:Q.createCertificate(e)})),e.fail||(Q.queue(e,Q.createRecord(e,{type:Q.ContentType.handshake,data:Q.createServerKeyExchange(e)})),e.verifyClient!==!1&&Q.queue(e,Q.createRecord(e,{type:Q.ContentType.handshake,data:Q.createCertificateRequest(e)})),Q.queue(e,Q.createRecord(e,{type:Q.ContentType.handshake,data:Q.createServerHelloDone(e)})))),Q.flush(e),e.process()}};Q.handleCertificate=function(e,t,r){if(r<3)return e.error(e,{message:"Invalid Certificate message. Message too short.",send:!0,alert:{level:Q.Alert.Level.fatal,description:Q.Alert.Description.illegal_parameter}});var n=t.fragment,s={certificate_list:ef(n,3)},a,l,c=[];try{for(;s.certificate_list.length()>0;)a=ef(s.certificate_list,3),l=cn.asn1.fromDer(a),a=cn.pki.certificateFromAsn1(l,!0),c.push(a)}catch(f){return e.error(e,{message:"Could not parse certificate list.",cause:f,send:!0,alert:{level:Q.Alert.Level.fatal,description:Q.Alert.Description.bad_certificate}})}var u=e.entity===Q.ConnectionEnd.client;(u||e.verifyClient===!0)&&c.length===0?e.error(e,{message:u?"No server certificate provided.":"No client certificate provided.",send:!0,alert:{level:Q.Alert.Level.fatal,description:Q.Alert.Description.illegal_parameter}}):c.length===0?e.expect=u?hhe:XG:(u?e.session.serverCertificate=c[0]:e.session.clientCertificate=c[0],Q.verifyCertificateChain(e,c)&&(e.expect=u?hhe:XG)),e.process()};Q.handleServerKeyExchange=function(e,t,r){if(r>0)return e.error(e,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:Q.Alert.Level.fatal,description:Q.Alert.Description.unsupported_certificate}});e.expect=Jqe,e.process()};Q.handleClientKeyExchange=function(e,t,r){if(r<48)return e.error(e,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:Q.Alert.Level.fatal,description:Q.Alert.Description.unsupported_certificate}});var n=t.fragment,s={enc_pre_master_secret:ef(n,2).getBytes()},a=null;if(e.getPrivateKey)try{a=e.getPrivateKey(e,e.session.serverCertificate),a=cn.pki.privateKeyFromPem(a)}catch(u){e.error(e,{message:"Could not get private key.",cause:u,send:!0,alert:{level:Q.Alert.Level.fatal,description:Q.Alert.Description.internal_error}})}if(a===null)return e.error(e,{message:"No private key set.",send:!0,alert:{level:Q.Alert.Level.fatal,description:Q.Alert.Description.internal_error}});try{var l=e.session.sp;l.pre_master_secret=a.decrypt(s.enc_pre_master_secret);var c=e.session.clientHelloVersion;if(c.major!==l.pre_master_secret.charCodeAt(0)||c.minor!==l.pre_master_secret.charCodeAt(1))throw new Error("TLS version rollback attack detected.")}catch{l.pre_master_secret=cn.random.getBytes(48)}e.expect=QG,e.session.clientCertificate!==null&&(e.expect=sje),e.process()};Q.handleCertificateRequest=function(e,t,r){if(r<3)return e.error(e,{message:"Invalid CertificateRequest. Message too short.",send:!0,alert:{level:Q.Alert.Level.fatal,description:Q.Alert.Description.illegal_parameter}});var n=t.fragment,s={certificate_types:ef(n,1),certificate_authorities:ef(n,2)};e.session.certificateRequest=s,e.expect=Zqe,e.process()};Q.handleCertificateVerify=function(e,t,r){if(r<2)return e.error(e,{message:"Invalid CertificateVerify. Message too short.",send:!0,alert:{level:Q.Alert.Level.fatal,description:Q.Alert.Description.illegal_parameter}});var n=t.fragment;n.read-=4;var s=n.bytes();n.read+=4;var a={signature:ef(n,2).getBytes()},l=cn.util.createBuffer();l.putBuffer(e.session.md5.digest()),l.putBuffer(e.session.sha1.digest()),l=l.getBytes();try{var c=e.session.clientCertificate;if(!c.publicKey.verify(l,a.signature,"NONE"))throw new Error("CertificateVerify signature does not match.");e.session.md5.update(s),e.session.sha1.update(s)}catch{return e.error(e,{message:"Bad signature in CertificateVerify.",send:!0,alert:{level:Q.Alert.Level.fatal,description:Q.Alert.Description.handshake_failure}})}e.expect=QG,e.process()};Q.handleServerHelloDone=function(e,t,r){if(r>0)return e.error(e,{message:"Invalid ServerHelloDone message. Invalid length.",send:!0,alert:{level:Q.Alert.Level.fatal,description:Q.Alert.Description.record_overflow}});if(e.serverCertificate===null){var n={message:"No server certificate provided. Not enough security.",send:!0,alert:{level:Q.Alert.Level.fatal,description:Q.Alert.Description.insufficient_security}},s=0,a=e.verify(e,n.alert.description,s,[]);if(a!==!0)return(a||a===0)&&(typeof a=="object"&&!cn.util.isArray(a)?(a.message&&(n.message=a.message),a.alert&&(n.alert.description=a.alert)):typeof a=="number"&&(n.alert.description=a)),e.error(e,n)}e.session.certificateRequest!==null&&(t=Q.createRecord(e,{type:Q.ContentType.handshake,data:Q.createCertificate(e)}),Q.queue(e,t)),t=Q.createRecord(e,{type:Q.ContentType.handshake,data:Q.createClientKeyExchange(e)}),Q.queue(e,t),e.expect=rje;var l=o(function(c,u){c.session.certificateRequest!==null&&c.session.clientCertificate!==null&&Q.queue(c,Q.createRecord(c,{type:Q.ContentType.handshake,data:Q.createCertificateVerify(c,u)})),Q.queue(c,Q.createRecord(c,{type:Q.ContentType.change_cipher_spec,data:Q.createChangeCipherSpec()})),c.state.pending=Q.createConnectionState(c),c.state.current.write=c.state.pending.write,Q.queue(c,Q.createRecord(c,{type:Q.ContentType.handshake,data:Q.createFinished(c)})),c.expect=ghe,Q.flush(c),c.process()},"callback");if(e.session.certificateRequest===null||e.session.clientCertificate===null)return l(e,null);Q.getClientSignature(e,l)};Q.handleChangeCipherSpec=function(e,t){if(t.fragment.getByte()!==1)return e.error(e,{message:"Invalid ChangeCipherSpec message received.",send:!0,alert:{level:Q.Alert.Level.fatal,description:Q.Alert.Description.illegal_parameter}});var r=e.entity===Q.ConnectionEnd.client;(e.session.resuming&&r||!e.session.resuming&&!r)&&(e.state.pending=Q.createConnectionState(e)),e.state.current.read=e.state.pending.read,(!e.session.resuming&&r||e.session.resuming&&!r)&&(e.state.pending=null),e.expect=r?eje:aje,e.process()};Q.handleFinished=function(e,t,r){var n=t.fragment;n.read-=4;var s=n.bytes();n.read+=4;var a=t.fragment.getBytes();n=cn.util.createBuffer(),n.putBuffer(e.session.md5.digest()),n.putBuffer(e.session.sha1.digest());var l=e.entity===Q.ConnectionEnd.client,c=l?"server finished":"client finished",u=e.session.sp,f=12,d=VP;if(n=d(u.master_secret,c,n.getBytes(),f),n.getBytes()!==a)return e.error(e,{message:"Invalid verify_data in Finished message.",send:!0,alert:{level:Q.Alert.Level.fatal,description:Q.Alert.Description.decrypt_error}});e.session.md5.update(s),e.session.sha1.update(s),(e.session.resuming&&l||!e.session.resuming&&!l)&&(Q.queue(e,Q.createRecord(e,{type:Q.ContentType.change_cipher_spec,data:Q.createChangeCipherSpec()})),e.state.current.write=e.state.pending.write,e.state.pending=null,Q.queue(e,Q.createRecord(e,{type:Q.ContentType.handshake,data:Q.createFinished(e)}))),e.expect=l?tje:oje,e.handshaking=!1,++e.handshakes,e.peerCertificate=l?e.session.serverCertificate:e.session.clientCertificate,Q.flush(e),e.isConnected=!0,e.connected(e),e.process()};Q.handleAlert=function(e,t){var r=t.fragment,n={level:r.getByte(),description:r.getByte()},s;switch(n.description){case Q.Alert.Description.close_notify:s="Connection closed.";break;case Q.Alert.Description.unexpected_message:s="Unexpected message.";break;case Q.Alert.Description.bad_record_mac:s="Bad record MAC.";break;case Q.Alert.Description.decryption_failed:s="Decryption failed.";break;case Q.Alert.Description.record_overflow:s="Record overflow.";break;case Q.Alert.Description.decompression_failure:s="Decompression failed.";break;case Q.Alert.Description.handshake_failure:s="Handshake failure.";break;case Q.Alert.Description.bad_certificate:s="Bad certificate.";break;case Q.Alert.Description.unsupported_certificate:s="Unsupported certificate.";break;case Q.Alert.Description.certificate_revoked:s="Certificate revoked.";break;case Q.Alert.Description.certificate_expired:s="Certificate expired.";break;case Q.Alert.Description.certificate_unknown:s="Certificate unknown.";break;case Q.Alert.Description.illegal_parameter:s="Illegal parameter.";break;case Q.Alert.Description.unknown_ca:s="Unknown certificate authority.";break;case Q.Alert.Description.access_denied:s="Access denied.";break;case Q.Alert.Description.decode_error:s="Decode error.";break;case Q.Alert.Description.decrypt_error:s="Decrypt error.";break;case Q.Alert.Description.export_restriction:s="Export restriction.";break;case Q.Alert.Description.protocol_version:s="Unsupported protocol version.";break;case Q.Alert.Description.insufficient_security:s="Insufficient security.";break;case Q.Alert.Description.internal_error:s="Internal error.";break;case Q.Alert.Description.user_canceled:s="User canceled.";break;case Q.Alert.Description.no_renegotiation:s="Renegotiation not supported.";break;default:s="Unknown error.";break}if(n.description===Q.Alert.Description.close_notify)return e.close();e.error(e,{message:s,send:!1,origin:e.entity===Q.ConnectionEnd.client?"server":"client",alert:n}),e.process()};Q.handleHandshake=function(e,t){var r=t.fragment,n=r.getByte(),s=r.getInt24();if(s>r.length())return e.fragmented=t,t.fragment=cn.util.createBuffer(),r.read-=4,e.process();e.fragmented=null,r.read-=4;var a=r.bytes(s+4);r.read+=4,n in $P[e.entity][e.expect]?(e.entity===Q.ConnectionEnd.server&&!e.open&&!e.fail&&(e.handshaking=!0,e.session={version:null,extensions:{server_name:{serverNameList:[]}},cipherSuite:null,compressionMethod:null,serverCertificate:null,clientCertificate:null,md5:cn.md.md5.create(),sha1:cn.md.sha1.create()}),n!==Q.HandshakeType.hello_request&&n!==Q.HandshakeType.certificate_verify&&n!==Q.HandshakeType.finished&&(e.session.md5.update(a),e.session.sha1.update(a)),$P[e.entity][e.expect][n](e,t,s)):Q.handleUnexpected(e,t)};Q.handleApplicationData=function(e,t){e.data.putBuffer(t.fragment),e.dataReady(e),e.process()};Q.handleHeartbeat=function(e,t){var r=t.fragment,n=r.getByte(),s=r.getInt16(),a=r.getBytes(s);if(n===Q.HeartbeatMessageType.heartbeat_request){if(e.handshaking||s>a.length)return e.process();Q.queue(e,Q.createRecord(e,{type:Q.ContentType.heartbeat,data:Q.createHeartbeat(Q.HeartbeatMessageType.heartbeat_response,a)})),Q.flush(e)}else if(n===Q.HeartbeatMessageType.heartbeat_response){if(a!==e.expectedHeartbeatPayload)return e.process();e.heartbeatReceived&&e.heartbeatReceived(e,cn.util.createBuffer(a))}e.process()};var Xqe=0,Qqe=1,hhe=2,Jqe=3,Zqe=4,ghe=5,eje=6,tje=7,rje=8,nje=0,ije=1,XG=2,sje=3,QG=4,aje=5,oje=6,X=Q.handleUnexpected,vhe=Q.handleChangeCipherSpec,mc=Q.handleAlert,au=Q.handleHandshake,yhe=Q.handleApplicationData,gc=Q.handleHeartbeat,JG=[];JG[Q.ConnectionEnd.client]=[[X,mc,au,X,gc],[X,mc,au,X,gc],[X,mc,au,X,gc],[X,mc,au,X,gc],[X,mc,au,X,gc],[vhe,mc,X,X,gc],[X,mc,au,X,gc],[X,mc,au,yhe,gc],[X,mc,au,X,gc]];JG[Q.ConnectionEnd.server]=[[X,mc,au,X,gc],[X,mc,au,X,gc],[X,mc,au,X,gc],[X,mc,au,X,gc],[vhe,mc,X,X,gc],[X,mc,au,X,gc],[X,mc,au,yhe,gc],[X,mc,au,X,gc]];var B3=Q.handleHelloRequest,lje=Q.handleServerHello,_he=Q.handleCertificate,mhe=Q.handleServerKeyExchange,WG=Q.handleCertificateRequest,jP=Q.handleServerHelloDone,xhe=Q.handleFinished,$P=[];$P[Q.ConnectionEnd.client]=[[X,X,lje,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X],[B3,X,X,X,X,X,X,X,X,X,X,_he,mhe,WG,jP,X,X,X,X,X,X],[B3,X,X,X,X,X,X,X,X,X,X,X,mhe,WG,jP,X,X,X,X,X,X],[B3,X,X,X,X,X,X,X,X,X,X,X,X,WG,jP,X,X,X,X,X,X],[B3,X,X,X,X,X,X,X,X,X,X,X,X,X,jP,X,X,X,X,X,X],[B3,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X],[B3,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,xhe],[B3,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X],[B3,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X]];var cje=Q.handleClientHello,uje=Q.handleClientKeyExchange,fje=Q.handleCertificateVerify;$P[Q.ConnectionEnd.server]=[[X,cje,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X],[X,X,X,X,X,X,X,X,X,X,X,_he,X,X,X,X,X,X,X,X,X],[X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,uje,X,X,X,X],[X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,fje,X,X,X,X,X],[X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X],[X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,xhe],[X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X],[X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X,X]];Q.generateKeys=function(e,t){var r=VP,n=t.client_random+t.server_random;e.session.resuming||(t.master_secret=r(t.pre_master_secret,"master secret",n,48).bytes(),t.pre_master_secret=null),n=t.server_random+t.client_random;var s=2*t.mac_key_length+2*t.enc_key_length,a=e.version.major===Q.Versions.TLS_1_0.major&&e.version.minor===Q.Versions.TLS_1_0.minor;a&&(s+=2*t.fixed_iv_length);var l=r(t.master_secret,"key expansion",n,s),c={client_write_MAC_key:l.getBytes(t.mac_key_length),server_write_MAC_key:l.getBytes(t.mac_key_length),client_write_key:l.getBytes(t.enc_key_length),server_write_key:l.getBytes(t.enc_key_length)};return a&&(c.client_write_IV=l.getBytes(t.fixed_iv_length),c.server_write_IV=l.getBytes(t.fixed_iv_length)),c};Q.createConnectionState=function(e){var t=e.entity===Q.ConnectionEnd.client,r=o(function(){var a={sequenceNumber:[0,0],macKey:null,macLength:0,macFunction:null,cipherState:null,cipherFunction:function(l){return!0},compressionState:null,compressFunction:function(l){return!0},updateSequenceNumber:function(){a.sequenceNumber[1]===4294967295?(a.sequenceNumber[1]=0,++a.sequenceNumber[0]):++a.sequenceNumber[1]}};return a},"createMode"),n={read:r(),write:r()};if(n.read.update=function(a,l){return n.read.cipherFunction(l,n.read)?n.read.compressFunction(a,l,n.read)||a.error(a,{message:"Could not decompress record.",send:!0,alert:{level:Q.Alert.Level.fatal,description:Q.Alert.Description.decompression_failure}}):a.error(a,{message:"Could not decrypt record or bad MAC.",send:!0,alert:{level:Q.Alert.Level.fatal,description:Q.Alert.Description.bad_record_mac}}),!a.fail},n.write.update=function(a,l){return n.write.compressFunction(a,l,n.write)?n.write.cipherFunction(l,n.write)||a.error(a,{message:"Could not encrypt record.",send:!1,alert:{level:Q.Alert.Level.fatal,description:Q.Alert.Description.internal_error}}):a.error(a,{message:"Could not compress record.",send:!1,alert:{level:Q.Alert.Level.fatal,description:Q.Alert.Description.internal_error}}),!a.fail},e.session){var s=e.session.sp;switch(e.session.cipherSuite.initSecurityParameters(s),s.keys=Q.generateKeys(e,s),n.read.macKey=t?s.keys.server_write_MAC_key:s.keys.client_write_MAC_key,n.write.macKey=t?s.keys.client_write_MAC_key:s.keys.server_write_MAC_key,e.session.cipherSuite.initConnectionState(n,e,s),s.compression_algorithm){case Q.CompressionMethod.none:break;case Q.CompressionMethod.deflate:n.read.compressFunction=Yqe,n.write.compressFunction=Wqe;break;default:throw new Error("Unsupported compression algorithm.")}}return n};Q.createRandom=function(){var e=new Date,t=+e+e.getTimezoneOffset()*6e4,r=cn.util.createBuffer();return r.putInt32(t),r.putBytes(cn.random.getBytes(28)),r};Q.createRecord=function(e,t){if(!t.data)return null;var r={type:t.type,version:{major:e.version.major,minor:e.version.minor},length:t.data.length(),fragment:t.data};return r};Q.createAlert=function(e,t){var r=cn.util.createBuffer();return r.putByte(t.level),r.putByte(t.description),Q.createRecord(e,{type:Q.ContentType.alert,data:r})};Q.createClientHello=function(e){e.session.clientHelloVersion={major:e.version.major,minor:e.version.minor};for(var t=cn.util.createBuffer(),r=0;r<e.cipherSuites.length;++r){var n=e.cipherSuites[r];t.putByte(n.id[0]),t.putByte(n.id[1])}var s=t.length(),a=cn.util.createBuffer();a.putByte(Q.CompressionMethod.none);var l=a.length(),c=cn.util.createBuffer();if(e.virtualHost){var u=cn.util.createBuffer();u.putByte(0),u.putByte(0);var f=cn.util.createBuffer();f.putByte(0),Wf(f,2,cn.util.createBuffer(e.virtualHost));var d=cn.util.createBuffer();Wf(d,2,f),Wf(u,2,d),c.putBuffer(u)}var p=c.length();p>0&&(p+=2);var h=e.session.id,m=h.length+1+2+4+28+2+s+1+l+p,v=cn.util.createBuffer();return v.putByte(Q.HandshakeType.client_hello),v.putInt24(m),v.putByte(e.version.major),v.putByte(e.version.minor),v.putBytes(e.session.sp.client_random),Wf(v,1,cn.util.createBuffer(h)),Wf(v,2,t),Wf(v,1,a),p>0&&Wf(v,2,c),v};Q.createServerHello=function(e){var t=e.session.id,r=t.length+1+2+4+28+2+1,n=cn.util.createBuffer();return n.putByte(Q.HandshakeType.server_hello),n.putInt24(r),n.putByte(e.version.major),n.putByte(e.version.minor),n.putBytes(e.session.sp.server_random),Wf(n,1,cn.util.createBuffer(t)),n.putByte(e.session.cipherSuite.id[0]),n.putByte(e.session.cipherSuite.id[1]),n.putByte(e.session.compressionMethod),n};Q.createCertificate=function(e){var t=e.entity===Q.ConnectionEnd.client,r=null;if(e.getCertificate){var n;t?n=e.session.certificateRequest:n=e.session.extensions.server_name.serverNameList,r=e.getCertificate(e,n)}var s=cn.util.createBuffer();if(r!==null)try{cn.util.isArray(r)||(r=[r]);for(var a=null,l=0;l<r.length;++l){var c=cn.pem.decode(r[l])[0];if(c.type!=="CERTIFICATE"&&c.type!=="X509 CERTIFICATE"&&c.type!=="TRUSTED CERTIFICATE"){var u=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw u.headerType=c.type,u}if(c.procType&&c.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var f=cn.util.createBuffer(c.body);a===null&&(a=cn.asn1.fromDer(f.bytes(),!1));var d=cn.util.createBuffer();Wf(d,3,f),s.putBuffer(d)}r=cn.pki.certificateFromAsn1(a),t?e.session.clientCertificate=r:e.session.serverCertificate=r}catch(m){return e.error(e,{message:"Could not send certificate list.",cause:m,send:!0,alert:{level:Q.Alert.Level.fatal,description:Q.Alert.Description.bad_certificate}})}var p=3+s.length(),h=cn.util.createBuffer();return h.putByte(Q.HandshakeType.certificate),h.putInt24(p),Wf(h,3,s),h};Q.createClientKeyExchange=function(e){var t=cn.util.createBuffer();t.putByte(e.session.clientHelloVersion.major),t.putByte(e.session.clientHelloVersion.minor),t.putBytes(cn.random.getBytes(46));var r=e.session.sp;r.pre_master_secret=t.getBytes();var n=e.session.serverCertificate.publicKey;t=n.encrypt(r.pre_master_secret);var s=t.length+2,a=cn.util.createBuffer();return a.putByte(Q.HandshakeType.client_key_exchange),a.putInt24(s),a.putInt16(t.length),a.putBytes(t),a};Q.createServerKeyExchange=function(e){var t=0,r=cn.util.createBuffer();return t>0&&(r.putByte(Q.HandshakeType.server_key_exchange),r.putInt24(t)),r};Q.getClientSignature=function(e,t){var r=cn.util.createBuffer();r.putBuffer(e.session.md5.digest()),r.putBuffer(e.session.sha1.digest()),r=r.getBytes(),e.getSignature=e.getSignature||function(n,s,a){var l=null;if(n.getPrivateKey)try{l=n.getPrivateKey(n,n.session.clientCertificate),l=cn.pki.privateKeyFromPem(l)}catch(c){n.error(n,{message:"Could not get private key.",cause:c,send:!0,alert:{level:Q.Alert.Level.fatal,description:Q.Alert.Description.internal_error}})}l===null?n.error(n,{message:"No private key set.",send:!0,alert:{level:Q.Alert.Level.fatal,description:Q.Alert.Description.internal_error}}):s=l.sign(s,null),a(n,s)},e.getSignature(e,r,t)};Q.createCertificateVerify=function(e,t){var r=t.length+2,n=cn.util.createBuffer();return n.putByte(Q.HandshakeType.certificate_verify),n.putInt24(r),n.putInt16(t.length),n.putBytes(t),n};Q.createCertificateRequest=function(e){var t=cn.util.createBuffer();t.putByte(1);var r=cn.util.createBuffer();for(var n in e.caStore.certs){var s=e.caStore.certs[n],a=cn.pki.distinguishedNameToAsn1(s.subject),l=cn.asn1.toDer(a);r.putInt16(l.length()),r.putBuffer(l)}var c=1+t.length()+2+r.length(),u=cn.util.createBuffer();return u.putByte(Q.HandshakeType.certificate_request),u.putInt24(c),Wf(u,1,t),Wf(u,2,r),u};Q.createServerHelloDone=function(e){var t=cn.util.createBuffer();return t.putByte(Q.HandshakeType.server_hello_done),t.putInt24(0),t};Q.createChangeCipherSpec=function(){var e=cn.util.createBuffer();return e.putByte(1),e};Q.createFinished=function(e){var t=cn.util.createBuffer();t.putBuffer(e.session.md5.digest()),t.putBuffer(e.session.sha1.digest());var r=e.entity===Q.ConnectionEnd.client,n=e.session.sp,s=12,a=VP,l=r?"client finished":"server finished";t=a(n.master_secret,l,t.getBytes(),s);var c=cn.util.createBuffer();return c.putByte(Q.HandshakeType.finished),c.putInt24(t.length()),c.putBuffer(t),c};Q.createHeartbeat=function(e,t,r){typeof r>"u"&&(r=t.length);var n=cn.util.createBuffer();n.putByte(e),n.putInt16(r),n.putBytes(t);var s=n.length(),a=Math.max(16,s-r-3);return n.putBytes(cn.random.getBytes(a)),n};Q.queue=function(e,t){if(t&&!(t.fragment.length()===0&&(t.type===Q.ContentType.handshake||t.type===Q.ContentType.alert||t.type===Q.ContentType.change_cipher_spec))){if(t.type===Q.ContentType.handshake){var r=t.fragment.bytes();e.session.md5.update(r),e.session.sha1.update(r),r=null}var n;if(t.fragment.length()<=Q.MaxFragment)n=[t];else{n=[];for(var s=t.fragment.bytes();s.length>Q.MaxFragment;)n.push(Q.createRecord(e,{type:t.type,data:cn.util.createBuffer(s.slice(0,Q.MaxFragment))})),s=s.slice(Q.MaxFragment);s.length>0&&n.push(Q.createRecord(e,{type:t.type,data:cn.util.createBuffer(s)}))}for(var a=0;a<n.length&&!e.fail;++a){var l=n[a],c=e.state.current.write;c.update(e,l)&&e.records.push(l)}}};Q.flush=function(e){for(var t=0;t<e.records.length;++t){var r=e.records[t];e.tlsData.putByte(r.type),e.tlsData.putByte(r.version.major),e.tlsData.putByte(r.version.minor),e.tlsData.putInt16(r.fragment.length()),e.tlsData.putBuffer(e.records[t].fragment)}return e.records=[],e.tlsDataReady(e)};var YG=o(function(e){switch(e){case!0:return!0;case cn.pki.certificateError.bad_certificate:return Q.Alert.Description.bad_certificate;case cn.pki.certificateError.unsupported_certificate:return Q.Alert.Description.unsupported_certificate;case cn.pki.certificateError.certificate_revoked:return Q.Alert.Description.certificate_revoked;case cn.pki.certificateError.certificate_expired:return Q.Alert.Description.certificate_expired;case cn.pki.certificateError.certificate_unknown:return Q.Alert.Description.certificate_unknown;case cn.pki.certificateError.unknown_ca:return Q.Alert.Description.unknown_ca;default:return Q.Alert.Description.bad_certificate}},"_certErrorToAlertDesc"),dje=o(function(e){switch(e){case!0:return!0;case Q.Alert.Description.bad_certificate:return cn.pki.certificateError.bad_certificate;case Q.Alert.Description.unsupported_certificate:return cn.pki.certificateError.unsupported_certificate;case Q.Alert.Description.certificate_revoked:return cn.pki.certificateError.certificate_revoked;case Q.Alert.Description.certificate_expired:return cn.pki.certificateError.certificate_expired;case Q.Alert.Description.certificate_unknown:return cn.pki.certificateError.certificate_unknown;case Q.Alert.Description.unknown_ca:return cn.pki.certificateError.unknown_ca;default:return cn.pki.certificateError.bad_certificate}},"_alertDescToCertError");Q.verifyCertificateChain=function(e,t){try{var r={};for(var n in e.verifyOptions)r[n]=e.verifyOptions[n];r.verify=function(a,l,c){var u=YG(a),f=e.verify(e,a,l,c);if(f!==!0){if(typeof f=="object"&&!cn.util.isArray(f)){var d=new Error("The application rejected the certificate.");throw d.send=!0,d.alert={level:Q.Alert.Level.fatal,description:Q.Alert.Description.bad_certificate},f.message&&(d.message=f.message),f.alert&&(d.alert.description=f.alert),d}f!==a&&(f=dje(f))}return f},cn.pki.verifyCertificateChain(e.caStore,t,r)}catch(a){var s=a;(typeof s!="object"||cn.util.isArray(s))&&(s={send:!0,alert:{level:Q.Alert.Level.fatal,description:YG(a)}}),"send"in s||(s.send=!0),"alert"in s||(s.alert={level:Q.Alert.Level.fatal,description:YG(s.error)}),e.error(e,s)}return!e.fail};Q.createSessionCache=function(e,t){var r=null;if(e&&e.getSession&&e.setSession&&e.order)r=e;else{r={},r.cache=e||{},r.capacity=Math.max(t||100,1),r.order=[];for(var n in e)r.order.length<=t?r.order.push(n):delete e[n];r.getSession=function(s){var a=null,l=null;if(s?l=cn.util.bytesToHex(s):r.order.length>0&&(l=r.order[0]),l!==null&&l in r.cache){a=r.cache[l],delete r.cache[l];for(var c in r.order)if(r.order[c]===l){r.order.splice(c,1);break}}return a},r.setSession=function(s,a){if(r.order.length===r.capacity){var l=r.order.shift();delete r.cache[l]}var l=cn.util.bytesToHex(s);r.order.push(l),r.cache[l]=a}}return r};Q.createConnection=function(e){var t=null;e.caStore?cn.util.isArray(e.caStore)?t=cn.pki.createCaStore(e.caStore):t=e.caStore:t=cn.pki.createCaStore();var r=e.cipherSuites||null;if(r===null){r=[];for(var n in Q.CipherSuites)r.push(Q.CipherSuites[n])}var s=e.server?Q.ConnectionEnd.server:Q.ConnectionEnd.client,a=e.sessionCache?Q.createSessionCache(e.sessionCache):null,l={version:{major:Q.Version.major,minor:Q.Version.minor},entity:s,sessionId:e.sessionId,caStore:t,sessionCache:a,cipherSuites:r,connected:e.connected,virtualHost:e.virtualHost||null,verifyClient:e.verifyClient||!1,verify:e.verify||function(d,p,h,m){return p},verifyOptions:e.verifyOptions||{},getCertificate:e.getCertificate||null,getPrivateKey:e.getPrivateKey||null,getSignature:e.getSignature||null,input:cn.util.createBuffer(),tlsData:cn.util.createBuffer(),data:cn.util.createBuffer(),tlsDataReady:e.tlsDataReady,dataReady:e.dataReady,heartbeatReceived:e.heartbeatReceived,closed:e.closed,error:function(d,p){p.origin=p.origin||(d.entity===Q.ConnectionEnd.client?"client":"server"),p.send&&(Q.queue(d,Q.createAlert(d,p.alert)),Q.flush(d));var h=p.fatal!==!1;h&&(d.fail=!0),e.error(d,p),h&&d.close(!1)},deflate:e.deflate||null,inflate:e.inflate||null};l.reset=function(d){l.version={major:Q.Version.major,minor:Q.Version.minor},l.record=null,l.session=null,l.peerCertificate=null,l.state={pending:null,current:null},l.expect=l.entity===Q.ConnectionEnd.client?Xqe:nje,l.fragmented=null,l.records=[],l.open=!1,l.handshakes=0,l.handshaking=!1,l.isConnected=!1,l.fail=!(d||typeof d>"u"),l.input.clear(),l.tlsData.clear(),l.data.clear(),l.state.current=Q.createConnectionState(l)},l.reset();var c=o(function(d,p){var h=p.type-Q.ContentType.change_cipher_spec,m=JG[d.entity][d.expect];h in m?m[h](d,p):Q.handleUnexpected(d,p)},"_update"),u=o(function(d){var p=0,h=d.input,m=h.length();if(m<5)p=5-m;else{d.record={type:h.getByte(),version:{major:h.getByte(),minor:h.getByte()},length:h.getInt16(),fragment:cn.util.createBuffer(),ready:!1};var v=d.record.version.major===d.version.major;v&&d.session&&d.session.version&&(v=d.record.version.minor===d.version.minor),v||d.error(d,{message:"Incompatible TLS version.",send:!0,alert:{level:Q.Alert.Level.fatal,description:Q.Alert.Description.protocol_version}})}return p},"_readRecordHeader"),f=o(function(d){var p=0,h=d.input,m=h.length();if(m<d.record.length)p=d.record.length-m;else{d.record.fragment.putBytes(h.getBytes(d.record.length)),h.compact();var v=d.state.current.read;v.update(d,d.record)&&(d.fragmented!==null&&(d.fragmented.type===d.record.type?(d.fragmented.fragment.putBuffer(d.record.fragment),d.record=d.fragmented):d.error(d,{message:"Invalid fragmented record.",send:!0,alert:{level:Q.Alert.Level.fatal,description:Q.Alert.Description.unexpected_message}})),d.record.ready=!0)}return p},"_readRecord");return l.handshake=function(d){if(l.entity!==Q.ConnectionEnd.client)l.error(l,{message:"Cannot initiate handshake as a server.",fatal:!1});else if(l.handshaking)l.error(l,{message:"Handshake already in progress.",fatal:!1});else{l.fail&&!l.open&&l.handshakes===0&&(l.fail=!1),l.handshaking=!0,d=d||"";var p=null;d.length>0&&(l.sessionCache&&(p=l.sessionCache.getSession(d)),p===null&&(d="")),d.length===0&&l.sessionCache&&(p=l.sessionCache.getSession(),p!==null&&(d=p.id)),l.session={id:d,version:null,cipherSuite:null,compressionMethod:null,serverCertificate:null,certificateRequest:null,clientCertificate:null,sp:{},md5:cn.md.md5.create(),sha1:cn.md.sha1.create()},p&&(l.version=p.version,l.session.sp=p.sp),l.session.sp.client_random=Q.createRandom().getBytes(),l.open=!0,Q.queue(l,Q.createRecord(l,{type:Q.ContentType.handshake,data:Q.createClientHello(l)})),Q.flush(l)}},l.process=function(d){var p=0;return d&&l.input.putBytes(d),l.fail||(l.record!==null&&l.record.ready&&l.record.fragment.isEmpty()&&(l.record=null),l.record===null&&(p=u(l)),!l.fail&&l.record!==null&&!l.record.ready&&(p=f(l)),!l.fail&&l.record!==null&&l.record.ready&&c(l,l.record)),p},l.prepare=function(d){return Q.queue(l,Q.createRecord(l,{type:Q.ContentType.application_data,data:cn.util.createBuffer(d)})),Q.flush(l)},l.prepareHeartbeatRequest=function(d,p){return d instanceof cn.util.ByteBuffer&&(d=d.bytes()),typeof p>"u"&&(p=d.length),l.expectedHeartbeatPayload=d,Q.queue(l,Q.createRecord(l,{type:Q.ContentType.heartbeat,data:Q.createHeartbeat(Q.HeartbeatMessageType.heartbeat_request,d,p)})),Q.flush(l)},l.close=function(d){if(!l.fail&&l.sessionCache&&l.session){var p={id:l.session.id,version:l.session.version,sp:l.session.sp};p.sp.keys=null,l.sessionCache.setSession(p.id,p)}l.open&&(l.open=!1,l.input.clear(),(l.isConnected||l.handshaking)&&(l.isConnected=l.handshaking=!1,Q.queue(l,Q.createAlert(l,{level:Q.Alert.Level.warning,description:Q.Alert.Description.close_notify})),Q.flush(l)),l.closed(l)),l.reset(d)},l};bhe.exports=cn.tls=cn.tls||{};for(HP in Q)typeof Q[HP]!="function"&&(cn.tls[HP]=Q[HP]);var HP;cn.tls.prf_tls1=VP;cn.tls.hmac_sha1=Kqe;cn.tls.createSessionCache=Q.createSessionCache;cn.tls.createConnection=Q.createConnection});var Che=k((lpt,The)=>{var F3=Js();N3();ZG();var Yf=The.exports=F3.tls;Yf.CipherSuites.TLS_RSA_WITH_AES_128_CBC_SHA={id:[0,47],name:"TLS_RSA_WITH_AES_128_CBC_SHA",initSecurityParameters:function(e){e.bulk_cipher_algorithm=Yf.BulkCipherAlgorithm.aes,e.cipher_type=Yf.CipherType.block,e.enc_key_length=16,e.block_length=16,e.fixed_iv_length=16,e.record_iv_length=16,e.mac_algorithm=Yf.MACAlgorithm.hmac_sha1,e.mac_length=20,e.mac_key_length=20},initConnectionState:Ehe};Yf.CipherSuites.TLS_RSA_WITH_AES_256_CBC_SHA={id:[0,53],name:"TLS_RSA_WITH_AES_256_CBC_SHA",initSecurityParameters:function(e){e.bulk_cipher_algorithm=Yf.BulkCipherAlgorithm.aes,e.cipher_type=Yf.CipherType.block,e.enc_key_length=32,e.block_length=16,e.fixed_iv_length=16,e.record_iv_length=16,e.mac_algorithm=Yf.MACAlgorithm.hmac_sha1,e.mac_length=20,e.mac_key_length=20},initConnectionState:Ehe};function Ehe(e,t,r){var n=t.entity===F3.tls.ConnectionEnd.client;e.read.cipherState={init:!1,cipher:F3.cipher.createDecipher("AES-CBC",n?r.keys.server_write_key:r.keys.client_write_key),iv:n?r.keys.server_write_IV:r.keys.client_write_IV},e.write.cipherState={init:!1,cipher:F3.cipher.createCipher("AES-CBC",n?r.keys.client_write_key:r.keys.server_write_key),iv:n?r.keys.client_write_IV:r.keys.server_write_IV},e.read.cipherFunction=gje,e.write.cipherFunction=pje,e.read.macLength=e.write.macLength=r.mac_length,e.read.macFunction=e.write.macFunction=Yf.hmac_sha1}o(Ehe,"initConnectionState");function pje(e,t){var r=!1,n=t.macFunction(t.macKey,t.sequenceNumber,e);e.fragment.putBytes(n),t.updateSequenceNumber();var s;e.version.minor===Yf.Versions.TLS_1_0.minor?s=t.cipherState.init?null:t.cipherState.iv:s=F3.random.getBytesSync(16),t.cipherState.init=!0;var a=t.cipherState.cipher;return a.start({iv:s}),e.version.minor>=Yf.Versions.TLS_1_1.minor&&a.output.putBytes(s),a.update(e.fragment),a.finish(hje)&&(e.fragment=a.output,e.length=e.fragment.length(),r=!0),r}o(pje,"encrypt_aes_cbc_sha1");function hje(e,t,r){if(!r){var n=e-t.length()%e;t.fillWithByte(n-1,n)}return!0}o(hje,"encrypt_aes_cbc_sha1_padding");function mje(e,t,r){var n=!0;if(r){for(var s=t.length(),a=t.last(),l=s-1-a;l<s-1;++l)n=n&&t.at(l)==a;n&&t.truncate(a+1)}return n}o(mje,"decrypt_aes_cbc_sha1_padding");function gje(e,t){var r=!1,n;e.version.minor===Yf.Versions.TLS_1_0.minor?n=t.cipherState.init?null:t.cipherState.iv:n=e.fragment.getBytes(16),t.cipherState.init=!0;var s=t.cipherState.cipher;s.start({iv:n}),s.update(e.fragment),r=s.finish(mje);var a=t.macLength,l=F3.random.getBytesSync(a),c=s.output.length();c>=a?(e.fragment=s.output.getBytes(c-a),l=s.output.getBytes(a)):e.fragment=s.output.getBytes(),e.fragment=F3.util.createBuffer(e.fragment),e.length=e.fragment.length();var u=t.macFunction(t.macKey,t.sequenceNumber,e);return t.updateSequenceNumber(),r=vje(t.macKey,l,u)&&r,r}o(gje,"decrypt_aes_cbc_sha1");function vje(e,t,r){var n=F3.hmac.create();return n.start("SHA1",e),n.update(t),t=n.digest().getBytes(),n.start(null,null),n.update(r),r=n.digest().getBytes(),t===r}o(vje,"compareMacs")});var rz=k((upt,whe)=>{var pa=Js();ep();P0();var Zx=whe.exports=pa.sha512=pa.sha512||{};pa.md.sha512=pa.md.algorithms.sha512=Zx;var Ihe=pa.sha384=pa.sha512.sha384=pa.sha512.sha384||{};Ihe.create=function(){return Zx.create("SHA-384")};pa.md.sha384=pa.md.algorithms.sha384=Ihe;pa.sha512.sha256=pa.sha512.sha256||{create:function(){return Zx.create("SHA-512/256")}};pa.md["sha512/256"]=pa.md.algorithms["sha512/256"]=pa.sha512.sha256;pa.sha512.sha224=pa.sha512.sha224||{create:function(){return Zx.create("SHA-512/224")}};pa.md["sha512/224"]=pa.md.algorithms["sha512/224"]=pa.sha512.sha224;Zx.create=function(e){if(Ahe||yje(),typeof e>"u"&&(e="SHA-512"),!(e in Gg))throw new Error("Invalid SHA-512 algorithm: "+e);for(var t=Gg[e],r=null,n=pa.util.createBuffer(),s=new Array(80),a=0;a<80;++a)s[a]=new Array(2);var l=64;switch(e){case"SHA-384":l=48;break;case"SHA-512/256":l=32;break;case"SHA-512/224":l=28;break}var c={algorithm:e.replace("-","").toLowerCase(),blockLength:128,digestLength:l,messageLength:0,fullMessageLength:null,messageLengthSize:16};return c.start=function(){c.messageLength=0,c.fullMessageLength=c.messageLength128=[];for(var u=c.messageLengthSize/4,f=0;f<u;++f)c.fullMessageLength.push(0);n=pa.util.createBuffer(),r=new Array(t.length);for(var f=0;f<t.length;++f)r[f]=t[f].slice(0);return c},c.start(),c.update=function(u,f){f==="utf8"&&(u=pa.util.encodeUtf8(u));var d=u.length;c.messageLength+=d,d=[d/4294967296>>>0,d>>>0];for(var p=c.fullMessageLength.length-1;p>=0;--p)c.fullMessageLength[p]+=d[1],d[1]=d[0]+(c.fullMessageLength[p]/4294967296>>>0),c.fullMessageLength[p]=c.fullMessageLength[p]>>>0,d[0]=d[1]/4294967296>>>0;return n.putBytes(u),She(r,s,n),(n.read>2048||n.length()===0)&&n.compact(),c},c.digest=function(){var u=pa.util.createBuffer();u.putBytes(n.bytes());var f=c.fullMessageLength[c.fullMessageLength.length-1]+c.messageLengthSize,d=f&c.blockLength-1;u.putBytes(ez.substr(0,c.blockLength-d));for(var p,h,m=c.fullMessageLength[0]*8,v=0;v<c.fullMessageLength.length-1;++v)p=c.fullMessageLength[v+1]*8,h=p/4294967296>>>0,m+=h,u.putInt32(m>>>0),m=p>>>0;u.putInt32(m);for(var _=new Array(r.length),v=0;v<r.length;++v)_[v]=r[v].slice(0);She(_,s,u);var b=pa.util.createBuffer(),S;e==="SHA-512"?S=_.length:e==="SHA-384"?S=_.length-2:S=_.length-4;for(var v=0;v<S;++v)b.putInt32(_[v][0]),(v!==S-1||e!=="SHA-512/224")&&b.putInt32(_[v][1]);return b},c};var ez=null,Ahe=!1,tz=null,Gg=null;function yje(){ez="\x80",ez+=pa.util.fillString("\0",128),tz=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],Gg={},Gg["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],Gg["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],Gg["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],Gg["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],Ahe=!0}o(yje,"_init");function She(e,t,r){for(var n,s,a,l,c,u,f,d,p,h,m,v,_,b,S,A,O,L,D,$,de,ue,Ze,vr,vt,wr,Ve,Me,St,br,Yt,hr,Mt,yr,Ee,_e=r.length();_e>=128;){for(St=0;St<16;++St)t[St][0]=r.getInt32()>>>0,t[St][1]=r.getInt32()>>>0;for(;St<80;++St)hr=t[St-2],br=hr[0],Yt=hr[1],n=((br>>>19|Yt<<13)^(Yt>>>29|br<<3)^br>>>6)>>>0,s=((br<<13|Yt>>>19)^(Yt<<3|br>>>29)^(br<<26|Yt>>>6))>>>0,yr=t[St-15],br=yr[0],Yt=yr[1],a=((br>>>1|Yt<<31)^(br>>>8|Yt<<24)^br>>>7)>>>0,l=((br<<31|Yt>>>1)^(br<<24|Yt>>>8)^(br<<25|Yt>>>7))>>>0,Mt=t[St-7],Ee=t[St-16],Yt=s+Mt[1]+l+Ee[1],t[St][0]=n+Mt[0]+a+Ee[0]+(Yt/4294967296>>>0)>>>0,t[St][1]=Yt>>>0;for(_=e[0][0],b=e[0][1],S=e[1][0],A=e[1][1],O=e[2][0],L=e[2][1],D=e[3][0],$=e[3][1],de=e[4][0],ue=e[4][1],Ze=e[5][0],vr=e[5][1],vt=e[6][0],wr=e[6][1],Ve=e[7][0],Me=e[7][1],St=0;St<80;++St)f=((de>>>14|ue<<18)^(de>>>18|ue<<14)^(ue>>>9|de<<23))>>>0,d=((de<<18|ue>>>14)^(de<<14|ue>>>18)^(ue<<23|de>>>9))>>>0,p=(vt^de&(Ze^vt))>>>0,h=(wr^ue&(vr^wr))>>>0,c=((_>>>28|b<<4)^(b>>>2|_<<30)^(b>>>7|_<<25))>>>0,u=((_<<4|b>>>28)^(b<<30|_>>>2)^(b<<25|_>>>7))>>>0,m=(_&S|O&(_^S))>>>0,v=(b&A|L&(b^A))>>>0,Yt=Me+d+h+tz[St][1]+t[St][1],n=Ve+f+p+tz[St][0]+t[St][0]+(Yt/4294967296>>>0)>>>0,s=Yt>>>0,Yt=u+v,a=c+m+(Yt/4294967296>>>0)>>>0,l=Yt>>>0,Ve=vt,Me=wr,vt=Ze,wr=vr,Ze=de,vr=ue,Yt=$+s,de=D+n+(Yt/4294967296>>>0)>>>0,ue=Yt>>>0,D=O,$=L,O=S,L=A,S=_,A=b,Yt=s+l,_=n+a+(Yt/4294967296>>>0)>>>0,b=Yt>>>0;Yt=e[0][1]+b,e[0][0]=e[0][0]+_+(Yt/4294967296>>>0)>>>0,e[0][1]=Yt>>>0,Yt=e[1][1]+A,e[1][0]=e[1][0]+S+(Yt/4294967296>>>0)>>>0,e[1][1]=Yt>>>0,Yt=e[2][1]+L,e[2][0]=e[2][0]+O+(Yt/4294967296>>>0)>>>0,e[2][1]=Yt>>>0,Yt=e[3][1]+$,e[3][0]=e[3][0]+D+(Yt/4294967296>>>0)>>>0,e[3][1]=Yt>>>0,Yt=e[4][1]+ue,e[4][0]=e[4][0]+de+(Yt/4294967296>>>0)>>>0,e[4][1]=Yt>>>0,Yt=e[5][1]+vr,e[5][0]=e[5][0]+Ze+(Yt/4294967296>>>0)>>>0,e[5][1]=Yt>>>0,Yt=e[6][1]+wr,e[6][0]=e[6][0]+vt+(Yt/4294967296>>>0)>>>0,e[6][1]=Yt>>>0,Yt=e[7][1]+Me,e[7][0]=e[7][0]+Ve+(Yt/4294967296>>>0)>>>0,e[7][1]=Yt>>>0,_e-=128}}o(She,"_update")});var Rhe=k(nz=>{var _je=Js();Ud();var Gl=_je.asn1;nz.privateKeyValidator={name:"PrivateKeyInfo",tagClass:Gl.Class.UNIVERSAL,type:Gl.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:Gl.Class.UNIVERSAL,type:Gl.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:Gl.Class.UNIVERSAL,type:Gl.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:Gl.Class.UNIVERSAL,type:Gl.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:Gl.Class.UNIVERSAL,type:Gl.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]};nz.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:Gl.Class.UNIVERSAL,type:Gl.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:Gl.Class.UNIVERSAL,type:Gl.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:Gl.Class.UNIVERSAL,type:Gl.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{tagClass:Gl.Class.UNIVERSAL,type:Gl.Type.BITSTRING,constructed:!1,composed:!0,captureBitStringValue:"ed25519PublicKey"}]}});var Hhe=k((ppt,jhe)=>{var vc=Js();Yx();Vf();rz();P0();var khe=Rhe(),xje=khe.publicKeyValidator,bje=khe.privateKeyValidator;typeof Phe>"u"&&(Phe=vc.jsbn.BigInteger);var Phe,az=vc.util.ByteBuffer,Ou=typeof Buffer>"u"?Uint8Array:Buffer;vc.pki=vc.pki||{};jhe.exports=vc.pki.ed25519=vc.ed25519=vc.ed25519||{};var u0=vc.ed25519;u0.constants={};u0.constants.PUBLIC_KEY_BYTE_LENGTH=32;u0.constants.PRIVATE_KEY_BYTE_LENGTH=64;u0.constants.SEED_BYTE_LENGTH=32;u0.constants.SIGN_BYTE_LENGTH=64;u0.constants.HASH_BYTE_LENGTH=64;u0.generateKeyPair=function(e){e=e||{};var t=e.seed;if(t===void 0)t=vc.random.getBytesSync(u0.constants.SEED_BYTE_LENGTH);else if(typeof t=="string"){if(t.length!==u0.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+u0.constants.SEED_BYTE_LENGTH+" bytes in length.")}else if(!(t instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');t=Mh({message:t,encoding:"binary"});for(var r=new Ou(u0.constants.PUBLIC_KEY_BYTE_LENGTH),n=new Ou(u0.constants.PRIVATE_KEY_BYTE_LENGTH),s=0;s<32;++s)n[s]=t[s];return Sje(r,n),{publicKey:r,privateKey:n}};u0.privateKeyFromAsn1=function(e){var t={},r=[],n=vc.asn1.validate(e,bje,t,r);if(!n){var s=new Error("Invalid Key.");throw s.errors=r,s}var a=vc.asn1.derToOid(t.privateKeyOid),l=vc.oids.EdDSA25519;if(a!==l)throw new Error('Invalid OID "'+a+'"; OID must be "'+l+'".');var c=t.privateKey,u=Mh({message:vc.asn1.fromDer(c).value,encoding:"binary"});return{privateKeyBytes:u}};u0.publicKeyFromAsn1=function(e){var t={},r=[],n=vc.asn1.validate(e,xje,t,r);if(!n){var s=new Error("Invalid Key.");throw s.errors=r,s}var a=vc.asn1.derToOid(t.publicKeyOid),l=vc.oids.EdDSA25519;if(a!==l)throw new Error('Invalid OID "'+a+'"; OID must be "'+l+'".');var c=t.ed25519PublicKey;if(c.length!==u0.constants.PUBLIC_KEY_BYTE_LENGTH)throw new Error("Key length is invalid.");return Mh({message:c,encoding:"binary"})};u0.publicKeyFromPrivateKey=function(e){e=e||{};var t=Mh({message:e.privateKey,encoding:"binary"});if(t.length!==u0.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+u0.constants.PRIVATE_KEY_BYTE_LENGTH);for(var r=new Ou(u0.constants.PUBLIC_KEY_BYTE_LENGTH),n=0;n<r.length;++n)r[n]=t[32+n];return r};u0.sign=function(e){e=e||{};var t=Mh(e),r=Mh({message:e.privateKey,encoding:"binary"});if(r.length===u0.constants.SEED_BYTE_LENGTH){var n=u0.generateKeyPair({seed:r});r=n.privateKey}else if(r.length!==u0.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+u0.constants.SEED_BYTE_LENGTH+" or "+u0.constants.PRIVATE_KEY_BYTE_LENGTH);var s=new Ou(u0.constants.SIGN_BYTE_LENGTH+t.length);Ije(s,t,t.length,r);for(var a=new Ou(u0.constants.SIGN_BYTE_LENGTH),l=0;l<a.length;++l)a[l]=s[l];return a};u0.verify=function(e){e=e||{};var t=Mh(e);if(e.signature===void 0)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var r=Mh({message:e.signature,encoding:"binary"});if(r.length!==u0.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+u0.constants.SIGN_BYTE_LENGTH);var n=Mh({message:e.publicKey,encoding:"binary"});if(n.length!==u0.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+u0.constants.PUBLIC_KEY_BYTE_LENGTH);var s=new Ou(u0.constants.SIGN_BYTE_LENGTH+t.length),a=new Ou(u0.constants.SIGN_BYTE_LENGTH+t.length),l;for(l=0;l<u0.constants.SIGN_BYTE_LENGTH;++l)s[l]=r[l];for(l=0;l<t.length;++l)s[l+u0.constants.SIGN_BYTE_LENGTH]=t[l];return Aje(a,s,s.length,n)>=0};function Mh(e){var t=e.message;if(t instanceof Uint8Array||t instanceof Ou)return t;var r=e.encoding;if(t===void 0)if(e.md)t=e.md.digest().getBytes(),r="binary";else throw new TypeError('"options.message" or "options.md" not specified.');if(typeof t=="string"&&!r)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if(typeof t=="string"){if(typeof Buffer<"u")return Buffer.from(t,r);t=new az(t,r)}else if(!(t instanceof az))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');for(var n=new Ou(t.length()),s=0;s<n.length;++s)n[s]=t.at(s);return n}o(Mh,"messageToNativeBuffer");var oz=Cs(),GP=Cs([1]),Eje=Cs([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),Tje=Cs([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),Nhe=Cs([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),Ohe=Cs([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),iz=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),Cje=Cs([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function eb(e,t){var r=vc.md.sha512.create(),n=new az(e);r.update(n.getBytes(t),"binary");var s=r.digest().getBytes();if(typeof Buffer<"u")return Buffer.from(s,"binary");for(var a=new Ou(u0.constants.HASH_BYTE_LENGTH),l=0;l<64;++l)a[l]=s.charCodeAt(l);return a}o(eb,"sha512");function Sje(e,t){var r=[Cs(),Cs(),Cs(),Cs()],n,s=eb(t,32);for(s[0]&=248,s[31]&=127,s[31]|=64,fz(r,s),uz(e,r),n=0;n<32;++n)t[n+32]=e[n];return 0}o(Sje,"crypto_sign_keypair");function Ije(e,t,r,n){var s,a,l=new Float64Array(64),c=[Cs(),Cs(),Cs(),Cs()],u=eb(n,32);u[0]&=248,u[31]&=127,u[31]|=64;var f=r+64;for(s=0;s<r;++s)e[64+s]=t[s];for(s=0;s<32;++s)e[32+s]=u[32+s];var d=eb(e.subarray(32),r+32);for(lz(d),fz(c,d),uz(e,c),s=32;s<64;++s)e[s]=n[s];var p=eb(e,r+64);for(lz(p),s=32;s<64;++s)l[s]=0;for(s=0;s<32;++s)l[s]=d[s];for(s=0;s<32;++s)for(a=0;a<32;a++)l[s+a]+=p[s]*u[a];return Mhe(e.subarray(32),l),f}o(Ije,"crypto_sign");function Aje(e,t,r,n){var s,a,l=new Ou(32),c=[Cs(),Cs(),Cs(),Cs()],u=[Cs(),Cs(),Cs(),Cs()];if(a=-1,r<64||wje(u,n))return-1;for(s=0;s<r;++s)e[s]=t[s];for(s=0;s<32;++s)e[s+32]=n[s];var f=eb(e,r);if(lz(f),Uhe(c,u,f),fz(u,t.subarray(32)),cz(c,u),uz(l,c),r-=64,Bhe(t,0,l,0)){for(s=0;s<r;++s)e[s]=0;return-1}for(s=0;s<r;++s)e[s]=t[s+64];return a=r,a}o(Aje,"crypto_sign_open");function Mhe(e,t){var r,n,s,a;for(n=63;n>=32;--n){for(r=0,s=n-32,a=n-12;s<a;++s)t[s]+=r-16*t[n]*iz[s-(n-32)],r=t[s]+128>>8,t[s]-=r*256;t[s]+=r,t[n]=0}for(r=0,s=0;s<32;++s)t[s]+=r-(t[31]>>4)*iz[s],r=t[s]>>8,t[s]&=255;for(s=0;s<32;++s)t[s]-=r*iz[s];for(n=0;n<32;++n)t[n+1]+=t[n]>>8,e[n]=t[n]&255}o(Mhe,"modL");function lz(e){for(var t=new Float64Array(64),r=0;r<64;++r)t[r]=e[r],e[r]=0;Mhe(e,t)}o(lz,"reduce");function cz(e,t){var r=Cs(),n=Cs(),s=Cs(),a=Cs(),l=Cs(),c=Cs(),u=Cs(),f=Cs(),d=Cs();gy(r,e[1],e[0]),gy(d,t[1],t[0]),J0(r,r,d),my(n,e[0],e[1]),my(d,t[0],t[1]),J0(n,n,d),J0(s,e[3],t[3]),J0(s,s,Tje),J0(a,e[2],t[2]),my(a,a,a),gy(l,n,r),gy(c,a,s),my(u,a,s),my(f,n,r),J0(e[0],l,c),J0(e[1],f,u),J0(e[2],u,c),J0(e[3],l,f)}o(cz,"add");function Dhe(e,t,r){for(var n=0;n<4;++n)qhe(e[n],t[n],r)}o(Dhe,"cswap");function uz(e,t){var r=Cs(),n=Cs(),s=Cs();Oje(s,t[2]),J0(r,t[0],s),J0(n,t[1],s),zP(e,n),e[31]^=Fhe(r)<<7}o(uz,"pack");function zP(e,t){var r,n,s,a=Cs(),l=Cs();for(r=0;r<16;++r)l[r]=t[r];for(sz(l),sz(l),sz(l),n=0;n<2;++n){for(a[0]=l[0]-65517,r=1;r<15;++r)a[r]=l[r]-65535-(a[r-1]>>16&1),a[r-1]&=65535;a[15]=l[15]-32767-(a[14]>>16&1),s=a[15]>>16&1,a[14]&=65535,qhe(l,a,1-s)}for(r=0;r<16;r++)e[2*r]=l[r]&255,e[2*r+1]=l[r]>>8}o(zP,"pack25519");function wje(e,t){var r=Cs(),n=Cs(),s=Cs(),a=Cs(),l=Cs(),c=Cs(),u=Cs();return U3(e[2],GP),Rje(e[1],t),zg(s,e[1]),J0(a,s,Eje),gy(s,s,e[2]),my(a,e[2],a),zg(l,a),zg(c,l),J0(u,c,l),J0(r,u,s),J0(r,r,a),Pje(r,r),J0(r,r,s),J0(r,r,a),J0(r,r,a),J0(e[0],r,a),zg(n,e[0]),J0(n,n,a),Lhe(n,s)&&J0(e[0],e[0],Cje),zg(n,e[0]),J0(n,n,a),Lhe(n,s)?-1:(Fhe(e[0])===t[31]>>7&&gy(e[0],oz,e[0]),J0(e[3],e[0],e[1]),0)}o(wje,"unpackneg");function Rje(e,t){var r;for(r=0;r<16;++r)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}o(Rje,"unpack25519");function Pje(e,t){var r=Cs(),n;for(n=0;n<16;++n)r[n]=t[n];for(n=250;n>=0;--n)zg(r,r),n!==1&&J0(r,r,t);for(n=0;n<16;++n)e[n]=r[n]}o(Pje,"pow2523");function Lhe(e,t){var r=new Ou(32),n=new Ou(32);return zP(r,e),zP(n,t),Bhe(r,0,n,0)}o(Lhe,"neq25519");function Bhe(e,t,r,n){return Nje(e,t,r,n,32)}o(Bhe,"crypto_verify_32");function Nje(e,t,r,n,s){var a,l=0;for(a=0;a<s;++a)l|=e[t+a]^r[n+a];return(1&l-1>>>8)-1}o(Nje,"vn");function Fhe(e){var t=new Ou(32);return zP(t,e),t[0]&1}o(Fhe,"par25519");function Uhe(e,t,r){var n,s;for(U3(e[0],oz),U3(e[1],GP),U3(e[2],GP),U3(e[3],oz),s=255;s>=0;--s)n=r[s/8|0]>>(s&7)&1,Dhe(e,t,n),cz(t,e),cz(e,e),Dhe(e,t,n)}o(Uhe,"scalarmult");function fz(e,t){var r=[Cs(),Cs(),Cs(),Cs()];U3(r[0],Nhe),U3(r[1],Ohe),U3(r[2],GP),J0(r[3],Nhe,Ohe),Uhe(e,r,t)}o(fz,"scalarbase");function U3(e,t){var r;for(r=0;r<16;r++)e[r]=t[r]|0}o(U3,"set25519");function Oje(e,t){var r=Cs(),n;for(n=0;n<16;++n)r[n]=t[n];for(n=253;n>=0;--n)zg(r,r),n!==2&&n!==4&&J0(r,r,t);for(n=0;n<16;++n)e[n]=r[n]}o(Oje,"inv25519");function sz(e){var t,r,n=1;for(t=0;t<16;++t)r=e[t]+n+65535,n=Math.floor(r/65536),e[t]=r-n*65536;e[0]+=n-1+37*(n-1)}o(sz,"car25519");function qhe(e,t,r){for(var n,s=~(r-1),a=0;a<16;++a)n=s&(e[a]^t[a]),e[a]^=n,t[a]^=n}o(qhe,"sel25519");function Cs(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;++t)r[t]=e[t];return r}o(Cs,"gf");function my(e,t,r){for(var n=0;n<16;++n)e[n]=t[n]+r[n]}o(my,"A");function gy(e,t,r){for(var n=0;n<16;++n)e[n]=t[n]-r[n]}o(gy,"Z");function zg(e,t){J0(e,t,t)}o(zg,"S");function J0(e,t,r){var n,s,a=0,l=0,c=0,u=0,f=0,d=0,p=0,h=0,m=0,v=0,_=0,b=0,S=0,A=0,O=0,L=0,D=0,$=0,de=0,ue=0,Ze=0,vr=0,vt=0,wr=0,Ve=0,Me=0,St=0,br=0,Yt=0,hr=0,Mt=0,yr=r[0],Ee=r[1],_e=r[2],Er=r[3],Vr=r[4],zr=r[5],jr=r[6],Ri=r[7],je=r[8],en=r[9],Ke=r[10],un=r[11],tn=r[12],fn=r[13],Wi=r[14],Os=r[15];n=t[0],a+=n*yr,l+=n*Ee,c+=n*_e,u+=n*Er,f+=n*Vr,d+=n*zr,p+=n*jr,h+=n*Ri,m+=n*je,v+=n*en,_+=n*Ke,b+=n*un,S+=n*tn,A+=n*fn,O+=n*Wi,L+=n*Os,n=t[1],l+=n*yr,c+=n*Ee,u+=n*_e,f+=n*Er,d+=n*Vr,p+=n*zr,h+=n*jr,m+=n*Ri,v+=n*je,_+=n*en,b+=n*Ke,S+=n*un,A+=n*tn,O+=n*fn,L+=n*Wi,D+=n*Os,n=t[2],c+=n*yr,u+=n*Ee,f+=n*_e,d+=n*Er,p+=n*Vr,h+=n*zr,m+=n*jr,v+=n*Ri,_+=n*je,b+=n*en,S+=n*Ke,A+=n*un,O+=n*tn,L+=n*fn,D+=n*Wi,$+=n*Os,n=t[3],u+=n*yr,f+=n*Ee,d+=n*_e,p+=n*Er,h+=n*Vr,m+=n*zr,v+=n*jr,_+=n*Ri,b+=n*je,S+=n*en,A+=n*Ke,O+=n*un,L+=n*tn,D+=n*fn,$+=n*Wi,de+=n*Os,n=t[4],f+=n*yr,d+=n*Ee,p+=n*_e,h+=n*Er,m+=n*Vr,v+=n*zr,_+=n*jr,b+=n*Ri,S+=n*je,A+=n*en,O+=n*Ke,L+=n*un,D+=n*tn,$+=n*fn,de+=n*Wi,ue+=n*Os,n=t[5],d+=n*yr,p+=n*Ee,h+=n*_e,m+=n*Er,v+=n*Vr,_+=n*zr,b+=n*jr,S+=n*Ri,A+=n*je,O+=n*en,L+=n*Ke,D+=n*un,$+=n*tn,de+=n*fn,ue+=n*Wi,Ze+=n*Os,n=t[6],p+=n*yr,h+=n*Ee,m+=n*_e,v+=n*Er,_+=n*Vr,b+=n*zr,S+=n*jr,A+=n*Ri,O+=n*je,L+=n*en,D+=n*Ke,$+=n*un,de+=n*tn,ue+=n*fn,Ze+=n*Wi,vr+=n*Os,n=t[7],h+=n*yr,m+=n*Ee,v+=n*_e,_+=n*Er,b+=n*Vr,S+=n*zr,A+=n*jr,O+=n*Ri,L+=n*je,D+=n*en,$+=n*Ke,de+=n*un,ue+=n*tn,Ze+=n*fn,vr+=n*Wi,vt+=n*Os,n=t[8],m+=n*yr,v+=n*Ee,_+=n*_e,b+=n*Er,S+=n*Vr,A+=n*zr,O+=n*jr,L+=n*Ri,D+=n*je,$+=n*en,de+=n*Ke,ue+=n*un,Ze+=n*tn,vr+=n*fn,vt+=n*Wi,wr+=n*Os,n=t[9],v+=n*yr,_+=n*Ee,b+=n*_e,S+=n*Er,A+=n*Vr,O+=n*zr,L+=n*jr,D+=n*Ri,$+=n*je,de+=n*en,ue+=n*Ke,Ze+=n*un,vr+=n*tn,vt+=n*fn,wr+=n*Wi,Ve+=n*Os,n=t[10],_+=n*yr,b+=n*Ee,S+=n*_e,A+=n*Er,O+=n*Vr,L+=n*zr,D+=n*jr,$+=n*Ri,de+=n*je,ue+=n*en,Ze+=n*Ke,vr+=n*un,vt+=n*tn,wr+=n*fn,Ve+=n*Wi,Me+=n*Os,n=t[11],b+=n*yr,S+=n*Ee,A+=n*_e,O+=n*Er,L+=n*Vr,D+=n*zr,$+=n*jr,de+=n*Ri,ue+=n*je,Ze+=n*en,vr+=n*Ke,vt+=n*un,wr+=n*tn,Ve+=n*fn,Me+=n*Wi,St+=n*Os,n=t[12],S+=n*yr,A+=n*Ee,O+=n*_e,L+=n*Er,D+=n*Vr,$+=n*zr,de+=n*jr,ue+=n*Ri,Ze+=n*je,vr+=n*en,vt+=n*Ke,wr+=n*un,Ve+=n*tn,Me+=n*fn,St+=n*Wi,br+=n*Os,n=t[13],A+=n*yr,O+=n*Ee,L+=n*_e,D+=n*Er,$+=n*Vr,de+=n*zr,ue+=n*jr,Ze+=n*Ri,vr+=n*je,vt+=n*en,wr+=n*Ke,Ve+=n*un,Me+=n*tn,St+=n*fn,br+=n*Wi,Yt+=n*Os,n=t[14],O+=n*yr,L+=n*Ee,D+=n*_e,$+=n*Er,de+=n*Vr,ue+=n*zr,Ze+=n*jr,vr+=n*Ri,vt+=n*je,wr+=n*en,Ve+=n*Ke,Me+=n*un,St+=n*tn,br+=n*fn,Yt+=n*Wi,hr+=n*Os,n=t[15],L+=n*yr,D+=n*Ee,$+=n*_e,de+=n*Er,ue+=n*Vr,Ze+=n*zr,vr+=n*jr,vt+=n*Ri,wr+=n*je,Ve+=n*en,Me+=n*Ke,St+=n*un,br+=n*tn,Yt+=n*fn,hr+=n*Wi,Mt+=n*Os,a+=38*D,l+=38*$,c+=38*de,u+=38*ue,f+=38*Ze,d+=38*vr,p+=38*vt,h+=38*wr,m+=38*Ve,v+=38*Me,_+=38*St,b+=38*br,S+=38*Yt,A+=38*hr,O+=38*Mt,s=1,n=a+s+65535,s=Math.floor(n/65536),a=n-s*65536,n=l+s+65535,s=Math.floor(n/65536),l=n-s*65536,n=c+s+65535,s=Math.floor(n/65536),c=n-s*65536,n=u+s+65535,s=Math.floor(n/65536),u=n-s*65536,n=f+s+65535,s=Math.floor(n/65536),f=n-s*65536,n=d+s+65535,s=Math.floor(n/65536),d=n-s*65536,n=p+s+65535,s=Math.floor(n/65536),p=n-s*65536,n=h+s+65535,s=Math.floor(n/65536),h=n-s*65536,n=m+s+65535,s=Math.floor(n/65536),m=n-s*65536,n=v+s+65535,s=Math.floor(n/65536),v=n-s*65536,n=_+s+65535,s=Math.floor(n/65536),_=n-s*65536,n=b+s+65535,s=Math.floor(n/65536),b=n-s*65536,n=S+s+65535,s=Math.floor(n/65536),S=n-s*65536,n=A+s+65535,s=Math.floor(n/65536),A=n-s*65536,n=O+s+65535,s=Math.floor(n/65536),O=n-s*65536,n=L+s+65535,s=Math.floor(n/65536),L=n-s*65536,a+=s-1+37*(s-1),s=1,n=a+s+65535,s=Math.floor(n/65536),a=n-s*65536,n=l+s+65535,s=Math.floor(n/65536),l=n-s*65536,n=c+s+65535,s=Math.floor(n/65536),c=n-s*65536,n=u+s+65535,s=Math.floor(n/65536),u=n-s*65536,n=f+s+65535,s=Math.floor(n/65536),f=n-s*65536,n=d+s+65535,s=Math.floor(n/65536),d=n-s*65536,n=p+s+65535,s=Math.floor(n/65536),p=n-s*65536,n=h+s+65535,s=Math.floor(n/65536),h=n-s*65536,n=m+s+65535,s=Math.floor(n/65536),m=n-s*65536,n=v+s+65535,s=Math.floor(n/65536),v=n-s*65536,n=_+s+65535,s=Math.floor(n/65536),_=n-s*65536,n=b+s+65535,s=Math.floor(n/65536),b=n-s*65536,n=S+s+65535,s=Math.floor(n/65536),S=n-s*65536,n=A+s+65535,s=Math.floor(n/65536),A=n-s*65536,n=O+s+65535,s=Math.floor(n/65536),O=n-s*65536,n=L+s+65535,s=Math.floor(n/65536),L=n-s*65536,a+=s-1+37*(s-1),e[0]=a,e[1]=l,e[2]=c,e[3]=u,e[4]=f,e[5]=d,e[6]=p,e[7]=h,e[8]=m,e[9]=v,e[10]=_,e[11]=b,e[12]=S,e[13]=A,e[14]=O,e[15]=L}o(J0,"M")});var zhe=k((mpt,Ghe)=>{var tf=Js();P0();Vf();Yx();Ghe.exports=tf.kem=tf.kem||{};var $he=tf.jsbn.BigInteger;tf.kem.rsa={};tf.kem.rsa.create=function(e,t){t=t||{};var r=t.prng||tf.random,n={};return n.encrypt=function(s,a){var l=Math.ceil(s.n.bitLength()/8),c;do c=new $he(tf.util.bytesToHex(r.getBytesSync(l)),16).mod(s.n);while(c.compareTo($he.ONE)<=0);c=tf.util.hexToBytes(c.toString(16));var u=l-c.length;u>0&&(c=tf.util.fillString("\0",u)+c);var f=s.encrypt(c,"NONE"),d=e.generate(c,a);return{encapsulation:f,key:d}},n.decrypt=function(s,a,l){var c=s.decrypt(a,"NONE");return e.generate(c,l)},n};tf.kem.kdf1=function(e,t){Vhe(this,e,0,t||e.digestLength)};tf.kem.kdf2=function(e,t){Vhe(this,e,1,t||e.digestLength)};function Vhe(e,t,r,n){e.generate=function(s,a){for(var l=new tf.util.ByteBuffer,c=Math.ceil(a/n)+r,u=new tf.util.ByteBuffer,f=r;f<c;++f){u.putInt32(f),t.start(),t.update(s+u.getBytes());var d=t.digest();l.putBytes(d.getBytes(n))}return l.truncate(l.length()-a),l.getBytes()}}o(Vhe,"_createKDF")});var Xhe=k((vpt,Yhe)=>{var m0=Js();P0();Yhe.exports=m0.log=m0.log||{};m0.log.levels=["none","error","warning","info","debug","verbose","max"];var KP={},hz=[],rb=null;m0.log.LEVEL_LOCKED=2;m0.log.NO_LEVEL_CHECK=4;m0.log.INTERPOLATE=8;for(lp=0;lp<m0.log.levels.length;++lp)dz=m0.log.levels[lp],KP[dz]={index:lp,name:dz.toUpperCase()};var dz,lp;m0.log.logMessage=function(e){for(var t=KP[e.level].index,r=0;r<hz.length;++r){var n=hz[r];if(n.flags&m0.log.NO_LEVEL_CHECK)n.f(e);else{var s=KP[n.level].index;t<=s&&n.f(n,e)}}};m0.log.prepareStandard=function(e){"standard"in e||(e.standard=KP[e.level].name+" ["+e.category+"] "+e.message)};m0.log.prepareFull=function(e){if(!("full"in e)){var t=[e.message];t=t.concat([]),e.full=m0.util.format.apply(this,t)}};m0.log.prepareStandardFull=function(e){"standardFull"in e||(m0.log.prepareStandard(e),e.standardFull=e.standard)};for(pz=["error","warning","info","debug","verbose"],lp=0;lp<pz.length;++lp)(function(t){m0.log[t]=function(r,n){var s=Array.prototype.slice.call(arguments).slice(2),a={timestamp:new Date,level:t,category:r,message:n,arguments:s};m0.log.logMessage(a)}})(pz[lp]);var pz,lp;m0.log.makeLogger=function(e){var t={flags:0,f:e};return m0.log.setLevel(t,"none"),t};m0.log.setLevel=function(e,t){var r=!1;if(e&&!(e.flags&m0.log.LEVEL_LOCKED))for(var n=0;n<m0.log.levels.length;++n){var s=m0.log.levels[n];if(t==s){e.level=t,r=!0;break}}return r};m0.log.lock=function(e,t){typeof t>"u"||t?e.flags|=m0.log.LEVEL_LOCKED:e.flags&=~m0.log.LEVEL_LOCKED};m0.log.addLogger=function(e){hz.push(e)};typeof console<"u"&&"log"in console?(console.error&&console.warn&&console.info&&console.debug?(Khe={error:console.error,warning:console.warn,info:console.info,debug:console.debug,verbose:console.debug},nb=o(function(e,t){m0.log.prepareStandard(t);var r=Khe[t.level],n=[t.standard];n=n.concat(t.arguments.slice()),r.apply(console,n)},"f"),vy=m0.log.makeLogger(nb)):(nb=o(function(t,r){m0.log.prepareStandardFull(r),console.log(r.standardFull)},"f"),vy=m0.log.makeLogger(nb)),m0.log.setLevel(vy,"debug"),m0.log.addLogger(vy),rb=vy):console={log:function(){}};var vy,Khe,nb;rb!==null&&typeof window<"u"&&window.location&&(tb=new URL(window.location.href).searchParams,tb.has("console.level")&&m0.log.setLevel(rb,tb.get("console.level").slice(-1)[0]),tb.has("console.lock")&&(Whe=tb.get("console.lock").slice(-1)[0],Whe=="true"&&m0.log.lock(rb)));var tb,Whe;m0.log.consoleLogger=rb});var Jhe=k((_pt,Qhe)=>{Qhe.exports=ep();IP();uy();AG();rz()});var t5e=k((xpt,e5e)=>{var Ai=Js();N3();Ud();Kx();O3();Ug();jG();Vf();P0();qP();var Et=Ai.asn1,ou=e5e.exports=Ai.pkcs7=Ai.pkcs7||{};ou.messageFromPem=function(e){var t=Ai.pem.decode(e)[0];if(t.type!=="PKCS7"){var r=new Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');throw r.headerType=t.type,r}if(t.procType&&t.procType.type==="ENCRYPTED")throw new Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");var n=Et.fromDer(t.body);return ou.messageFromAsn1(n)};ou.messageToPem=function(e,t){var r={type:"PKCS7",body:Et.toDer(e.toAsn1()).getBytes()};return Ai.pem.encode(r,{maxline:t})};ou.messageFromAsn1=function(e){var t={},r=[];if(!Et.validate(e,ou.asn1.contentInfoValidator,t,r)){var n=new Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.");throw n.errors=r,n}var s=Et.derToOid(t.contentType),a;switch(s){case Ai.pki.oids.envelopedData:a=ou.createEnvelopedData();break;case Ai.pki.oids.encryptedData:a=ou.createEncryptedData();break;case Ai.pki.oids.signedData:a=ou.createSignedData();break;default:throw new Error("Cannot read PKCS#7 message. ContentType with OID "+s+" is not (yet) supported.")}return a.fromAsn1(t.content.value[0]),a};ou.createSignedData=function(){var e=null;return e={type:Ai.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:function(n){if(gz(e,n,ou.asn1.signedDataValidator),e.certificates=[],e.crls=[],e.digestAlgorithmIdentifiers=[],e.contentInfo=null,e.signerInfos=[],e.rawCapture.certificates)for(var s=e.rawCapture.certificates.value,a=0;a<s.length;++a)e.certificates.push(Ai.pki.certificateFromAsn1(s[a]))},toAsn1:function(){e.contentInfo||e.sign();for(var n=[],s=0;s<e.certificates.length;++s)n.push(Ai.pki.certificateToAsn1(e.certificates[s]));var a=[],l=Et.create(Et.Class.CONTEXT_SPECIFIC,0,!0,[Et.create(Et.Class.UNIVERSAL,Et.Type.SEQUENCE,!0,[Et.create(Et.Class.UNIVERSAL,Et.Type.INTEGER,!1,Et.integerToDer(e.version).getBytes()),Et.create(Et.Class.UNIVERSAL,Et.Type.SET,!0,e.digestAlgorithmIdentifiers),e.contentInfo])]);return n.length>0&&l.value[0].value.push(Et.create(Et.Class.CONTEXT_SPECIFIC,0,!0,n)),a.length>0&&l.value[0].value.push(Et.create(Et.Class.CONTEXT_SPECIFIC,1,!0,a)),l.value[0].value.push(Et.create(Et.Class.UNIVERSAL,Et.Type.SET,!0,e.signerInfos)),Et.create(Et.Class.UNIVERSAL,Et.Type.SEQUENCE,!0,[Et.create(Et.Class.UNIVERSAL,Et.Type.OID,!1,Et.oidToDer(e.type).getBytes()),l])},addSigner:function(n){var s=n.issuer,a=n.serialNumber;if(n.certificate){var l=n.certificate;typeof l=="string"&&(l=Ai.pki.certificateFromPem(l)),s=l.issuer.attributes,a=l.serialNumber}var c=n.key;if(!c)throw new Error("Could not add PKCS#7 signer; no private key specified.");typeof c=="string"&&(c=Ai.pki.privateKeyFromPem(c));var u=n.digestAlgorithm||Ai.pki.oids.sha1;switch(u){case Ai.pki.oids.sha1:case Ai.pki.oids.sha256:case Ai.pki.oids.sha384:case Ai.pki.oids.sha512:case Ai.pki.oids.md5:break;default:throw new Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+u)}var f=n.authenticatedAttributes||[];if(f.length>0){for(var d=!1,p=!1,h=0;h<f.length;++h){var m=f[h];if(!d&&m.type===Ai.pki.oids.contentType){if(d=!0,p)break;continue}if(!p&&m.type===Ai.pki.oids.messageDigest){if(p=!0,d)break;continue}}if(!d||!p)throw new Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.")}e.signers.push({key:c,version:1,issuer:s,serialNumber:a,digestAlgorithm:u,signatureAlgorithm:Ai.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:f,unauthenticatedAttributes:[]})},sign:function(n){if(n=n||{},(typeof e.content!="object"||e.contentInfo===null)&&(e.contentInfo=Et.create(Et.Class.UNIVERSAL,Et.Type.SEQUENCE,!0,[Et.create(Et.Class.UNIVERSAL,Et.Type.OID,!1,Et.oidToDer(Ai.pki.oids.data).getBytes())]),"content"in e)){var s;e.content instanceof Ai.util.ByteBuffer?s=e.content.bytes():typeof e.content=="string"&&(s=Ai.util.encodeUtf8(e.content)),n.detached?e.detachedContent=Et.create(Et.Class.UNIVERSAL,Et.Type.OCTETSTRING,!1,s):e.contentInfo.value.push(Et.create(Et.Class.CONTEXT_SPECIFIC,0,!0,[Et.create(Et.Class.UNIVERSAL,Et.Type.OCTETSTRING,!1,s)]))}if(e.signers.length!==0){var a=t();r(a)}},verify:function(){throw new Error("PKCS#7 signature verification not yet implemented.")},addCertificate:function(n){typeof n=="string"&&(n=Ai.pki.certificateFromPem(n)),e.certificates.push(n)},addCertificateRevokationList:function(n){throw new Error("PKCS#7 CRL support not yet implemented.")}},e;function t(){for(var n={},s=0;s<e.signers.length;++s){var a=e.signers[s],l=a.digestAlgorithm;l in n||(n[l]=Ai.md[Ai.pki.oids[l]].create()),a.authenticatedAttributes.length===0?a.md=n[l]:a.md=Ai.md[Ai.pki.oids[l]].create()}e.digestAlgorithmIdentifiers=[];for(var l in n)e.digestAlgorithmIdentifiers.push(Et.create(Et.Class.UNIVERSAL,Et.Type.SEQUENCE,!0,[Et.create(Et.Class.UNIVERSAL,Et.Type.OID,!1,Et.oidToDer(l).getBytes()),Et.create(Et.Class.UNIVERSAL,Et.Type.NULL,!1,"")]));return n}o(t,"addDigestAlgorithmIds");function r(n){var s;if(e.detachedContent?s=e.detachedContent:(s=e.contentInfo.value[1],s=s.value[0]),!s)throw new Error("Could not sign PKCS#7 message; there is no content to sign.");var a=Et.derToOid(e.contentInfo.value[0].value),l=Et.toDer(s);l.getByte(),Et.getBerValueLength(l),l=l.getBytes();for(var c in n)n[c].start().update(l);for(var u=new Date,f=0;f<e.signers.length;++f){var d=e.signers[f];if(d.authenticatedAttributes.length===0){if(a!==Ai.pki.oids.data)throw new Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.")}else{d.authenticatedAttributesAsn1=Et.create(Et.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var p=Et.create(Et.Class.UNIVERSAL,Et.Type.SET,!0,[]),h=0;h<d.authenticatedAttributes.length;++h){var m=d.authenticatedAttributes[h];m.type===Ai.pki.oids.messageDigest?m.value=n[d.digestAlgorithm].digest():m.type===Ai.pki.oids.signingTime&&(m.value||(m.value=u)),p.value.push(mz(m)),d.authenticatedAttributesAsn1.value.push(mz(m))}l=Et.toDer(p).getBytes(),d.md.start().update(l)}d.signature=d.key.sign(d.md,"RSASSA-PKCS1-V1_5")}e.signerInfos=Fje(e.signers)}o(r,"addSignerInfos")};ou.createEncryptedData=function(){var e=null;return e={type:Ai.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:Ai.pki.oids["aes256-CBC"]},fromAsn1:function(t){gz(e,t,ou.asn1.encryptedDataValidator)},decrypt:function(t){t!==void 0&&(e.encryptedContent.key=t),Zhe(e)}},e};ou.createEnvelopedData=function(){var e=null;return e={type:Ai.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:Ai.pki.oids["aes256-CBC"]},fromAsn1:function(t){var r=gz(e,t,ou.asn1.envelopedDataValidator);e.recipients=kje(r.recipientInfos.value)},toAsn1:function(){return Et.create(Et.Class.UNIVERSAL,Et.Type.SEQUENCE,!0,[Et.create(Et.Class.UNIVERSAL,Et.Type.OID,!1,Et.oidToDer(e.type).getBytes()),Et.create(Et.Class.CONTEXT_SPECIFIC,0,!0,[Et.create(Et.Class.UNIVERSAL,Et.Type.SEQUENCE,!0,[Et.create(Et.Class.UNIVERSAL,Et.Type.INTEGER,!1,Et.integerToDer(e.version).getBytes()),Et.create(Et.Class.UNIVERSAL,Et.Type.SET,!0,Mje(e.recipients)),Et.create(Et.Class.UNIVERSAL,Et.Type.SEQUENCE,!0,Uje(e.encryptedContent))])])])},findRecipient:function(t){for(var r=t.issuer.attributes,n=0;n<e.recipients.length;++n){var s=e.recipients[n],a=s.issuer;if(s.serialNumber===t.serialNumber&&a.length===r.length){for(var l=!0,c=0;c<r.length;++c)if(a[c].type!==r[c].type||a[c].value!==r[c].value){l=!1;break}if(l)return s}}return null},decrypt:function(t,r){if(e.encryptedContent.key===void 0&&t!==void 0&&r!==void 0)switch(t.encryptedContent.algorithm){case Ai.pki.oids.rsaEncryption:case Ai.pki.oids.desCBC:var n=r.decrypt(t.encryptedContent.content);e.encryptedContent.key=Ai.util.createBuffer(n);break;default:throw new Error("Unsupported asymmetric cipher, OID "+t.encryptedContent.algorithm)}Zhe(e)},addRecipient:function(t){e.recipients.push({version:0,issuer:t.issuer.attributes,serialNumber:t.serialNumber,encryptedContent:{algorithm:Ai.pki.oids.rsaEncryption,key:t.publicKey}})},encrypt:function(t,r){if(e.encryptedContent.content===void 0){r=r||e.encryptedContent.algorithm,t=t||e.encryptedContent.key;var n,s,a;switch(r){case Ai.pki.oids["aes128-CBC"]:n=16,s=16,a=Ai.aes.createEncryptionCipher;break;case Ai.pki.oids["aes192-CBC"]:n=24,s=16,a=Ai.aes.createEncryptionCipher;break;case Ai.pki.oids["aes256-CBC"]:n=32,s=16,a=Ai.aes.createEncryptionCipher;break;case Ai.pki.oids["des-EDE3-CBC"]:n=24,s=8,a=Ai.des.createEncryptionCipher;break;default:throw new Error("Unsupported symmetric cipher, OID "+r)}if(t===void 0)t=Ai.util.createBuffer(Ai.random.getBytes(n));else if(t.length()!=n)throw new Error("Symmetric key has wrong length; got "+t.length()+" bytes, expected "+n+".");e.encryptedContent.algorithm=r,e.encryptedContent.key=t,e.encryptedContent.parameter=Ai.util.createBuffer(Ai.random.getBytes(s));var l=a(t);if(l.start(e.encryptedContent.parameter.copy()),l.update(e.content),!l.finish())throw new Error("Symmetric encryption failed.");e.encryptedContent.content=l.output}for(var c=0;c<e.recipients.length;++c){var u=e.recipients[c];if(u.encryptedContent.content===void 0)switch(u.encryptedContent.algorithm){case Ai.pki.oids.rsaEncryption:u.encryptedContent.content=u.encryptedContent.key.encrypt(e.encryptedContent.key.data);break;default:throw new Error("Unsupported asymmetric cipher, OID "+u.encryptedContent.algorithm)}}}},e};function Dje(e){var t={},r=[];if(!Et.validate(e,ou.asn1.recipientInfoValidator,t,r)){var n=new Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.");throw n.errors=r,n}return{version:t.version.charCodeAt(0),issuer:Ai.pki.RDNAttributesAsArray(t.issuer),serialNumber:Ai.util.createBuffer(t.serial).toHex(),encryptedContent:{algorithm:Et.derToOid(t.encAlgorithm),parameter:t.encParameter?t.encParameter.value:void 0,content:t.encKey}}}o(Dje,"_recipientFromAsn1");function Lje(e){return Et.create(Et.Class.UNIVERSAL,Et.Type.SEQUENCE,!0,[Et.create(Et.Class.UNIVERSAL,Et.Type.INTEGER,!1,Et.integerToDer(e.version).getBytes()),Et.create(Et.Class.UNIVERSAL,Et.Type.SEQUENCE,!0,[Ai.pki.distinguishedNameToAsn1({attributes:e.issuer}),Et.create(Et.Class.UNIVERSAL,Et.Type.INTEGER,!1,Ai.util.hexToBytes(e.serialNumber))]),Et.create(Et.Class.UNIVERSAL,Et.Type.SEQUENCE,!0,[Et.create(Et.Class.UNIVERSAL,Et.Type.OID,!1,Et.oidToDer(e.encryptedContent.algorithm).getBytes()),Et.create(Et.Class.UNIVERSAL,Et.Type.NULL,!1,"")]),Et.create(Et.Class.UNIVERSAL,Et.Type.OCTETSTRING,!1,e.encryptedContent.content)])}o(Lje,"_recipientToAsn1");function kje(e){for(var t=[],r=0;r<e.length;++r)t.push(Dje(e[r]));return t}o(kje,"_recipientsFromAsn1");function Mje(e){for(var t=[],r=0;r<e.length;++r)t.push(Lje(e[r]));return t}o(Mje,"_recipientsToAsn1");function Bje(e){var t=Et.create(Et.Class.UNIVERSAL,Et.Type.SEQUENCE,!0,[Et.create(Et.Class.UNIVERSAL,Et.Type.INTEGER,!1,Et.integerToDer(e.version).getBytes()),Et.create(Et.Class.UNIVERSAL,Et.Type.SEQUENCE,!0,[Ai.pki.distinguishedNameToAsn1({attributes:e.issuer}),Et.create(Et.Class.UNIVERSAL,Et.Type.INTEGER,!1,Ai.util.hexToBytes(e.serialNumber))]),Et.create(Et.Class.UNIVERSAL,Et.Type.SEQUENCE,!0,[Et.create(Et.Class.UNIVERSAL,Et.Type.OID,!1,Et.oidToDer(e.digestAlgorithm).getBytes()),Et.create(Et.Class.UNIVERSAL,Et.Type.NULL,!1,"")])]);if(e.authenticatedAttributesAsn1&&t.value.push(e.authenticatedAttributesAsn1),t.value.push(Et.create(Et.Class.UNIVERSAL,Et.Type.SEQUENCE,!0,[Et.create(Et.Class.UNIVERSAL,Et.Type.OID,!1,Et.oidToDer(e.signatureAlgorithm).getBytes()),Et.create(Et.Class.UNIVERSAL,Et.Type.NULL,!1,"")])),t.value.push(Et.create(Et.Class.UNIVERSAL,Et.Type.OCTETSTRING,!1,e.signature)),e.unauthenticatedAttributes.length>0){for(var r=Et.create(Et.Class.CONTEXT_SPECIFIC,1,!0,[]),n=0;n<e.unauthenticatedAttributes.length;++n){var s=e.unauthenticatedAttributes[n];r.values.push(mz(s))}t.value.push(r)}return t}o(Bje,"_signerToAsn1");function Fje(e){for(var t=[],r=0;r<e.length;++r)t.push(Bje(e[r]));return t}o(Fje,"_signersToAsn1");function mz(e){var t;if(e.type===Ai.pki.oids.contentType)t=Et.create(Et.Class.UNIVERSAL,Et.Type.OID,!1,Et.oidToDer(e.value).getBytes());else if(e.type===Ai.pki.oids.messageDigest)t=Et.create(Et.Class.UNIVERSAL,Et.Type.OCTETSTRING,!1,e.value.bytes());else if(e.type===Ai.pki.oids.signingTime){var r=new Date("1950-01-01T00:00:00Z"),n=new Date("2050-01-01T00:00:00Z"),s=e.value;if(typeof s=="string"){var a=Date.parse(s);isNaN(a)?s.length===13?s=Et.utcTimeToDate(s):s=Et.generalizedTimeToDate(s):s=new Date(a)}s>=r&&s<n?t=Et.create(Et.Class.UNIVERSAL,Et.Type.UTCTIME,!1,Et.dateToUtcTime(s)):t=Et.create(Et.Class.UNIVERSAL,Et.Type.GENERALIZEDTIME,!1,Et.dateToGeneralizedTime(s))}return Et.create(Et.Class.UNIVERSAL,Et.Type.SEQUENCE,!0,[Et.create(Et.Class.UNIVERSAL,Et.Type.OID,!1,Et.oidToDer(e.type).getBytes()),Et.create(Et.Class.UNIVERSAL,Et.Type.SET,!0,[t])])}o(mz,"_attributeToAsn1");function Uje(e){return[Et.create(Et.Class.UNIVERSAL,Et.Type.OID,!1,Et.oidToDer(Ai.pki.oids.data).getBytes()),Et.create(Et.Class.UNIVERSAL,Et.Type.SEQUENCE,!0,[Et.create(Et.Class.UNIVERSAL,Et.Type.OID,!1,Et.oidToDer(e.algorithm).getBytes()),e.parameter?Et.create(Et.Class.UNIVERSAL,Et.Type.OCTETSTRING,!1,e.parameter.getBytes()):void 0]),Et.create(Et.Class.CONTEXT_SPECIFIC,0,!0,[Et.create(Et.Class.UNIVERSAL,Et.Type.OCTETSTRING,!1,e.content.getBytes())])]}o(Uje,"_encryptedContentToAsn1");function gz(e,t,r){var n={},s=[];if(!Et.validate(t,r,n,s)){var a=new Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.");throw a.errors=a,a}var l=Et.derToOid(n.contentType);if(l!==Ai.pki.oids.data)throw new Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(n.encryptedContent){var c="";if(Ai.util.isArray(n.encryptedContent))for(var u=0;u<n.encryptedContent.length;++u){if(n.encryptedContent[u].type!==Et.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");c+=n.encryptedContent[u].value}else c=n.encryptedContent;e.encryptedContent={algorithm:Et.derToOid(n.encAlgorithm),parameter:Ai.util.createBuffer(n.encParameter.value),content:Ai.util.createBuffer(c)}}if(n.content){var c="";if(Ai.util.isArray(n.content))for(var u=0;u<n.content.length;++u){if(n.content[u].type!==Et.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");c+=n.content[u].value}else c=n.content;e.content=Ai.util.createBuffer(c)}return e.version=n.version.charCodeAt(0),e.rawCapture=n,n}o(gz,"_fromAsn1");function Zhe(e){if(e.encryptedContent.key===void 0)throw new Error("Symmetric key not available.");if(e.content===void 0){var t;switch(e.encryptedContent.algorithm){case Ai.pki.oids["aes128-CBC"]:case Ai.pki.oids["aes192-CBC"]:case Ai.pki.oids["aes256-CBC"]:t=Ai.aes.createDecryptionCipher(e.encryptedContent.key);break;case Ai.pki.oids.desCBC:case Ai.pki.oids["des-EDE3-CBC"]:t=Ai.des.createDecryptionCipher(e.encryptedContent.key);break;default:throw new Error("Unsupported symmetric cipher, OID "+e.encryptedContent.algorithm)}if(t.start(e.encryptedContent.parameter),t.update(e.encryptedContent.content),!t.finish())throw new Error("Symmetric decryption failed.");e.content=t.output}}o(Zhe,"_decryptContent")});var n5e=k((Ept,r5e)=>{var fl=Js();N3();ay();IP();uy();P0();var YP=r5e.exports=fl.ssh=fl.ssh||{};YP.privateKeyToPutty=function(e,t,r){r=r||"",t=t||"";var n="ssh-rsa",s=t===""?"none":"aes256-cbc",a="PuTTY-User-Key-File-2: "+n+`\r
`;a+="Encryption: "+s+`\r
`,a+="Comment: "+r+`\r
`;var l=fl.util.createBuffer();yy(l,n),cp(l,e.e),cp(l,e.n);var c=fl.util.encode64(l.bytes(),64),u=Math.floor(c.length/66)+1;a+="Public-Lines: "+u+`\r
`,a+=c;var f=fl.util.createBuffer();cp(f,e.d),cp(f,e.p),cp(f,e.q),cp(f,e.qInv);var d;if(!t)d=fl.util.encode64(f.bytes(),64);else{var p=f.length()+16-1;p-=p%16;var h=WP(f.bytes());h.truncate(h.length()-p+f.length()),f.putBuffer(h);var m=fl.util.createBuffer();m.putBuffer(WP("\0\0\0\0",t)),m.putBuffer(WP("\0\0\0",t));var v=fl.aes.createEncryptionCipher(m.truncate(8),"CBC");v.start(fl.util.createBuffer().fillWithByte(0,16)),v.update(f.copy()),v.finish();var _=v.output;_.truncate(16),d=fl.util.encode64(_.bytes(),64)}u=Math.floor(d.length/66)+1,a+=`\r
Private-Lines: `+u+`\r
`,a+=d;var b=WP("putty-private-key-file-mac-key",t),S=fl.util.createBuffer();yy(S,n),yy(S,s),yy(S,r),S.putInt32(l.length()),S.putBuffer(l),S.putInt32(f.length()),S.putBuffer(f);var A=fl.hmac.create();return A.start("sha1",b),A.update(S.bytes()),a+=`\r
Private-MAC: `+A.digest().toHex()+`\r
`,a};YP.publicKeyToOpenSSH=function(e,t){var r="ssh-rsa";t=t||"";var n=fl.util.createBuffer();return yy(n,r),cp(n,e.e),cp(n,e.n),r+" "+fl.util.encode64(n.bytes())+" "+t};YP.privateKeyToOpenSSH=function(e,t){return t?fl.pki.encryptRsaPrivateKey(e,t,{legacy:!0,algorithm:"aes128"}):fl.pki.privateKeyToPem(e)};YP.getPublicKeyFingerprint=function(e,t){t=t||{};var r=t.md||fl.md.md5.create(),n="ssh-rsa",s=fl.util.createBuffer();yy(s,n),cp(s,e.e),cp(s,e.n),r.start(),r.update(s.getBytes());var a=r.digest();if(t.encoding==="hex"){var l=a.toHex();return t.delimiter?l.match(/.{2}/g).join(t.delimiter):l}else{if(t.encoding==="binary")return a.getBytes();if(t.encoding)throw new Error('Unknown encoding "'+t.encoding+'".')}return a};function cp(e,t){var r=t.toString(16);r[0]>="8"&&(r="00"+r);var n=fl.util.hexToBytes(r);e.putInt32(n.length),e.putBytes(n)}o(cp,"_addBigIntegerToBuffer");function yy(e,t){e.putInt32(t.length),e.putString(t)}o(yy,"_addStringToBuffer");function WP(){for(var e=fl.md.sha1.create(),t=arguments.length,r=0;r<t;++r)e.update(arguments[r]);return e.digest()}o(WP,"_sha1")});var s5e=k((Cpt,i5e)=>{i5e.exports=Js();N3();Che();Ud();_P();Kx();Hhe();ay();zhe();Xhe();Jhe();HG();PP();Ug();MG();GG();t5e();KG();FG();wG();BP();Vf();NG();n5e();ZG();P0()});var a5e=k((Spt,qje)=>{qje.exports={name:"@roamhq/mac-ca",version:"1.0.7",description:"Get Mac OS Root certificates",main:"index.js",repository:{type:"git",url:"https://github.com/WonderInventions/mac-ca.git"},scripts:{test:'echo "Error: no test specified" && exit 1',lint:"eslint ."},license:"BSD-3-Clause",dependencies:{"node-forge":"^1.3.1"},devDependencies:{eslint:"^8.22.0"}}});var c5e=k((Ipt,vz)=>{var QP=s5e(),o5e=a5e(),XP=vz.exports.validFormats={der:0,pem:1,txt:2,asn1:3};function l5e(e){let t=QP.pki.pemToDer(e),r=QP.asn1,n=r.fromDer(t.data.toString("binary")).value[0].value,s=n[0],a=s.tagClass===r.Class.CONTEXT_SPECIFIC&&s.type===0&&s.constructed,l=n.slice(a);return{serial:l[0],issuer:l[2],valid:l[3],subject:l[4]}}o(l5e,"myASN");function jje(e){let t=l5e(e),r=new Date,n=t.subject.value.map(l=>l.value[0].value[1].value).join("/"),s=t.valid.value.map(l=>l.value).join(" - "),a=r.toTimeString().replace(/\s*\(.*\)\s*/,"");return[`Subject	${n}`,`Valid	${s}`,`Saved	${r.toLocaleDateString()} ${a} by ${o5e.name}@${o5e.version}`,String(e)].join(`
`)}o(jje,"txtFormat");vz.exports.transform=function(e){return function(t){try{switch(e){case XP.der:return QP.pki.pemToDer(t);case XP.pem:return t;case XP.txt:return jje(t);case XP.asn1:return l5e(t);default:return QP.pki.certificateFromPem(t)}}catch{return}}}});var u5e=k((wpt,_y)=>{var yz=require("https"),_z=c5e();if(process.platform!=="darwin")_y.exports.all=()=>[],_y.exports.each=()=>{};else{let c=function(f,d,p){return p.indexOf(f)===d};Hje=c,o(c,"duplicated");let e=require("child_process"),t=/(?=-----BEGIN\sCERTIFICATE-----)/g,r="/System/Library/Keychains/SystemRootCertificates.keychain",n=["find-certificate","-a","-p"],s=e.spawnSync("/usr/bin/security",n).stdout.toString().split(t),a=e.spawnSync("/usr/bin/security",n.concat(r)).stdout.toString().split(t);yz.globalAgent.options.ca=yz.globalAgent.options.ca||[];let l=yz.globalAgent.options.ca,u=s.concat(a);u.filter(c).forEach(f=>l.push(f)),_y.exports.der2=_z.validFormats,_y.exports.all=function(f){return u.map(_z.transform(f)).filter(d=>d)},_y.exports.each=function(f,d){return typeof f=="function"&&(d=f,f=void 0),u.map(_z.transform(f)).filter(p=>p).forEach(d)}}var Hje});var f5e=k((Ppt,xz)=>{function $je(){let{X509Certificate:e}=require("crypto"),{join:t}=require("path");var r=typeof __webpack_require__=="function"?__non_webpack_require__:require;let n=r(t(__dirname,"crypt32.node")),s=[],a=new n.Crypt32;try{let l;for(;l=a.next();){let c=new e(l);s.push(c.toString())}}finally{a.done()}return Array.from(new Set(s))}o($je,"all");process.platform!=="win32"?xz.exports.all=()=>[]:xz.exports.all=$je});var v5e=k((Bpt,g5e)=>{var eN=require("path").sep||"/";g5e.exports=zje;function zje(e){if(typeof e!="string"||e.length<=7||e.substring(0,7)!="file://")throw new TypeError("must pass in a file:// URI to convert to a file path");var t=decodeURI(e.substring(7)),r=t.indexOf("/"),n=t.substring(0,r),s=t.substring(r+1);return n=="localhost"&&(n=""),n&&(n=eN+eN+n),s=s.replace(/^(.+)\|/,"$1:"),eN=="\\"&&(s=s.replace(/\//g,"\\")),/^.+\:/.test(s)||(s=eN+s),n+s}o(zje,"fileUriToPath")});var E5e=k((nN,b5e)=>{var Uz=require("fs"),rN=require("path"),Kje=v5e(),tN=rN.join,x5e=rN.dirname,y5e=Uz.accessSync&&function(e){try{Uz.accessSync(e)}catch{return!1}return!0}||Uz.existsSync||rN.existsSync,_5e={arrow:process.env.NODE_BINDINGS_ARROW||" \u2192 ",compiled:process.env.NODE_BINDINGS_COMPILED_DIR||"compiled",platform:process.platform,arch:process.arch,nodePreGyp:"node-v"+process.versions.modules+"-"+process.platform+"-"+process.arch,version:process.versions.node,bindings:"bindings.node",try:[["module_root","build","bindings"],["module_root","build","Debug","bindings"],["module_root","build","Release","bindings"],["module_root","out","Debug","bindings"],["module_root","Debug","bindings"],["module_root","out","Release","bindings"],["module_root","Release","bindings"],["module_root","build","default","bindings"],["module_root","compiled","version","platform","arch","bindings"],["module_root","compiled","platform","arch","bindings"],["module_root","addon-build","release","install-root","bindings"],["module_root","addon-build","debug","install-root","bindings"],["module_root","addon-build","default","install-root","bindings"],["module_root","lib","binding","nodePreGyp","bindings"]]};function Wje(e){typeof e=="string"?e={bindings:e}:e||(e={}),Object.keys(_5e).map(function(u){u in e||(e[u]=_5e[u])}),e.module_root||(e.module_root=x5e(__filename)),rN.extname(e.bindings)!=".node"&&(e.bindings+=".node");for(var t=typeof __webpack_require__=="function"?__non_webpack_require__:require,r=[],n=0,s=e.try.length,a,l,c;n<s;n++){a=tN.apply(null,e.try[n].map(function(u){return e[u]||u})),r.push(a);try{return l=e.path?t.resolve(a):t(a),e.path||(l.path=a),l}catch(u){if(u.code!=="MODULE_NOT_FOUND"&&u.code!=="QUALIFIED_PATH_RESOLUTION_FAILED"&&!/not find/i.test(u.message))throw u}}throw c=new Error(`Could not locate the bindings file. Tried:
`+r.map(function(u){return e.arrow+u}).join(`
`)),c.tries=r,c}o(Wje,"bindings");b5e.exports=nN=Wje;nN.getFileName=o(function(t){var r=Error.prepareStackTrace,n=Error.stackTraceLimit,s={},a;Error.stackTraceLimit=10,Error.prepareStackTrace=function(c,u){for(var f=0,d=u.length;f<d;f++)if(a=u[f].getFileName(),a!==__filename)if(t){if(a!==t)return}else return},Error.captureStackTrace(s),new Error(s.stack),Error.prepareStackTrace=r,Error.stackTraceLimit=n;var l="file://";return a.indexOf(l)===0&&(a=Kje(a)),a},"getFileName");nN.getRoot=o(function(t){for(var r=x5e(t),n;;){if(r==="."&&(r=process.cwd()),y5e(tN(r,"package.json"))||y5e(tN(r,"node_modules")))return r;if(n===r)throw new Error('Could not find module root given file: "'+t+'". Do you have a `package.json` file? ');n=r,r=tN(r,"..")}},"getRoot")});var S5e=k((qpt,C5e)=>{"use strict";function T5e(e,t,r){let n=t[r];if(e==null&&n.required===!1)return;if(e==null)throw new TypeError(`Required parameter \`${n.name}\` missing`);let s=typeof e;if(n.type&&s!==n.type){if(n.required===!1&&t.slice(r).some(a=>a.type===s))return!1;throw new TypeError(`Invalid type for parameter \`${n.name}\`, expected \`${n.type}\` but found \`${typeof e}\``)}return!0}o(T5e,"validateParameter");function Yje(e,t){return Object.prototype.hasOwnProperty.call(e,t)}o(Yje,"hasOwnProperty");function Xje(e,t){return function(){let r=Array.prototype.slice.call(arguments),n=[];for(let a=0,l=0;a<t.length;++a,++l){let c=t[a],u=r[l];Yje(c,"default")&&u==null&&(u=c.default),c.type==="object"&&c.default!=null&&(u=Object.assign({},c.default,u)),c.name==="options"&&(typeof u=="function"||u==null)&&(u={}),T5e(u,t,a)?n.push(u):l--}if(typeof arguments[arguments.length-1]!="function")return new Promise((a,l)=>{n.push((c,u)=>{if(c)return l(c);a(u)}),e.apply(this,n)});e.apply(this,n)}}o(Xje,"defineOperation");C5e.exports={defineOperation:Xje,validateParameter:T5e}});var qz=k((Hpt,w5e)=>{"use strict";var by=E5e()("kerberos"),xy=by.KerberosClient,I5e=by.KerberosServer,q3=S5e().defineOperation,Qje=1,Jje=2,Zje=4,eHe=8,tHe=16,rHe=32,nHe=64,iHe=128,sHe=256,A5e=0,aHe=9,oHe=6;xy.prototype.step=q3(xy.prototype.step,[{name:"challenge",type:"string"},{name:"callback",type:"function",required:!1}]);xy.prototype.wrap=q3(xy.prototype.wrap,[{name:"challenge",type:"string"},{name:"options",type:"object"},{name:"callback",type:"function",required:!1}]);xy.prototype.unwrap=q3(xy.prototype.unwrap,[{name:"challenge",type:"string"},{name:"callback",type:"function",required:!1}]);I5e.prototype.step=q3(I5e.prototype.step,[{name:"challenge",type:"string"},{name:"callback",type:"function",required:!1}]);var lHe=q3(by.checkPassword,[{name:"username",type:"string"},{name:"password",type:"string"},{name:"service",type:"string"},{name:"defaultRealm",type:"string",required:!1},{name:"callback",type:"function",required:!1}]),cHe=q3(by.principalDetails,[{name:"service",type:"string"},{name:"hostname",type:"string"},{name:"callback",type:"function",required:!1}]),uHe=q3(by.initializeClient,[{name:"service",type:"string"},{name:"options",type:"object",default:{mechOID:A5e}},{name:"callback",type:"function",required:!1}]),fHe=q3(by.initializeServer,[{name:"service",type:"string"},{name:"callback",type:"function",required:!1}]);w5e.exports={initializeClient:uHe,initializeServer:fHe,principalDetails:cHe,checkPassword:lHe,GSS_C_DELEG_FLAG:Qje,GSS_C_MUTUAL_FLAG:Jje,GSS_C_REPLAY_FLAG:Zje,GSS_C_SEQUENCE_FLAG:eHe,GSS_C_CONF_FLAG:tHe,GSS_C_INTEG_FLAG:rHe,GSS_C_ANON_FLAG:nHe,GSS_C_PROT_READY_FLAG:iHe,GSS_C_TRANS_FLAG:sHe,GSS_C_NO_OID:A5e,GSS_MECH_OID_KRB5:aHe,GSS_MECH_OID_SPNEGO:oHe}});var R5e=k(($pt,dHe)=>{dHe.exports={name:"kerberos",version:"2.1.0",description:"Kerberos library for Node.js",main:"lib/index.js",files:["lib","src","binding.gyp","HISTORY.md","README.md"],repository:{type:"git",url:"https://github.com/mongodb-js/kerberos.git"},keywords:["kerberos","security","authentication"],author:{name:"The MongoDB NodeJS Team",email:"dbx-node@mongodb.com"},bugs:{url:"https://jira.mongodb.org/projects/NODE/issues/"},dependencies:{bindings:"^1.5.0","node-addon-api":"^6.1.0","prebuild-install":"7.1.1"},devDependencies:{chai:"^4.3.7","chai-string":"^1.5.0",chalk:"^4.1.2","clang-format":"^1.8.0","dmd-clear":"^0.1.2",eslint:"^8.46.0","eslint-config-prettier":"^8.10.0","eslint-plugin-prettier":"^4.2.1","jsdoc-to-markdown":"^8.0.0",mocha:"^10.2.0",mongodb:"^5.7.0","node-gyp":"^9.4.0",prebuild:"^11.0.4",prettier:"^2.8.8",request:"^2.88.2","standard-version":"^9.5.0"},scripts:{install:"prebuild-install --runtime napi || node-gyp rebuild","format-cxx":"clang-format -i 'src/**/*'","format-js":"eslint lib test --fix","check:lint":"eslint lib test",precommit:"check-clang-format",test:"mocha test",docs:"jsdoc2md --template etc/README.hbs --plugin dmd-clear --files lib/kerberos.js > README.md",rebuild:"prebuild --runtime napi --compile",prebuild:"prebuild --runtime napi --strip --verbose --all",release:"standard-version -i HISTORY.md"},engines:{node:">=12.9.0"},binary:{napi_versions:[4]},license:"Apache-2.0",readmeFilename:"README.md"}});var N5e=k((Vpt,P5e)=>{"use strict";var pHe=require("dns"),hHe=qz(),Hz=class Hz{constructor(t,r,n,s){s=s||{},this.host=t,this.port=r,this.serviceName=n||s.gssapiServiceName||"mongodb",this.canonicalizeHostName=typeof s.gssapiCanonicalizeHostName=="boolean"?s.gssapiCanonicalizeHostName:!1,this._transition=mHe(this),this.retries=10}init(t,r,n){let s=this;this.username=t,this.password=r;function a(l,c,u){if(!l)return u();pHe.resolveCname(c,(f,d)=>{if(f)return u(f);Array.isArray(d)&&d.length>0&&(s.host=d[0]),u()})}o(a,"performGssapiCanonicalizeHostName"),a(this.canonicalizeHostName,this.host,l=>{if(l)return n(l);let c={};r!=null&&Object.assign(c,{user:t,password:r});let u=process.platform==="win32"?`${this.serviceName}/${this.host}`:`${this.serviceName}@${this.host}`;hHe.initializeClient(u,c,(f,d)=>{if(f)return n(f,null);s.client=d,n(null,d)})})}transition(t,r){if(this._transition==null)return r(new Error("Transition finished"));this._transition(t,r)}};o(Hz,"MongoAuthProcess");var jz=Hz;function mHe(e){return(t,r)=>{e.client.step("",(n,s)=>{if(n)return r(n);e._transition=gHe(e),r(null,s)})}}o(mHe,"firstTransition");function gHe(e){return(t,r)=>{e.client.step(t,(n,s)=>{if(n&&e.retries===0)return r(n);if(n)return e.retries=e.retries-1,e.transition(t,r);e._transition=vHe(e),r(null,s||"")})}}o(gHe,"secondTransition");function vHe(e){return(t,r)=>{e.client.unwrap(t,(n,s)=>{if(n)return r(n,!1);e.client.wrap(s,{user:e.username},(a,l)=>{if(a)return r(a,!1);e._transition=yHe(e),r(null,l)})})}}o(vHe,"thirdTransition");function yHe(e){return(t,r)=>{e._transition=null,r(null,!0)}}o(yHe,"fourthTransition");P5e.exports={MongoAuthProcess:jz}});var D5e=k((zpt,ib)=>{"use strict";var O5e=qz();ib.exports=O5e;ib.exports.Kerberos=O5e;ib.exports.version=R5e().version;ib.exports.processes={MongoAuthProcess:N5e().MongoAuthProcess}});var Ch=Vs(vu()),KH=Vs(TW()),Aue=Vs(WE());var CW=Vs(require("crypto"));var rT=new Uint8Array(256),tT=rT.length;function xD(){return tT>rT.length-16&&(CW.default.randomFillSync(rT),tT=0),rT.slice(tT,tT+=16)}o(xD,"rng");var sc=[];for(let e=0;e<256;++e)sc.push((e+256).toString(16).slice(1));function SW(e,t=0){return sc[e[t+0]]+sc[e[t+1]]+sc[e[t+2]]+sc[e[t+3]]+"-"+sc[e[t+4]]+sc[e[t+5]]+"-"+sc[e[t+6]]+sc[e[t+7]]+"-"+sc[e[t+8]]+sc[e[t+9]]+"-"+sc[e[t+10]]+sc[e[t+11]]+sc[e[t+12]]+sc[e[t+13]]+sc[e[t+14]]+sc[e[t+15]]}o(SW,"unsafeStringify");var IW=Vs(require("crypto")),bD={randomUUID:IW.default.randomUUID};function age(e,t,r){if(bD.randomUUID&&!t&&!e)return bD.randomUUID();e=e||{};let n=e.random||(e.rng||xD)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let s=0;s<16;++s)t[r+s]=n[s];return t}return SW(n)}o(age,"v4");var fm=age;var TD=class TD extends Error{constructor(t){super(t),this.name="CopilotAuthError"}};o(TD,"CopilotAuthError");var _d=TD;var yC=Vs(I1());var hm="github.copilot";var xf=Vs(I1());var CD=class CD{now(){return new Date}};o(CD,"Clock");var mm=CD;var LY=Vs(jT());var AD=class AD{constructor(t=10){this.valueMap=new Map;this.lruKeys=[];this.sizeLimit=t}set(t,r){let n;return this.valueMap.has(t)?n=t:this.lruKeys.length>=this.sizeLimit&&(n=this.lruKeys[0]),n!==void 0&&this.delete(n),this.valueMap.set(t,r),this.touchKeyInLRU(t),this}get(t){if(this.valueMap.has(t)){let r=this.valueMap.get(t);return this.touchKeyInLRU(t),r}}delete(t){return this.has(t)?(this.removeKeyFromLRU(t),this.valueMap.get(t)!==void 0&&this.valueMap.delete(t),!0):!1}clear(){this.valueMap.clear(),this.lruKeys=[]}get size(){return this.valueMap.size}keys(){return this.lruKeys.slice().values()}values(){return new Map(this.valueMap).values()}entries(){return new Map(this.valueMap).entries()}[Symbol.iterator](){return this.entries()}has(t){return this.valueMap.has(t)}forEach(t,r){new Map(this.valueMap).forEach(t,r)}get[Symbol.toStringTag](){return"LRUCacheMap"}peek(t){return this.valueMap.get(t)}removeKeyFromLRU(t){let r=this.lruKeys.indexOf(t);r!==-1&&this.lruKeys.splice(r,1)}touchKeyInLRU(t){this.removeKeyFromLRU(t),this.lruKeys.push(t)}};o(AD,"LRUCacheMap");var Sa=AD;var HT=class HT{constructor(t,r,n){this.variables=t,this.assignmentContext=r,this.features=n}static createFallbackConfig(t,r){return kY(t,{reason:r}),this.createEmptyConfig()}static createEmptyConfig(){return new HT({},"","")}addToTelemetry(t){t.properties["VSCode.ABExp.Features"]=this.features,t.properties["abexp.assignmentcontext"]=this.assignmentContext}};o(HT,"ExpConfig");var xd=HT;var sv=Vs(XX(),1),kVe={ALPN_HTTP2:sv.default.ALPN_HTTP2,ALPN_HTTP2C:sv.default.ALPN_HTTP2C,ALPN_HTTP1_1:sv.default.ALPN_HTTP1_1,ALPN_HTTP1_0:sv.default.ALPN_HTTP1_0},{fetch:MVe,context:QX,reset:BVe,noCache:FVe,h1:UVe,keepAlive:qVe,h1NoCache:jVe,keepAliveNoCache:HVe,cacheStats:$Ve,clearCache:VVe,offPush:GVe,onPush:zVe,createUrl:KVe,timeoutSignal:WVe,Body:YVe,Headers:XVe,Request:QVe,Response:JVe,AbortController:JX,AbortError:ZX,AbortSignal:ZVe,FetchBaseError:eGe,FetchError:x7,ALPN_HTTP2:tGe,ALPN_HTTP2C:rGe,ALPN_HTTP1_1:nGe,ALPN_HTTP1_0:iGe}=sv.default;var tQ=Vs(require("util")),rQ=require("util");var yL=class yL{constructor(){this.contributors=[]}add(t){this.contributors.push(t)}remove(t){let r=this.contributors.indexOf(t);r!==-1&&this.contributors.splice(r,1)}contributeHeaders(t,r){for(let n of this.contributors)n.contributeHeaderValues(t,r)}size(){return this.contributors.length}};o(yL,"HeaderContributors");var bm=yL;var bL=class bL{set rejectUnauthorized(t){this._rejectUnauthorized=t}get rejectUnauthorized(){return this._rejectUnauthorized}};o(bL,"Fetcher");var Ua=bL;function _L(e){return e instanceof ZX||e.name==="AbortError"||e instanceof x7&&e.code==="ABORT_ERR"}o(_L,"isAbortError");var EL=class EL extends SyntaxError{constructor(r,n){super(r);this.code=n;this.name="JsonParseError"}};o(EL,"JsonParseError");var av=EL,TL=class TL extends Error{constructor(r){super(`HTTP ${r.status} ${r.statusText}`);this.name="FetchResponseError",this.code=`HTTP${r.status}`}};o(TL,"FetchResponseError");var Em=TL,J8e=new Set(["ECONNABORTED","ECONNRESET","EHOSTUNREACH","ENETUNREACH","ENOTCONN","ENOTFOUND","ETIMEDOUT","ERR_HTTP2_STREAM_ERROR","ERR_SSL_BAD_DECRYPT","ERR_SSL_DECRYPTION_FAILED_OR_BAD_RECORD_MAC","ERR_SSL_INVALID_LIBRARY_(0)","ERR_SSL_SSLV3_ALERT_BAD_RECORD_MAC","ERR_SSL_WRONG_VERSION_NUMBER","ERR_STREAM_PREMATURE_CLOSE"]);function nQ(e){var t;return e instanceof x7||e instanceof Error&&e.name==="FetchError"||e instanceof av||e instanceof Em||e instanceof Error&&J8e.has(e.code)||((t=e==null?void 0:e.message)==null?void 0:t.startsWith("net::"))}o(nQ,"isNetworkError");var CL=class CL{constructor(t,r,n,s,a,l){this.status=t;this.statusText=r;this.headers=n;this.getText=s;this.getBody=a;this.getJson=l;this.ok=this.status>=200&&this.status<300}async text(){return this.getText()}async json(){if(this.getJson)return this.getJson();let t=await this.text(),r=this.headers.get("content-type");if(!r||!r.includes("json"))throw new av(`Response content-type is ${r!=null?r:"missing"} (status=${this.status})`,`ContentType=${r}`);try{return JSON.parse(t)}catch(n){if(n instanceof SyntaxError){let s=n.message.match(/^(.*?) in JSON at position (\d+)$/);if(s&&parseInt(s[2],10)==t.length||n.message==="Unexpected end of JSON input"){let a=new rQ.TextEncoder().encode(t).length,l=this.headers.get("content-length");throw l===null?new av(`Response body truncated: actualLength=${a}`,"Truncated"):new av(`Response body truncated: actualLength=${a}, headerLength=${l}`,"Truncated")}}throw n}}async body(){return this.getBody()}};o(CL,"Response");var dC=CL,Z8e=30*1e3;function xL(e,t,r,n,s,a,l){let c={Authorization:tQ.format("Bearer %s",r),"X-Request-Id":s,"Openai-Organization":"github-copilot","VScode-SessionId":e.get(Ia).sessionId,"VScode-MachineId":e.get(Ia).machineId,...SL(e)};e.get(bm).contributeHeaders(t,c),n&&(c["OpenAI-Intent"]=n);let u={method:"POST",headers:c,json:a,timeout:Z8e},f=e.get(Ua);if(l){let p=f.makeAbortController();l.onCancellationRequested(()=>{T0(e,"networking.cancelRequest",$0.createAndMarkAsIssued({headerRequestId:s})),p.abort()}),u.signal=p.signal}return f.fetch(t,u).catch(p=>{if(p.code=="ECONNRESET"||p.code=="ETIMEDOUT"||p.code=="ERR_HTTP2_INVALID_SESSION"||p.message=="ERR_HTTP2_GOAWAY_SESSION")return T0(e,"networking.disconnectAll"),f.disconnectAll().then(()=>f.fetch(t,u));throw p})}o(xL,"postRequest");var IL=class IL{};o(IL,"ExpConfigMaker");var Tm=IL,eve="https://default.exp-tas.com",AL=class AL extends Tm{constructor(r="/vscode/ab"){super();this.expPath=r}async fetchExperiments(r,n){var f;let s=r.get(Ua),a;try{a=await s.fetch(eve+this.expPath,{method:"GET",headers:n})}catch(d){return xd.createFallbackConfig(r,`Error fetching ExP config: ${d}`)}if(!a.ok)return xd.createFallbackConfig(r,`ExP responded with ${a.status}`);let l;try{l=await a.json()}catch(d){if(d instanceof SyntaxError)return _f(r,d,"fetchExperiments"),xd.createFallbackConfig(r,"ExP responded with invalid JSON");throw d}let c=(f=l.Configs.find(d=>d.Id==="vscode"))!=null?f:{Id:"vscode",Parameters:{}},u=Object.entries(c.Parameters).map(([d,p])=>d+(p?"":"cf"));return new xd(c.Parameters,l.AssignmentContext,u.join(";"))}};o(AL,"ExpConfigFromTAS");var pC=AL;var tve={"X-Copilot-ClientTimeBucket":"timeBucket","X-Copilot-OverrideEngine":"engine","X-Copilot-Repository":"repo","X-Copilot-FileType":"fileType","X-Copilot-UserKind":"userKind"},hC=class hC{constructor(t){this.filters=t;for(let[r,n]of Object.entries(this.filters))n===""&&delete this.filters[r]}extends(t){for(let[r,n]of Object.entries(t.filters))if(this.filters[r]!==n)return!1;return!0}addToTelemetry(t){for(let[r,n]of Object.entries(this.filters)){let s=tve[r];s!==void 0&&(t.properties[s]=n)}}stringify(){let t=Object.keys(this.filters);return t.sort(),t.map(r=>`${r}:${this.filters[r]}`).join(";")}toHeaders(){return{...this.filters}}withChange(t,r){return new hC({...this.filters,[t]:r})}};o(hC,"FilterSettings");var Cm=hC;var RL=class RL{constructor(t){this.prefix=t}getCurrentAndUpComingValues(t){let r=this.getValue(t),n=this.getUpcomingValues(t);return[r,n]}};o(RL,"GranularityImplementation");var mC=RL,PL=class PL extends mC{getValue(t){return this.prefix}getUpcomingValues(t){return[]}};o(PL,"ConstantGranularity");var wL=PL,iQ=o(e=>new wL(e),"DEFAULT_GRANULARITY"),NL=class NL extends mC{constructor(r,n=.5,s=new Date().setUTCHours(0,0,0,0)){super(r);this.prefix=r;this.fetchBeforeFactor=n;this.anchor=s}setTimePeriod(r){isNaN(r)?this.timePeriodLengthMs=void 0:this.timePeriodLengthMs=r}setByCallBuckets(r){isNaN(r)?this.numByCallBuckets=void 0:this.numByCallBuckets=r}getValue(r){return this.prefix+this.getTimePeriodBucketString(r)+(this.numByCallBuckets?this.timeHash(r):"")}getTimePeriodBucketString(r){return this.timePeriodLengthMs?this.dateToTimePartString(r):""}getUpcomingValues(r){let n=[],s=this.getUpcomingTimePeriodBucketStrings(r),a=this.getUpcomingByCallBucketStrings();for(let l of s)for(let c of a)n.push(this.prefix+l+c);return n}getUpcomingTimePeriodBucketStrings(r){if(this.timePeriodLengthMs===void 0)return[""];if((r.getTime()-this.anchor)%this.timePeriodLengthMs<this.fetchBeforeFactor*this.timePeriodLengthMs)return[this.getTimePeriodBucketString(r)];{let n=new Date(r.getTime()+this.timePeriodLengthMs);return[this.getTimePeriodBucketString(r),this.getTimePeriodBucketString(n)]}}getUpcomingByCallBucketStrings(){return this.numByCallBuckets===void 0?[""]:Array.from(Array(this.numByCallBuckets).keys()).map(r=>r.toString())}timeHash(r){return this.numByCallBuckets==null?0:7883*(r.getTime()%this.numByCallBuckets)%this.numByCallBuckets}dateToTimePartString(r){return this.timePeriodLengthMs==null?"":Math.floor((r.getTime()-this.anchor)/this.timePeriodLengthMs).toString()}};o(NL,"TimeBucketGranularity");var gC=NL;var sQ="X-Copilot-ClientTimeBucket",OL=class OL{constructor(t,r){this.specs=new Map;this.prefix=t,this.clock=r,this.defaultGranularity=iQ(t)}selectGranularity(t){for(let[r,n]of this.specs.entries())if(t.extends(r))return n;return this.defaultGranularity}update(t,r,n){if(r=r>1?r:NaN,n=n>0?n:NaN,isNaN(r)&&isNaN(n))this.specs.delete(t);else{let s=new gC(this.prefix);isNaN(r)||s.setByCallBuckets(r),isNaN(n)||s.setTimePeriod(n*3600*1e3),this.specs.set(t,s)}}extendFilters(t){let r=this.selectGranularity(t),[n,s]=r.getCurrentAndUpComingValues(this.clock.now());return{newFilterSettings:t.withChange(sQ,n),otherFilterSettingsToPrefetch:s.map(a=>t.withChange(sQ,a))}}};o(OL,"GranularityDirectory");var vC=OL;var kL=class kL{constructor(t){this.ctx=t;this.cache=new Sa(200)}async fetchExpConfig(t){let r=this.cache.get(t.stringify());return r||(r=new LL(()=>this.ctx.get(Tm).fetchExperiments(this.ctx,t.toHeaders()),1e3*60*60),this.cache.set(t.stringify(),r)),r.run()}getCachedExpConfig(t){let r=this.cache.get(t.stringify());return r==null?void 0:r.value()}};o(kL,"FilterSettingsToExpConfigs");var DL=kL,ML=class ML{constructor(t,r=1/0){this.producer=t;this.expirationMs=r}async run(){return this.promise===void 0&&(this.promise=this.producer(),this.storeResult(this.promise).then(()=>{this.expirationMs<1/0&&this.promise!==void 0&&setTimeout(()=>this.promise=void 0,this.expirationMs)})),this.promise}async storeResult(t){try{this.result=await t}finally{this.result===void 0&&(this.promise=void 0)}}value(){return this.result}};o(ML,"Task");var LL=ML,nh=class nh{constructor(t){this.ctx=t;this.staticFilters={};this.dynamicFilters={};this.upcomingDynamicFilters={};this.assignments=new DL(this.ctx)}registerStaticFilters(t){Object.assign(this.staticFilters,t)}registerDynamicFilter(t,r){this.dynamicFilters[t]=r}getDynamicFilterValues(){let t={};for(let[r,n]of Object.entries(this.dynamicFilters))t[r]=n();return t}registerUpcomingDynamicFilter(t,r){this.upcomingDynamicFilters[t]=r}async updateExPValuesAndAssignments({repoNwo:t,fileType:r,userKind:n,dogFood:s,retrievalOrg:a,customModel:l},c){var S,A;if(c instanceof b7)throw new Error("updateExPValuesAndAssignments should not be called with TelemetryWithExp");let u={"X-Copilot-Repository":t,"X-Copilot-FileType":r,"X-Copilot-UserKind":n,"X-Copilot-Dogfood":s,"X-Copilot-CustomModel":l,"X-Copilot-RetrievalOrg":a},f=this.getGranularityDirectory(),d=this.makeFilterSettings(u),p=f.extendFilters(d),h=await this.getExpConfig(p.newFilterSettings);f.update(d,+((S=h.variables.copilotbycallbuckets)!=null?S:NaN),+((A=h.variables.copilottimeperiodsizeinh)!=null?A:NaN));let m=f.extendFilters(d),v=m.newFilterSettings,_=await this.getExpConfig(v),b=new Promise(O=>setTimeout(O,nh.upcomingDynamicFilterCheckDelayMs));for(let O of m.otherFilterSettingsToPrefetch)b=b.then(async()=>{await new Promise(L=>setTimeout(L,nh.upcomingDynamicFilterCheckDelayMs)),this.getExpConfig(O)});return this.prepareForUpcomingFilters(v),new b7(c.properties,c.measurements,c.issuedTime,{filters:v,exp:_})}getGranularityDirectory(){if(!this.granularityDirectory){let t=this.ctx.get(Ia).machineId;this.granularityDirectory=new vC(t,this.ctx.get(mm))}return this.granularityDirectory}makeFilterSettings(t){return new Cm({...this.staticFilters,...this.getDynamicFilterValues(),...t})}async getExpConfig(t){try{return this.assignments.fetchExpConfig(t)}catch(r){return xd.createFallbackConfig(this.ctx,`Error fetching ExP config: ${r}`)}}async prepareForUpcomingFilters(t){if(!(new Date().getMinutes()<60-nh.upcomingTimeBucketMinutes))for(let[r,n]of Object.entries(this.upcomingDynamicFilters))await new Promise(s=>setTimeout(s,nh.upcomingDynamicFilterCheckDelayMs)),this.getExpConfig(t.withChange(r,n()))}stringify(){var r;let t=this.assignments.getCachedExpConfig(new Cm({}));return JSON.stringify((r=t==null?void 0:t.variables)!=null?r:{})}async getFallbackExpAndFilters(){let t=this.makeFilterSettings({}),r=await this.getExpConfig(t);return{filters:t,exp:r}}debounceMs(t){var r;return(r=t.filtersAndExp.exp.variables.copilotdebouncems)!=null?r:0}debouncePredict(t){var r;return(r=t.filtersAndExp.exp.variables.copilotdebouncepredict)!=null?r:!1}contextualFilterEnable(t){var r;return(r=t.filtersAndExp.exp.variables.copilotcontextualfilterenable)!=null?r:!0}contextualFilterEnableTree(t){var r;return(r=t.filtersAndExp.exp.variables.copilotcontextualfilterenabletree)!=null?r:!0}contextualFilterAcceptThreshold(t){var r;return(r=t.filtersAndExp.exp.variables.copilotcontextualfilteracceptthreshold)!=null?r:35}contextualFilterExplorationTraffic(t){var r;return(r=t.filtersAndExp.exp.variables.copilotcontextualfilterexplorationtraffic)!=null?r:1}disableLogProb(t){var r;return(r=t.filtersAndExp.exp.variables.copilotdisablelogprob)!=null?r:!0}overrideBlockMode(t){return t.filtersAndExp.exp.variables.copilotoverrideblockmode||void 0}fastCancellation(t){var r;return(r=t.filtersAndExp.exp.variables.copilotoverridefastcancellation)!=null?r:!0}overrideNumGhostCompletions(t){return t.filtersAndExp.exp.variables.copilotoverridednumghostcompletions}dropCompletionReasons(t){let r=t.filtersAndExp.exp.variables.copilotdropcompletionreasons;if(r)return r.split(",")}customEngine(t){var r;return(r=t.filtersAndExp.exp.variables.copilotcustomengine)!=null?r:""}beforeRequestWaitMs(t){var r;return(r=t.filtersAndExp.exp.variables.copilotlms)!=null?r:0}multiLogitBias(t){var r;return(r=t.filtersAndExp.exp.variables.copilotlbeot)!=null?r:!1}requestMultilineExploration(t){var r;return(r=t.filtersAndExp.exp.variables.copilotrequestmultilineexploration)!=null?r:!1}suffixPercent(t){var r;return(r=t.filtersAndExp.exp.variables.CopilotSuffixPercent)!=null?r:15}suffixMatchThreshold(t){var r;return(r=t.filtersAndExp.exp.variables.copilotsuffixmatchthreshold)!=null?r:10}numberOfSnippets(t){var r;return(r=t.filtersAndExp.exp.variables.copilotnumberofsnippets)!=null?r:xf.DEFAULT_NUM_OF_SNIPPETS}neighboringTabsOption(t){switch(t.filtersAndExp.exp.variables.copilotneighboringtabs){case"none":return xf.NeighboringTabsOption.None;case"conservative":return xf.NeighboringTabsOption.Conservative;case"medium":return xf.NeighboringTabsOption.Medium;case"eager":return xf.NeighboringTabsOption.Eager;case"eagerbutlittle":return xf.NeighboringTabsOption.EagerButLittle;case"eagerbutmedium":return xf.NeighboringTabsOption.EagerButMedium;case"eagerbutmuch":return xf.NeighboringTabsOption.EagerButMuch;case"retrievalcomparable":return xf.NeighboringTabsOption.RetrievalComparable;default:return xf.NeighboringTabsOption.Eager}}retrievalStrategy(t){var r;return(r=t.filtersAndExp.exp.variables.retrieval)!=null?r:!1}retrievalServerRoute(t){let r=t.filtersAndExp.exp.variables.retrievalserverroute;switch(r){case"aims":return"2";case"devdiv":return"1";case"githubnext":return"0";default:return r!=null?r:"0"}}maxPromptCompletionTokens(t,r){var n;return(n=t.filtersAndExp.exp.variables.maxpromptcompletionTokens)!=null?n:r}hybridInference(t){var r;return(r=t.filtersAndExp.exp.variables.hybridinference)!=null?r:!1}hybridInferenceThreshold(t){var r;return((r=t.filtersAndExp.exp.variables.hybridinferencethreshold)!=null?r:-100)/100}requestMultiOnNewLine(t){var r;return(r=t.filtersAndExp.exp.variables.copilotrequestmultionnewline)!=null?r:!1}requestMultiModel(t){var r;return(r=t.filtersAndExp.exp.variables.copilotrequestmultimodel)!=null?r:!1}requestMultiModelThreshold(t){var r;return((r=t.filtersAndExp.exp.variables.copilotrequestmultimodelthreshold)!=null?r:100)/100}promptOrderListPreset(t){switch(t.filtersAndExp.exp.variables.copilotpromptorderlistpreset){default:return"default"}}useLanguageDetection(t){var r;return(r=t.filtersAndExp.exp.variables.copilotlanguagedetection)!=null?r:!1}defaultCommentMarker(t){var s,a;let r=(s=t.filtersAndExp.exp.variables.copilotlanguagedetectioncommentmarkerstart)!=null?s:void 0,n=(a=t.filtersAndExp.exp.variables.copilotlanguagedetectioncommentmarkerend)!=null?a:void 0;if(r||n)return{start:r!=null?r:"",end:n!=null?n:""}}promptPriorityPreset(t){switch(t.filtersAndExp.exp.variables.copilotpromptprioritypreset){default:return"default"}}ideAgentChatGpt4MaxTokens(t){var r;return(r=t.filtersAndExp.exp.variables.ideagentchatgpt4maxtokens)!=null?r:-1}ideAgentChatGpt4MaxRequestTokens(t){var r;return(r=t.filtersAndExp.exp.variables.ideagentchatgpt4maxrequesttokens)!=null?r:-1}};o(nh,"Features"),nh.upcomingDynamicFilterCheckDelayMs=20,nh.upcomingTimeBucketMinutes=5+Math.floor(Math.random()*11);var Xa=nh;var FL=BL(),Kc={Enable:"enable",InlineSuggestEnable:"inlineSuggest.enable",ShowEditorCompletions:["editor","showEditorCompletions"],EnableAutoCompletions:["editor","enableAutoCompletions"],DelayCompletions:["editor","delayCompletions"],FilterCompletions:["editor","filterCompletions"],DisplayStyle:["advanced","displayStyle"],SecretKey:["advanced","secret_key"],SolutionLength:["advanced","length"],Stops:["advanced","stops"],Temperature:["advanced","temperature"],TopP:["advanced","top_p"],IndentationMode:["advanced","indentationMode"],InlineSuggestCount:["advanced","inlineSuggestCount"],ListCount:["advanced","listCount"],DebugOverrideCapiUrl:["advanced","debug.overrideCapiUrl"],DebugTestOverrideCapiUrl:["advanced","debug.testOverrideCapiUrl"],DebugOverrideProxyUrl:["advanced","debug.overrideProxyUrl"],DebugTestOverrideProxyUrl:["advanced","debug.testOverrideProxyUrl"],DebugOverrideEngine:["advanced","debug.overrideEngine"],DebugShowScores:["advanced","debug.showScores"],DebugOverrideLogLevels:["advanced","debug.overrideLogLevels"],DebugFilterLogCategories:["advanced","debug.filterLogCategories"],DebugSnippyOverrideUrl:["advanced","debug.codeRefOverrideUrl"],DebugUseElectronFetcher:["advanced","debug.useElectronFetcher"]};var UL=class UL{};o(UL,"BlockModeConfig");var ov=UL,qL=class qL extends ov{async forLanguage(t,r,n){if(t.get(A1).isDefaultSettingOverwritten(Kc.IndentationMode))switch(t.get(A1).getLanguageConfig(Kc.IndentationMode,r)){case"client":case!0:case"server":return"server";case"clientandserver":return aQ("parsingandserver",r);default:return"parsing"}let s=t.get(Xa).overrideBlockMode(n);return s?aQ(s,r):r=="ruby"?"parsing":(0,yC.isSupportedLanguageId)(r)?"parsingandserver":"server"}};o(qL,"ConfigBlockModeConfig");var _C=qL;function aQ(e,t){switch(e){case"parsing":return(0,yC.isSupportedLanguageId)(t)?"parsing":"server";case"server":return"server";case"parsingandserver":default:return(0,yC.isSupportedLanguageId)(t)?"parsingandserver":"server"}}o(aQ,"toApplicableBlockMode");var jL=class jL{};o(jL,"ConfigProvider");var A1=jL,HL=class HL extends A1{getConfig(t){return Array.isArray(t)?ove(t[0],t[1]):ave(t)}isDefaultSettingOverwritten(t){return!1}dumpForTelemetry(){return{}}getLanguageConfig(t,r){let n=this.getConfig(t);return r&&r in n?n[r]:n["*"]}};o(HL,"DefaultsOnlyConfigProvider");var xC=HL;function ave(e){try{let t=FL.contributes.configuration[0].properties[`${hm}.${e}`].default;if(t===void 0)throw new Error(`Missing config default value: ${hm}.${e}`);return t}catch(t){throw new Error(`Error inspecting config default value ${hm}.${e}: ${t}`)}}o(ave,"getConfigDefaultForKey");function ove(e,t){try{let r=FL.contributes.configuration[0].properties[`${hm}.${e}`].properties[t].default;if(r===void 0)throw new Error(`Missing config default value: ${hm}.${e}`);return r}catch(r){throw new Error(`Error inspecting config default value ${hm}.${e}.${t}: ${r}`)}}o(ove,"getConfigDefaultForObjectKey");function bf(e,t){return e.get(A1).getConfig(t)}o(bf,"getConfig");function oQ(e){return e.get(A1).dumpForTelemetry()}o(oQ,"dumpForTelemetry");function lQ(e,t,r){return e.get(A1).getLanguageConfig(t,r)}o(lQ,"getLanguageConfig");var $L=class $L{constructor(){this.packageJson=FL}isProduction(){return this.getBuildType()!="dev"}getBuildType(){return this.packageJson.buildType}getVersion(){return this.packageJson.version}getDisplayVersion(){return this.getBuildType()==="dev"?`${this.getVersion()}-dev`:this.getVersion()}getBuild(){return this.packageJson.build}getName(){return this.packageJson.name}};o($L,"BuildInfo");var Wc=$L;function cQ(e){return e.get(Wc).isProduction()}o(cQ,"isProduction");function bC(e){return e.get(Wc).getBuildType()}o(bC,"getBuildType");function uQ(e){return e.get(Wc).getBuild()}o(uQ,"getBuild");function fQ(e){return e.get(Wc).getVersion()}o(fQ,"getVersion");var VL=class VL{constructor(t,r){this.sessionId=t;this.machineId=r}};o(VL,"EditorSession");var Ia=VL;function w1({name:e,version:t}){return`${e}/${t}`}o(w1,"formatNameAndVersion");var GL=class GL{};o(GL,"EditorAndPluginInfo");var kl=GL;function SL(e){let t=e.get(kl);return{"Editor-Version":w1(t.getEditorInfo()),"Editor-Plugin-Version":w1(t.getEditorPluginInfo())}}o(SL,"editorVersionHeaders");var EC=Vs(jT()),TC=Vs(require("os"));var lve=require("events"),zL=class zL extends lve{constructor(){super(),this.setMaxListeners(13)}emit(t,r,n){return super.emit(t,r,n)}};o(zL,"CopilotTokenNotifier");var al=zL;var KL=class KL{constructor(t,r,n,s){this.trackingId=r,this.optedIn=n!=null?n:!1,this.ftFlag=s!=null?s:"",this.setupUpdateOnToken(t)}setupUpdateOnToken(t){t.get(al).on("onCopilotToken",r=>{var f;let n=r.getTokenValue("rt")==="1",s=(f=r.getTokenValue("ft"))!=null?f:"",a=r.getTokenValue("tid"),l=r.organization_list,c=r.enterprise_list,u=r.getTokenValue("sku");a!==void 0&&(this.trackingId=a,this.organizationsList=l==null?void 0:l.toString(),this.enterpriseList=c==null?void 0:c.toString(),this.sku=u,this.optedIn=n,this.ftFlag=s)})}};o(KL,"TelemetryUserConfig");var Ml=KL;var cve=/^(\s+at)?(.*?)(@|\s\(|\s)([^(\n]+?)(:\d+)?(:\d+)?(\)?)$/;function uve(e){var n,s,a,l,c,u;let t={type:e.name,value:e.message},r=(n=e.stack)==null?void 0:n.replace(/^.*?:\d+\n.*\n *\^?\n\n/,"");if(r!=null&&r.startsWith(e.toString()+`
`)){t.stacktrace=[];for(let f of r.slice(e.toString().length+1).split(/\n/).reverse()){let d=f.match(cve),p={filename:"",function:""};d&&(p.function=(l=(a=(s=d[2])==null?void 0:s.trim())==null?void 0:a.replace(/^[^.]{1,2}(\.|$)/,"_$1"))!=null?l:p.function,p.filename=(u=(c=d[4])==null?void 0:c.trim())!=null?u:p.filename,d[5]&&d[5]!==":0"&&(p.lineno=d[5].slice(1)),d[6]&&d[5]!==":0"&&(p.colno=d[6].slice(1)),p.in_app=!/[[<:]|(?:^|\/)node_modules\//.test(p.filename)),t.stacktrace.push(p)}}return t}o(uve,"buildExceptionDetail");function fve(e,t){var l,c;let r=e.get(kl),n=r.getEditorInfo(),s=e.get(Ml),a={"#editor":(l=n.devName)!=null?l:n.name,"#editor_version":w1({name:(c=n.devName)!=null?c:n.name,version:n.version}),"#plugin":r.getEditorPluginInfo().name,"#plugin_version":w1(r.getEditorPluginInfo()),"#session_id":e.get(Ia).sessionId,"#machine_id":e.get(Ia).machineId,"#architecture":TC.arch(),"#os_platform":TC.platform(),...t};return s.trackingId&&(a.user=s.trackingId,a["#tracking_id"]=s.trackingId),a}o(fve,"buildContext");function dQ(e,t){var f;let r=e.get(Wc),n=e.get(kl).getEditorInfo(),s={app:"copilot-client",rollup_id:"auto",platform:"node",release:r.getBuildType()!=="dev"?`copilot-client@${r.getVersion()}`:void 0,deployed_to:r.getBuildType(),catalog_service:n.name==="vscode"?"CopilotCompletionsVSCode":"CopilotIDEAgent",context:fve(e,{"#node_version":process.versions.node}),sensitive_context:{}},a=[];s.exception_detail=[];let l=0,c=t;for(;c instanceof Error&&l<10;){let d=uve(c);s.exception_detail.unshift(d),a.unshift([c,d]),l+=1,c=c.cause}let u=[];for(let[d,p]of a)if(p.stacktrace&&p.stacktrace.length>0){u.push(`${p.type}: ${(f=d.code)!=null?f:""}`);let h=[...p.stacktrace].reverse();for(let m of h)if(m.in_app){u.push(`${m.filename}:${m.lineno}:${m.colno}`);break}u.push(`${h[0].filename}`)}else return s;return s.exception_detail.length>0&&(s.rollup_id=(0,EC.SHA256)(EC.enc.Utf16.parse(u.join(`
`))).toString()),s}o(dQ,"buildPayload");var CC=class CC{constructor(t){this.flags=t}static fromEnvironment(t){return new CC({debug:pve(process.argv,process.env),verboseLogging:hve(process.env),telemetryLogging:mve(process.env),testMode:t,recordInput:gve(process.argv,process.env)})}};o(CC,"RuntimeMode");var Sm=CC;function lv(e){return e.get(Sm).flags.testMode}o(lv,"isRunningInTest");function E7(e){return lv(e)}o(E7,"shouldFailForDebugPurposes");function pQ(e){return e.get(Sm).flags.verboseLogging}o(pQ,"isVerboseLoggingEnabled");function pve(e,t){return e.includes("--debug")||SC(t,"GITHUB_COPILOT_DEBUG")}o(pve,"determineDebugFlag");function hve(e){return SC(e,"COPILOT_AGENT_VERBOSE")}o(hve,"determineVerboseLoggingEnabled");function mve(e){return SC(e,"COPILOT_LOG_TELEMETRY")}o(mve,"determineTelemetryLoggingEnabled");function gve(e,t){return e.includes("--record")||SC(t,"GITHUB_COPILOT_RECORD")}o(gve,"determineRecordInput");function SC(e,t){if(t in e){let r=e[t];return r==="1"||(r==null?void 0:r.toLowerCase())==="true"}return!1}o(SC,"determineEnvFlagEnabled");var _Q=Vs(mQ()),xQ=Vs(vQ()),R1=Vs(require("os"));var Yc=(s=>(s[s.DEBUG=0]="DEBUG",s[s.INFO=1]="INFO",s[s.WARN=2]="WARN",s[s.ERROR=3]="ERROR",s))(Yc||{}),WL=class WL{constructor(t){this.logVerbose=t}};o(WL,"LogVerbose");var cv=WL;function yQ(e){return e.get(cv).logVerbose}o(yQ,"verboseLogging");var YL=class YL{shouldLog(t,r){}};o(YL,"LogTarget");var uv=YL,XL=class XL extends uv{constructor(r){super();this.console=r}logIt(r,n,s,...a){n==3?this.console.error(s,...a):(n==2||yQ(r))&&this.console.warn(s,...a)}};o(XL,"ConsoleLog");var wC=XL;var QL=class QL{constructor(t,r){this.minLoggedLevel=t,this.context=r}setLevel(t){this.minLoggedLevel=t}stringToLevel(t){return Yc[t]}log(t,r,...n){let s=t.get(uv),a=s.shouldLog(t,r);if(a===!1||a===void 0&&!this.shouldLog(t,r,this.context))return;let l=`[${this.context}]`;s.logIt(t,r,l,...n)}sendErrorTelemetry(t,r,n){T7(t,r,$0.createAndMarkAsIssued({context:this.context,level:Yc[3],message:n}),1)}telemetryMessage(...t){return t.length>0?JSON.stringify(t):"no msg"}shouldLog(t,r,n){var c,u;if(yQ(t))return!0;let s=bf(t,Kc.DebugFilterLogCategories);if(s.length>0&&!s.includes(n))return!1;if(cQ(t))return r>=this.minLoggedLevel;let a=bf(t,Kc.DebugOverrideLogLevels),l=(u=(c=this.stringToLevel(a["*"]))!=null?c:this.stringToLevel(a[this.context]))!=null?u:this.minLoggedLevel;return r>=l}debug(t,...r){this.log(t,0,...r)}info(t,...r){this.log(t,1,...r)}warn(t,...r){this.log(t,2,...r)}error(t,...r){this.sendErrorTelemetry(t,"log",this.telemetryMessage(...r)),this.log(t,3,...r)}exception(t,r,n){if(r instanceof Error&&r.name==="Canceled"&&r.message==="Canceled")return;let s=n;n.startsWith(".")&&(s=n.substring(1),n=`${this.context}${n}`),_f(t,r,n);let a=r instanceof Error?r:new Error("Non-error thrown: "+r);this.log(t,3,`${s}:`,a)}};o(QL,"Logger");var X0=QL;var Im=new X0(1,"default");var ZL=class ZL{constructor(t,r,n,s=!1){this.ctx=t;this.namespace=r;this.includeAuthorizationHeader=s;this.onCopilotToken=o(t=>{this.token=t;let r=t.getTokenValue("tid");r!==void 0&&(this.tags["ai.user.id"]=r)},"onCopilotToken");this.xhrOverride={sendPOST:(t,r)=>{var a;if(typeof t.data!="string")throw new Error(`AppInsightsReporter only supports string payloads, received ${typeof t.data}`);let n=(a=t.headers)!=null?a:{};n["Content-Type"]="application/json",this.includeAuthorizationHeader&&this.token&&(n.Authorization=`Bearer ${this.token.token}`);let s={method:"POST",headers:n,body:t.data};this.ctx.get(Ua).fetch(t.urlString,s).then(l=>l.text().then(c=>{r(l.status,l.headers,c)})).catch(l=>{Im.error(this.ctx,"Error sending telemetry",l),r(0,{})})}};this.client=new xQ.ApplicationInsights({instrumentationKey:n,disableAjaxTracking:!0,disableExceptionTracking:!0,disableFetchTracking:!0,disableCorrelationHeaders:!0,disableCookiesUsage:!0,autoTrackPageVisitTime:!1,emitLineDelimitedJson:!1,disableInstrumentationKeyValidation:!0,endpointUrl:t.get(P1).getUrl(),extensionConfig:{[_Q.BreezeChannelIdentifier]:{alwaysUseXhrOverride:!0,httpXHROverride:this.xhrOverride}}}),this.tags=vve(t),this.commonProperties=yve(t),t.get(al).on("onCopilotToken",this.onCopilotToken)}sendTelemetryEvent(t,r,n){r={...r,...this.commonProperties};let s=this.qualifyEventName(t);this.client.track({name:s,tags:[this.tags],data:{...r,...n},baseType:"EventData",baseData:{name:s,properties:r,measurements:n}})}sendTelemetryErrorEvent(t,r,n){this.sendTelemetryEvent(this.qualifyEventName(t),r,n)}async dispose(){this.ctx.get(al).removeListener("onCopilotToken",this.onCopilotToken),await this.client.unload(!0,void 0,1)}qualifyEventName(t){return t.startsWith(this.namespace)?t:`${this.namespace}/${t}`}};o(ZL,"AppInsightsReporter");var fv=ZL;function vve(e){let t={},r=e.get(Ia);t["ai.session.id"]=r.sessionId;let n=e.get(Ml);return n.trackingId&&(t["ai.user.id"]=n.trackingId),t["ai.cloud.roleInstance"]="REDACTED",t["ai.device.osVersion"]=`${R1.type()} ${R1.release()}`,t["ai.device.osArchitecture"]=R1.arch(),t["ai.device.osPlatform"]=R1.platform(),t["ai.cloud.role"]="Web",t["ai.application.ver"]=e.get(Wc).getVersion(),t}o(vve,"getTags");function yve(e){let t={};t.common_os=R1.platform(),t.common_platformversion=R1.release();let r=e.get(Ia);return t.common_vscodemachineid=r.machineId,t.common_vscodesessionid=r.sessionId,t.common_uikind="desktop",t.common_remotename="none",t.common_isnewappinstall="",t}o(yve,"getCommonProperties");var vue=Vs(gue()),sR=Vs(require("os")),OH=require("stream");var ADe=/^https:\/\/[^.]*\.in\.applicationinsights\.azure\.com\//,DH=Fl(),wDe=DH.makeRequest.bind(DH),LH=class LH{constructor(t,r,n){this.namespace=r;this.client=PDe(t,n),yue(t,this.client),t.get(al).on("onCopilotToken",s=>{let a=s.getTokenValue("tid");a!==void 0&&NDe(a,this.client)})}sendTelemetryEvent(t,r,n){this.client.trackEvent({name:this.qualifyEventName(t),properties:r,measurements:n})}sendTelemetryErrorEvent(t,r,n){this.sendTelemetryEvent(this.qualifyEventName(t),r,n)}dispose(){return new Promise(t=>{this.client.flush({callback:r=>{t(void 0)}})})}qualifyEventName(t){return t.startsWith(this.namespace)?t:`${this.namespace}/${t}`}};o(LH,"AzureInsightReporter");var F6=LH,kH=class kH{constructor(t){this.clients=[];t.get(al).on("onCopilotToken",(r,n)=>{this.token=r,this.envelope=n,this.configureDeferredClients()})}get hasCredential(){return this.token&&this.envelope}async getToken(){return this.hasCredential?{token:this.token.token,expiresOnTimestamp:this.envelope.expires_at}:null}configureClientWhenLoggedIn(t){this.hasCredential?this.configureClient(t):this.deferConfiguration(t)}configureClient(t){t.config.aadTokenCredential=this}deferConfiguration(t){this.clients.push(t)}configureDeferredClients(){for(;this.clients.length>0;)this.configureClient(this.clients.pop())}};o(kH,"TelemetryTokenCredential");var U6=kH,MH=class MH extends F6{constructor(t,r,n){super(t,r,n),t.get(U6).configureClientWhenLoggedIn(this.client)}};o(MH,"FineTuningReporter");var iR=MH;function RDe(e){DH.makeRequest=function(t,r,n,s,...a){let l=r.includes("//169.254.169.254/"),c=ADe.test(r);if(!e.get(Ua).proxySettings&&!l&&!c)return wDe(t,r,n,s,...a);r&&r.indexOf("//")===0&&(r="https:"+r);let u=new OH.EventEmitter;u.setEncoding=()=>u;let f=new OH.EventEmitter,d;return f.write=(p,h,m)=>{d=p},f.end=()=>{if(l)return f.emit("error",new Error("UNREACH")),f;if(c)return f.emit("error",new Error("UNKNOWN")),f;let p=n.method,h=n.headers;return e.get(Ua).fetch(r,{method:p,headers:h,body:d}).then(m=>{m.text().then(v=>{u.emit("data",v),u.emit("end")})}).catch(m=>{f.emit("error",m)}),f},f.setTimeout=()=>f,f.abort=()=>{},s(u),f}}o(RDe,"monkeyPatchMakeRequest");function PDe(e,t){RDe(e);let r=new vue.TelemetryClient(t);return r.config.enableAutoCollectRequests=!1,r.config.enableAutoCollectPerformance=!1,r.config.enableAutoCollectExceptions=!1,r.config.enableAutoCollectConsole=!1,r.config.enableAutoCollectDependencies=!1,r.config.noDiagnosticChannel=!0,yue(e,r),r}o(PDe,"createAppInsightsClient");function yue(e,t){t.commonProperties=ODe(t.commonProperties,e);let r=e.get(Ia);t.context.tags[t.context.keys.sessionId]=r.sessionId;let n=e.get(Ml);n.trackingId&&(t.context.tags[t.context.keys.userId]=n.trackingId),t.context.tags[t.context.keys.cloudRoleInstance]="REDACTED",t.config.endpointUrl=e.get(P1).getUrl()}o(yue,"configureReporter");function NDe(e,t){t.context.tags[t.context.keys.userId]=e}o(NDe,"updateReporterUserId");function ODe(e,t){e=e||{},e.common_os=sR.platform(),e.common_platformversion=sR.release();let r=t.get(Ia);return e.common_vscodemachineid=r.machineId,e.common_vscodesessionid=r.sessionId,e.common_uikind="desktop",e.common_remotename="none",e.common_isnewappinstall="",e}o(ODe,"decorateWithCommonProperties");var BH="7d7048df-6dd0-4048-bb23-b716c1461f8f",FH="3fdd7f28-937a-48c8-9a21-ba337db23bd1",_ue="f0000000-0000-0000-0000-000000000000";async function UH(e,t,r){let n=e.get(Bf).deactivate();if(r){let s=e.get(Bf);bC(e)==="prod"?(s.setReporter(new F6(e,t,BH)),s.setRestrictedReporter(new F6(e,t,FH)),s.setFTReporter(new iR(e,t,_ue))):(s.setReporter(new fv(e,t,BH)),s.setRestrictedReporter(new fv(e,t,FH)),s.setFTReporter(new fv(e,t,_ue,!0)))}await n}o(UH,"setupTelemetryReporters");var dx=Vs(require("path")),DDe=dx.basename(__dirname)==="dist"?dx.resolve(__dirname,".."):dx.resolve(__dirname,"..","..","..");var qH=class qH{async register(t){return t}};o(qH,"PromiseQueue");var Yu=qH,jH=class jH extends Yu{constructor(){super(...arguments);this.promises=[]}async register(r){return this.promises.push(r),r}async awaitPromises(){await Promise.all(this.promises)}};o(jH,"TestPromiseQueue");var aR=jH;var HH=class HH{sendTelemetryEvent(t,r,n){throw new Error("Telemetry disabled")}sendTelemetryErrorEvent(t,r,n,s){throw new Error("Telemetry disabled")}dispose(){return Promise.resolve()}hackOptOutListener(){}};o(HH,"FailingTelemetryReporter");var px=HH;var Eue=require("os"),Tue=Vs(require("path"));function hx(e){return e.replace(/(file:\/\/)([^\s<>]+)/gi,"$1[redacted]").replace(/(^|[\s|:=(<'"`])((?:\/(?=[^/])|\\|[a-zA-Z]:[\\/])[^\s:)>'"`]+)/g,"$1[redacted]")}o(hx,"redactPaths");var LDe=new Set(["Maximum call stack size exceeded","Set maximum size exceeded","Invalid arguments"]),kDe=[/^[\p{L}\p{Nl}$\p{Mn}\p{Mc}\p{Nd}\p{Pc}.]+ is not a function[ \w]*$/,/^Cannot read properties of undefined \(reading '[\p{L}\p{Nl}$\p{Mn}\p{Mc}\p{Nd}\p{Pc}]+'\)$/];function VH(e){if(LDe.has(e))return e;for(let t of kDe)if(t.test(e))return e;return hx(e).replace(/\bDNS:(?:\*\.)?[\w.-]+/gi,"DNS:[redacted]")}o(VH,"redactMessage");function oR(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}o(oR,"escapeForRegExp");var MDe=new RegExp("(?<=^|[\\s|(\"'`]|file://)"+oR((0,Eue.homedir)())+"(?=$|[\\\\/:\"'`])","gi");function $H(e){return e.replace(MDe,"~")}o($H,"redactHomeDir");var Cue="[\\\\/]?([^:)]*)(?=:\\d)",xue=new RegExp(oR(Tue.sep),"g"),bue=new RegExp(oR(__dirname.replace(/[\\/]lib[\\/]src[\\/]util$|[\\/]dist$/,""))+Cue,"gi");function GH(e,t,r=!1,n=[]){var c;let s=new Error(t(e));s.name=e.name,typeof e.syscall=="string"&&(s.syscall=e.syscall),typeof e.code=="string"&&(s.code=e.code),typeof e.errno=="number"&&(s.errno=e.errno),s.stack=void 0;let a=(c=e.stack)==null?void 0:c.replace(/^.*?:\d+\n.*\n *\^?\n\n/,""),l;for(let u of[e.toString(),`${e.name}: ${e.message}`])if(a!=null&&a.startsWith(u+`
`)){l=a.slice(u.length+1).split(/\n/);break}if(l){s.stack=s.toString();for(let u of l)if(bue.test(u))s.stack+=`
${hx(u.replace(bue,(f,d)=>d.replace(xue,"/")))}`;else if(/[ (]node:|[ (]wasm:\/\/wasm\/| \(<anonymous>\)$/.test(u))s.stack+=`
${hx(u)}`;else{let f=!1;for(let{prefix:d,path:p}of n){let h=new RegExp(oR(p.replace(/[\\/]$/,""))+Cue,"gi");if(h.test(u)){s.stack+=`
${hx(u.replace(h,(m,v)=>d+v.replace(xue,"/")))}`,f=!0;break}}if(f)continue;r?s.stack+=`
${$H(u)}`:s.stack+=`
    at [redacted]:0:0`}}else r&&a&&(s.stack=$H(a));return e.cause instanceof Error&&(s.cause=GH(e.cause,t,r,n)),s}o(GH,"cloneError");function Sue(e){let t=e.message;return typeof e.path=="string"&&e.path.length>0&&(t=t.replaceAll(e.path,"<path>")),t}o(Sue,"errorMessageWithoutPath");function Iue(e,t){return GH(e,o(function(n){return $H(Sue(n))},"prepareMessage"),!0,t)}o(Iue,"prepareErrorForRestrictedTelemetry");function zH(e,t,r=!1){return GH(e,o(function(s){if(r)return VH(Sue(s));let a="[redacted]";return s.syscall&&s.code!==void 0?a=`${hx(s.syscall.toString())} ${s.code} ${a}`:s instanceof x7&&s.erroredSysCall&&s.code!==void 0?a=`${s.erroredSysCall} ${s.code} ${a}`:s.code!==void 0&&(a=`${s.code} ${a}`),a},"prepareMessage"),!1,t)}o(zH,"redactError");function q6(e){return e===1}o(q6,"isRestricted");var BDe=["engine.prompt","engine.completion","ghostText.capturedAfterAccepted","ghostText.capturedAfterRejected"];var XH=class XH{getReporter(t,r=0){return q6(r)?this.getRestrictedReporter(t):this.reporter}getRestrictedReporter(t){if(cR(t))return this.reporterRestricted;if(E7(t))return new px}getFTReporter(t){if(wue(t))return this.reporterFT;if(E7(t))return new px}setReporter(t){this.reporter=t}setRestrictedReporter(t){this.reporterRestricted=t}setFTReporter(t){this.reporterFT=t}async deactivate(){let t=Promise.resolve();this.reporter&&(t=this.reporter.dispose(),this.reporter=void 0);let r=Promise.resolve();this.reporterRestricted&&(r=this.reporterRestricted.dispose(),this.reporterRestricted=void 0);let n=Promise.resolve();this.reporterFT&&(n=this.reporterFT.dispose(),this.reporterFT=void 0),await Promise.all([t,r,n])}};o(XH,"TelemetryReporters");var Bf=XH;Aue.TypeSystemPolicy.AllowNaN=!0;var FDe=Ch.Type.Object({},{additionalProperties:Ch.Type.String()}),UDe=Ch.Type.Object({meanLogProb:Ch.Type.Optional(Ch.Type.Number()),meanAlternativeLogProb:Ch.Type.Optional(Ch.Type.Number())},{additionalProperties:Ch.Type.Number()}),qDe=new Set(["ERR_WORKER_OUT_OF_MEMORY","ENOMEM"]);function jDe(e){var t;return qDe.has((t=e.code)!=null?t:"")||e.name==="RangeError"&&e.message==="WebAssembly.Memory(): could not allocate memory"}o(jDe,"isOomError");function HDe(e){return nQ(e)?"network":jDe(e)||e.code==="EMFILE"||e.code==="ENFILE"||e.syscall==="uv_cwd"&&(e.code==="ENOENT"||e.code=="EIO")||e.code==="CopilotPromptLoadFailure"||`${e.code}`.startsWith("CopilotPromptWorkerExit")?"local":"exception"}o(HDe,"getErrorType");var El=class El{constructor(t,r,n){this.properties=t,this.measurements=r,this.issuedTime=n}static createAndMarkAsIssued(t,r){return new El(t||{},r||{},_3())}extendedBy(t,r){let n={...this.properties,...t},s={...this.measurements,...r},a=new El(n,s,this.issuedTime);return a.displayedTime=this.displayedTime,a}markAsDisplayed(){this.displayedTime===void 0&&(this.displayedTime=_3())}async extendWithExpTelemetry(t){let{filters:r,exp:n}=await t.get(Xa).getFallbackExpAndFilters();n.addToTelemetry(this),r.addToTelemetry(this)}extendWithEditorAgnosticFields(t){this.properties.editor_version=w1(t.get(kl).getEditorInfo()),this.properties.editor_plugin_version=w1(t.get(kl).getEditorPluginInfo());let r=t.get(Ia);this.properties.client_machineid=r.machineId,this.properties.client_sessionid=r.sessionId,this.properties.copilot_version=`copilot/${fQ(t)}`,this.properties.runtime_version=`node/${process.versions.node}`;let n=t.get(kl);this.properties.common_extname=n.getEditorPluginInfo().name,this.properties.common_extversion=n.getEditorPluginInfo().version,this.properties.common_vscodeversion=w1(n.getEditorInfo());let s=t.get(Ua);this.properties.fetcher=s.name;let a=s.proxySettings;this.properties.proxy_enabled=a?"true":"false",this.properties.proxy_auth=a!=null&&a.proxyAuth?"true":"false",this.properties.proxy_kerberos_spn=a!=null&&a.kerberosServicePrincipal?"true":"false",this.properties.reject_unauthorized=s.rejectUnauthorized?"true":"false"}extendWithConfigProperties(t){let r=oQ(t);r["copilot.build"]=uQ(t),r["copilot.buildType"]=bC(t);let n=t.get(Ml);n.trackingId&&(r["copilot.trackingId"]=n.trackingId),n.organizationsList&&(r.organizations_list=n.organizationsList),n.enterpriseList&&(r.enterprise_list=n.enterpriseList),n.sku&&(r.sku=n.sku),this.properties={...this.properties,...r}}extendWithRequestId(t){let r={completionId:t.completionId,created:t.created.toString(),headerRequestId:t.headerRequestId,serverExperiments:t.serverExperiments,deploymentId:t.deploymentId};this.properties={...this.properties,...r}}static maybeRemoveRepoInfoFromPropertiesHack(t,r){if(q6(t))return r;let n={};for(let s in r)El.keysToRemoveFromStandardTelemetryHack.includes(s)||(n[s]=r[s]);return n}sanitizeKeys(){this.properties=El.sanitizeKeys(this.properties),this.measurements=El.sanitizeKeys(this.measurements)}static sanitizeKeys(t){t=t||{};let r={};for(let n in t){let s=El.keysExemptedFromSanitization.includes(n)?n:n.replace(/\./g,"_");r[s]=t[n]}return r}updateTimeSinceIssuedAndDisplayed(){let t=_3()-this.issuedTime;if(this.measurements.timeSinceIssuedMs=t,this.displayedTime!==void 0){let r=_3()-this.displayedTime;this.measurements.timeSinceDisplayedMs=r}}validateData(t,r){var s;let n;if(El.validateTelemetryProperties.Check(this.properties)||(n={problem:"properties",error:JSON.stringify([...El.validateTelemetryProperties.Errors(this.properties)])}),!El.validateTelemetryMeasurements.Check(this.measurements)){let a=JSON.stringify([...El.validateTelemetryMeasurements.Errors(this.measurements)]);n===void 0?n={problem:"measurements",error:a}:(n.problem="both",n.error+=`; ${a}`)}if(n===void 0)return!0;if(E7(t))throw new Error(`Invalid telemetry data: ${n.problem} ${n.error} properties=${JSON.stringify(this.properties)} measurements=${JSON.stringify(this.measurements)}`);return T7(t,"invalidTelemetryData",El.createAndMarkAsIssued({properties:JSON.stringify(this.properties),measurements:JSON.stringify(this.measurements),problem:n.problem,validationError:n.error}),r),q6(r)&&T7(t,"invalidTelemetryData_in_secure",El.createAndMarkAsIssued({problem:n.problem,requestId:(s=this.properties.requestId)!=null?s:"unknown"}),0),!1}async makeReadyForSending(t,r,n){this.extendWithConfigProperties(t),this.extendWithEditorAgnosticFields(t),this.sanitizeKeys(),n==="IncludeExp"&&await this.extendWithExpTelemetry(t),this.updateTimeSinceIssuedAndDisplayed(),this.validateData(t,r)||(this.properties.telemetry_failed_validation="true"),WDe(t,this.properties)}};o(El,"TelemetryData"),El.validateTelemetryProperties=KH.TypeCompiler.Compile(FDe),El.validateTelemetryMeasurements=KH.TypeCompiler.Compile(UDe),El.keysExemptedFromSanitization=["abexp.assignmentcontext","VSCode.ABExp.Features"],El.keysToRemoveFromStandardTelemetryHack=["gitRepoHost","gitRepoName","gitRepoOwner","gitRepoUrl","gitRepoPath","repo","request_option_nwo","userKind"];var $0=El,mx=class mx extends $0{constructor(r,n,s,a){super(r,n,s);this.filtersAndExp=a}extendedBy(r,n){let s={...this.properties,...r},a={...this.measurements,...n},l=new mx(s,a,this.issuedTime,this.filtersAndExp);return l.displayedTime=this.displayedTime,l}async extendWithExpTelemetry(r){this.filtersAndExp.exp.addToTelemetry(this),this.filtersAndExp.filters.addToTelemetry(this)}static createEmptyConfigForTesting(){return new mx({},{},0,{filters:new Cm({}),exp:xd.createEmptyConfig()})}};o(mx,"TelemetryWithExp");var b7=mx;function lR(e,t,r,n){var s;(s=e.get(Bf).getReporter(e,t))==null||s.sendTelemetryEvent(r,$0.maybeRemoveRepoInfoFromPropertiesHack(t,n.properties),n.measurements)}o(lR,"sendTelemetryEvent");function $De(e,t,r,n){var s;(s=e.get(Bf).getReporter(e,t))==null||s.sendTelemetryErrorEvent(r,$0.maybeRemoveRepoInfoFromPropertiesHack(t,n.properties),n.measurements)}o($De,"sendTelemetryErrorEvent");function VDe(e,t,r,n){var s;(s=e.get(Bf).getFTReporter(e))==null||s.sendTelemetryEvent(r,$0.maybeRemoveRepoInfoFromPropertiesHack(t,n.properties),n.measurements)}o(VDe,"sendFTTelemetryEvent");function YH(e){return e.isFimEnabled?{promptPrefixCharLen:e.prefix.length,promptSuffixCharLen:e.suffix.length}:{promptCharLen:e.prefix.length}}o(YH,"telemetrizePromptLength");function _3(){return new Date().getTime()}o(_3,"now");var GDe="https://copilot-telemetry.githubusercontent.com/telemetry",QH=class QH{constructor(t=GDe){this.url=t}getUrl(){return this.url}setUrlForTesting(t){this.url=t}};o(QH,"TelemetryEndpointUrl");var P1=QH;function cR(e){return e.get(Ml).optedIn}o(cR,"shouldSendRestricted");function wue(e){return e.get(Ml).ftFlag!==""}o(wue,"shouldSendFinetuningTelemetry");async function T0(e,t,r,n){await e.get(Yu).register(zDe(e,t,r,n))}o(T0,"telemetry");async function zDe(e,t,r,n=0){let s=r||$0.createAndMarkAsIssued({},{});await s.makeReadyForSending(e,n!=null?n:!1,"IncludeExp"),(!q6(n)||cR(e))&&lR(e,n,t,s),q6(n)&&BDe.includes(t)&&wue(e)&&VDe(e,n,t,s)}o(zDe,"_telemetry");async function kY(e,t){await e.get(Yu).register(KDe(e,t))}o(kY,"telemetryExpProblem");async function KDe(e,t){let r="expProblem",n=$0.createAndMarkAsIssued(t,{});await n.makeReadyForSending(e,0,"SkipExp"),lR(e,0,r,n)}o(KDe,"_telemetryExpProblem");function WDe(e,t){t.unique_id=fm();let r=e.get(kl);t.common_extname=r.getEditorPluginInfo().name,t.common_extversion=r.getEditorPluginInfo().version,t.common_vscodeversion=w1(r.getEditorInfo())}o(WDe,"addRequiredProperties");var JH=class JH extends Error{constructor(t){let r;try{r=JSON.stringify(t)}catch{r=t.toString()}super(r),this.name="CopilotNonError"}};o(JH,"CopilotNonError");var WH=JH;async function _f(e,t,r,n,s){var l;let a;if(t instanceof Error){if(a=t,a.name==="Canceled"&&a.message==="Canceled"||a.name==="CodeExpectedError"||a instanceof _d)return}else if(a=new WH(t),(l=a.stack)!=null&&l.startsWith(`${a}
`)){let c=a.stack.slice(`${a}
`.length).split(`
`);/^\s*(?:at )?(?:\w+\.)*telemetryException\b/.test(c[0])&&c.shift(),a.stack=`${a}
${c.join(`
`)}`}await e.get(Yu).register(YDe(e,a,r,n,s))}o(_f,"telemetryException");async function YDe(e,t,r,n,s){var h,m;let a=e.get(kl).getEditorInfo(),l;a.root&&(l=[{prefix:`${a.name}:`,path:a.root}]);let c=zH(t,l),u=cR(e),f=HDe(t),d=f==="exception",p=$0.createAndMarkAsIssued({origin:r!=null?r:"",type:t.name,code:`${(h=t.code)!=null?h:""}`,reason:c.stack||c.toString(),message:c.message,...n});if(await p.makeReadyForSending(e,0,"IncludeExp"),s!=null&&s.exception_detail)for(let v of s.exception_detail)v.value&&(u?v.value=VH(v.value):v.value="[redacted]");if(s!=null||(s=dQ(e,zH(t,l,u))),s.context={...s.context,"copilot_event.unique_id":p.properties.unique_id,"#restricted_telemetry":u?"true":"false"},r&&(s.context["#origin"]=r,s.transaction=r),s.rollup_id!=="auto"&&(p.properties.errno=s.rollup_id),s.created_at=new Date(p.issuedTime).toISOString(),u){let v=Iue(t,l),_=$0.createAndMarkAsIssued({origin:r!=null?r:"",type:t.name,code:`${(m=t.code)!=null?m:""}`,reason:v.stack||v.toString(),message:v.message,...n});s.rollup_id!=="auto"&&(_.properties.errno=s.rollup_id),await _.makeReadyForSending(e,1,"IncludeExp"),_.properties.unique_id=p.properties.unique_id,p.properties.restricted_unique_id=_.properties.unique_id,lR(e,1,`error.${f}`,_)}d&&(p.properties.failbot_payload=JSON.stringify(s)),lR(e,0,`error.${f}`,p)}o(YDe,"_telemetryException");async function T7(e,t,r,n){await e.get(Yu).register(XDe(e,t,r,n))}o(T7,"telemetryError");async function XDe(e,t,r,n=0){if(q6(n)&&!cR(e))return;let s=r||$0.createAndMarkAsIssued({},{});await s.makeReadyForSending(e,n,"IncludeExp"),$De(e,n,t,s)}o(XDe,"_telemetryError");async function Rue(e,t,r,n,s){var l;let a=$0.createAndMarkAsIssued({completionTextJson:JSON.stringify(t),choiceIndex:s.toString()});if(r.logprobs)for(let[c,u]of Object.entries(r.logprobs))a.properties["logprobs_"+c]=(l=JSON.stringify(u))!=null?l:"unset";a.extendWithRequestId(n),await T0(e,"engine.completion",a,1)}o(Rue,"logEngineCompletion");async function Pue(e,t,r){let n;t.isFimEnabled?n={promptPrefixJson:JSON.stringify(t.prefix),promptSuffixJson:JSON.stringify(t.suffix),promptElementRanges:JSON.stringify(t.promptElementRanges)}:n={promptJson:JSON.stringify(t.prefix),promptElementRanges:JSON.stringify(t.promptElementRanges)};let s=r.extendedBy(n);await T0(e,"engine.prompt",s,1)}o(Pue,"logEnginePrompt");var ZH=class ZH{async startup(t){await this.isNewInstall(t)?(await this.handleInstall(t,await this.wasPreviouslyInstalled(t)),await this.markInstalled(t)):await this.isNewUpgrade(t)&&(await this.handleUpgrade(t),await this.markUpgraded(t))}async uninstall(t){return await this.handleUninstall(t)}async handleInstall(t,r){r?T0(t,"installed.reinstall"):T0(t,"installed.new")}async handleUpgrade(t){T0(t,"installed.upgrade")}async handleUninstall(t){T0(t,"uninstalled")}};o(ZH,"InstallationManager");var uR=ZH;var e$=class e$ extends uR{async isNewInstall(t){throw new Error("not callable from an uninstall script")}async markInstalled(t){throw new Error("not callable from an uninstall script")}async wasPreviouslyInstalled(t){throw new Error("not callable from an uninstall script")}async isNewUpgrade(t){throw new Error("not callable from an uninstall script")}async markUpgraded(t){throw new Error("not callable from an uninstall script")}};o(e$,"VsCodeUninstallationManager");var fR=e$;var j5e=require("child_process");var Jz=Vs(I1());var t$=class t${constructor(){this.instances=new Map}get(t){let r=this.tryGet(t);if(r)return r;throw new Error(`No instance of ${t.name} has been registered.`)}tryGet(t){let r=this.instances.get(t);if(r)return r}set(t,r){if(this.tryGet(t))throw new Error(`An instance of ${t.name} has already been registered. Use forceSet() if you're sure it's a good idea.`);this.assertIsInstance(t,r),this.instances.set(t,r)}forceSet(t,r){this.assertIsInstance(t,r),this.instances.set(t,r)}assertIsInstance(t,r){if(!(r instanceof t)){let n=JSON.stringify(r);throw new Error(`The instance you're trying to register for ${t.name} is not an instance of it (${n}).`)}}};o(t$,"Context");var dR=t$;var r$=class r${};o(r$,"NotificationSender");var gx=r$;var Xst=Vue(),u$=class u${};o(u$,"UrlOpener");var vx=u$;var lLe=["UNABLE_TO_VERIFY_LEAF_SIGNATURE","CERT_SIGNATURE_FAILURE"],f$=class f${constructor(t){this.notifiedErrorCodes=[];t.get(al).on("onCopilotToken",r=>{this.supportsSSC=r.getTokenValue("ssc")==="1"})}async notifyUser(t,r){lLe.includes(r.code)&&!this.didNotifyBefore(r.code)&&(this.displayCertificateErrorNotification(t,r),this.notifiedErrorCodes.push(r.code))}displayCertificateErrorNotification(t,r){let n="https://gh.io/copilot-network-errors",s=this.certificateErrorMessage();new X0(3,"certificates").error(t,`${s} Please visit ${n} to learn more. Original cause: ${JSON.stringify(r)}`),this.showCertificateWarningMessage(t,s,n)}certificateErrorMessage(){return this.supportsSSC===void 0?"The proxy connection couldn't be established due to an untrusted custom certificate, or your Copilot license might not support their use.":this.supportsSSC?"Your proxy connection requires a trusted certificate. Please make sure the proxy certificate and any issuers are configured correctly and trusted by your operating system.":"Your current Copilot license doesn't support proxy connections with custom certificates."}showCertificateWarningMessage(t,r,n){let s={title:"Learn more"};t.get(gx).showWarningMessage(r,s).then(a=>{(a==null?void 0:a.title)===s.title&&t.get(vx).open(n)})}didNotifyBefore(t){return this.notifiedErrorCodes.indexOf(t)!==-1}};o(f$,"UserErrorNotifier");var Pg=f$;var d$=class d${constructor(){this._cache=new Sa(100)}get(t){return this._cache.get(t)}set(t,r){this._cache.set(t,r)}clear(){this._cache.clear()}};o(d$,"CompletionsCache");var H6=d$;var p$=class p${constructor(){this.previousLabel=0,this.previousLabelTimestamp=Date.now()-3600,this.probabilityAccept=0}};o(p$,"ContextualFilterManager");var $6=p$;var rFe=Vs(I1()),nFe=Vs(jT());var h$=class h${async debounce(t){return this.state&&(clearTimeout(this.state.timer),this.state.reject(),this.state=void 0),new Promise((r,n)=>{this.state={timer:setTimeout(()=>r(),t),reject:n}})}};o(h$,"Debouncer");var vR=h$;async function*Gue(e,t){for await(let r of e)yield t(r)}o(Gue,"asyncIterableMap");async function*zue(e,t){for await(let r of e)await t(r)&&(yield r)}o(zue,"asyncIterableFilter");var T$=Vs(I1()),lfe=Vs(afe()),_x=require("path"),xx=Vs(_$());var ofe=require("events");var SLe="github.com",F0t=`https://${SLe}`;var x$=class x${};o(x$,"NetworkConfiguration");var Ng=x$;var Q0t=new X0(1,"auth");var vat=new X0(1,"auth"),b$=class b${constructor(){this.tokenRefreshEventEmitter=new ofe.EventEmitter}async getGitHubToken(t){let r=await this.getGitHubSession(t);return r==null?void 0:r.token}};o(b$,"CopilotTokenManager");var Mc=b$;async function cfe(e){var s,a;let r=(s=(await e.get(Mc).getCopilotToken(e,!1)).organization_list)!=null?s:[];return(a=["a5db0bcaae94032fe715fb34a5e4bce2","7184f66dfcee98cb5f08a1cb936d5225","4535c7beffc844b46bb1ed4aa04d759a"].find(l=>r.includes(l)))!=null?a:""}o(cfe,"getUserKind");async function ufe(e){var r;return(r=(await e.get(Mc).getCopilotToken(e,!1)).getTokenValue("ft"))!=null?r:""}o(ufe,"getFtFlag");async function ffe(e){var r;return(r=(await e.get(Mc).getCopilotToken(e,!1)).getTokenValue("rag"))!=null?r:""}o(ffe,"getRagFlag");function dfe(e){var n;if(e===void 0||e===0)return"";let t=bx(e);if(t==="github/github")return t;let r=(n=ILe(e))==null?void 0:n.toLowerCase();return r!==void 0?r:""}o(dfe,"getDogFood");function bx(e){if(e!==void 0&&e!==0&&e.hostname==="github.com")return e.owner+"/"+e.repo}o(bx,"tryGetGitHubNWO");function ILe(e){if(e!==void 0&&e!==0&&(e.hostname.endsWith("azure.com")||e.hostname.endsWith("visualstudio.com")))return e.owner+"/"+e.repo}o(ILe,"tryGetADONWO");async function C$(e,t){var f;let r=S$(e,t.uri),n=(f=bx(r))!=null?f:"",s=dfe(r),a=await cfe(e),l=await ufe(e),c=await ffe(e);return{repoNwo:n,userKind:a,dogFood:s,fileType:t.languageId,customModel:l,retrievalOrg:c}}o(C$,"getExPFilters");function S$(e,t){let r=xx.Utils.dirname(t);return ALe(e,r)}o(S$,"extractRepoInfoInBackground");var ALe=NLe(I$,1e4);async function I$(e,t){var u;if(t.scheme!=="file")return;let r=await RLe(e,t.fsPath);if(!r)return;let n=e.get(T$.FileSystem),s=(0,_x.join)(r,".git","config"),a;try{a=await n.readFileString(xx.URI.file(s))}catch{return}let l=(u=PLe(a))!=null?u:"",c=wLe(l);return c===void 0?{baseFolder:r,url:l,hostname:"",owner:"",repo:"",pathname:""}:{baseFolder:r,url:l,...c}}o(I$,"extractRepoInfo");function wLe(e){let t={};try{if(t=(0,lfe.default)(e),t.host==""||t.owner==""||t.name==""||t.pathname=="")return}catch{return}return{hostname:t.host,owner:t.owner,repo:t.name,pathname:t.pathname}}o(wLe,"parseRepoUrl");async function RLe(e,t){let r=t+"_add_to_make_longer",n=e.get(T$.FileSystem);for(;t.length>1&&t.length<r.length;){let s=(0,_x.join)(t,".git","config"),a=!1;try{await n.stat(xx.URI.file(s)),a=!0}catch{a=!1}if(a)return t;r=t,t=(0,_x.dirname)(t)}}o(RLe,"getRepoBaseFolder");function PLe(e){var u;let t=/^\s*\[\s*remote\s+"((\\\\|\\"|[^\\"])+)"/,r=/^\s*\[remote.([^"\s]+)/,n=/^\s*url\s*=\s*([^\s#;]+)/,s=/^\s*\[/,a,l,c=!1;for(let f of e.split(`
`))if(c&&a!==void 0){if(a+=f,f.endsWith("\\"))a=a.substring(0,a.length-1);else if(c=!1,l==="origin")return a}else{let d=(u=f.match(t))!=null?u:f.match(r);if(d)l=d[1];else if(f.match(s))l=void 0;else{if(a&&l!=="origin")continue;{let p=f.match(n);if(p){if(a=p[1],a.endsWith("\\"))a=a.substring(0,a.length-1),c=!0;else if(l==="origin")return a}}}}return a}o(PLe,"getRepoUrlFromConfigText");var A$=class A${constructor(t){this.result=t}};o(A$,"CompletedComputation");var E$=A$;function NLe(e,t){let r=new Sa(t),n=new Set;return(s,...a)=>{let l=JSON.stringify(a),c=r.get(l);if(c)return c.result;if(n.has(l))return 0;let u=e(s,...a);return n.add(l),u.then(f=>{r.set(l,new E$(f)),n.delete(l)}),0}}o(NLe,"computeInBackgroundAndMemoize");async function w$(e,t,r){if(t instanceof yR)return t;let n=e.get(Xa);if(!r)try{let l=await C$(e,t);r=await n.updateExPValuesAndAssignments(l,$0.createAndMarkAsIssued())}catch(l){return l instanceof _d||Im.exception(e,l,"languageDetectionExperiment"),t}let s=n.useLanguageDetection(r),a=await e.get(X1).detectLanguage(t);return s?new yR(t,a):t}o(w$,"decorateDocumentWithDetectedLanguage");var R$=class R${constructor(t,r){this.delegateDocument=t;this.overrideLanguage=r}get uri(){return this.delegateDocument.uri}get languageId(){return this.overrideLanguage.isGuess&&this.overrideLanguage.languageId==="unknown"?this.delegateDocument.languageId:this.overrideLanguage.languageId}get version(){return this.delegateDocument.version}get lineCount(){return this.delegateDocument.lineCount}getText(t){return this.delegateDocument.getText(t)}lineAt(t){return this.delegateDocument.lineAt(t)}positionAt(t){return this.delegateDocument.positionAt(t)}offsetAt(t){return this.delegateDocument.offsetAt(t)}};o(R$,"LanguageDetectionExperimentDocument");var yR=R$;var P$=class P${};o(P$,"StatusReporter");var Sh=P$;var pfe="https://repositorypolicy.azurewebsites.net/GetPolicy/v2";var _R={isBlocked:!1,reason:"VALID_FILE"},x3={isBlocked:!1,reason:"NO_MATCHING_POLICY"},Ex={isBlocked:!0,reason:"POLICY_ERROR",message:"Copilot is disabled because we could not fetch the repository policy"};var N$=class N${};o(N$,"PolicyEvaluator");var V6=N$;var Ju=Vs(vu());var xR=new WeakMap;function bR(e,t){if(e==null||typeof e!="object")return String(e);let r,n="",s=0,a=Object.prototype.toString.call(e);if(a!=="[object RegExp]"&&a!=="[object Date]"&&xR.has(e))return xR.get(e);switch(xR.set(e,"~"+ ++t),a){case"[object Set]":r=Array.from(e);case"[object Array]":for(r||(r=e),n+="a";s<r.length;n+=bR(r[s++],t));break;case"[object Object]":for(n+="o",r=Object.keys(e).sort();s<r.length;n+=r[s]+bR(e[r[s++]],t));break;case"[object Map]":for(n+="o",r=Array.from(e.keys()).sort();s<r.length;n+=r[s]+bR(e.get(r[s++]),t));break;case"[object Date]":return"d"+ +e;case"[object RegExp]":return"r"+e.source+e.flags;default:throw new Error(`Unsupported value ${e}`)}return xR.set(e,n),n}o(bR,"t");function ER(e){return bR(e,0)}o(ER,"r");var O$=new WeakMap;function hfe(e,t,r=ER(t)){let n,s,a=O$.get(e);a||(O$.set(e,a=[[],s=[],n=[]]),queueMicrotask(function(){let f,d=0;function p(h){for(;f=n[d++];f.r(h));}o(p,"o"),O$.delete(e),e(s).then(function(h){if(h.length!==n.length)return p(new Error("loader value length mismatch"));for(;f=h[d++],d<=h.length;f instanceof Error?n[d-1].r(f):n[d-1].s(f));},p)}));let l=a[0].indexOf(r);if(~l)return a[2][l].p;let c=a[0].push(r)-1,u=a[2][c]={};return a[1][c]=t,u.p=new Promise(function(f,d){u.s=f,u.r=d})}o(hfe,"n");var mfe=new WeakMap;function OLe(e,t,r,n=ER(r)){if(t||(t=mfe.get(e)),t||mfe.set(e,t=new Map),t.has(n))return Promise.resolve(t.get(n));let s=hfe(e,r,n);return t.set(n,s),s.catch(()=>t.delete(n)),s}o(OLe,"n");function TR(e,t){return function(r,n){return OLe(e,t,r,n)}}o(TR,"o");var Ffe=Vs(wfe(),1);var Cx=o(e=>{if(typeof e!="string")throw new TypeError("invalid pattern");if(e.length>65536)throw new TypeError("pattern is too long")},"assertValidPattern");var qLe={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},Sx=o(e=>e.replace(/[[\]\\-]/g,"\\$&"),"braceEscape"),jLe=o(e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"regexpEscape"),Rfe=o(e=>e.join(""),"rangesToString"),Pfe=o((e,t)=>{let r=t;if(e.charAt(r)!=="[")throw new Error("not in a brace expression");let n=[],s=[],a=r+1,l=!1,c=!1,u=!1,f=!1,d=r,p="";e:for(;a<e.length;){let _=e.charAt(a);if((_==="!"||_==="^")&&a===r+1){f=!0,a++;continue}if(_==="]"&&l&&!u){d=a+1;break}if(l=!0,_==="\\"&&!u){u=!0,a++;continue}if(_==="["&&!u){for(let[b,[S,A,O]]of Object.entries(qLe))if(e.startsWith(b,a)){if(p)return["$.",!1,e.length-r,!0];a+=b.length,O?s.push(S):n.push(S),c=c||A;continue e}}if(u=!1,p){_>p?n.push(Sx(p)+"-"+Sx(_)):_===p&&n.push(Sx(_)),p="",a++;continue}if(e.startsWith("-]",a+1)){n.push(Sx(_+"-")),a+=2;continue}if(e.startsWith("-",a+1)){p=_,a+=2;continue}n.push(Sx(_)),a++}if(d<a)return["",!1,0,!1];if(!n.length&&!s.length)return["$.",!1,e.length-r,!0];if(s.length===0&&n.length===1&&/^\\?.$/.test(n[0])&&!f){let _=n[0].length===2?n[0].slice(-1):n[0];return[jLe(_),!1,d-r,!1]}let h="["+(f?"^":"")+Rfe(n)+"]",m="["+(f?"":"^")+Rfe(s)+"]";return[n.length&&s.length?"("+h+"|"+m+")":n.length?h:m,c,d-r,!0]},"parseClass");var b3=o((e,{windowsPathsNoEscape:t=!1}={})=>t?e.replace(/\[([^\/\\])\]/g,"$1"):e.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1"),"unescape");var HLe=new Set(["!","?","+","*","@"]),Nfe=o(e=>HLe.has(e),"isExtglobType"),$Le="(?!(?:^|/)\\.\\.?(?:$|/))",CR="(?!\\.)",VLe=new Set(["[","."]),GLe=new Set(["..","."]),zLe=new Set("().*{}+?[]^$\\!"),KLe=o(e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"regExpEscape"),M$="[^/]",Ofe=M$+"*?",Dfe=M$+"+?",Tl,ql,Ih,ba,cl,E3,Og,T3,Ah,Dg,Ix,IR,Lfe,G6,SR,Ax,k$,AR,kfe,pc=class pc{constructor(t,r,n={}){L0(this,IR);L0(this,Ax);rl(this,"type");L0(this,Tl,void 0);L0(this,ql,void 0);L0(this,Ih,!1);L0(this,ba,[]);L0(this,cl,void 0);L0(this,E3,void 0);L0(this,Og,void 0);L0(this,T3,!1);L0(this,Ah,void 0);L0(this,Dg,void 0);L0(this,Ix,!1);this.type=t,t&&U0(this,ql,!0),U0(this,cl,r),U0(this,Tl,Hr(this,cl)?Hr(Hr(this,cl),Tl):this),U0(this,Ah,Hr(this,Tl)===this?n:Hr(Hr(this,Tl),Ah)),U0(this,Og,Hr(this,Tl)===this?[]:Hr(Hr(this,Tl),Og)),t==="!"&&!Hr(Hr(this,Tl),T3)&&Hr(this,Og).push(this),U0(this,E3,Hr(this,cl)?Hr(Hr(this,cl),ba).length:0)}get hasMagic(){if(Hr(this,ql)!==void 0)return Hr(this,ql);for(let t of Hr(this,ba))if(typeof t!="string"&&(t.type||t.hasMagic))return U0(this,ql,!0);return Hr(this,ql)}toString(){return Hr(this,Dg)!==void 0?Hr(this,Dg):this.type?U0(this,Dg,this.type+"("+Hr(this,ba).map(t=>String(t)).join("|")+")"):U0(this,Dg,Hr(this,ba).map(t=>String(t)).join(""))}push(...t){for(let r of t)if(r!==""){if(typeof r!="string"&&!(r instanceof pc&&Hr(r,cl)===this))throw new Error("invalid part: "+r);Hr(this,ba).push(r)}}toJSON(){var r;let t=this.type===null?Hr(this,ba).slice().map(n=>typeof n=="string"?n:n.toJSON()):[this.type,...Hr(this,ba).map(n=>n.toJSON())];return this.isStart()&&!this.type&&t.unshift([]),this.isEnd()&&(this===Hr(this,Tl)||Hr(Hr(this,Tl),T3)&&((r=Hr(this,cl))==null?void 0:r.type)==="!")&&t.push({}),t}isStart(){var r;if(Hr(this,Tl)===this)return!0;if(!((r=Hr(this,cl))!=null&&r.isStart()))return!1;if(Hr(this,E3)===0)return!0;let t=Hr(this,cl);for(let n=0;n<Hr(this,E3);n++){let s=Hr(t,ba)[n];if(!(s instanceof pc&&s.type==="!"))return!1}return!0}isEnd(){var r,n,s;if(Hr(this,Tl)===this||((r=Hr(this,cl))==null?void 0:r.type)==="!")return!0;if(!((n=Hr(this,cl))!=null&&n.isEnd()))return!1;if(!this.type)return(s=Hr(this,cl))==null?void 0:s.isEnd();let t=Hr(this,cl)?Hr(Hr(this,cl),ba).length:0;return Hr(this,E3)===t-1}copyIn(t){typeof t=="string"?this.push(t):this.push(t.clone(this))}clone(t){let r=new pc(this.type,t);for(let n of Hr(this,ba))r.copyIn(n);return r}static fromGlob(t,r={}){var s;let n=new pc(null,void 0,r);return Cc(s=pc,G6,SR).call(s,t,n,0,r),n}toMMPattern(){if(this!==Hr(this,Tl))return Hr(this,Tl).toMMPattern();let t=this.toString(),[r,n,s,a]=this.toRegExpSource();if(!(s||Hr(this,ql)||Hr(this,Ah).nocase&&!Hr(this,Ah).nocaseMagicOnly&&t.toUpperCase()!==t.toLowerCase()))return n;let c=(Hr(this,Ah).nocase?"i":"")+(a?"u":"");return Object.assign(new RegExp(`^${r}$`,c),{_src:r,_glob:t})}toRegExpSource(t){var u;let r=t!=null?t:!!Hr(this,Ah).dot;if(Hr(this,Tl)===this&&Cc(this,IR,Lfe).call(this),!this.type){let f=this.isStart()&&this.isEnd(),d=Hr(this,ba).map(v=>{var O;let[_,b,S,A]=typeof v=="string"?Cc(O=pc,AR,kfe).call(O,v,Hr(this,ql),f):v.toRegExpSource(t);return U0(this,ql,Hr(this,ql)||S),U0(this,Ih,Hr(this,Ih)||A),_}).join(""),p="";if(this.isStart()&&typeof Hr(this,ba)[0]=="string"&&!(Hr(this,ba).length===1&&GLe.has(Hr(this,ba)[0]))){let _=VLe,b=r&&_.has(d.charAt(0))||d.startsWith("\\.")&&_.has(d.charAt(2))||d.startsWith("\\.\\.")&&_.has(d.charAt(4)),S=!r&&!t&&_.has(d.charAt(0));p=b?$Le:S?CR:""}let h="";return this.isEnd()&&Hr(Hr(this,Tl),T3)&&((u=Hr(this,cl))==null?void 0:u.type)==="!"&&(h="(?:$|\\/)"),[p+d+h,b3(d),U0(this,ql,!!Hr(this,ql)),Hr(this,Ih)]}let n=this.type==="*"||this.type==="+",s=this.type==="!"?"(?:(?!(?:":"(?:",a=Cc(this,Ax,k$).call(this,r);if(this.isStart()&&this.isEnd()&&!a&&this.type!=="!"){let f=this.toString();return U0(this,ba,[f]),this.type=null,U0(this,ql,void 0),[f,b3(this.toString()),!1,!1]}let l=!n||t||r||!CR?"":Cc(this,Ax,k$).call(this,!0);l===a&&(l=""),l&&(a=`(?:${a})(?:${l})*?`);let c="";if(this.type==="!"&&Hr(this,Ix))c=(this.isStart()&&!r?CR:"")+Dfe;else{let f=this.type==="!"?"))"+(this.isStart()&&!r&&!t?CR:"")+Ofe+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&l?")":this.type==="*"&&l?")?":`)${this.type}`;c=s+a+f}return[c,b3(a),U0(this,ql,!!Hr(this,ql)),Hr(this,Ih)]}};Tl=new WeakMap,ql=new WeakMap,Ih=new WeakMap,ba=new WeakMap,cl=new WeakMap,E3=new WeakMap,Og=new WeakMap,T3=new WeakMap,Ah=new WeakMap,Dg=new WeakMap,Ix=new WeakMap,IR=new WeakSet,Lfe=o(function(){if(this!==Hr(this,Tl))throw new Error("should only call on root");if(Hr(this,T3))return this;this.toString(),U0(this,T3,!0);let t;for(;t=Hr(this,Og).pop();){if(t.type!=="!")continue;let r=t,n=Hr(r,cl);for(;n;){for(let s=Hr(r,E3)+1;!n.type&&s<Hr(n,ba).length;s++)for(let a of Hr(t,ba)){if(typeof a=="string")throw new Error("string part in extglob AST??");a.copyIn(Hr(n,ba)[s])}r=n,n=Hr(r,cl)}}return this},"#fillNegs"),G6=new WeakSet,SR=o(function(t,r,n,s){var m,v;let a=!1,l=!1,c=-1,u=!1;if(r.type===null){let _=n,b="";for(;_<t.length;){let S=t.charAt(_++);if(a||S==="\\"){a=!a,b+=S;continue}if(l){_===c+1?(S==="^"||S==="!")&&(u=!0):S==="]"&&!(_===c+2&&u)&&(l=!1),b+=S;continue}else if(S==="["){l=!0,c=_,u=!1,b+=S;continue}if(!s.noext&&Nfe(S)&&t.charAt(_)==="("){r.push(b),b="";let A=new pc(S,r);_=Cc(m=pc,G6,SR).call(m,t,A,_,s),r.push(A);continue}b+=S}return r.push(b),_}let f=n+1,d=new pc(null,r),p=[],h="";for(;f<t.length;){let _=t.charAt(f++);if(a||_==="\\"){a=!a,h+=_;continue}if(l){f===c+1?(_==="^"||_==="!")&&(u=!0):_==="]"&&!(f===c+2&&u)&&(l=!1),h+=_;continue}else if(_==="["){l=!0,c=f,u=!1,h+=_;continue}if(Nfe(_)&&t.charAt(f)==="("){d.push(h),h="";let b=new pc(_,d);d.push(b),f=Cc(v=pc,G6,SR).call(v,t,b,f,s);continue}if(_==="|"){d.push(h),h="",p.push(d),d=new pc(null,r);continue}if(_===")")return h===""&&Hr(r,ba).length===0&&U0(r,Ix,!0),d.push(h),h="",r.push(...p,d),f;h+=_}return r.type=null,U0(r,ql,void 0),U0(r,ba,[t.substring(n-1)]),f},"#parseAST"),Ax=new WeakSet,k$=o(function(t){return Hr(this,ba).map(r=>{if(typeof r=="string")throw new Error("string type in extglob ast??");let[n,s,a,l]=r.toRegExpSource(t);return U0(this,Ih,Hr(this,Ih)||l),n}).filter(r=>!(this.isStart()&&this.isEnd())||!!r).join("|")},"#partsToRegExp"),AR=new WeakSet,kfe=o(function(t,r,n=!1){let s=!1,a="",l=!1;for(let c=0;c<t.length;c++){let u=t.charAt(c);if(s){s=!1,a+=(zLe.has(u)?"\\":"")+u;continue}if(u==="\\"){c===t.length-1?a+="\\\\":s=!0;continue}if(u==="["){let[f,d,p,h]=Pfe(t,c);if(p){a+=f,l=l||d,c+=p-1,r=r||h;continue}}if(u==="*"){n&&t==="*"?a+=Dfe:a+=Ofe,r=!0;continue}if(u==="?"){a+=M$,r=!0;continue}a+=KLe(u)}return[a,b3(t),!!r,l]},"#parseGlob"),L0(pc,G6),L0(pc,AR),o(pc,"AST");var z6=pc;var B$=o((e,{windowsPathsNoEscape:t=!1}={})=>t?e.replace(/[?*()[\]]/g,"[$&]"):e.replace(/[?*()[\]\\]/g,"\\$&"),"escape");var hc=o((e,t,r={})=>(Cx(t),!r.nocomment&&t.charAt(0)==="#"?!1:new K6(t,r).match(e)),"minimatch"),WLe=/^\*+([^+@!?\*\[\(]*)$/,YLe=o(e=>t=>!t.startsWith(".")&&t.endsWith(e),"starDotExtTest"),XLe=o(e=>t=>t.endsWith(e),"starDotExtTestDot"),QLe=o(e=>(e=e.toLowerCase(),t=>!t.startsWith(".")&&t.toLowerCase().endsWith(e)),"starDotExtTestNocase"),JLe=o(e=>(e=e.toLowerCase(),t=>t.toLowerCase().endsWith(e)),"starDotExtTestNocaseDot"),ZLe=/^\*+\.\*+$/,eke=o(e=>!e.startsWith(".")&&e.includes("."),"starDotStarTest"),tke=o(e=>e!=="."&&e!==".."&&e.includes("."),"starDotStarTestDot"),rke=/^\.\*+$/,nke=o(e=>e!=="."&&e!==".."&&e.startsWith("."),"dotStarTest"),ike=/^\*+$/,ske=o(e=>e.length!==0&&!e.startsWith("."),"starTest"),ake=o(e=>e.length!==0&&e!=="."&&e!=="..","starTestDot"),oke=/^\?+([^+@!?\*\[\(]*)?$/,lke=o(([e,t=""])=>{let r=Ufe([e]);return t?(t=t.toLowerCase(),n=>r(n)&&n.toLowerCase().endsWith(t)):r},"qmarksTestNocase"),cke=o(([e,t=""])=>{let r=qfe([e]);return t?(t=t.toLowerCase(),n=>r(n)&&n.toLowerCase().endsWith(t)):r},"qmarksTestNocaseDot"),uke=o(([e,t=""])=>{let r=qfe([e]);return t?n=>r(n)&&n.endsWith(t):r},"qmarksTestDot"),fke=o(([e,t=""])=>{let r=Ufe([e]);return t?n=>r(n)&&n.endsWith(t):r},"qmarksTest"),Ufe=o(([e])=>{let t=e.length;return r=>r.length===t&&!r.startsWith(".")},"qmarksTestNoExt"),qfe=o(([e])=>{let t=e.length;return r=>r.length===t&&r!=="."&&r!==".."},"qmarksTestNoExtDot"),jfe=typeof process=="object"&&process?typeof process.env=="object"&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix",Mfe={win32:{sep:"\\"},posix:{sep:"/"}},dke=jfe==="win32"?Mfe.win32.sep:Mfe.posix.sep;hc.sep=dke;var Uf=Symbol("globstar **");hc.GLOBSTAR=Uf;var pke="[^/]",hke=pke+"*?",mke="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",gke="(?:(?!(?:\\/|^)\\.).)*?",vke=o((e,t={})=>r=>hc(r,e,t),"filter");hc.filter=vke;var Ff=o((e,t={})=>Object.assign({},e,t),"ext"),yke=o(e=>{var n,s;if(!e||typeof e!="object"||!Object.keys(e).length)return hc;let t=hc;return Object.assign(o((a,l,c={})=>t(a,l,Ff(e,c)),"m"),{Minimatch:(n=class extends t.Minimatch{constructor(l,c={}){super(l,Ff(e,c))}static defaults(l){return t.defaults(Ff(e,l)).Minimatch}},o(n,"Minimatch"),n),AST:(s=class extends t.AST{constructor(l,c,u={}){super(l,c,Ff(e,u))}static fromGlob(l,c={}){return t.AST.fromGlob(l,Ff(e,c))}},o(s,"AST"),s),unescape:(a,l={})=>t.unescape(a,Ff(e,l)),escape:(a,l={})=>t.escape(a,Ff(e,l)),filter:(a,l={})=>t.filter(a,Ff(e,l)),defaults:a=>t.defaults(Ff(e,a)),makeRe:(a,l={})=>t.makeRe(a,Ff(e,l)),braceExpand:(a,l={})=>t.braceExpand(a,Ff(e,l)),match:(a,l,c={})=>t.match(a,l,Ff(e,c)),sep:t.sep,GLOBSTAR:Uf})},"defaults");hc.defaults=yke;var Hfe=o((e,t={})=>(Cx(e),t.nobrace||!/\{(?:(?!\{).)*\}/.test(e)?[e]:(0,Ffe.default)(e)),"braceExpand");hc.braceExpand=Hfe;var _ke=o((e,t={})=>new K6(e,t).makeRe(),"makeRe");hc.makeRe=_ke;var xke=o((e,t,r={})=>{let n=new K6(t,r);return e=e.filter(s=>n.match(s)),n.options.nonull&&!e.length&&e.push(t),e},"match");hc.match=xke;var Bfe=/[?*]|[+@!]\(.*?\)|\[|\]/,bke=o(e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"regExpEscape"),F$=class F${constructor(t,r={}){rl(this,"options");rl(this,"set");rl(this,"pattern");rl(this,"windowsPathsNoEscape");rl(this,"nonegate");rl(this,"negate");rl(this,"comment");rl(this,"empty");rl(this,"preserveMultipleSlashes");rl(this,"partial");rl(this,"globSet");rl(this,"globParts");rl(this,"nocase");rl(this,"isWindows");rl(this,"platform");rl(this,"windowsNoMagicRoot");rl(this,"regexp");Cx(t),r=r||{},this.options=r,this.pattern=t,this.platform=r.platform||jfe,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!r.windowsPathsNoEscape||r.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!r.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!r.nonegate,this.comment=!1,this.empty=!1,this.partial=!!r.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=r.windowsNoMagicRoot!==void 0?r.windowsNoMagicRoot:!!(this.isWindows&&this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(let t of this.set)for(let r of t)if(typeof r!="string")return!0;return!1}debug(...t){}make(){let t=this.pattern,r=this.options;if(!r.nocomment&&t.charAt(0)==="#"){this.comment=!0;return}if(!t){this.empty=!0;return}this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],r.debug&&(this.debug=(...a)=>console.error(...a)),this.debug(this.pattern,this.globSet);let n=this.globSet.map(a=>this.slashSplit(a));this.globParts=this.preprocess(n),this.debug(this.pattern,this.globParts);let s=this.globParts.map((a,l,c)=>{if(this.isWindows&&this.windowsNoMagicRoot){let u=a[0]===""&&a[1]===""&&(a[2]==="?"||!Bfe.test(a[2]))&&!Bfe.test(a[3]),f=/^[a-z]:/i.test(a[0]);if(u)return[...a.slice(0,4),...a.slice(4).map(d=>this.parse(d))];if(f)return[a[0],...a.slice(1).map(d=>this.parse(d))]}return a.map(u=>this.parse(u))});if(this.debug(this.pattern,s),this.set=s.filter(a=>a.indexOf(!1)===-1),this.isWindows)for(let a=0;a<this.set.length;a++){let l=this.set[a];l[0]===""&&l[1]===""&&this.globParts[a][2]==="?"&&typeof l[3]=="string"&&/^[a-z]:$/i.test(l[3])&&(l[2]="?")}this.debug(this.pattern,this.set)}preprocess(t){if(this.options.noglobstar)for(let n=0;n<t.length;n++)for(let s=0;s<t[n].length;s++)t[n][s]==="**"&&(t[n][s]="*");let{optimizationLevel:r=1}=this.options;return r>=2?(t=this.firstPhasePreProcess(t),t=this.secondPhasePreProcess(t)):r>=1?t=this.levelOneOptimize(t):t=this.adjascentGlobstarOptimize(t),t}adjascentGlobstarOptimize(t){return t.map(r=>{let n=-1;for(;(n=r.indexOf("**",n+1))!==-1;){let s=n;for(;r[s+1]==="**";)s++;s!==n&&r.splice(n,s-n)}return r})}levelOneOptimize(t){return t.map(r=>(r=r.reduce((n,s)=>{let a=n[n.length-1];return s==="**"&&a==="**"?n:s===".."&&a&&a!==".."&&a!=="."&&a!=="**"?(n.pop(),n):(n.push(s),n)},[]),r.length===0?[""]:r))}levelTwoFileOptimize(t){Array.isArray(t)||(t=this.slashSplit(t));let r=!1;do{if(r=!1,!this.preserveMultipleSlashes){for(let s=1;s<t.length-1;s++){let a=t[s];s===1&&a===""&&t[0]===""||(a==="."||a==="")&&(r=!0,t.splice(s,1),s--)}t[0]==="."&&t.length===2&&(t[1]==="."||t[1]==="")&&(r=!0,t.pop())}let n=0;for(;(n=t.indexOf("..",n+1))!==-1;){let s=t[n-1];s&&s!=="."&&s!==".."&&s!=="**"&&(r=!0,t.splice(n-1,2),n-=2)}}while(r);return t.length===0?[""]:t}firstPhasePreProcess(t){let r=!1;do{r=!1;for(let n of t){let s=-1;for(;(s=n.indexOf("**",s+1))!==-1;){let l=s;for(;n[l+1]==="**";)l++;l>s&&n.splice(s+1,l-s);let c=n[s+1],u=n[s+2],f=n[s+3];if(c!==".."||!u||u==="."||u===".."||!f||f==="."||f==="..")continue;r=!0,n.splice(s,1);let d=n.slice(0);d[s]="**",t.push(d),s--}if(!this.preserveMultipleSlashes){for(let l=1;l<n.length-1;l++){let c=n[l];l===1&&c===""&&n[0]===""||(c==="."||c==="")&&(r=!0,n.splice(l,1),l--)}n[0]==="."&&n.length===2&&(n[1]==="."||n[1]==="")&&(r=!0,n.pop())}let a=0;for(;(a=n.indexOf("..",a+1))!==-1;){let l=n[a-1];if(l&&l!=="."&&l!==".."&&l!=="**"){r=!0;let u=a===1&&n[a+1]==="**"?["."]:[];n.splice(a-1,2,...u),n.length===0&&n.push(""),a-=2}}}}while(r);return t}secondPhasePreProcess(t){for(let r=0;r<t.length-1;r++)for(let n=r+1;n<t.length;n++){let s=this.partsMatch(t[r],t[n],!this.preserveMultipleSlashes);s&&(t[r]=s,t[n]=[])}return t.filter(r=>r.length)}partsMatch(t,r,n=!1){let s=0,a=0,l=[],c="";for(;s<t.length&&a<r.length;)if(t[s]===r[a])l.push(c==="b"?r[a]:t[s]),s++,a++;else if(n&&t[s]==="**"&&r[a]===t[s+1])l.push(t[s]),s++;else if(n&&r[a]==="**"&&t[s]===r[a+1])l.push(r[a]),a++;else if(t[s]==="*"&&r[a]&&(this.options.dot||!r[a].startsWith("."))&&r[a]!=="**"){if(c==="b")return!1;c="a",l.push(t[s]),s++,a++}else if(r[a]==="*"&&t[s]&&(this.options.dot||!t[s].startsWith("."))&&t[s]!=="**"){if(c==="a")return!1;c="b",l.push(r[a]),s++,a++}else return!1;return t.length===r.length&&l}parseNegate(){if(this.nonegate)return;let t=this.pattern,r=!1,n=0;for(let s=0;s<t.length&&t.charAt(s)==="!";s++)r=!r,n++;n&&(this.pattern=t.slice(n)),this.negate=r}matchOne(t,r,n=!1){let s=this.options;if(this.isWindows){let _=typeof t[0]=="string"&&/^[a-z]:$/i.test(t[0]),b=!_&&t[0]===""&&t[1]===""&&t[2]==="?"&&/^[a-z]:$/i.test(t[3]),S=typeof r[0]=="string"&&/^[a-z]:$/i.test(r[0]),A=!S&&r[0]===""&&r[1]===""&&r[2]==="?"&&typeof r[3]=="string"&&/^[a-z]:$/i.test(r[3]),O=b?3:_?0:void 0,L=A?3:S?0:void 0;if(typeof O=="number"&&typeof L=="number"){let[D,$]=[t[O],r[L]];D.toLowerCase()===$.toLowerCase()&&(r[L]=D,L>O?r=r.slice(L):O>L&&(t=t.slice(O)))}}let{optimizationLevel:a=1}=this.options;a>=2&&(t=this.levelTwoFileOptimize(t)),this.debug("matchOne",this,{file:t,pattern:r}),this.debug("matchOne",t.length,r.length);for(var l=0,c=0,u=t.length,f=r.length;l<u&&c<f;l++,c++){this.debug("matchOne loop");var d=r[c],p=t[l];if(this.debug(r,d,p),d===!1)return!1;if(d===Uf){this.debug("GLOBSTAR",[r,d,p]);var h=l,m=c+1;if(m===f){for(this.debug("** at the end");l<u;l++)if(t[l]==="."||t[l]===".."||!s.dot&&t[l].charAt(0)===".")return!1;return!0}for(;h<u;){var v=t[h];if(this.debug(`
globstar while`,t,h,r,m,v),this.matchOne(t.slice(h),r.slice(m),n))return this.debug("globstar found match!",h,u,v),!0;if(v==="."||v===".."||!s.dot&&v.charAt(0)==="."){this.debug("dot detected!",t,h,r,m);break}this.debug("globstar swallow a segment, and continue"),h++}return!!(n&&(this.debug(`
>>> no match, partial?`,t,h,r,m),h===u))}let _;if(typeof d=="string"?(_=p===d,this.debug("string match",d,p,_)):(_=d.test(p),this.debug("pattern match",d,p,_)),!_)return!1}if(l===u&&c===f)return!0;if(l===u)return n;if(c===f)return l===u-1&&t[l]==="";throw new Error("wtf?")}braceExpand(){return Hfe(this.pattern,this.options)}parse(t){Cx(t);let r=this.options;if(t==="**")return Uf;if(t==="")return"";let n,s=null;(n=t.match(ike))?s=r.dot?ake:ske:(n=t.match(WLe))?s=(r.nocase?r.dot?JLe:QLe:r.dot?XLe:YLe)(n[1]):(n=t.match(oke))?s=(r.nocase?r.dot?cke:lke:r.dot?uke:fke)(n):(n=t.match(ZLe))?s=r.dot?tke:eke:(n=t.match(rke))&&(s=nke);let a=z6.fromGlob(t,this.options).toMMPattern();return s?Object.assign(a,{test:s}):a}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;let t=this.set;if(!t.length)return this.regexp=!1,this.regexp;let r=this.options,n=r.noglobstar?hke:r.dot?mke:gke,s=new Set(r.nocase?["i"]:[]),a=t.map(u=>{let f=u.map(d=>{if(d instanceof RegExp)for(let p of d.flags.split(""))s.add(p);return typeof d=="string"?bke(d):d===Uf?Uf:d._src});return f.forEach((d,p)=>{let h=f[p+1],m=f[p-1];d!==Uf||m===Uf||(m===void 0?h!==void 0&&h!==Uf?f[p+1]="(?:\\/|"+n+"\\/)?"+h:f[p]=n:h===void 0?f[p-1]=m+"(?:\\/|"+n+")?":h!==Uf&&(f[p-1]=m+"(?:\\/|\\/"+n+"\\/)"+h,f[p+1]=Uf))}),f.filter(d=>d!==Uf).join("/")}).join("|"),[l,c]=t.length>1?["(?:",")"]:["",""];a="^"+l+a+c+"$",this.negate&&(a="^(?!"+a+").+$");try{this.regexp=new RegExp(a,[...s].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit(t){return this.preserveMultipleSlashes?t.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(t)?["",...t.split(/\/+/)]:t.split(/\/+/)}match(t,r=this.partial){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return t==="";if(t==="/"&&r)return!0;let n=this.options;this.isWindows&&(t=t.split("\\").join("/"));let s=this.slashSplit(t);this.debug(this.pattern,"split",s);let a=this.set;this.debug(this.pattern,"set",a);let l=s[s.length-1];if(!l)for(let c=s.length-2;!l&&c>=0;c--)l=s[c];for(let c=0;c<a.length;c++){let u=a[c],f=s;if(n.matchBase&&u.length===1&&(f=[l]),this.matchOne(f,u,r))return n.flipNegate?!0:!this.negate}return n.flipNegate?!1:this.negate}static defaults(t){return hc.defaults(t).Minimatch}};o(F$,"Minimatch");var K6=F$;hc.AST=z6;hc.Minimatch=K6;hc.escape=B$;hc.unescape=b3;var dV=Vs(gde());var ZR=o((e,t)=>{if(dV.Value.Check(e,t))return t;let n=`Typebox schema validation failed:
${[...dV.Value.Errors(e,t)].map(s=>`${s.path} ${s.message}`).join(`
`)}`;throw new Error(n)},"assertShape");var vde=Vs(require("path")),yde=Vs(_$());async function eP(e,t,r){let n=yde.Utils.dirname(r);if(t.has(r.fsPath))return t.get(r.fsPath);if(t.has(n.fsPath))return t.get(n.fsPath);let s=await I$(e,r);if(!(s!=null&&s.url)){t.set(r.fsPath,void 0);let a=vde.default.dirname(r.fsPath);t.set(a,void 0);return}return t.set(n.fsPath,s),t.set(r.fsPath,s),s}o(eP,"cachedGitRepoInfo");var pV="contentExclusion",Hf,kg,rP,Q6,nP,_de,Ox,iP,xde,Dx,hV,mV=class mV extends V6{constructor(r){super();L0(this,nP);L0(this,iP);L0(this,Dx);L0(this,Hf,void 0);L0(this,kg,new Sa(1e4));L0(this,rP,new Sa(1e4));L0(this,Q6,new Sa(200));L0(this,Ox,TR(async r=>{let n=await Hr(this,Hf).get(Mc).getGitHubSession(Hr(this,Hf));if(!n)throw new _d("No token found");let s=Hr(this,Hf).get(Ng).getContentRestrictionsUrl(n),a=new URL(s);a.searchParams.set("repos",r.join(","));let l=await Hr(this,Hf).get(Ua).fetch(a.href,{method:"GET",headers:{Authorization:`token ${n.token}`}}),c=await l.json();if(!l.ok){if(l.status===404)return Array.from(r,()=>[]);throw Cc(this,Dx,hV).call(this,"fetch.error",{message:c.message}),new Em(l)}return Cc(this,Dx,hV).call(this,"fetch.success"),ZR(RBe,c).map(u=>u.rules)},Hr(this,Q6)));U0(this,Hf,r)}async evaluate(r){let n=r.fsPath;if(Hr(this,kg).has(n))return Hr(this,kg).get(n);try{let a=await Cc(this,iP,xde).call(this,r);if(!a)return x3;let l=r.fsPath.replace(a.baseFolder,"");var s=await this.evaluateFileFromRepo(l,a.url)}catch(a){return _f(Hr(this,Hf),a,`${pV}.evaluate`),Ex}return Hr(this,kg).set(n,s),s}async evaluateFileFromRepo(r,n){let s=await Cc(this,nP,_de).call(this,n);if(!s)return x3;for(let a of s)for(let l of a.paths)if(hc(r,l,{nocase:!0,matchBase:!0,nonegate:!0}))return CBe(a);return _R}async refresh(){try{let r=[...Hr(this,Q6).keys()];this.reset(),await Promise.all(r.map(n=>Hr(this,Ox).call(this,n)))}catch(r){_f(Hr(this,Hf),r,`${pV}.refresh`)}}reset(){Hr(this,Q6).clear(),Hr(this,kg).clear()}};Hf=new WeakMap,kg=new WeakMap,rP=new WeakMap,Q6=new WeakMap,nP=new WeakSet,_de=o(async function(r){let n=await Hr(this,Ox).call(this,r.toLowerCase());if(n.length!==0)return n},"#rulesForRepo"),Ox=new WeakMap,iP=new WeakSet,xde=o(function(r){return eP(Hr(this,Hf),Hr(this,rP),r)},"#getGitRepo"),Dx=new WeakSet,hV=o(function(r,n,s){T0(Hr(this,Hf),`${pV}.${r}`,$0.createAndMarkAsIssued(n,s))},"#telemetry"),o(mV,"CopilotContentRestrictions");var tP=mV;function CBe(e){return{isBlocked:!0,reason:"FILE_BLOCKED",message:`Your ${e.source.type.toLowerCase()} '${e.source.name}' has disabled Copilot for this file`}}o(CBe,"fileBlockedEvaluationResult");var SBe=Ju.Type.Object({name:Ju.Type.String(),type:Ju.Type.Union([Ju.Type.Literal("Organization"),Ju.Type.Literal("Repository")])}),IBe=Ju.Type.Object({paths:Ju.Type.Array(Ju.Type.String()),source:SBe}),ABe=Ju.Type.Array(IBe),wBe=Ju.Type.Object({rules:ABe,last_updated_at:Ju.Type.String()}),RBe=Ju.Type.Array(wBe);var ul=Vs(vu());var vV=class vV extends V6{constructor(r){super();this.ctx=r;this.repoUriToPolicyMap=new Map;this.ruleLoaderCache=new Sa(200);this.urlToRepoInfoCache=new Sa(1e4);this.requestStatus={status:"initial"};this.initialWaitMs=30*1e3;this.maxRetryCount=3;this.ruleLoader=TR(async r=>{let n=new URL(pfe),s=await this.ctx.get(Mc).getGitHubToken(this.ctx);if(!s)throw new _d("No GitHub token found");let a=this.ctx.get(Ia),l=this.ctx.get(kl),c=this.ctx.get(Ml),u=this.ctx.get(Ua),f={trackingid:`${c.trackingId}`,githubtoken:`${s}`,machineid:`${a.machineId}`,sessionid:`${a.sessionId}`,extname:`${l.getEditorPluginInfo().name}`,extversion:`${l.getEditorPluginInfo().version}`},d=await u.fetch(n.href,{headers:f,method:"POST",json:{repos:r}});if(d.ok){let h=await d.json();return Lx.debug(this.ctx,"repositoryControl.fetch","success"),T0(this.ctx,"repositoryControl.fetch.success"),ZR(LBe,h).map(m=>m.rules)}Lx.debug(this.ctx,"repositoryControl.fetch","error"),T0(this.ctx,"repositoryControl.fetch.error");let p=new Em(d);throw _f(this.ctx,p,"repositoryControl.fetch"),p},this.ruleLoaderCache)}async refresh(){try{if(this.requestStatus.status!=="retrying"){this.requestStatus={status:"initial"};let r=[...this.ruleLoaderCache.keys()];this.reset(),await Promise.all(r.map(n=>this.ruleLoader(n)))}}catch(r){_f(this.ctx,r,"repositoryControl.refresh")}}reset(){this.repoUriToPolicyMap.clear(),this.ruleLoaderCache.clear()}async fetchRepositoryPolicy(r){if(this.requestStatus.status==="retrying"||this.requestStatus.status==="maxRetries")return"POLICY_NOT_AVAILABLE";let n=await this.loaderWithRetry(r);return n?n.length===0?"NO_MATCHING_POLICY":n[0]:"POLICY_NOT_AVAILABLE"}async loaderWithRetry(r){if(this.requestStatus.status==="retrying"){let n=this.requestStatus.waitMs;await new Promise(s=>setTimeout(s,n))}try{let n=await this.ruleLoader(r);return this.requestStatus={status:"initial"},n}catch{let s=this.requestStatus.status==="retrying"?this.requestStatus.retryCount+1:0,a=this.requestStatus.status==="retrying"?this.requestStatus.waitMs*2:this.initialWaitMs;if(s>=this.maxRetryCount){T0(this.ctx,"repositoryControl.fetch.maxRetries"),this.requestStatus={status:"maxRetries"};return}this.requestStatus={status:"retrying",retryCount:s,waitMs:a},this.loaderWithRetry(r)}}async evaluate(r,n){try{let s=await eP(this.ctx,this.urlToRepoInfoCache,r);if(!s)return x3;let a=await this.fetchRepositoryPolicy(s.url);return a==="POLICY_NOT_AVAILABLE"?Ex:a==="NO_MATCHING_POLICY"?x3:this._evaluate(r,n,a)}catch(s){return _f(this.ctx,s,"repositoryControl.evaluate"),Ex}}async _evaluate(r,n,s){if(s!=null&&s.blocked)return gV(s);if(s.fileContent&&n){let a=s.fileContent.includes;if(n&&a&&a.length>0&&!new RegExp(a.join("|"),"i").test(n))return gV(s);let l=s.fileContent.excludes;if(n&&l&&l.length>0&&new RegExp(l.join("|"),"i").test(n))return gV(s)}return _R}};o(vV,"CopilotRepositoryControl");var sP=vV;function gV(e){return{isBlocked:!0,reason:"FILE_BLOCKED",message:`Your ${e.source.type.toLowerCase()} '${e.source.name}' has disabled Copilot for this file`}}o(gV,"getBlockedRepoResponse");var PBe=ul.Type.Object({name:ul.Type.String(),type:ul.Type.Union([ul.Type.Literal("Organization"),ul.Type.Literal("Repository")])}),NBe=ul.Type.Object({fileContent:ul.Type.Optional(ul.Type.Object({includes:ul.Type.Optional(ul.Type.Array(ul.Type.String())),excludes:ul.Type.Optional(ul.Type.Array(ul.Type.String()))})),blocked:ul.Type.Optional(ul.Type.Boolean()),source:PBe}),OBe=ul.Type.Array(NBe),DBe=ul.Type.Object({rules:OBe}),LBe=ul.Type.Array(DBe);var Lx=new X0(1,"contentExclusion");var Nh,J1,Mg,aP,bde,oP,Ede,yV=class yV{constructor(t){this.ctx=t;L0(this,aP);L0(this,oP);L0(this,Nh,!1);L0(this,J1,null);L0(this,Mg,new tP(this.ctx));this.evaluateResultCache=new Map;this.onDidChangeActiveTextEditor=o(async t=>{if(!Hr(this,Nh)||!t)return;let r=await this.ctx.get(Md).getTextDocumentWithValidation(t.document.uri),n=r.status==="invalid",s=r.status==="invalid"?r.reason:void 0;this.updateStatusIcon(n,s)},"onDidChangeActiveTextEditor");this.ctx.get(Md).onDidFocusTextDocument(this.onDidChangeActiveTextEditor),this.ctx.get(al).on("onCopilotToken",(r,n)=>{var a,l;U0(this,Nh,(a=n==null?void 0:n.copilotignore_enabled)!=null?a:!1),this.evaluateResultCache.clear(),Hr(this,Mg).refresh();let s=(l=r.organization_list)!=null?l:[];Cc(this,oP,Ede).call(this,s)})}get enabled(){return Hr(this,Nh)}async evaluate(t,r,n){var u;if(!Hr(this,Nh)||t.scheme!=="file")return{isBlocked:!1};let s=[],a=o(async(f,d)=>{let p=Date.now(),h=await d.evaluate(t,r),m=Date.now();return s.push({key:f,result:h,elapsedMs:m-p}),h},"track"),c=(u=(await Promise.all([Hr(this,J1)&&a("repositoryControl.evaluate",Hr(this,J1)),a("contentExclusion.evaluate",Hr(this,Mg))])).find(f=>f==null?void 0:f.isBlocked))!=null?u:{isBlocked:!1};try{for(let f of s)Cc(this,aP,bde).call(this,f.key,t,f.result,f.elapsedMs)}catch(f){console.log("Error tracking telemetry",f)}return n==="UPDATE"&&this.updateStatusIcon(c.isBlocked,c.message),c}updateStatusIcon(t,r){Hr(this,Nh)&&(t?this.ctx.get(Sh).setInactive(r!=null?r:"Copilot is disabled"):this.ctx.get(Sh).forceNormal())}set __repositoryControl(t){U0(this,J1,t)}get __repositoryControl(){return Hr(this,J1)}set __contentRestrictions(t){U0(this,Mg,t)}get __contentRestrictions(){return Hr(this,Mg)}};Nh=new WeakMap,J1=new WeakMap,Mg=new WeakMap,aP=new WeakSet,bde=o(function(t,r,n,s){var f,d;let a=r.path+t;if(this.evaluateResultCache.get(a)===n.reason)return!1;if(this.evaluateResultCache.set(a,(f=n.reason)!=null?f:"UNKNOWN"),n.reason===x3.reason)return Lx.debug(this.ctx,`[${t}] No matching policy for this repository. uri: ${r}`),!1;let c={isBlocked:n.isBlocked?"true":"false",reason:(d=n.reason)!=null?d:"UNKNOWN"},u={elapsedMs:s};return T0(this.ctx,t,$0.createAndMarkAsIssued(c,u)),T0(this.ctx,t,$0.createAndMarkAsIssued({...c,path:r.path},u),1),Lx.debug(this.ctx,`[${t}] ${r}`,n),!0},"#trackEvaluationResult"),oP=new WeakSet,Ede=o(function(t){let n=["a5db0bcaae94032fe715fb34a5e4bce2","7184f66dfcee98cb5f08a1cb936d5225"].find(s=>t.includes(s));Hr(this,Nh)&&n?(Hr(this,J1)||U0(this,J1,new sP(this.ctx)),Hr(this,J1).refresh()):U0(this,J1,null)},"#refreshMSFTRepoControl"),o(yV,"CopilotRepositoryControlManager");var kx=yV;function kBe(e){try{return e.getText(),!1}catch(t){if(t instanceof RangeError)return!0;throw t}}o(kBe,"isDocumentTooLarge");async function _V(e,t){var n;if(kBe(t))return{status:"invalid",reason:"Document is too large"};let r=await e.get(kx).evaluate(t.uri,t.getText());return r.isBlocked?{status:"invalid",reason:(n=r.message)!=null?n:"Document is blocked by repository policy"}:{status:"valid",document:t}}o(_V,"isDocumentValid");var MBe=require("path"),xV=class xV{constructor(t){this.ctx=t}async textDocuments(){let t=await this.getDecoratedOpenDocuments(),r=[];for(let n of t)(await _V(this.ctx,n)).status==="valid"&&r.push(n);return r}getTextDocument(t){return this.getTextDocumentWithValidation(t).then(r=>{if(r.status==="valid")return r.document})}async getTextDocumentWithValidation(t){try{let n=(await this.getDecoratedOpenDocuments()).find(s=>s.uri.toString()==t.toString());return!n&&(n=await this.openTextDocument(t),!n)?await this.notFoundResult(t):_V(this.ctx,n)}catch{return await this.notFoundResult(t)}}async notFoundResult(t){let r=(await this.textDocuments()).map(n=>n.uri).join(", ");return{status:"notfound",message:`Document for URI could not be found: ${t}, URIs of the known document are: ${r}`}}openTextDocument(t){return Promise.reject(new Error("Not found"))}async getDecoratedOpenDocuments(){let t=await this.getOpenTextDocuments();return Promise.all(t.map(r=>w$(this.ctx,r)))}async getWorkspaceFolder(t){return this.getWorkspaceFolders().find(r=>{if(t.uri.toString().startsWith(r.toString()))return r})}async getRelativePath(t){if(t.uri.scheme!=="untitled"){for(let r of this.getWorkspaceFolders()){let n=r.with({query:"",fragment:""}).toString().replace(/\/?$/,"/");if(t.uri.toString().startsWith(n))return t.uri.toString().slice(n.length)}return MBe.basename(t.uri.fsPath)}}};o(xV,"TextDocumentManager");var Md=xV;var J6={abap:{extensions:[".abap"]},aspdotnet:{extensions:[".asax",".ascx",".ashx",".asmx",".aspx",".axd"]},bat:{extensions:[".bat",".cmd"]},bibtex:{extensions:[".bib",".bibtex"]},blade:{extensions:[".blade",".blade.php"]},BluespecSystemVerilog:{extensions:[".bsv"]},c:{extensions:[".c",".cats",".h",".idc"]},csharp:{extensions:[".cake",".cs",".csx",".linq"]},cpp:{extensions:[".c++",".cc",".cp",".cpp",".cppm",".cxx",".h",".h++",".hh",".hpp",".hxx",".idl",".inc",".inl",".ino",".ipp",".ixx",".rc",".re",".tcc",".tpp",".txx",".i"]},css:{extensions:[".css",".wxss"]},clojure:{extensions:[".bb",".boot",".cl2",".clj",".cljc",".cljs",".cljs.hl",".cljscm",".cljx",".edn",".hic"],filenames:["riemann.config"]},ql:{extensions:[".ql",".qll"]},coffeescript:{extensions:["._coffee",".cake",".cjsx",".coffee",".iced"],filenames:["Cakefile"]},cuda:{extensions:[".cu",".cuh"]},dart:{extensions:[".dart"]},dockerfile:{extensions:[".dockerfile"],filenames:["Containerfile","Dockerfile"]},dotenv:{extensions:[".env"],filenames:[".env",".env.ci",".env.dev",".env.development",".env.development.local",".env.example",".env.local",".env.prod",".env.production",".env.staging",".env.test",".env.testing"]},html:{extensions:[".ect",".ejs",".ejs.t",".jst",".hta",".htm",".html",".html.hl",".html5",".inc",".jsp",".njk",".tpl",".twig",".wxml",".xht",".xhtml",".phtml",".liquid"]},elixir:{extensions:[".ex",".exs"],filenames:["mix.lock"]},erlang:{extensions:[".app",".app.src",".erl",".es",".escript",".hrl",".xrl",".yrl"],filenames:["Emakefile","rebar.config","rebar.config.lock","rebar.lock"]},fsharp:{extensions:[".fs",".fsi",".fsx"]},go:{extensions:[".go"]},groovy:{extensions:[".gradle",".groovy",".grt",".gtpl",".gvy",".jenkinsfile"],filenames:["Jenkinsfile","Jenkinsfile"]},graphql:{extensions:[".gql",".graphql",".graphqls"]},terraform:{extensions:[".hcl",".nomad",".tf",".tfvars",".workflow"]},hlsl:{extensions:[".cginc",".fx",".fxh",".hlsl",".hlsli"]},erb:{extensions:[".erb",".erb.deface",".rhtml"]},razor:{extensions:[".cshtml",".razor"]},haml:{extensions:[".haml",".haml.deface"]},handlebars:{extensions:[".handlebars",".hbs"]},haskell:{extensions:[".hs",".hs-boot",".hsc"]},ini:{extensions:[".cfg",".cnf",".dof",".ini",".lektorproject",".prefs",".pro",".properties",".url"],filenames:[".coveragerc",".flake8",".pylintrc","HOSTS","buildozer.spec","hosts","pylintrc","vlcrc"]},json:{extensions:[".4DForm",".4DProject",".JSON-tmLanguage",".avsc",".geojson",".gltf",".har",".ice",".json",".jsonl",".mcmeta",".tfstate",".tfstate.backup",".topojson",".webapp",".webmanifest",".yy",".yyp"],filenames:[".all-contributorsrc",".arcconfig",".auto-changelog",".c8rc",".htmlhintrc",".imgbotconfig",".nycrc",".tern-config",".tern-project",".watchmanconfig","Pipfile.lock","composer.lock","deno.lock","flake.lock","mcmod.info"]},jsonc:{extensions:[".code-snippets",".code-workspace",".jsonc",".sublime-build",".sublime-commands",".sublime-completions",".sublime-keymap",".sublime-macro",".sublime-menu",".sublime-mousemap",".sublime-project",".sublime-settings",".sublime-theme",".sublime-workspace",".sublime_metrics",".sublime_session"],filenames:[".babelrc",".devcontainer.json",".eslintrc.json",".jscsrc",".jshintrc",".jslintrc",".swcrc","api-extractor.json","argv.json","devcontainer.json","extensions.json","jsconfig.json","keybindings.json","language-configuration.json","launch.json","profiles.json","settings.json","tasks.json","tsconfig.json","tslint.json"]},java:{extensions:[".jav",".java",".jsh"]},javascript:{extensions:["._js",".bones",".cjs",".es",".es6",".frag",".gs",".jake",".javascript",".js",".jsb",".jscad",".jsfl",".jslib",".jsm",".jspre",".jss",".mjs",".njs",".pac",".sjs",".ssjs",".xsjs",".xsjslib"],filenames:["Jakefile"]},julia:{extensions:[".jl"]},python:{extensions:[".ipynb",".cgi",".codon",".fcgi",".gyp",".gypi",".lmi",".py",".py3",".pyde",".pyi",".pyp",".pyt",".pyw",".rpy",".sage",".spec",".tac",".wsgi",".xpy"],filenames:["Notebook",".gclient","DEPS","SConscript","SConstruct","wscript"]},kotlin:{extensions:[".kt",".ktm",".kts"]},less:{extensions:[".less"]},lua:{extensions:[".fcgi",".lua",".luau",".nse",".p8",".pd_lua",".rbxs",".rockspec",".wlua"],filenames:[".luacheckrc"]},makefile:{extensions:[".d",".mak",".make",".makefile",".mk",".mkfile"],filenames:["BSDmakefile","GNUmakefile","Kbuild","Makefile","Makefile.am","Makefile.boot","Makefile.frag","Makefile.in","Makefile.inc","Makefile.wat","makefile","makefile.sco","mkfile"]},markdown:{extensions:[".livemd",".markdown",".md",".mdown",".mdwn",".mdx",".mkd",".mkdn",".mkdown",".ronn",".scd",".workbook"],filenames:["contents.lr"]},"objective-c":{extensions:[".h",".m"]},"objective-cpp":{extensions:[".mm"]},php:{extensions:[".aw",".ctp",".fcgi",".inc",".install",".module",".php",".php3",".php4",".php5",".phps",".phpt",".theme"],filenames:[".php",".php_cs",".php_cs.dist","Phakefile"]},perl:{extensions:[".al",".cgi",".fcgi",".perl",".ph",".pl",".plx",".pm",".psgi",".t"],filenames:[".latexmkrc","Makefile.PL","Rexfile","ack","cpanfile","latexmkrc"]},powershell:{extensions:[".ps1",".psd1",".psm1"]},pug:{extensions:[".jade",".pug"]},r:{extensions:[".r",".rd",".rsx"],filenames:[".Rprofile","expr-dist"]},ruby:{extensions:[".builder",".eye",".fcgi",".gemspec",".god",".jbuilder",".mspec",".pluginspec",".podspec",".prawn",".rabl",".rake",".rb",".rbi",".rbuild",".rbw",".rbx",".ru",".ruby",".spec",".thor",".watchr"],filenames:[".irbrc",".pryrc",".simplecov","Appraisals","Berksfile","Brewfile","Buildfile","Capfile","Dangerfile","Deliverfile","Fastfile","Gemfile","Guardfile","Jarfile","Mavenfile","Podfile","Puppetfile","Rakefile","Snapfile","Steepfile","Thorfile","Vagrantfile","buildfile"]},rust:{extensions:[".rs",".rs.in"]},scss:{extensions:[".scss"]},sql:{extensions:[".cql",".ddl",".inc",".mysql",".prc",".sql",".tab",".udf",".viw"]},sass:{extensions:[".sass"]},scala:{extensions:[".kojo",".sbt",".sc",".scala"]},shellscript:{extensions:[".bash",".bats",".cgi",".command",".fcgi",".fish",".ksh",".sh",".sh.in",".tmux",".tool",".trigger",".zsh",".zsh-theme"],filenames:[".bash_aliases",".bash_functions",".bash_history",".bash_logout",".bash_profile",".bashrc",".cshrc",".flaskenv",".kshrc",".login",".profile",".zlogin",".zlogout",".zprofile",".zshenv",".zshrc","9fs","PKGBUILD","bash_aliases","bash_logout","bash_profile","bashrc","cshrc","gradlew","kshrc","login","man","profile","zlogin","zlogout","zprofile","zshenv","zshrc"]},slim:{extensions:[".slim"]},solidity:{extensions:[".sol"]},stylus:{extensions:[".styl"]},svelte:{extensions:[".svelte"]},swift:{extensions:[".swift"]},systemverilog:{extensions:[".sv",".svh",".vh"]},typescriptreact:{extensions:[".tsx"]},latex:{extensions:[".aux",".bbx",".cbx",".cls",".dtx",".ins",".lbx",".ltx",".mkii",".mkiv",".mkvi",".sty",".tex",".toc"]},typescript:{extensions:[".cts",".mts",".ts"]},verilog:{extensions:[".v",".veo"]},vb:{extensions:[".vb",".vbhtml",".Dsr",".bas",".cls",".ctl",".frm",".vbs"]},vue:{extensions:[".nvue",".vue"]},xml:{extensions:[".adml",".admx",".ant",".axaml",".axml",".builds",".ccproj",".ccxml",".clixml",".cproject",".cscfg",".csdef",".csl",".csproj",".ct",".depproj",".dita",".ditamap",".ditaval",".dll.config",".dotsettings",".filters",".fsproj",".fxml",".glade",".gml",".gmx",".grxml",".gst",".hzp",".iml",".ivy",".jelly",".jsproj",".kml",".launch",".mdpolicy",".mjml",".mod",".mxml",".natvis",".ncl",".ndproj",".nproj",".nuspec",".odd",".osm",".pkgproj",".plist",".pluginspec",".proj",".props",".ps1xml",".psc1",".pt",".pubxml",".qhelp",".rdf",".res",".resx",".rss",".sch",".scxml",".sfproj",".shproj",".srdf",".storyboard",".sublime-snippet",".svg",".sw",".targets",".tml",".typ",".ui",".urdf",".ux",".vbproj",".vcxproj",".vsixmanifest",".vssettings",".vstemplate",".vxml",".wixproj",".workflow",".wsdl",".wsf",".wxi",".wxl",".wxs",".x3d",".xacro",".xaml",".xib",".xlf",".xliff",".xmi",".xml",".xml.dist",".xmp",".xproj",".xsd",".xspec",".xul",".zcml"],filenames:[".classpath",".cproject",".project","App.config","NuGet.config","Settings.StyleCop","Web.Debug.config","Web.Release.config","Web.config","packages.config"]},xsl:{extensions:[".xsl",".xslt"]},yaml:{extensions:[".mir",".reek",".rviz",".sublime-syntax",".syntax",".yaml",".yaml-tmlanguage",".yaml.sed",".yml",".yml.mysql"],filenames:[".clang-format",".clang-tidy",".gemrc","CITATION.cff","glide.lock","yarn.lock"]},javascriptreact:{extensions:[".jsx"]}};var Tde=[".ejs",".erb",".haml",".hbs",".j2",".jinja",".jinja2",".liquid",".mustache",".njk",".php",".pug",".slim",".webc"],Cde={".php":[".blade"]},Sde=Object.keys(J6).flatMap(e=>J6[e].extensions);var lP=require("path"),SV=class SV{constructor(t,r,n){this.languageId=t;this.isGuess=r;this.fileExtension=n}};o(SV,"Language");var Z6=SV,IV=class IV{};o(IV,"LanguageDetection");var X1=IV;function Ide(e){return new bV(new TV,new EV(e))}o(Ide,"getLanguageDetection");var AV=class AV extends X1{constructor(r,n){super();this.delegate=r;this.notebookDelegate=n;this.cache=new Sa(100)}async detectLanguage(r){let n=lP.basename(r.uri.path);return BBe(n)?this.notebookDelegate.detectLanguage(r):this.detectLanguageForRegularFile(n,r)}async detectLanguageForRegularFile(r,n){let s=this.cache.get(r);return s||(s=await this.delegate.detectLanguage(n),s.isGuess||this.cache.set(r,s)),s}};o(AV,"CachingLanguageDetection");var bV=AV;function BBe(e){return e.endsWith(".ipynb")}o(BBe,"isNotebook");var wV=class wV extends X1{constructor(r){super();this.ctx=r}async detectLanguage(r){let s=this.ctx.get(Md).findNotebook(r);return s?this.detectCellLanguage(r,s):new Z6("python",!1,".ipynb")}detectCellLanguage(r,n){let s=n.getCells().find(a=>a.document.uri.toString()===r.uri.toString());return s?new Z6(s.document.languageId,!1,".ipynb"):new Z6("unknown",!1,".ipynb")}};o(wV,"NotebookLanguageDetection");var EV=wV,RV=class RV extends X1{constructor(){super(...arguments);this.languageIdByExtensionTracker=new CV}async detectLanguage(r){let n=lP.basename(r.uri.path),s=lP.extname(n).toLowerCase(),a=this.extensionWithoutTemplateLanguage(n,s),l=this.detectLanguageId(n,a);return new Z6(l.languageId,l.isGuess,this.computeFullyQualifiedExtension(s,a))}extensionWithoutTemplateLanguage(r,n){if(Tde.includes(n)){let s=r.substring(0,r.lastIndexOf(".")),a=lP.extname(s).toLowerCase();if(a.length>0&&Sde.includes(a)&&this.isExtensionValidForTemplateLanguage(n,a))return a}return n}isExtensionValidForTemplateLanguage(r,n){let s=Cde[r];return!s||s.includes(n)}detectLanguageId(r,n){var l,c;let s=[],a=[];for(let u in J6){let f=J6[u];if(f.filenames){if(f.filenames.includes(r))return{languageId:u,isGuess:!1};f.filenames.some(d=>r.startsWith(d+"."))&&a.push(u)}f.extensions.includes(n)&&s.push(u)}return(c=(l=this.determineLanguageIdByCandidates(s))!=null?l:this.determineLanguageIdByCandidates(a))!=null?c:{languageId:"unknown",isGuess:!0}}determineLanguageIdByCandidates(r){if(r.length===1)return this.languageIdByExtensionTracker.track(r[0]),{languageId:r[0],isGuess:!1};if(r.length>1)return this.determineMostSeenLanguages(r)}determineMostSeenLanguages(r){let n=this.languageIdByExtensionTracker.mostRecentLanguageId(r);return n?{languageId:n,isGuess:!0}:{languageId:r[0],isGuess:!0}}computeFullyQualifiedExtension(r,n){return r!==n?n+r:r}};o(RV,"FilenameAndExensionLanguageDetection");var TV=RV,PV=class PV{constructor(){this.seenLanguages=new Sa(25)}track(t){this.seenLanguages.set(t,this.preciseTimestamp())}preciseTimestamp(){return process.hrtime.bigint()}mostRecentLanguageId(t){let r=t.map(n=>({id:n,seen:this.seenLanguages.get(n)})).filter(n=>n.seen).sort((n,s)=>Number(s.seen)-Number(n.seen)).map(n=>n.id);if(r.length>0)return r[0]}};o(PV,"LanguageIdTracker");var CV=PV;var Rde=Vs(require("util"));function Ade(e,t,r,n,s,a,l,c){return Rue(e,t,r,s,n),{completionText:t,meanLogProb:FBe(e,r),meanAlternativeLogProb:UBe(e,r),choiceIndex:n,requestId:s,modelInfo:c,blockFinished:a,tokens:r.tokens,numTokens:r.tokens.length,telemetryData:l}}o(Ade,"convertToAPIChoice");function FBe(e,t){var r;if((r=t==null?void 0:t.logprobs)!=null&&r.token_logprobs)try{let n=0,s=0,a=50;for(let l=0;l<t.logprobs.token_logprobs.length-1&&a>0;l++,a--)n+=t.logprobs.token_logprobs[l],s+=1;return s>0?n/s:void 0}catch(n){Im.exception(e,n,"Error calculating mean prob")}}o(FBe,"calculateMeanLogProb");function UBe(e,t){var r;if((r=t==null?void 0:t.logprobs)!=null&&r.top_logprobs)try{let n=0,s=0,a=50;for(let l=0;l<t.logprobs.token_logprobs.length-1&&a>0;l++,a--){let c={...t.logprobs.top_logprobs[l]};delete c[t.logprobs.tokens[l]],n+=Math.max(...Object.values(c)),s+=1}return s>0?n/s:void 0}catch(n){Im.exception(e,n,"Error calculating mean prob")}}o(UBe,"calculateMeanAlternativeLogProb");function NV(e,t){if(lv(e))return 0;let r=parseFloat(bf(e,Kc.Temperature));return r>=0&&r<=1?r:t<=1?0:t<10?.2:t<20?.4:.8}o(NV,"getTemperatureForSamples");var Pu=new X0(1,"streamChoices"),MV=class MV{constructor(){this.logprobs=[];this.top_logprobs=[];this.text=[];this.tokens=[];this.text_offset=[];this.copilot_annotations=new DV}append(t){var r,n,s,a,l,c;t.text&&this.text.push(t.text),(r=t.delta)!=null&&r.content&&this.text.push(t.delta.content),t.logprobs&&(this.tokens.push((n=t.logprobs.tokens)!=null?n:[]),this.text_offset.push((s=t.logprobs.text_offset)!=null?s:[]),this.logprobs.push((a=t.logprobs.token_logprobs)!=null?a:[]),this.top_logprobs.push((l=t.logprobs.top_logprobs)!=null?l:[])),t.copilot_annotations&&this.copilot_annotations.update(t.copilot_annotations),(c=t.delta)!=null&&c.copilot_annotations&&this.copilot_annotations.update(t.delta.copilot_annotations)}};o(MV,"APIJsonDataStreaming");var OV=MV;function jBe(e){let t=e.split(`
`),r=t.pop();return[t.filter(n=>n!=""),r]}o(jBe,"splitChunk");var BV=class BV{constructor(){this.current={}}update(t){Object.entries(t).forEach(([r,n])=>{n.forEach(s=>this.update_namespace(r,s))})}update_namespace(t,r){this.current[t]||(this.current[t]=[]);let n=this.current[t],s=n.findIndex(a=>a.id===r.id);s>=0?n[s]=r:n.push(r)}for(t){var r;return(r=this.current[t])!=null?r:[]}};o(BV,"StreamCopilotAnnotations");var DV=BV,uP=class uP{constructor(t,r,n,s,a,l,c,u){this.ctx=t;this.expectedNumChoices=r;this.response=n;this.body=s;this.telemetryData=a;this.dropCompletionReasons=l;this.fastCancellation=c;this.cancellationToken=u;this.requestId=Mx(this.response);this.stats=new LV(this.expectedNumChoices);this.solutions={}}static async create(t,r,n,s,a,l){let c=await n.body();c.setEncoding("utf8");let u=t.get(Xa).fastCancellation(s);return new uP(t,r,n,c,s,a!=null?a:["content_filter"],u,l)}async*processSSE(t=async()=>{}){try{yield*this.processSSEInner(t)}finally{this.fastCancellation&&this.cancel(),Pu.info(this.ctx,`request done: headerRequestId: [${this.requestId.headerRequestId}] model deployment ID: [${this.requestId.deploymentId}]`),Pu.debug(this.ctx,`request stats: ${this.stats}`)}}async*processSSEInner(t){var n,s,a,l;let r="";e:for await(let c of this.body){if(this.maybeCancel("after awaiting body chunk"))return;Pu.debug(this.ctx,"chunk",c.toString());let[u,f]=jBe(r+c.toString());r=f;for(let d of u){let p=d.slice(5).trim();if(p=="[DONE]"){yield*this.finishSolutions();return}let h;try{h=JSON.parse(p)}catch{Pu.error(this.ctx,"Error parsing JSON stream data",d);continue}if(h.choices===void 0){h.error!==void 0?Pu.error(this.ctx,"Error in response:",h.error.message):Pu.error(this.ctx,"Unexpected response with no choices or error: "+p);continue}if(this.requestId.created==0&&(this.requestId=Mx(this.response,h),this.requestId.created==0&&Pu.error(this.ctx,`Request id invalid, should have "completionId" and "created": ${this.requestId}`,this.requestId)),this.allSolutionsDone()&&this.fastCancellation)break e;for(let m=0;m<h.choices.length;m++){let v=h.choices[m];Pu.debug(this.ctx,"choice",v),this.stats.add(v.index),v.index in this.solutions||(this.solutions[v.index]=new OV);let _=this.solutions[v.index];if(_==null)continue;_.append(v);let b,S=((n=v.text)==null?void 0:n.indexOf(`
`))>-1||((a=(s=v.delta)==null?void 0:s.content)==null?void 0:a.indexOf(`
`))>-1;if((v.finish_reason||S)&&(b=await t(_.text.join(""),_.copilot_annotations),this.maybeCancel("after awaiting finishedCb")))return;if(!(v.finish_reason||b!==void 0))continue;let O=(l=v.finish_reason)!=null?l:"client-trimmed";if(T0(this.ctx,"completion.finishReason",this.telemetryData.extendedBy({completionChoiceFinishReason:O})),this.dropCompletionReasons.includes(v.finish_reason)?this.solutions[v.index]=null:(this.stats.markYielded(v.index),yield{solution:_,finishOffset:b,reason:v.finish_reason,requestId:this.requestId,index:v.index}),this.maybeCancel("after yielding finished choice"))return;this.solutions[v.index]=null}}}for(let[c,u]of Object.entries(this.solutions)){let f=Number(c);if(u!=null&&(this.stats.markYielded(f),yield{solution:u,finishOffset:void 0,reason:"Iteration Done",requestId:this.requestId,index:f},this.maybeCancel("after yielding after iteration done")))return}if(r.length>0)try{let c=JSON.parse(r);c.error!==void 0&&Pu.error(this.ctx,`Error in response: ${c.error.message}`,c.error)}catch{Pu.error(this.ctx,`Error parsing extraData: ${r}`)}}async*finishSolutions(){for(let[t,r]of Object.entries(this.solutions)){let n=Number(t);if(r!=null&&(this.stats.markYielded(n),yield{solution:r,finishOffset:void 0,reason:"DONE",requestId:this.requestId,index:n},this.maybeCancel("after yielding on DONE")))return}}maybeCancel(t){var r;return(r=this.cancellationToken)!=null&&r.isCancellationRequested?(Pu.debug(this.ctx,"Cancelled: "+t),this.cancel(),!0):!1}cancel(){this.body.destroy()}allSolutionsDone(){let t=Object.values(this.solutions);return t.length==this.expectedNumChoices&&t.every(r=>r==null)}};o(uP,"SSEProcessor");var cP=uP;function wde(e,t,r){let n=t.solution.text.join(""),s=!1;t.finishOffset!==void 0&&(Pu.debug(e,`solution ${t.index}: early finish at offset ${t.finishOffset}`),n=n.substring(0,t.finishOffset),s=!0),Pu.info(e,`solution ${t.index} returned. finish reason: [${t.reason}]`),Pu.debug(e,`solution ${t.index} details: finishOffset: [${t.finishOffset}] completionId: [{${t.requestId.completionId}}] created: [{${t.requestId.created}}]`);let a=HBe(e,t.solution);return Ade(e,n,a,t.index,t.requestId,s,r)}o(wde,"prepareSolutionForReturn");function HBe(e,t){let n={text:t.text.join(""),tokens:t.text};if(t.logprobs.length===0)return n;let s=t.logprobs.reduce((u,f)=>u.concat(f),[]),a=t.top_logprobs.reduce((u,f)=>u.concat(f),[]),l=t.text_offset.reduce((u,f)=>u.concat(f),[]),c=t.tokens.reduce((u,f)=>u.concat(f),[]);return{...n,logprobs:{token_logprobs:s,top_logprobs:a,text_offset:l,tokens:c}}}o(HBe,"convertToAPIJsonData");var FV=class FV{constructor(t){this.choices=new Map;for(let r=0;r<t;r++)this.choices.set(r,new kV)}add(t){this.choices.get(t).increment()}markYielded(t){this.choices.get(t).markYielded()}toString(){return Array.from(this.choices.entries()).map(([t,r])=>`${t}: ${r.yieldedTokens} -> ${r.seenTokens}`).join(", ")}};o(FV,"ChunkStats");var LV=FV,UV=class UV{constructor(){this.yieldedTokens=-1;this.seenTokens=0}increment(){this.seenTokens++}markYielded(){this.yieldedTokens=this.seenTokens}};o(UV,"ChoiceStats");var kV=UV;var Zu=new X0(1,"fetchCompletions");function Mx(e,t){return{headerRequestId:e.headers.get("x-request-id")||"",completionId:t&&t.id?t.id:"",created:t&&t.created?t.created:0,serverExperiments:e.headers.get("X-Copilot-Experiment")||"",deploymentId:e.headers.get("azureml-model-deployment")||""}}o(Mx,"getRequestId");function $Be(e){let t=e.headers.get("openai-processing-ms");return t?parseInt(t,10):0}o($Be,"getProcessingTime");function qV(e,t){let r=t.split("/").pop();return r||(Zu.error(e,"Malformed engine URL: "+t),t)}o(qV,"extractEngineName");function VBe(e){switch(e){case"ghostText":return"copilot-ghost";case"synthesize":return"copilot-panel"}}o(VBe,"uiKindToIntent");var jV=class jV{};o(jV,"OpenAIFetcher");var Bg=jV;function GBe(e,t,r,n,s,a,l,c,u,f){var _;let d=e.get(Sh),p=Rde.format("%s/%s",r,n);if(!l){Zu.error(e,`Failed to send request to ${p} due to missing key`);return}let h=$0.createAndMarkAsIssued({endpoint:n,engineName:qV(e,r),uiKind:c},YH(t));f&&(h=h.extendedBy(f));for(let[b,S]of Object.entries(a))b=="prompt"||b=="suffix"||(h.properties[`request.option.${b}`]=(_=JSON.stringify(S))!=null?_:"undefined");h.properties.headerRequestId=s,T0(e,"request.sent",h);let m=_3(),v=VBe(c);return xL(e,p,l,v,s,a,u).then(b=>{let S=Mx(b,void 0);h.extendWithRequestId(S);let A=_3()-m;return h.measurements.totalTimeMs=A,Zu.info(e,`request.response: [${p}] took ${A} ms`),Zu.debug(e,"request.response properties",h.properties),Zu.debug(e,"request.response measurements",h.measurements),Zu.debug(e,"prompt:",t),T0(e,"request.response",h),b}).catch(b=>{var O,L,D,$;if(_L(b))throw b;d.setWarning(b.message);let S=h.extendedBy({error:"Network exception"});T0(e,"request.shownWarning",S),h.properties.message=String((O=b.name)!=null?O:""),h.properties.code=String((L=b.code)!=null?L:""),h.properties.errno=String((D=b.errno)!=null?D:""),h.properties.type=String(($=b.type)!=null?$:"");let A=_3()-m;throw h.measurements.totalTimeMs=A,Zu.debug(e,`request.response: [${p}] took ${A} ms`),Zu.debug(e,"request.error properties",h.properties),Zu.debug(e,"request.error measurements",h.measurements),T0(e,"request.error",h),b}).finally(()=>{Pue(e,t,h)})}o(GBe,"fetchWithInstrumentation");function zBe(e,t){return t!=null&&t?e:zue(e,async r=>r.completionText.trim().length>0)}o(zBe,"postProcessChoices");var HV=class HV extends Bg{async fetchAndStreamCompletions(t,r,n,s,a,l){let c=t.get(Sh),u="completions",f=await this.fetchWithParameters(t,u,r,n,a,l);if(f==="not-sent")return{type:"canceled",reason:"before fetch request"};if(a!=null&&a.isCancellationRequested){let v=await f.body();try{v.destroy()}catch(_){Zu.exception(t,_,"Error destroying stream")}return{type:"canceled",reason:"after fetch request"}}if(f===void 0){let v=this.createTelemetryData(u,t,r);return c.setWarning(),v.properties.error="Response was undefined",T0(t,"request.shownWarning",v),{type:"failed",reason:"fetch response was undefined"}}if(f.status!==200){let v=this.createTelemetryData(u,t,r);return this.handleError(t,c,v,f)}let d=t.get(Xa).dropCompletionReasons(n),h=(await cP.create(t,r.count,f,n,d,a)).processSSE(s),m=Gue(h,async v=>wde(t,v,n));return{type:"success",choices:zBe(m,r.allowEmptyChoices),getProcessingTime:()=>$Be(f)}}createTelemetryData(t,r,n){return $0.createAndMarkAsIssued({endpoint:t,engineName:qV(r,n.engineUrl),uiKind:n.uiKind,headerRequestId:n.ourRequestId})}async fetchWithParameters(t,r,n,s,a,l){let c=lQ(t,Kc.Stops),u=t.get(Xa).disableLogProb(s),f={prompt:n.prompt.prefix,suffix:n.prompt.suffix,max_tokens:bf(t,Kc.SolutionLength),temperature:NV(t,n.count),top_p:bf(t,Kc.TopP),n:n.count,stop:c};(n.requestLogProbs||!u)&&(f.logprobs=2);let d=bx(n.repoInfo);return d!==void 0&&(f.nwo=d),n.postOptions&&Object.assign(f,n.postOptions),await new Promise((h,m)=>{setImmediate(h)}),a!=null&&a.isCancellationRequested?"not-sent":await GBe(t,n.prompt,n.engineUrl,r,n.ourRequestId,f,(await t.get(Mc).getCopilotToken(t)).token,n.uiKind,a,l)}async handleError(t,r,n,s){if(r.setWarning(),n.properties.error=`Response status was ${s.status}`,n.properties.status=String(s.status),T0(t,"request.shownWarning",n),s.status===401||s.status===403)return t.get(Mc).resetCopilotToken(t,s.status),{type:"failed",reason:`token expired or invalid: ${s.status}`};if(s.status===499)return Zu.info(t,"Cancelled by server"),{type:"failed",reason:"canceled by server"};let a=await s.text();return s.status===466?(r.setError(a),Zu.info(t,a),{type:"failed",reason:`client not supported: ${a}`}):(Zu.error(t,"Unhandled status from server:",s.status,a),{type:"failed",reason:`unhandled status from server: ${s.status} ${a}`})}};o(HV,"LiveOpenAIFetcher");var Bx=HV;var Fx=class Fx{constructor(t,r,n,s){this._uri=t,this._languageId=r,this._version=n,this._content=s,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(t){if(t){let r=this.offsetAt(t.start),n=this.offsetAt(t.end);return this._content.substring(r,n)}return this._content}update(t,r){for(let n of t)if(Fx.isIncremental(n)){let s=Nde(n.range),a=this.offsetAt(s.start),l=this.offsetAt(s.end);this._content=this._content.substring(0,a)+n.text+this._content.substring(l,this._content.length);let c=Math.max(s.start.line,0),u=Math.max(s.end.line,0),f=this._lineOffsets,d=Pde(n.text,!1,a);if(u-c===d.length)for(let h=0,m=d.length;h<m;h++)f[h+c+1]=d[h];else d.length<1e4?f.splice(c+1,u-c,...d):this._lineOffsets=f=f.slice(0,c+1).concat(d,f.slice(u+1));let p=n.text.length-(l-a);if(p!==0)for(let h=c+1+d.length,m=f.length;h<m;h++)f[h]=f[h]+p}else if(Fx.isFull(n))this._content=n.text,this._lineOffsets=void 0;else throw new Error("Unknown change event received");this._version=r}getLineOffsets(){return this._lineOffsets===void 0&&(this._lineOffsets=Pde(this._content,!0)),this._lineOffsets}positionAt(t){t=Math.max(Math.min(t,this._content.length),0);let r=this.getLineOffsets(),n=0,s=r.length;if(s===0)return{line:0,character:t};for(;n<s;){let l=Math.floor((n+s)/2);r[l]>t?s=l:n=l+1}let a=n-1;return{line:a,character:t-r[a]}}offsetAt(t){let r=this.getLineOffsets();if(t.line>=r.length)return this._content.length;if(t.line<0)return 0;let n=r[t.line],s=t.line+1<r.length?r[t.line+1]:this._content.length;return Math.max(Math.min(n+t.character,s),n)}get lineCount(){return this.getLineOffsets().length}static isIncremental(t){let r=t;return r!=null&&typeof r.text=="string"&&r.range!==void 0&&(r.rangeLength===void 0||typeof r.rangeLength=="number")}static isFull(t){let r=t;return r!=null&&typeof r.text=="string"&&r.range===void 0&&r.rangeLength===void 0}};o(Fx,"FullTextDocument");var fP=Fx,$V;(function(e){function t(s,a,l,c){return new fP(s,a,l,c)}o(t,"create"),e.create=t;function r(s,a,l){if(s instanceof fP)return s.update(a,l),s;throw new Error("TextDocument.update: document must be created by TextDocument.create")}o(r,"update"),e.update=r;function n(s,a){let l=s.getText(),c=VV(a.map(KBe),(d,p)=>{let h=d.range.start.line-p.range.start.line;return h===0?d.range.start.character-p.range.start.character:h}),u=0,f=[];for(let d of c){let p=s.offsetAt(d.range.start);if(p<u)throw new Error("Overlapping edit");p>u&&f.push(l.substring(u,p)),d.newText.length&&f.push(d.newText),u=s.offsetAt(d.range.end)}return f.push(l.substr(u)),f.join("")}o(n,"applyEdits"),e.applyEdits=n})($V||($V={}));function VV(e,t){if(e.length<=1)return e;let r=e.length/2|0,n=e.slice(0,r),s=e.slice(r);VV(n,t),VV(s,t);let a=0,l=0,c=0;for(;a<n.length&&l<s.length;)t(n[a],s[l])<=0?e[c++]=n[a++]:e[c++]=s[l++];for(;a<n.length;)e[c++]=n[a++];for(;l<s.length;)e[c++]=s[l++];return e}o(VV,"mergeSort");function Pde(e,t,r=0){let n=t?[r]:[];for(let s=0;s<e.length;s++){let a=e.charCodeAt(s);(a===13||a===10)&&(a===13&&s+1<e.length&&e.charCodeAt(s+1)===10&&s++,n.push(r+s+1))}return n}o(Pde,"computeLineOffsets");function Nde(e){let t=e.start,r=e.end;return t.line>r.line||t.line===r.line&&t.character>r.character?{start:r,end:t}:e}o(Nde,"getWellformedRange");function KBe(e){let t=Nde(e.range);return t!==e.range?{newText:e.newText,range:t}:e}o(KBe,"getWellformedEdit");var Ode;(function(e){function t(r){return typeof r=="string"}o(t,"is"),e.is=t})(Ode||(Ode={}));var GV;(function(e){function t(r){return typeof r=="string"}o(t,"is"),e.is=t})(GV||(GV={}));var Dde;(function(e){e.MIN_VALUE=-2147483648,e.MAX_VALUE=2147483647;function t(r){return typeof r=="number"&&e.MIN_VALUE<=r&&r<=e.MAX_VALUE}o(t,"is"),e.is=t})(Dde||(Dde={}));var dP;(function(e){e.MIN_VALUE=0,e.MAX_VALUE=2147483647;function t(r){return typeof r=="number"&&e.MIN_VALUE<=r&&r<=e.MAX_VALUE}o(t,"is"),e.is=t})(dP||(dP={}));var $f;(function(e){function t(n,s){return n===Number.MAX_VALUE&&(n=dP.MAX_VALUE),s===Number.MAX_VALUE&&(s=dP.MAX_VALUE),{line:n,character:s}}o(t,"create"),e.create=t;function r(n){let s=n;return Sr.objectLiteral(s)&&Sr.uinteger(s.line)&&Sr.uinteger(s.character)}o(r,"is"),e.is=r})($f||($f={}));var Ga;(function(e){function t(n,s,a,l){if(Sr.uinteger(n)&&Sr.uinteger(s)&&Sr.uinteger(a)&&Sr.uinteger(l))return{start:$f.create(n,s),end:$f.create(a,l)};if($f.is(n)&&$f.is(s))return{start:n,end:s};throw new Error(`Range#create called with invalid arguments[${n}, ${s}, ${a}, ${l}]`)}o(t,"create"),e.create=t;function r(n){let s=n;return Sr.objectLiteral(s)&&$f.is(s.start)&&$f.is(s.end)}o(r,"is"),e.is=r})(Ga||(Ga={}));var pP;(function(e){function t(n,s){return{uri:n,range:s}}o(t,"create"),e.create=t;function r(n){let s=n;return Sr.objectLiteral(s)&&Ga.is(s.range)&&(Sr.string(s.uri)||Sr.undefined(s.uri))}o(r,"is"),e.is=r})(pP||(pP={}));var Lde;(function(e){function t(n,s,a,l){return{targetUri:n,targetRange:s,targetSelectionRange:a,originSelectionRange:l}}o(t,"create"),e.create=t;function r(n){let s=n;return Sr.objectLiteral(s)&&Ga.is(s.targetRange)&&Sr.string(s.targetUri)&&Ga.is(s.targetSelectionRange)&&(Ga.is(s.originSelectionRange)||Sr.undefined(s.originSelectionRange))}o(r,"is"),e.is=r})(Lde||(Lde={}));var zV;(function(e){function t(n,s,a,l){return{red:n,green:s,blue:a,alpha:l}}o(t,"create"),e.create=t;function r(n){let s=n;return Sr.objectLiteral(s)&&Sr.numberRange(s.red,0,1)&&Sr.numberRange(s.green,0,1)&&Sr.numberRange(s.blue,0,1)&&Sr.numberRange(s.alpha,0,1)}o(r,"is"),e.is=r})(zV||(zV={}));var kde;(function(e){function t(n,s){return{range:n,color:s}}o(t,"create"),e.create=t;function r(n){let s=n;return Sr.objectLiteral(s)&&Ga.is(s.range)&&zV.is(s.color)}o(r,"is"),e.is=r})(kde||(kde={}));var Mde;(function(e){function t(n,s,a){return{label:n,textEdit:s,additionalTextEdits:a}}o(t,"create"),e.create=t;function r(n){let s=n;return Sr.objectLiteral(s)&&Sr.string(s.label)&&(Sr.undefined(s.textEdit)||ty.is(s))&&(Sr.undefined(s.additionalTextEdits)||Sr.typedArray(s.additionalTextEdits,ty.is))}o(r,"is"),e.is=r})(Mde||(Mde={}));var Bde;(function(e){e.Comment="comment",e.Imports="imports",e.Region="region"})(Bde||(Bde={}));var Fde;(function(e){function t(n,s,a,l,c,u){let f={startLine:n,endLine:s};return Sr.defined(a)&&(f.startCharacter=a),Sr.defined(l)&&(f.endCharacter=l),Sr.defined(c)&&(f.kind=c),Sr.defined(u)&&(f.collapsedText=u),f}o(t,"create"),e.create=t;function r(n){let s=n;return Sr.objectLiteral(s)&&Sr.uinteger(s.startLine)&&Sr.uinteger(s.startLine)&&(Sr.undefined(s.startCharacter)||Sr.uinteger(s.startCharacter))&&(Sr.undefined(s.endCharacter)||Sr.uinteger(s.endCharacter))&&(Sr.undefined(s.kind)||Sr.string(s.kind))}o(r,"is"),e.is=r})(Fde||(Fde={}));var KV;(function(e){function t(n,s){return{location:n,message:s}}o(t,"create"),e.create=t;function r(n){let s=n;return Sr.defined(s)&&pP.is(s.location)&&Sr.string(s.message)}o(r,"is"),e.is=r})(KV||(KV={}));var Ude;(function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4})(Ude||(Ude={}));var qde;(function(e){e.Unnecessary=1,e.Deprecated=2})(qde||(qde={}));var jde;(function(e){function t(r){let n=r;return Sr.objectLiteral(n)&&Sr.string(n.href)}o(t,"is"),e.is=t})(jde||(jde={}));var hP;(function(e){function t(n,s,a,l,c,u){let f={range:n,message:s};return Sr.defined(a)&&(f.severity=a),Sr.defined(l)&&(f.code=l),Sr.defined(c)&&(f.source=c),Sr.defined(u)&&(f.relatedInformation=u),f}o(t,"create"),e.create=t;function r(n){var s;let a=n;return Sr.defined(a)&&Ga.is(a.range)&&Sr.string(a.message)&&(Sr.number(a.severity)||Sr.undefined(a.severity))&&(Sr.integer(a.code)||Sr.string(a.code)||Sr.undefined(a.code))&&(Sr.undefined(a.codeDescription)||Sr.string((s=a.codeDescription)===null||s===void 0?void 0:s.href))&&(Sr.string(a.source)||Sr.undefined(a.source))&&(Sr.undefined(a.relatedInformation)||Sr.typedArray(a.relatedInformation,KV.is))}o(r,"is"),e.is=r})(hP||(hP={}));var ey;(function(e){function t(n,s,...a){let l={title:n,command:s};return Sr.defined(a)&&a.length>0&&(l.arguments=a),l}o(t,"create"),e.create=t;function r(n){let s=n;return Sr.defined(s)&&Sr.string(s.title)&&Sr.string(s.command)}o(r,"is"),e.is=r})(ey||(ey={}));var ty;(function(e){function t(a,l){return{range:a,newText:l}}o(t,"replace"),e.replace=t;function r(a,l){return{range:{start:a,end:a},newText:l}}o(r,"insert"),e.insert=r;function n(a){return{range:a,newText:""}}o(n,"del"),e.del=n;function s(a){let l=a;return Sr.objectLiteral(l)&&Sr.string(l.newText)&&Ga.is(l.range)}o(s,"is"),e.is=s})(ty||(ty={}));var WV;(function(e){function t(n,s,a){let l={label:n};return s!==void 0&&(l.needsConfirmation=s),a!==void 0&&(l.description=a),l}o(t,"create"),e.create=t;function r(n){let s=n;return Sr.objectLiteral(s)&&Sr.string(s.label)&&(Sr.boolean(s.needsConfirmation)||s.needsConfirmation===void 0)&&(Sr.string(s.description)||s.description===void 0)}o(r,"is"),e.is=r})(WV||(WV={}));var ry;(function(e){function t(r){let n=r;return Sr.string(n)}o(t,"is"),e.is=t})(ry||(ry={}));var Hde;(function(e){function t(a,l,c){return{range:a,newText:l,annotationId:c}}o(t,"replace"),e.replace=t;function r(a,l,c){return{range:{start:a,end:a},newText:l,annotationId:c}}o(r,"insert"),e.insert=r;function n(a,l){return{range:a,newText:"",annotationId:l}}o(n,"del"),e.del=n;function s(a){let l=a;return ty.is(l)&&(WV.is(l.annotationId)||ry.is(l.annotationId))}o(s,"is"),e.is=s})(Hde||(Hde={}));var YV;(function(e){function t(n,s){return{textDocument:n,edits:s}}o(t,"create"),e.create=t;function r(n){let s=n;return Sr.defined(s)&&eG.is(s.textDocument)&&Array.isArray(s.edits)}o(r,"is"),e.is=r})(YV||(YV={}));var XV;(function(e){function t(n,s,a){let l={kind:"create",uri:n};return s!==void 0&&(s.overwrite!==void 0||s.ignoreIfExists!==void 0)&&(l.options=s),a!==void 0&&(l.annotationId=a),l}o(t,"create"),e.create=t;function r(n){let s=n;return s&&s.kind==="create"&&Sr.string(s.uri)&&(s.options===void 0||(s.options.overwrite===void 0||Sr.boolean(s.options.overwrite))&&(s.options.ignoreIfExists===void 0||Sr.boolean(s.options.ignoreIfExists)))&&(s.annotationId===void 0||ry.is(s.annotationId))}o(r,"is"),e.is=r})(XV||(XV={}));var QV;(function(e){function t(n,s,a,l){let c={kind:"rename",oldUri:n,newUri:s};return a!==void 0&&(a.overwrite!==void 0||a.ignoreIfExists!==void 0)&&(c.options=a),l!==void 0&&(c.annotationId=l),c}o(t,"create"),e.create=t;function r(n){let s=n;return s&&s.kind==="rename"&&Sr.string(s.oldUri)&&Sr.string(s.newUri)&&(s.options===void 0||(s.options.overwrite===void 0||Sr.boolean(s.options.overwrite))&&(s.options.ignoreIfExists===void 0||Sr.boolean(s.options.ignoreIfExists)))&&(s.annotationId===void 0||ry.is(s.annotationId))}o(r,"is"),e.is=r})(QV||(QV={}));var JV;(function(e){function t(n,s,a){let l={kind:"delete",uri:n};return s!==void 0&&(s.recursive!==void 0||s.ignoreIfNotExists!==void 0)&&(l.options=s),a!==void 0&&(l.annotationId=a),l}o(t,"create"),e.create=t;function r(n){let s=n;return s&&s.kind==="delete"&&Sr.string(s.uri)&&(s.options===void 0||(s.options.recursive===void 0||Sr.boolean(s.options.recursive))&&(s.options.ignoreIfNotExists===void 0||Sr.boolean(s.options.ignoreIfNotExists)))&&(s.annotationId===void 0||ry.is(s.annotationId))}o(r,"is"),e.is=r})(JV||(JV={}));var ZV;(function(e){function t(r){let n=r;return n&&(n.changes!==void 0||n.documentChanges!==void 0)&&(n.documentChanges===void 0||n.documentChanges.every(s=>Sr.string(s.kind)?XV.is(s)||QV.is(s)||JV.is(s):YV.is(s)))}o(t,"is"),e.is=t})(ZV||(ZV={}));var $de;(function(e){function t(n){return{uri:n}}o(t,"create"),e.create=t;function r(n){let s=n;return Sr.defined(s)&&Sr.string(s.uri)}o(r,"is"),e.is=r})($de||($de={}));var Vde;(function(e){function t(n,s){return{uri:n,version:s}}o(t,"create"),e.create=t;function r(n){let s=n;return Sr.defined(s)&&Sr.string(s.uri)&&Sr.integer(s.version)}o(r,"is"),e.is=r})(Vde||(Vde={}));var eG;(function(e){function t(n,s){return{uri:n,version:s}}o(t,"create"),e.create=t;function r(n){let s=n;return Sr.defined(s)&&Sr.string(s.uri)&&(s.version===null||Sr.integer(s.version))}o(r,"is"),e.is=r})(eG||(eG={}));var Gde;(function(e){function t(n,s,a,l){return{uri:n,languageId:s,version:a,text:l}}o(t,"create"),e.create=t;function r(n){let s=n;return Sr.defined(s)&&Sr.string(s.uri)&&Sr.string(s.languageId)&&Sr.integer(s.version)&&Sr.string(s.text)}o(r,"is"),e.is=r})(Gde||(Gde={}));var tG;(function(e){e.PlainText="plaintext",e.Markdown="markdown";function t(r){let n=r;return n===e.PlainText||n===e.Markdown}o(t,"is"),e.is=t})(tG||(tG={}));var Ux;(function(e){function t(r){let n=r;return Sr.objectLiteral(r)&&tG.is(n.kind)&&Sr.string(n.value)}o(t,"is"),e.is=t})(Ux||(Ux={}));var zde;(function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25})(zde||(zde={}));var Kde;(function(e){e.PlainText=1,e.Snippet=2})(Kde||(Kde={}));var Wde;(function(e){e.Deprecated=1})(Wde||(Wde={}));var Yde;(function(e){function t(n,s,a){return{newText:n,insert:s,replace:a}}o(t,"create"),e.create=t;function r(n){let s=n;return s&&Sr.string(s.newText)&&Ga.is(s.insert)&&Ga.is(s.replace)}o(r,"is"),e.is=r})(Yde||(Yde={}));var Xde;(function(e){e.asIs=1,e.adjustIndentation=2})(Xde||(Xde={}));var Qde;(function(e){function t(r){let n=r;return n&&(Sr.string(n.detail)||n.detail===void 0)&&(Sr.string(n.description)||n.description===void 0)}o(t,"is"),e.is=t})(Qde||(Qde={}));var Jde;(function(e){function t(r){return{label:r}}o(t,"create"),e.create=t})(Jde||(Jde={}));var Zde;(function(e){function t(r,n){return{items:r||[],isIncomplete:!!n}}o(t,"create"),e.create=t})(Zde||(Zde={}));var mP;(function(e){function t(n){return n.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}o(t,"fromPlainText"),e.fromPlainText=t;function r(n){let s=n;return Sr.string(s)||Sr.objectLiteral(s)&&Sr.string(s.language)&&Sr.string(s.value)}o(r,"is"),e.is=r})(mP||(mP={}));var e1e;(function(e){function t(r){let n=r;return!!n&&Sr.objectLiteral(n)&&(Ux.is(n.contents)||mP.is(n.contents)||Sr.typedArray(n.contents,mP.is))&&(r.range===void 0||Ga.is(r.range))}o(t,"is"),e.is=t})(e1e||(e1e={}));var t1e;(function(e){function t(r,n){return n?{label:r,documentation:n}:{label:r}}o(t,"create"),e.create=t})(t1e||(t1e={}));var r1e;(function(e){function t(r,n,...s){let a={label:r};return Sr.defined(n)&&(a.documentation=n),Sr.defined(s)?a.parameters=s:a.parameters=[],a}o(t,"create"),e.create=t})(r1e||(r1e={}));var n1e;(function(e){e.Text=1,e.Read=2,e.Write=3})(n1e||(n1e={}));var i1e;(function(e){function t(r,n){let s={range:r};return Sr.number(n)&&(s.kind=n),s}o(t,"create"),e.create=t})(i1e||(i1e={}));var s1e;(function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26})(s1e||(s1e={}));var a1e;(function(e){e.Deprecated=1})(a1e||(a1e={}));var o1e;(function(e){function t(r,n,s,a,l){let c={name:r,kind:n,location:{uri:a,range:s}};return l&&(c.containerName=l),c}o(t,"create"),e.create=t})(o1e||(o1e={}));var l1e;(function(e){function t(r,n,s,a){return a!==void 0?{name:r,kind:n,location:{uri:s,range:a}}:{name:r,kind:n,location:{uri:s}}}o(t,"create"),e.create=t})(l1e||(l1e={}));var c1e;(function(e){function t(n,s,a,l,c,u){let f={name:n,detail:s,kind:a,range:l,selectionRange:c};return u!==void 0&&(f.children=u),f}o(t,"create"),e.create=t;function r(n){let s=n;return s&&Sr.string(s.name)&&Sr.number(s.kind)&&Ga.is(s.range)&&Ga.is(s.selectionRange)&&(s.detail===void 0||Sr.string(s.detail))&&(s.deprecated===void 0||Sr.boolean(s.deprecated))&&(s.children===void 0||Array.isArray(s.children))&&(s.tags===void 0||Array.isArray(s.tags))}o(r,"is"),e.is=r})(c1e||(c1e={}));var u1e;(function(e){e.Empty="",e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports",e.SourceFixAll="source.fixAll"})(u1e||(u1e={}));var gP;(function(e){e.Invoked=1,e.Automatic=2})(gP||(gP={}));var f1e;(function(e){function t(n,s,a){let l={diagnostics:n};return s!=null&&(l.only=s),a!=null&&(l.triggerKind=a),l}o(t,"create"),e.create=t;function r(n){let s=n;return Sr.defined(s)&&Sr.typedArray(s.diagnostics,hP.is)&&(s.only===void 0||Sr.typedArray(s.only,Sr.string))&&(s.triggerKind===void 0||s.triggerKind===gP.Invoked||s.triggerKind===gP.Automatic)}o(r,"is"),e.is=r})(f1e||(f1e={}));var d1e;(function(e){function t(n,s,a){let l={title:n},c=!0;return typeof s=="string"?(c=!1,l.kind=s):ey.is(s)?l.command=s:l.edit=s,c&&a!==void 0&&(l.kind=a),l}o(t,"create"),e.create=t;function r(n){let s=n;return s&&Sr.string(s.title)&&(s.diagnostics===void 0||Sr.typedArray(s.diagnostics,hP.is))&&(s.kind===void 0||Sr.string(s.kind))&&(s.edit!==void 0||s.command!==void 0)&&(s.command===void 0||ey.is(s.command))&&(s.isPreferred===void 0||Sr.boolean(s.isPreferred))&&(s.edit===void 0||ZV.is(s.edit))}o(r,"is"),e.is=r})(d1e||(d1e={}));var p1e;(function(e){function t(n,s){let a={range:n};return Sr.defined(s)&&(a.data=s),a}o(t,"create"),e.create=t;function r(n){let s=n;return Sr.defined(s)&&Ga.is(s.range)&&(Sr.undefined(s.command)||ey.is(s.command))}o(r,"is"),e.is=r})(p1e||(p1e={}));var h1e;(function(e){function t(n,s){return{tabSize:n,insertSpaces:s}}o(t,"create"),e.create=t;function r(n){let s=n;return Sr.defined(s)&&Sr.uinteger(s.tabSize)&&Sr.boolean(s.insertSpaces)}o(r,"is"),e.is=r})(h1e||(h1e={}));var m1e;(function(e){function t(n,s,a){return{range:n,target:s,data:a}}o(t,"create"),e.create=t;function r(n){let s=n;return Sr.defined(s)&&Ga.is(s.range)&&(Sr.undefined(s.target)||Sr.string(s.target))}o(r,"is"),e.is=r})(m1e||(m1e={}));var g1e;(function(e){function t(n,s){return{range:n,parent:s}}o(t,"create"),e.create=t;function r(n){let s=n;return Sr.objectLiteral(s)&&Ga.is(s.range)&&(s.parent===void 0||e.is(s.parent))}o(r,"is"),e.is=r})(g1e||(g1e={}));var v1e;(function(e){e.namespace="namespace",e.type="type",e.class="class",e.enum="enum",e.interface="interface",e.struct="struct",e.typeParameter="typeParameter",e.parameter="parameter",e.variable="variable",e.property="property",e.enumMember="enumMember",e.event="event",e.function="function",e.method="method",e.macro="macro",e.keyword="keyword",e.modifier="modifier",e.comment="comment",e.string="string",e.number="number",e.regexp="regexp",e.operator="operator",e.decorator="decorator"})(v1e||(v1e={}));var y1e;(function(e){e.declaration="declaration",e.definition="definition",e.readonly="readonly",e.static="static",e.deprecated="deprecated",e.abstract="abstract",e.async="async",e.modification="modification",e.documentation="documentation",e.defaultLibrary="defaultLibrary"})(y1e||(y1e={}));var _1e;(function(e){function t(r){let n=r;return Sr.objectLiteral(n)&&(n.resultId===void 0||typeof n.resultId=="string")&&Array.isArray(n.data)&&(n.data.length===0||typeof n.data[0]=="number")}o(t,"is"),e.is=t})(_1e||(_1e={}));var x1e;(function(e){function t(n,s){return{range:n,text:s}}o(t,"create"),e.create=t;function r(n){let s=n;return s!=null&&Ga.is(s.range)&&Sr.string(s.text)}o(r,"is"),e.is=r})(x1e||(x1e={}));var b1e;(function(e){function t(n,s,a){return{range:n,variableName:s,caseSensitiveLookup:a}}o(t,"create"),e.create=t;function r(n){let s=n;return s!=null&&Ga.is(s.range)&&Sr.boolean(s.caseSensitiveLookup)&&(Sr.string(s.variableName)||s.variableName===void 0)}o(r,"is"),e.is=r})(b1e||(b1e={}));var E1e;(function(e){function t(n,s){return{range:n,expression:s}}o(t,"create"),e.create=t;function r(n){let s=n;return s!=null&&Ga.is(s.range)&&(Sr.string(s.expression)||s.expression===void 0)}o(r,"is"),e.is=r})(E1e||(E1e={}));var T1e;(function(e){function t(n,s){return{frameId:n,stoppedLocation:s}}o(t,"create"),e.create=t;function r(n){let s=n;return Sr.defined(s)&&Ga.is(n.stoppedLocation)}o(r,"is"),e.is=r})(T1e||(T1e={}));var rG;(function(e){e.Type=1,e.Parameter=2;function t(r){return r===1||r===2}o(t,"is"),e.is=t})(rG||(rG={}));var nG;(function(e){function t(n){return{value:n}}o(t,"create"),e.create=t;function r(n){let s=n;return Sr.objectLiteral(s)&&(s.tooltip===void 0||Sr.string(s.tooltip)||Ux.is(s.tooltip))&&(s.location===void 0||pP.is(s.location))&&(s.command===void 0||ey.is(s.command))}o(r,"is"),e.is=r})(nG||(nG={}));var C1e;(function(e){function t(n,s,a){let l={position:n,label:s};return a!==void 0&&(l.kind=a),l}o(t,"create"),e.create=t;function r(n){let s=n;return Sr.objectLiteral(s)&&$f.is(s.position)&&(Sr.string(s.label)||Sr.typedArray(s.label,nG.is))&&(s.kind===void 0||rG.is(s.kind))&&s.textEdits===void 0||Sr.typedArray(s.textEdits,ty.is)&&(s.tooltip===void 0||Sr.string(s.tooltip)||Ux.is(s.tooltip))&&(s.paddingLeft===void 0||Sr.boolean(s.paddingLeft))&&(s.paddingRight===void 0||Sr.boolean(s.paddingRight))}o(r,"is"),e.is=r})(C1e||(C1e={}));var S1e;(function(e){function t(r){return{kind:"snippet",value:r}}o(t,"createSnippet"),e.createSnippet=t})(S1e||(S1e={}));var I1e;(function(e){function t(r,n,s,a){return{insertText:r,filterText:n,range:s,command:a}}o(t,"create"),e.create=t})(I1e||(I1e={}));var A1e;(function(e){function t(r){return{items:r}}o(t,"create"),e.create=t})(A1e||(A1e={}));var w1e;(function(e){e.Invoked=0,e.Automatic=1})(w1e||(w1e={}));var R1e;(function(e){function t(r,n){return{range:r,text:n}}o(t,"create"),e.create=t})(R1e||(R1e={}));var P1e;(function(e){function t(r,n){return{triggerKind:r,selectedCompletionInfo:n}}o(t,"create"),e.create=t})(P1e||(P1e={}));var N1e;(function(e){function t(r){let n=r;return Sr.objectLiteral(n)&&GV.is(n.uri)&&Sr.string(n.name)}o(t,"is"),e.is=t})(N1e||(N1e={}));var O1e;(function(e){function t(a,l,c,u){return new iG(a,l,c,u)}o(t,"create"),e.create=t;function r(a){let l=a;return!!(Sr.defined(l)&&Sr.string(l.uri)&&(Sr.undefined(l.languageId)||Sr.string(l.languageId))&&Sr.uinteger(l.lineCount)&&Sr.func(l.getText)&&Sr.func(l.positionAt)&&Sr.func(l.offsetAt))}o(r,"is"),e.is=r;function n(a,l){let c=a.getText(),u=s(l,(d,p)=>{let h=d.range.start.line-p.range.start.line;return h===0?d.range.start.character-p.range.start.character:h}),f=c.length;for(let d=u.length-1;d>=0;d--){let p=u[d],h=a.offsetAt(p.range.start),m=a.offsetAt(p.range.end);if(m<=f)c=c.substring(0,h)+p.newText+c.substring(m,c.length);else throw new Error("Overlapping edit");f=h}return c}o(n,"applyEdits"),e.applyEdits=n;function s(a,l){if(a.length<=1)return a;let c=a.length/2|0,u=a.slice(0,c),f=a.slice(c);s(u,l),s(f,l);let d=0,p=0,h=0;for(;d<u.length&&p<f.length;)l(u[d],f[p])<=0?a[h++]=u[d++]:a[h++]=f[p++];for(;d<u.length;)a[h++]=u[d++];for(;p<f.length;)a[h++]=f[p++];return a}o(s,"mergeSort")})(O1e||(O1e={}));var sG=class sG{constructor(t,r,n,s){this._uri=t,this._languageId=r,this._version=n,this._content=s,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(t){if(t){let r=this.offsetAt(t.start),n=this.offsetAt(t.end);return this._content.substring(r,n)}return this._content}update(t,r){this._content=t.text,this._version=r,this._lineOffsets=void 0}getLineOffsets(){if(this._lineOffsets===void 0){let t=[],r=this._content,n=!0;for(let s=0;s<r.length;s++){n&&(t.push(s),n=!1);let a=r.charAt(s);n=a==="\r"||a===`
`,a==="\r"&&s+1<r.length&&r.charAt(s+1)===`
`&&s++}n&&r.length>0&&t.push(r.length),this._lineOffsets=t}return this._lineOffsets}positionAt(t){t=Math.max(Math.min(t,this._content.length),0);let r=this.getLineOffsets(),n=0,s=r.length;if(s===0)return $f.create(0,t);for(;n<s;){let l=Math.floor((n+s)/2);r[l]>t?s=l:n=l+1}let a=n-1;return $f.create(a,t-r[a])}offsetAt(t){let r=this.getLineOffsets();if(t.line>=r.length)return this._content.length;if(t.line<0)return 0;let n=r[t.line],s=t.line+1<r.length?r[t.line+1]:this._content.length;return Math.max(Math.min(n+t.character,s),n)}get lineCount(){return this.getLineOffsets().length}};o(sG,"FullTextDocument");var iG=sG,Sr;(function(e){let t=Object.prototype.toString;function r(m){return typeof m<"u"}o(r,"defined"),e.defined=r;function n(m){return typeof m>"u"}o(n,"undefined"),e.undefined=n;function s(m){return m===!0||m===!1}o(s,"boolean"),e.boolean=s;function a(m){return t.call(m)==="[object String]"}o(a,"string"),e.string=a;function l(m){return t.call(m)==="[object Number]"}o(l,"number"),e.number=l;function c(m,v,_){return t.call(m)==="[object Number]"&&v<=m&&m<=_}o(c,"numberRange"),e.numberRange=c;function u(m){return t.call(m)==="[object Number]"&&-2147483648<=m&&m<=2147483647}o(u,"integer"),e.integer=u;function f(m){return t.call(m)==="[object Number]"&&0<=m&&m<=2147483647}o(f,"uinteger"),e.uinteger=f;function d(m){return t.call(m)==="[object Function]"}o(d,"func"),e.func=d;function p(m){return m!==null&&typeof m=="object"}o(p,"objectLiteral"),e.objectLiteral=p;function h(m,v){return Array.isArray(m)&&m.every(v)}o(h,"typedArray"),e.typedArray=h})(Sr||(Sr={}));var Oh=Vs(I1());var WBe=["getFunctionPositions","isEmptyBlockStart","isBlockBodyFinished","getNodeStart","parsesWithoutError"],YBe=["isSupportedLanguageId","getBlockCloseToken","getPrompt"],Yct=[...WBe,...YBe];var QBe=["\\{","\\}","\\[","\\]","\\(","\\)"].concat(["then","else","elseif","elif","catch","finally","fi","done","end","loop","until","where","when"].map(e=>e+"\\b")),rut=new RegExp(`^(${QBe.join("|")})`);var Z1=Vs(I1());var lG=Vs(I1());var L1e=new Sa;function k1e(e){return[...e].sort((t,r)=>{var a,l;let n=(a=L1e.get(t.uri.toString()))!=null?a:0;return((l=L1e.get(r.uri.toString()))!=null?l:0)-n})}o(k1e,"sortByAccessTimes");var aG=class aG{constructor(t){this.docManager=t}async truncateDocs(t,r,n,s){let a=[],l=0;for(let c of t)if(!(l+c.getText().length>qx.MAX_NEIGHBOR_AGGREGATE_LENGTH)&&(c.uri.scheme==="file"&&r.scheme==="file"&&c.uri.fsPath!==r.fsPath&&oG(n,c.languageId)&&(a.push({uri:c.uri.toString(),relativePath:await this.docManager.getRelativePath(c),languageId:c.languageId,source:c.getText()}),l+=c.getText().length),a.length>=s))break;return a}async getNeighborFiles(t,r,n){let s=[],a=new Map;return s=await this.truncateDocs(k1e(await this.docManager.textDocuments()),t,r,n),a.set("opentabs",s.map(l=>l.uri)),{docs:s,neighborSource:a}}};o(aG,"OpenTabFiles");var vP=aG;function oG(e,t){return(0,lG.normalizeLanguageId)(e)===(0,lG.normalizeLanguageId)(t)}o(oG,"considerNeighborFile");var Bd=class Bd{static reset(){Bd.instance=void 0}static async getNeighborFiles(t,r,n){if(Bd.instance===void 0){let s=t.get(Md);Bd.instance=new vP(s)}return await Bd.instance.getNeighborFiles(r,n.fileType,Bd.MAX_NEIGHBOR_FILES)}};o(Bd,"NeighborSource"),Bd.MAX_NEIGHBOR_AGGREGATE_LENGTH=2e5,Bd.MAX_NEIGHBOR_FILES=20,Bd.EXCLUDED_NEIGHBORS=["node_modules","dist","site-packages"];var qx=Bd;var cG=Vs(I1());var Out=B1e(),Xut=new X0(0,"retrieval");var F1e=2.98410452738298,U1e=-.838732736843507,q1e=1.50314646255716,j1e=-.237798634012662,H1e={python:.314368072478742},$1e={"0.01":.225800751784931,"0.02":.290204307767402,"0.03":.333153496466045,"0.05":.404516749849559,"0.1":.513216040545626,"0.2":.626904979128674,"0.3":.694880719658273,"0.4":.743100684947291,"0.5":.782524520571946,"0.6":.816856186092243,"0.7":.84922977716585,"0.8":.883694877241999,"0.9":.921859050950077,"0.95":.944571268106974,"0.99":.969535563141733};var Sft=new X0(1,"restraint"),eFe={link:e=>Math.exp(e)/(1+Math.exp(e)),unlink:e=>Math.log(e/(1-e))};function tFe(e,t){let r=Math.min(...Array.from(t.keys()).filter(l=>l>=e)),n=Math.max(...Array.from(t.keys()).filter(l=>l<e)),s=t.get(r),a=t.get(n);return a+(s-a)*(e-n)/(r-n)}o(tFe,"linearInterpolation");var fG=class fG{constructor(t,r,n){this.name=t,this.coefficient=r,this.transformation=n||(s=>s)}contribution(t){return this.coefficient*this.transformation(t)}};o(fG,"Regressor");var ny=fG,dG=class dG{constructor(t,r,n){this.link=eFe;if(this.intercept=t,this.coefficients=r,this.logitsToQuantiles=new Map,this.logitsToQuantiles.set(0,0),this.logitsToQuantiles.set(1,1),n)for(let s in n)this.logitsToQuantiles.set(n[s],Number(s))}predict(t,r){let n=this.intercept;for(let s of this.coefficients){let a=r[s.name];if(a===void 0)return NaN;n+=s.contribution(a)}return this.link.link(n)}quantile(t,r){let n=this.predict(t,r);return tFe(n,this.logitsToQuantiles)}};o(dG,"LogisticRegression");var uG=dG,Ift=new uG(F1e,[new ny("compCharLen",U1e,e=>Math.log(1+e)),new ny("meanLogProb",q1e),new ny("meanAlternativeLogProb",j1e)].concat(Object.entries(H1e).map(e=>new ny(e[0],e[1]))),$1e);var t1t=new X0(1,"ghostText");var r1t=new vR;var jx=class jx{constructor(t=!1){this.requestMultilineOverride=t}};o(jx,"ForceMultiLine"),jx.default=new jx;var Hx=jx;var pG=class pG{constructor(){this.cache=new Map}get(t){return this.cache.get(t)}set(t,r){this.cache.set(t,r)}};o(pG,"CertificateReaderCache");var w3=pG;var d5e=Vs(require("fs")),p5e=require("tls");var ZP=new X0(1,"certificates"),Rz=class Rz{};o(Rz,"RootCertificateReader");var lu=Rz,h5e=o((e,t=process.platform)=>new bz(e.get(al),Vje(e,t),new wz),"getRootCertificateReader"),Pz=class Pz extends lu{constructor(r,n,s){super();this.realReader=n;this.noopReader=s;this.delegate=n,r.on("onCopilotToken",a=>{this.delegate=a.getTokenValue("ssc")==="1"?this.realReader:this.noopReader})}getAllRootCAs(){return this.delegate.getAllRootCAs()}};o(Pz,"FeatureAwareCertificateReader");var bz=Pz;function Vje(e,t){let r=e.get(w3).get(t);if(r)return r;let n=new JP(e,Gje(e,t),p5e.rootCertificates),s=new JP(e,new Tz),a=new Ez([s,n]);return e.get(w3).set(t,a),a}o(Vje,"createRealReader");function Gje(e,t){switch(t){case"linux":return new Cz(e);case"darwin":return new Sz(e);case"win32":return new Iz(e);default:return new Az}}o(Gje,"createPlatformReader");var Nz=class Nz extends lu{constructor(r,n,s=[]){super();this.ctx=r;this.delegate=n;this.fallbackCerts=s}async getAllRootCAs(){try{return await this.delegate.getAllRootCAs()}catch(r){return ZP.warn(this.ctx,`Failed to read root certificates: ${r}`),this.fallbackCerts}}};o(Nz,"ErrorHandlingCertificateReader");var JP=Nz,Oz=class Oz extends lu{constructor(r){super();this.delegates=r}async getAllRootCAs(){return this.certificates||(this.certificates=(await Promise.all(this.delegates.map(r=>r.getAllRootCAs()))).flat()),this.certificates}};o(Oz,"CachingRootCertificateReader");var Ez=Oz,Dz=class Dz extends lu{async getAllRootCAs(){let t=process.env.NODE_EXTRA_CA_CERTS;return t?await m5e(t):[]}};o(Dz,"EnvironmentVariableRootCertificateReader");var Tz=Dz,Lz=class Lz extends lu{constructor(r){super();this.ctx=r}async getAllRootCAs(){let r=[];for(let n of["/etc/ssl/certs/ca-certificates.crt","/etc/ssl/certs/ca-bundle.crt"]){let s=await m5e(n);ZP.debug(this.ctx,`Read ${s.length} certificates from ${n}`),r=r.concat(s)}return r}};o(Lz,"LinuxRootCertificateReader");var Cz=Lz,kz=class kz extends lu{constructor(r){super();this.ctx=r}async getAllRootCAs(){let r=u5e(),n=r.all(r.der2.pem).filter(s=>s!==void 0);return ZP.debug(this.ctx,`Read ${n.length} certificates from Mac keychain`),n}};o(kz,"MacRootCertificateReader");var Sz=kz,Mz=class Mz extends lu{constructor(r){super();this.ctx=r}async getAllRootCAs(){let r=f5e().all();return ZP.debug(this.ctx,`Read ${r.length} certificates from Windows store`),r}};o(Mz,"WindowsRootCertificateReader");var Iz=Mz,Bz=class Bz extends lu{async getAllRootCAs(){throw new Error("No certificate reader available for unsupported platform")}};o(Bz,"UnsupportedPlatformRootCertificateReader");var Az=Bz,Fz=class Fz extends lu{async getAllRootCAs(){return[]}};o(Fz,"EmptyRootCertificateReader");var wz=Fz;async function m5e(e){try{let n=(await d5e.promises.readFile(e,{encoding:"utf8"})).split(/(?=-----BEGIN CERTIFICATE-----)/g).filter(a=>a.length>0),s=new Set(n);return Array.from(s)}catch(t){if((t==null?void 0:t.code)!=="ENOENT")throw t}return[]}o(m5e,"readCertsFromFile");var L5e=Vs(require("http"));var _He=407,yc=new X0(0,"proxySocketFactory"),zz=class zz{};o(zz,"ProxySocketFactory");var j3=zz,Kz=class Kz extends Error{constructor(r,n,s){var a,l,c;super(r);this.code=n==null?void 0:n.code,this.syscall=n==null?void 0:n.syscall,this.errno=n==null?void 0:n.errno,/^Failed to establish a socket connection to proxies:/.test((a=n==null?void 0:n.message)!=null?a:"")?this.code="ProxyFailedToEstablishSocketConnection":/^InitializeSecurityContext:/.test((l=n==null?void 0:n.message)!=null?l:"")?this.code="ProxyInitializeSecurityContext":(n==null?void 0:n.message)==="Miscellaneous failure (see text): Server not found in Kerberos database"?this.code="ProxyKerberosServerNotFound":/^Unspecified GSS failure. {2}Minor code may provide more information: No Kerberos credentials available/.test((c=n==null?void 0:n.message)!=null?c:"")&&(this.code="ProxyGSSFailureNoKerberosCredentialsAvailable"),s!==void 0&&(this.code=s)}};o(Kz,"ProxySocketError");var Kg=Kz;function k5e(e){return new $z(e,new Vz(e))}o(k5e,"getProxySocketFactory");var Wz=class Wz extends j3{constructor(r,n,s=new Gz,a=process.platform){super();this.ctx=r;this.delegate=n;this.kerberosLoader=s;this.platform=a;this.successfullyAuthorized=new Sa(20)}async createSocket(r,n){this.successfullyAuthorized.get(this.getProxyCacheKey(n))&&(yc.debug(this.ctx,"Proxy authorization already successful once, skipping 407 rountrip"),await this.reauthorize(r,n));try{return await this.delegate.createSocket(r,n)}catch(s){if(s instanceof Kg&&s.code===`ProxyStatusCode${_He}`){yc.debug(this.ctx,"Proxy authorization required, trying to authorize first time");let a=await this.authorizeAndCreateSocket(r,n);if(a)return yc.debug(this.ctx,"Proxy authorization successful, caching result"),this.successfullyAuthorized.set(this.getProxyCacheKey(n),!0),a}throw s}}async reauthorize(r,n){let s=await this.authorize(n);s&&(yc.debug(this.ctx,"Proxy re-authorization successful, received token"),r.headers["Proxy-Authorization"]="Negotiate "+s)}async authorizeAndCreateSocket(r,n){let s=await this.authorize(n);if(yc.debug(this.ctx,"Proxy authorization successful, received token"),s)return yc.debug(this.ctx,"Trying to create socket with proxy authorization"),r.headers["Proxy-Authorization"]="Negotiate "+s,await this.delegate.createSocket(r,n)}async authorize(r){yc.debug(this.ctx,"Loading kerberos module");let n=this.kerberosLoader.load(),s=this.computeSpn(r);yc.debug(this.ctx,"Initializing kerberos client using spn",s);let a=await n.initializeClient(s);yc.debug(this.ctx,"Perform client side kerberos step");let l=await a.step("");return yc.debug(this.ctx,"Received kerberos server response"),l}computeSpn(r){let n=r.kerberosServicePrincipal;if(n)return yc.debug(this.ctx,"Using configured kerberos spn",n),n;let s=this.platform==="win32"?`HTTP/${r.host}`:`HTTP@${r.host}`;return yc.debug(this.ctx,"Using default kerberos spn",s),s}getProxyCacheKey(r){return r.host+":"+r.port}};o(Wz,"KerberosProxySocketFactory");var $z=Wz,Yz=class Yz extends j3{constructor(r){super();this.ctx=r}async createSocket(r,n){let s=this.createConnectRequestOptions(r,n);return new Promise((a,l)=>{yc.debug(this.ctx,"Attempting to establish connection to proxy");let c=L5e.request(s);c.useChunkedEncodingByDefault=!1,c.once("connect",(u,f,d)=>{yc.debug(this.ctx,"Socket Connect returned status code",u.statusCode),c.removeAllListeners(),f.removeAllListeners(),u.statusCode!==200?(f.destroy(),l(new Kg(`tunneling socket could not be established, statusCode=${u.statusCode}`,void 0,`ProxyStatusCode${u.statusCode}`))):d.length>0?(f.destroy(),l(new Kg(`got non-empty response body from proxy, length=${d.length}`,void 0,"ProxyNonEmptyResponseBody"))):(yc.debug(this.ctx,"Successfully established tunneling connection to proxy"),a(f))}),c.once("error",u=>{yc.debug(this.ctx,"Proxy socket connection error",u.message),c.removeAllListeners(),l(new Kg(`tunneling socket could not be established, cause=${u.message}`,u))}),c.on("timeout",()=>{yc.debug(this.ctx,"Proxy socket connection timeout"),l(new Kg(`tunneling socket could not be established, proxy socket connection timeout while connecting to ${s.host}:${s.port}`,void 0,"ProxyTimeout"))}),c.end()})}createConnectRequestOptions(r,n){let s=`${r.hostname}:${r.port}`,a={...n,method:"CONNECT",path:s,agent:!1,headers:{host:s,"Proxy-Connection":"keep-alive"},timeout:r.timeout};return r.localAddress&&(a.localAddress=r.localAddress),this.configureProxyAuthorization(a,r),a}configureProxyAuthorization(r,n){r.headers["Proxy-Authorization"]=[],r.proxyAuth&&r.headers["Proxy-Authorization"].push("Basic "+Buffer.from(r.proxyAuth).toString("base64")),n.headers&&n.headers["Proxy-Authorization"]&&r.headers["Proxy-Authorization"].push(n.headers["Proxy-Authorization"])}};o(Yz,"TunnelingProxySocketFactory");var Vz=Yz,Xz=class Xz{load(){return D5e()}};o(Xz,"KerberosLoader");var Gz=Xz;var M5e=require("events");var Qz=class Qz extends M5e.EventEmitter{};o(Qz,"PostInsertionNotifier");var sb=Qz;function B5e(e){let t=new dR;return t.set(A1,e),t.set(mm,new mm),t.set(Wc,new Wc),xHe(t),t.set(H6,new H6),t.set(al,new al),t.set(w3,new w3),t.set(lu,h5e(t)),t.set(j3,k5e(t)),t.set(X1,Ide(t)),t.set(Xa,new Xa(t)),t.set(sb,new sb),t.set(Ml,new Ml(t)),t.set(P1,new P1),t.set(U6,new U6(t)),t.set(Bf,new Bf),t.set(bm,new bm),t.set(Pg,new Pg(t)),t.set($6,new $6),t.set(Bg,new Bx),t.set(ov,new _C),t.set(Tm,new pC),t.set(Yu,new Yu),t.set(Jz.SnippetOrchestrator,new Jz.SnippetOrchestrator),t.set(Hx,Hx.default),t}o(B5e,"createProductionContext");function xHe(e){e.set(Sm,Sm.fromEnvironment(!1)),e.set(cv,new cv(pQ(e))),e.set(uv,new wC(console))}o(xHe,"setupRudimentaryLogging");var bht=new X0(0,"context");var F5e=require("os");var bHe=require("crypto"),EHe=new Set(["00:00:00:00:00:00","ff:ff:ff:ff:ff:ff","ac:de:48:00:11:22"]);function THe(e){let t=e.replace(/-/g,":").toLowerCase();return!EHe.has(t)}o(THe,"validateMacAddress");function CHe(){let e=(0,F5e.networkInterfaces)();for(let t in e){let r=e[t];if(r){for(let{mac:n}of r)if(THe(n))return n}}throw new Error("Unable to retrieve mac address (unexpected format)")}o(CHe,"getMac");var Zz;function SHe(){try{let e=CHe();return bHe.createHash("sha256").update(e,"utf8").digest("hex")}catch{return}}o(SHe,"getMacMachineId");function U5e(){return Zz||(Zz=SHe()||fm()),Zz}o(U5e,"getMachineId");var q5e=Vs(require("tls"));var eK=class eK{constructor(t){this._certificateReader=t.get(lu)}async enhanceProxySettings(t){let r=await this.getCertificates();return{...t,ca:r}}async getCertificates(){let t=await this._certificateReader.getAllRootCAs();if(t.length!==0)return t}async applyToRequestOptions(t){let r=await this._certificateReader.getAllRootCAs(),n={_vscodeAdditionalCaCerts:r};t.secureContext=q5e.createSecureContext(n),t.ca=r,t.cert=r,r.map(s=>{t.secureContext.context.addCACert(s)})}};o(eK,"RootCertificateConfigurator");var iN=eK;var tK=class tK extends Ua{constructor(r){super();this.ctx=r;this.name="HelixFetcher";this.createSocketFactory=o((r,n)=>async s=>{s.rejectUnauthorized=n,s.timeout=r.connectionTimeoutInMs,await this.certificateConfigurator.applyToRequestOptions(s);let a=await this.certificateConfigurator.enhanceProxySettings(r);return await this.proxySocketFactory.createSocket(s,a)},"createSocketFactory");this.fetchApi=this.createFetchApi(r),this.certificateConfigurator=new iN(r),this.proxySocketFactory=r.get(j3)}set proxySettings(r){this._proxySettings=r,this.fetchApi=this.createFetchApi(this.ctx)}get proxySettings(){return this._proxySettings}set rejectUnauthorized(r){super.rejectUnauthorized=r,this.fetchApi=this.createFetchApi(this.ctx)}get rejectUnauthorized(){return super.rejectUnauthorized}createFetchApi(r){let n=r.get(Wc);return super.rejectUnauthorized===!1&&(process.env.NODE_TLS_REJECT_UNAUTHORIZED="0"),QX({userAgent:`GithubCopilot/${n.getVersion()}`,socketFactory:this._proxySettings?this.createSocketFactory(this._proxySettings,super.rejectUnauthorized):void 0,rejectUnauthorized:super.rejectUnauthorized})}async fetch(r,n){let s={...n,body:n.body?n.body:n.json,signal:n.signal};await this.certificateConfigurator.applyToRequestOptions(s);let a=await this.certificateConfigurator.getCertificates();this.fetchApi.setCA(a);let l=await this.fetchApi.fetch(r,s);return new dC(l.status,l.statusText,l.headers,()=>l.text(),async()=>l.body)}disconnectAll(){return this.fetchApi.reset()}makeAbortController(){return new JX}};o(tK,"HelixFetcher");var sN=tK;var H5e=BL(),IHe=fm()+Date.now();async function $5e(){let e=B5e(new xC);return e.set(Ua,new sN(e)),e.set(kl,new rK(await AHe())),e.set(Ia,new Ia(IHe,U5e())),e.forceSet(Yu,new aR),await UH(e,H5e.name,!0),e}o($5e,"createUninstallContext");async function AHe(){let e="unknown";try{return await new Promise((t,r)=>{var s;let n=(0,j5e.spawn)("code -v",{shell:!0,stdio:"pipe"});(s=n.stdout)==null||s.on("data",a=>{e==="unknown"&&(e=a.toString("utf8").split(`
`)[0]||"unknown")}),n.on("exit",()=>t(e)),n.on("error",a=>r(a))})}catch{return e}}o(AHe,"lookupVscodeVersion");var nK=class nK extends kl{constructor(r){super();this.vscodeVersion=r}getEditorInfo(){return{name:"vscode",version:this.vscodeVersion}}getEditorPluginInfo(){return{name:"copilot",version:H5e.version}}};o(nK,"UninstallEditorInfo");var rK=nK;async function wHe(){let e=await $5e(),t=new fR;process.argv.includes("--dry-run")||await t.uninstall(e)}o(wHe,"doUninstall");wHe().then(()=>process.exit(0)).catch(e=>{console.error(e),process.exit(1)});
/*! Bundled license information:

crypto-js/ripemd160.js:
  (** @preserve
  	(c) 2012 by Cédric Mesnil. All rights reserved.
  
  	Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:
  
  	    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
  	    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.
  
  	THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  	*)

crypto-js/mode-ctr-gladman.js:
  (** @preserve
   * Counter block mode compatible with  Dr Brian Gladman fileenc.c
   * derived from CryptoJS.mode.CTR
   * Jan Hruby jhruby.web@gmail.com
   *)

@microsoft/applicationinsights-common/dist/es5/applicationinsights-common.js:
  (*!
   * Application Insights JavaScript SDK - Common, 3.0.7
   * Copyright (c) Microsoft and contributors. All rights reserved.
   *)

@microsoft/applicationinsights-web-basic/dist/es5/applicationinsights-web-basic.js:
  (*!
   * Application Insights JavaScript Web SDK - Basic, 3.0.7
   * Copyright (c) Microsoft and contributors. All rights reserved.
   *)

@microsoft/applicationinsights-web-snippet/dist/node/applicationinsights-web-snippet.js:
  (*!
   * Application Insights JavaScript SDK - Web Snippet, 1.0.1
   * Copyright (c) Microsoft and contributors. All rights reserved.
   *)

mime-db/index.js:
  (*!
   * mime-db
   * Copyright(c) 2014 Jonathan Ong
   * MIT Licensed
   *)

mime-types/index.js:
  (*!
   * mime-types
   * Copyright(c) 2014 Jonathan Ong
   * Copyright(c) 2015 Douglas Christopher Wilson
   * MIT Licensed
   *)

git-url-parse/lib/index.js:
  (*!
   * buildToken
   * Builds OAuth token prefix (helper function)
   *
   * @name buildToken
   * @function
   * @param {GitUrl} obj The parsed Git url object.
   * @return {String} token prefix
   *)
*/
//# sourceMappingURL=extensionUninstalled.js.map
